var __BUNDLE_START_TIME__=this.nativePerformanceNow?nativePerformanceNow():Date.now(),__DEV__=false,process=this.process||{};process.env=process.env||{};process.env.NODE_ENV=process.env.NODE_ENV||"production";
!(function(r){"use strict";r.__r=o,r.__d=function(r,i,n){if(null!=e[i])return;var o={dependencyMap:n,factory:r,hasError:!1,importedAll:t,importedDefault:t,isInitialized:!1,publicModule:{exports:{}}};e[i]=o},r.__c=n,r.__registerSegment=function(r,e){s[r]=e};var e=n(),t={},i={}.hasOwnProperty;function n(){return e=Object.create(null)}function o(r){var t=r,i=e[t];return i&&i.isInitialized?i.publicModule.exports:d(t,i)}function l(r){var i=r;if(e[i]&&e[i].importedDefault!==t)return e[i].importedDefault;var n=o(i),l=n&&n.__esModule?n.default:n;return e[i].importedDefault=l}function u(r){var n=r;if(e[n]&&e[n].importedAll!==t)return e[n].importedAll;var l,u=o(n);if(u&&u.__esModule)l=u;else{if(l={},u)for(var a in u)i.call(u,a)&&(l[a]=u[a]);l.default=u}return e[n].importedAll=l}o.importDefault=l,o.importAll=u;var a=!1;function d(e,t){if(!a&&r.ErrorUtils){var i;a=!0;try{i=v(e,t)}catch(e){r.ErrorUtils.reportFatalError(e)}return a=!1,i}return v(e,t)}var c=16,f=65535;function p(r){return{segmentId:r>>>c,localId:r&f}}o.unpackModuleId=p,o.packModuleId=function(r){return(r.segmentId<<c)+r.localId};var s=[];function v(t,i){if(!i&&s.length>0){var n=p(t),a=n.segmentId,d=n.localId,c=s[a];null!=c&&(c(d),i=e[t])}var f=r.nativeRequire;if(!i&&f){var v=p(t),h=v.segmentId;f(v.localId,h),i=e[t]}if(!i)throw Error('Requiring unknown module "'+t+'".');if(i.hasError)throw m(t,i.error);i.isInitialized=!0;var I=i,g=I.factory,y=I.dependencyMap;try{var _=i.publicModule;return _.id=t,g(r,o,l,u,_,_.exports,y),i.factory=void 0,i.dependencyMap=void 0,_.exports}catch(r){throw i.hasError=!0,i.error=r,i.isInitialized=!1,i.publicModule.exports=void 0,r}}function m(r,e){return Error('Requiring module "'+r+'", which threw an exception: '+e)}})('undefined'!=typeof globalThis?globalThis:'undefined'!=typeof global?global:'undefined'!=typeof window?window:this);
!(function(n){var e=(function(){function n(n,e){return n}function e(n){var e={};return n.forEach(function(n,r){e[n]=!0}),e}function r(n,r,l){if(n.formatValueCalls++,n.formatValueCalls>200)return"[TOO BIG formatValueCalls "+n.formatValueCalls+" exceeded limit of 200]";var f=t(n,r);if(f)return f;var c=Object.keys(r),g=e(c);if(d(r)&&(c.indexOf('message')>=0||c.indexOf('description')>=0))return o(r);if(0===c.length){if(h(r)){var p=r.name?': '+r.name:'';return n.stylize('[Function'+p+']','special')}if(s(r))return n.stylize(RegExp.prototype.toString.call(r),'regexp');if(y(r))return n.stylize(Date.prototype.toString.call(r),'date');if(d(r))return o(r)}var v,b,m='',j=!1,z=['{','}'];(v=r,Array.isArray(v)&&(j=!0,z=['[',']']),h(r))&&(m=' [Function'+(r.name?': '+r.name:'')+']');return s(r)&&(m=' '+RegExp.prototype.toString.call(r)),y(r)&&(m=' '+Date.prototype.toUTCString.call(r)),d(r)&&(m=' '+o(r)),0!==c.length||j&&0!=r.length?l<0?s(r)?n.stylize(RegExp.prototype.toString.call(r),'regexp'):n.stylize('[Object]','special'):(n.seen.push(r),b=j?i(n,r,l,g,c):c.map(function(e){return a(n,r,l,g,e,j)}),n.seen.pop(),u(b,m,z)):z[0]+m+z[1]}function t(n,e){if(g(e))return n.stylize('undefined','undefined');if('string'==typeof e){var r="'"+JSON.stringify(e).replace(/^"|"$/g,'').replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return n.stylize(r,'string')}return c(e)?n.stylize(''+e,'number'):l(e)?n.stylize(''+e,'boolean'):f(e)?n.stylize('null','null'):void 0}function o(n){return'['+Error.prototype.toString.call(n)+']'}function i(n,e,r,t,o){for(var i=[],u=0,l=e.length;u<l;++u)b(e,String(u))?i.push(a(n,e,r,t,String(u),!0)):i.push('');return o.forEach(function(o){o.match(/^\d+$/)||i.push(a(n,e,r,t,o,!0))}),i}function a(n,e,t,o,i,a){var u,l,c;if((c=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?l=c.set?n.stylize('[Getter/Setter]','special'):n.stylize('[Getter]','special'):c.set&&(l=n.stylize('[Setter]','special')),b(o,i)||(u='['+i+']'),l||(n.seen.indexOf(c.value)<0?(l=f(t)?r(n,c.value,null):r(n,c.value,t-1)).indexOf('\n')>-1&&(l=a?l.split('\n').map(function(n){return'  '+n}).join('\n').substr(2):'\n'+l.split('\n').map(function(n){return'   '+n}).join('\n')):l=n.stylize('[Circular]','special')),g(u)){if(a&&i.match(/^\d+$/))return l;(u=JSON.stringify(''+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(u=u.substr(1,u.length-2),u=n.stylize(u,'name')):(u=u.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),u=n.stylize(u,'string'))}return u+': '+l}function u(n,e,r){return n.reduce(function(n,e){return 0,e.indexOf('\n')>=0&&0,n+e.replace(/\u001b\[\d\d?m/g,'').length+1},0)>60?r[0]+(''===e?'':e+'\n ')+' '+n.join(',\n  ')+' '+r[1]:r[0]+e+' '+n.join(', ')+' '+r[1]}function l(n){return'boolean'==typeof n}function f(n){return null===n}function c(n){return'number'==typeof n}function g(n){return void 0===n}function s(n){return p(n)&&'[object RegExp]'===v(n)}function p(n){return'object'==typeof n&&null!==n}function y(n){return p(n)&&'[object Date]'===v(n)}function d(n){return p(n)&&('[object Error]'===v(n)||n instanceof Error)}function h(n){return'function'==typeof n}function v(n){return Object.prototype.toString.call(n)}function b(n,e){return Object.prototype.hasOwnProperty.call(n,e)}return function(e,t){return r({seen:[],formatValueCalls:0,stylize:n},e,t.depth)}})(),r='(index)',t={trace:0,info:1,warn:2,error:3},o=[];o[t.trace]='debug',o[t.info]='log',o[t.warn]='warning',o[t.error]='error';var i=1;function a(r){return function(){var a;a=1===arguments.length&&'string'==typeof arguments[0]?arguments[0]:Array.prototype.map.call(arguments,function(n){return e(n,{depth:10})}).join(', ');var u=r;'Warning: '===a.slice(0,9)&&u>=t.error&&(u=t.warn),n.__inspectorLog&&n.__inspectorLog(o[u],a,[].slice.call(arguments),i),g.length&&(a=s('',a)),n.nativeLoggingHook(a,u)}}function u(n,e){return Array.apply(null,Array(e)).map(function(){return n})}var l="\u2502",f="\u2510",c="\u2518",g=[];function s(n,e){return g.join('')+n+' '+(e||'')}if(n.nativeLoggingHook){n.console;n.console={error:a(t.error),info:a(t.info),log:a(t.info),warn:a(t.warn),trace:a(t.trace),debug:a(t.trace),table:function(e){if(!Array.isArray(e)){var o=e;for(var i in e=[],o)if(o.hasOwnProperty(i)){var a=o[i];a[r]=i,e.push(a)}}if(0!==e.length){var l=Object.keys(e[0]).sort(),f=[],c=[];l.forEach(function(n,r){c[r]=n.length;for(var t=0;t<e.length;t++){var o=(e[t][n]||'?').toString();f[t]=f[t]||[],f[t][r]=o,c[r]=Math.max(c[r],o.length)}});for(var g=y(c.map(function(n){return u('-',n).join('')}),'-'),s=[y(l),g],p=0;p<e.length;p++)s.push(y(f[p]));n.nativeLoggingHook('\n'+s.join('\n'),t.info)}else n.nativeLoggingHook('',t.info);function y(n,e){var r=n.map(function(n,e){return n+u(' ',c[e]-n.length).join('')});return e=e||' ',r.join(e+'|'+e)}},group:function(e){n.nativeLoggingHook(s(f,e),t.info),g.push(l)},groupEnd:function(){g.pop(),n.nativeLoggingHook(s(c),t.info)},groupCollapsed:function(e){n.nativeLoggingHook(s(c,e),t.info),g.push(l)},assert:function(e,r){e||n.nativeLoggingHook('Assertion failed: '+r,t.error)}}}else if(!n.console){var p=n.print||function(){};n.console={error:p,info:p,log:p,warn:p,trace:p,debug:p,table:p}}})('undefined'!=typeof globalThis?globalThis:'undefined'!=typeof global?global:'undefined'!=typeof window?window:this);
!(function(n){var r=0,t=function(n,r){throw n},l={setGlobalHandler:function(n){t=n},getGlobalHandler:function(){return t},reportError:function(n){t&&t(n,!1)},reportFatalError:function(n){t&&t(n,!0)},applyWithGuard:function(n,t,u,o,e){try{return r++,n.apply(t,u)}catch(n){l.reportError(n)}finally{r--}return null},applyWithGuardIfNeeded:function(n,r,t){return l.inGuard()?n.apply(r,t):(l.applyWithGuard(n,r,t),null)},inGuard:function(){return!!r},guard:function(n,r,t){var u;if('function'!=typeof n)return console.warn('A function must be passed to ErrorUtils.guard, got ',n),null;var o=null!=(u=null!=r?r:n.name)?u:'<generated guard>';return function(){for(var r=arguments.length,u=new Array(r),e=0;e<r;e++)u[e]=arguments[e];return l.applyWithGuard(n,null!=t?t:this,u,null,o)}}};n.ErrorUtils=l})('undefined'!=typeof globalThis?globalThis:'undefined'!=typeof global?global:'undefined'!=typeof window?window:this);
'undefined'!=typeof globalThis?globalThis:'undefined'!=typeof global?global:'undefined'!=typeof window&&window,(function(){'use strict';var e=Object.prototype.hasOwnProperty;'function'!=typeof Object.entries&&(Object.entries=function(n){if(null==n)throw new TypeError('Object.entries called on non-object');var o=[];for(var t in n)e.call(n,t)&&o.push([t,n[t]]);return o}),'function'!=typeof Object.values&&(Object.values=function(n){if(null==n)throw new TypeError('Object.values called on non-object');var o=[];for(var t in n)e.call(n,t)&&o.push(n[t]);return o})})();
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=t(r(d[1])),o=t(r(d[2])),s=t(r(d[3])),l=t(r(d[4])),u=t(r(d[5])),E=t(r(d[6])),c=t(r(d[7])),f=r(d[8]),C=t(r(d[9])),p=t(r(d[10])),_=t(r(d[11])),h=(function(t){function h(){var t;return(0,o.default)(this,h),(t=(0,l.default)(this,(0,u.default)(h).call(this))).state={libraryName:""},t.addEventListner(),t}return(0,E.default)(h,t),(0,s.default)(h,[{key:"componentDidMount",value:function(){return n.default.async(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}})}},{key:"componentWillUnmount",value:function(){return n.default.async(function(t){for(;;)switch(t.prev=t.next){case 0:_.default.log("CometChatRTCComponent","componentWillUnmount called ... "),C.default.unMountComponent();case 2:case"end":return t.stop()}})}},{key:"render",value:function(){var t=this;return c.default.createElement(c.default.Fragment,null,c.default.createElement(C.default,{sessionId:this.props.sessionId,isInitiator:this.props.isInitiator,enableDefaultLayout:this.props.enableDefaultLayout,isAudioOnly:this.props.isAudioOnly,onEndCall:function(){t.onEndCall()},onCallEndButtonPressed:function(){t.onCallEndButtonPressed()},hideAudioMuteButton:this.props.hideAudioMuteButton,hideEndCallButton:this.props.hideEndCallButton,hidePauseVideoButton:this.props.hidePauseVideoButton,hideVideoSwitchButton:this.props.hideVideoSwitchButton,hideAudioModeButton:this.props.hideAudioModeButton,RTCUser:this.props.RTCUser,RTCReceiver:this.props.RTCReceiver,RTCInitiator:this.props.RTCInitiator,REGION:this.props.REGION,isConference:this.props.isConference,isSingleMode:this.props.isSingleMode,mode:this.props.mode}))}},{key:"onEndCall",value:function(){p.default.onCallEnded()}},{key:"onCallEndButtonPressed",value:function(){p.default.onCallEndButtonPressed()}},{key:"addEventListner",value:function(){this.eventListener=new f.NativeEventEmitter(p.default),this.eventListener.addListener('EVENT_END_CALL_SESSION',function(t){console.log("EVENT_END_CALL_SESSION Called ...."),C.default.endCallSession()}),this.eventListener.addListener('EVENT_SWITCH_CAMERA_SOURCE',function(t){console.log("EVENT_SWITCH_CAMERA_SOURCE Called ...."),C.default.switchCameraSource()}),this.eventListener.addListener('EVENT_MUTE_AUDIO',function(t){console.log("EVENT_MUTE_AUDIO Called ...."),C.default.muteAudio()}),this.eventListener.addListener('EVENT_UNMUTE_AUDIO',function(t){console.log("EVENT_UNMUTE_AUDIO Called ...."),C.default.unMuteAudio()}),this.eventListener.addListener('EVENT_PAUSE_VIDEO',function(t){console.log("EVENT_PAUSE_VIDEO Called ...."),C.default.pauseVideo()}),this.eventListener.addListener('EVENT_UNPAUSE_VIDEO',function(t){console.log("EVENT_UNPAUSE_VIDEO Called ...."),C.default.unPauseVideo()}),this.eventListener.addListener('EVENT_AUDIO_MODE_SPEAKER',function(t){console.log("EVENT_AUDIO_MODE_SPEAKER Called ...."),C.default.setAudioModeToSpeaker()}),this.eventListener.addListener('EVENT_AUDIO_MODE_EARPIECE',function(t){console.log("EVENT_AUDIO_MODE_EARPIECE Called ...."),C.default.setAudioModeToEarPiece()}),this.eventListener.addListener('EVENT_UNMOUNT_COMPONENT',function(t){console.log("EVENT_UNMOUNT_COMPONENT Called ...."),C.default.unMountComponent()}),this.eventListener.addListener('EVENT_REMOUNT_COMPONENT',function(t){console.log("EVENT_REMOUNT_COMPONENT Called ...."),C.default.reMountComponent()})}}]),h})(c.default.Component);f.StyleSheet.create({container:{flex:1}});f.AppRegistry.registerComponent('CometChatRTCComponent',function(){return h})},0,[1,2,4,5,6,9,10,12,16,377,506,441]);
__d(function(g,r,i,a,m,e,d){m.exports=function(n){return n&&n.__esModule?n:{default:n}}},1,[]);
__d(function(g,r,i,a,m,e,d){m.exports=r(d[0])},2,[3]);
__d(function(g,r,i,a,m,e,d){var t=(function(t){"use strict";var n,o=Object.prototype,c=o.hasOwnProperty,u="function"==typeof Symbol?Symbol:{},h=u.iterator||"@@iterator",f=u.asyncIterator||"@@asyncIterator",s=u.toStringTag||"@@toStringTag";function l(t,n,o,c){var u=n&&n.prototype instanceof E?n:E,h=Object.create(u.prototype),f=new A(c||[]);return h._invoke=F(t,o,f),h}function p(t,n,o){try{return{type:"normal",arg:t.call(n,o)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var y="suspendedStart",v="suspendedYield",w="executing",L="completed",x={};function E(){}function b(){}function _(){}var j={};j[h]=function(){return this};var O=Object.getPrototypeOf,k=O&&O(O(R([])));k&&k!==o&&c.call(k,h)&&(j=k);var G=_.prototype=E.prototype=Object.create(j);function N(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this._invoke(n,t)}})}function P(t){function n(o,u,h,f){var s=p(t[o],t,u);if("throw"!==s.type){var l=s.arg,y=l.value;return y&&"object"==typeof y&&c.call(y,"__await")?Promise.resolve(y.__await).then(function(t){n("next",t,h,f)},function(t){n("throw",t,h,f)}):Promise.resolve(y).then(function(t){l.value=t,h(l)},function(t){return n("throw",t,h,f)})}f(s.arg)}var o;this._invoke=function(t,c){function u(){return new Promise(function(o,u){n(t,c,o,u)})}return o=o?o.then(u,u):u()}}function F(t,n,o){var c=y;return function(u,h){if(c===w)throw new Error("Generator is already running");if(c===L){if("throw"===u)throw h;return Y()}for(o.method=u,o.arg=h;;){var f=o.delegate;if(f){var s=S(f,o);if(s){if(s===x)continue;return s}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(c===y)throw c=L,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);c=w;var l=p(t,n,o);if("normal"===l.type){if(c=o.done?L:v,l.arg===x)continue;return{value:l.arg,done:o.done}}"throw"===l.type&&(c=L,o.method="throw",o.arg=l.arg)}}}function S(t,o){var c=t.iterator[o.method];if(c===n){if(o.delegate=null,"throw"===o.method){if(t.iterator.return&&(o.method="return",o.arg=n,S(t,o),"throw"===o.method))return x;o.method="throw",o.arg=new TypeError("The iterator does not provide a 'throw' method")}return x}var u=p(c,t.iterator,o.arg);if("throw"===u.type)return o.method="throw",o.arg=u.arg,o.delegate=null,x;var h=u.arg;return h?h.done?(o[t.resultName]=h.value,o.next=t.nextLoc,"return"!==o.method&&(o.method="next",o.arg=n),o.delegate=null,x):h:(o.method="throw",o.arg=new TypeError("iterator result is not an object"),o.delegate=null,x)}function T(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function I(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function R(t){if(t){var o=t[h];if(o)return o.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var u=-1,f=function o(){for(;++u<t.length;)if(c.call(t,u))return o.value=t[u],o.done=!1,o;return o.value=n,o.done=!0,o};return f.next=f}}return{next:Y}}function Y(){return{value:n,done:!0}}return b.prototype=G.constructor=_,_.constructor=b,_[s]=b.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===b||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,s in t||(t[s]="GeneratorFunction")),t.prototype=Object.create(G),t},t.awrap=function(t){return{__await:t}},N(P.prototype),P.prototype[f]=function(){return this},t.AsyncIterator=P,t.async=function(n,o,c,u){var h=new P(l(n,o,c,u));return t.isGeneratorFunction(o)?h:h.next().then(function(t){return t.done?t.value:h.next()})},N(G),G[s]="Generator",G[h]=function(){return this},G.toString=function(){return"[object Generator]"},t.keys=function(t){var n=[];for(var o in t)n.push(o);return n.reverse(),function o(){for(;n.length;){var c=n.pop();if(c in t)return o.value=c,o.done=!1,o}return o.done=!0,o}},t.values=R,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(I),!t)for(var o in this)"t"===o.charAt(0)&&c.call(this,o)&&!isNaN(+o.slice(1))&&(this[o]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var o=this;function u(c,u){return s.type="throw",s.arg=t,o.next=c,u&&(o.method="next",o.arg=n),!!u}for(var h=this.tryEntries.length-1;h>=0;--h){var f=this.tryEntries[h],s=f.completion;if("root"===f.tryLoc)return u("end");if(f.tryLoc<=this.prev){var l=c.call(f,"catchLoc"),p=c.call(f,"finallyLoc");if(l&&p){if(this.prev<f.catchLoc)return u(f.catchLoc,!0);if(this.prev<f.finallyLoc)return u(f.finallyLoc)}else if(l){if(this.prev<f.catchLoc)return u(f.catchLoc,!0)}else{if(!p)throw new Error("try statement without catch or finally");if(this.prev<f.finallyLoc)return u(f.finallyLoc)}}}},abrupt:function(t,n){for(var o=this.tryEntries.length-1;o>=0;--o){var u=this.tryEntries[o];if(u.tryLoc<=this.prev&&c.call(u,"finallyLoc")&&this.prev<u.finallyLoc){var h=u;break}}h&&("break"===t||"continue"===t)&&h.tryLoc<=n&&n<=h.finallyLoc&&(h=null);var f=h?h.completion:{};return f.type=t,f.arg=n,h?(this.method="next",this.next=h.finallyLoc,x):this.complete(f)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),x},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.finallyLoc===t)return this.complete(o.completion,o.afterLoc),I(o),x}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc===t){var c=o.completion;if("throw"===c.type){var u=c.arg;I(o)}return u}}throw new Error("illegal catch attempt")},delegateYield:function(t,o,c){return this.delegate={iterator:R(t),resultName:o,nextLoc:c},"next"===this.method&&(this.arg=n),x}},t})("object"==typeof m?m.exports:{});try{regeneratorRuntime=t}catch(n){Function("r","regeneratorRuntime = r")(t)}},3,[]);
__d(function(g,r,i,a,m,e,d){m.exports=function(n,o){if(!(n instanceof o))throw new TypeError("Cannot call a class as a function")}},4,[]);
__d(function(g,r,i,a,m,e,d){function n(n,t){for(var o=0;o<t.length;o++){var u=t[o];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(n,u.key,u)}}m.exports=function(t,o,u){return o&&n(t.prototype,o),u&&n(t,u),t}},5,[]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]),t=r(d[1]);m.exports=function(o,c){return!c||"object"!==n(c)&&"function"!=typeof c?t(o):c}},6,[7,8]);
__d(function(g,r,i,a,m,e,d){function o(t){"@babel/helpers - typeof";return"function"==typeof Symbol&&"symbol"==typeof("function"==typeof Symbol?Symbol.iterator:"@@iterator")?m.exports=o=function(o){return typeof o}:m.exports=o=function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==("function"==typeof Symbol?Symbol.prototype:"@@prototype")?"symbol":typeof o},o(t)}m.exports=o},7,[]);
__d(function(g,r,i,a,m,e,d){m.exports=function(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}},8,[]);
__d(function(g,r,i,a,m,e,d){function t(o){return m.exports=t=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},t(o)}m.exports=t},9,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);m.exports=function(o,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(n&&n.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),n&&t(o,n)}},10,[11]);
__d(function(g,r,i,a,m,e,d){function t(o,n){return m.exports=t=Object.setPrototypeOf||function(t,o){return t.__proto__=o,t},t(o,n)}m.exports=t},11,[]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])},12,[13]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n="function"==typeof Symbol&&("function"==typeof Symbol?Symbol.for:"@@for"),o=n?("function"==typeof Symbol?Symbol.for:"@@for")("react.element"):60103,u=n?("function"==typeof Symbol?Symbol.for:"@@for")("react.portal"):60106,f=n?("function"==typeof Symbol?Symbol.for:"@@for")("react.fragment"):60107,l=n?("function"==typeof Symbol?Symbol.for:"@@for")("react.strict_mode"):60108,c=n?("function"==typeof Symbol?Symbol.for:"@@for")("react.profiler"):60114,s=n?("function"==typeof Symbol?Symbol.for:"@@for")("react.provider"):60109,y=n?("function"==typeof Symbol?Symbol.for:"@@for")("react.context"):60110,p=n?("function"==typeof Symbol?Symbol.for:"@@for")("react.forward_ref"):60112,b=n?("function"==typeof Symbol?Symbol.for:"@@for")("react.suspense"):60113,v=n?("function"==typeof Symbol?Symbol.for:"@@for")("react.suspense_list"):60120,S=n?("function"==typeof Symbol?Symbol.for:"@@for")("react.memo"):60115,h=n?("function"==typeof Symbol?Symbol.for:"@@for")("react.lazy"):60116;n&&("function"==typeof Symbol?Symbol.for:"@@for")("react.fundamental"),n&&("function"==typeof Symbol?Symbol.for:"@@for")("react.responder");var _="function"==typeof Symbol&&("function"==typeof Symbol?Symbol.iterator:"@@iterator");function k(t){for(var n=t.message,o="https://reactjs.org/docs/error-decoder.html?invariant="+n,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return t.message="Minified React error #"+n+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",t}var $={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w={};function C(t,n,o){this.props=t,this.context=n,this.refs=w,this.updater=o||$}function E(){}function R(t,n,o){this.props=t,this.context=n,this.refs=w,this.updater=o||$}C.prototype.isReactComponent={},C.prototype.setState=function(t,n){if("object"!=typeof t&&"function"!=typeof t&&null!=t)throw k(Error(85));this.updater.enqueueSetState(this,t,n,"setState")},C.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},E.prototype=C.prototype;var x=R.prototype=new E;x.constructor=R,t(x,C.prototype),x.isPureReactComponent=!0;var P={current:null},j={suspense:null},O={current:null},A=Object.prototype.hasOwnProperty,I={key:!0,ref:!0,__self:!0,__source:!0};function U(t,n,u){var f=void 0,l={},c=null,s=null;if(null!=n)for(f in void 0!==n.ref&&(s=n.ref),void 0!==n.key&&(c=""+n.key),n)A.call(n,f)&&!I.hasOwnProperty(f)&&(l[f]=n[f]);var y=arguments.length-2;if(1===y)l.children=u;else if(1<y){for(var p=Array(y),b=0;b<y;b++)p[b]=arguments[b+2];l.children=p}if(t&&t.defaultProps)for(f in y=t.defaultProps)void 0===l[f]&&(l[f]=y[f]);return{$$typeof:o,type:t,key:c,ref:s,props:l,_owner:O.current}}function L(t,n){return{$$typeof:o,type:t.type,key:n,ref:t.ref,props:t.props,_owner:t._owner}}function q(t){return"object"==typeof t&&null!==t&&t.$$typeof===o}function F(t){var n={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,function(t){return n[t]})}var M=/\/+/g,D=[];function V(t,n,o,u){if(D.length){var f=D.pop();return f.result=t,f.keyPrefix=n,f.func=o,f.context=u,f.count=0,f}return{result:t,keyPrefix:n,func:o,context:u,count:0}}function B(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>D.length&&D.push(t)}function N(t,n,f,l){var c=typeof t;"undefined"!==c&&"boolean"!==c||(t=null);var s=!1;if(null===t)s=!0;else switch(c){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case o:case u:s=!0}}if(s)return f(l,t,""===n?"."+z(t,0):n),1;if(s=0,n=""===n?".":n+":",Array.isArray(t))for(var y=0;y<t.length;y++){var p=n+z(c=t[y],y);s+=N(c,p,f,l)}else if(null===t||"object"!=typeof t?p=null:p="function"==typeof(p=_&&t[_]||t["@@iterator"])?p:null,"function"==typeof p)for(t=p.call(t),y=0;!(c=t.next()).done;)s+=N(c=c.value,p=n+z(c,y++),f,l);else if("object"===c)throw f=""+t,k(Error(31),"[object Object]"===f?"object with keys {"+Object.keys(t).join(", ")+"}":f,"");return s}function T(t,n,o){return null==t?0:N(t,"",n,o)}function z(t,n){return"object"==typeof t&&null!==t&&null!=t.key?F(t.key):n.toString(36)}function H(t,n){t.func.call(t.context,n,t.count++)}function W(t,n,o){var u=t.result,f=t.keyPrefix;t=t.func.call(t.context,n,t.count++),Array.isArray(t)?Y(t,u,o,function(t){return t}):null!=t&&(q(t)&&(t=L(t,f+(!t.key||n&&n.key===t.key?"":(""+t.key).replace(M,"$&/")+"/")+o)),u.push(t))}function Y(t,n,o,u,f){var l="";null!=o&&(l=(""+o).replace(M,"$&/")+"/"),T(t,W,n=V(n,l,u,f)),B(n)}function G(){var t=P.current;if(null===t)throw k(Error(321));return t}var J={Children:{map:function(t,n,o){if(null==t)return t;var u=[];return Y(t,u,null,n,o),u},forEach:function(t,n,o){if(null==t)return t;T(t,H,n=V(null,null,n,o)),B(n)},count:function(t){return T(t,function(){return null},null)},toArray:function(t){var n=[];return Y(t,n,null,function(t){return t}),n},only:function(t){if(!q(t))throw k(Error(143));return t}},createRef:function(){return{current:null}},Component:C,PureComponent:R,createContext:function(t,n){return void 0===n&&(n=null),(t={$$typeof:y,_calculateChangedBits:n,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:s,_context:t},t.Consumer=t},forwardRef:function(t){return{$$typeof:p,render:t}},lazy:function(t){return{$$typeof:h,_ctor:t,_status:-1,_result:null}},memo:function(t,n){return{$$typeof:S,type:t,compare:void 0===n?null:n}},useCallback:function(t,n){return G().useCallback(t,n)},useContext:function(t,n){return G().useContext(t,n)},useEffect:function(t,n){return G().useEffect(t,n)},useImperativeHandle:function(t,n,o){return G().useImperativeHandle(t,n,o)},useDebugValue:function(){},useLayoutEffect:function(t,n){return G().useLayoutEffect(t,n)},useMemo:function(t,n){return G().useMemo(t,n)},useReducer:function(t,n,o){return G().useReducer(t,n,o)},useRef:function(t){return G().useRef(t)},useState:function(t){return G().useState(t)},Fragment:f,Profiler:c,StrictMode:l,Suspense:b,unstable_SuspenseList:v,createElement:U,cloneElement:function(n,u,f){if(null===n||void 0===n)throw k(Error(267),n);var l=void 0,c=t({},n.props),s=n.key,y=n.ref,p=n._owner;if(null!=u){void 0!==u.ref&&(y=u.ref,p=O.current),void 0!==u.key&&(s=""+u.key);var b=void 0;for(l in n.type&&n.type.defaultProps&&(b=n.type.defaultProps),u)A.call(u,l)&&!I.hasOwnProperty(l)&&(c[l]=void 0===u[l]&&void 0!==b?b[l]:u[l])}if(1===(l=arguments.length-2))c.children=f;else if(1<l){b=Array(l);for(var v=0;v<l;v++)b[v]=arguments[v+2];c.children=b}return{$$typeof:o,type:n.type,key:s,ref:y,props:c,_owner:p}},createFactory:function(t){var n=U.bind(null,t);return n.type=t,n},isValidElement:q,version:"16.9.0",unstable_withSuspenseConfig:function(t,n){var o=j.suspense;j.suspense=void 0===n?null:n;try{t()}finally{j.suspense=o}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:P,ReactCurrentBatchConfig:j,ReactCurrentOwner:O,IsSomeRendererActing:{current:!1},assign:t}},K={default:J},Q=K&&J||K;m.exports=Q.default||Q},13,[14]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable;function f(t){if(null===t||void 0===t)throw new TypeError('Object.assign cannot be called with null or undefined');return Object(t)}m.exports=(function(){try{if(!Object.assign)return!1;var n=new String('abc');if(n[5]='de','5'===Object.getOwnPropertyNames(n)[0])return!1;for(var o={},c=0;c<10;c++)o['_'+String.fromCharCode(c)]=c;if('0123456789'!==Object.getOwnPropertyNames(o).map(function(t){return o[t]}).join(''))return!1;var f={};return'abcdefghijklmnopqrst'.split('').forEach(function(t){f[t]=t}),'abcdefghijklmnopqrst'===Object.keys(t({},f)).join('')}catch(t){return!1}})()?Object.assign:function(t,u){for(var s,b,l=f(t),p=1;p<arguments.length;p++){for(var j in s=Object(arguments[p]))o.call(s,j)&&(l[j]=s[j]);if(n){b=n(s);for(var O=0;O<b.length;O++)c.call(s,b[O])&&(l[b[O]]=s[b[O]])}}return l}},14,[15]);
__d(function(g,r,i,a,m,e,d){function t(){return m.exports=t=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var p in o)Object.prototype.hasOwnProperty.call(o,p)&&(t[p]=o[p])}return t},t.apply(this,arguments)}m.exports=t},15,[]);
__d(function(g,r,i,a,m,e,d){'use strict';r(d[0]);var t=r(d[1]);m.exports={get AccessibilityInfo(){return r(d[2])},get ActivityIndicator(){return r(d[3])},get ART(){return t('art-moved',"React Native ART has been extracted from react-native core and will be removed in a future release. It can now be installed and imported from '@react-native-community/art' instead of 'react-native'. See https://github.com/react-native-community/art"),r(d[4])},get Button(){return r(d[5])},get CheckBox(){return t('checkBox-moved',"CheckBox has been extracted from react-native core and will be removed in a future release. It can now be installed and imported from '@react-native-community/checkbox' instead of 'react-native'. See https://github.com/react-native-community/react-native-checkbox"),r(d[6])},get DatePickerIOS(){return t('DatePickerIOS-merged',"DatePickerIOS has been merged with DatePickerAndroid and will be removed in a future release. It can now be installed and imported from '@react-native-community/datetimepicker' instead of 'react-native'. See https://github.com/react-native-community/react-native-datetimepicker"),r(d[7])},get DrawerLayoutAndroid(){return r(d[8])},get FlatList(){return r(d[9])},get Image(){return r(d[10])},get ImageBackground(){return r(d[11])},get InputAccessoryView(){return r(d[12])},get KeyboardAvoidingView(){return r(d[13])},get MaskedViewIOS(){return t('maskedviewios-moved',"MaskedViewIOS has been extracted from react-native core and will be removed in a future release. It can now be installed and imported from '@react-native-community/masked-view' instead of 'react-native'. See https://github.com/react-native-community/react-native-masked-view"),r(d[14])},get Modal(){return r(d[15])},get Picker(){return r(d[16])},get PickerIOS(){return r(d[17])},get ProgressBarAndroid(){return r(d[18])},get ProgressViewIOS(){return r(d[19])},get SafeAreaView(){return r(d[20])},get ScrollView(){return r(d[21])},get SectionList(){return r(d[22])},get SegmentedControlIOS(){return r(d[23])},get Slider(){return t('slider-moved',"Slider has been extracted from react-native core and will be removed in a future release. It can now be installed and imported from '@react-native-community/slider' instead of 'react-native'. See https://github.com/react-native-community/react-native-slider"),r(d[24])},get Switch(){return r(d[25])},get RefreshControl(){return r(d[26])},get StatusBar(){return r(d[27])},get Text(){return r(d[28])},get TextInput(){return r(d[29])},get Touchable(){return r(d[30])},get TouchableHighlight(){return r(d[31])},get TouchableNativeFeedback(){return r(d[32])},get TouchableOpacity(){return r(d[33])},get TouchableWithoutFeedback(){return r(d[34])},get View(){return r(d[35])},get VirtualizedList(){return r(d[36])},get VirtualizedSectionList(){return r(d[37])},get ActionSheetIOS(){return r(d[38])},get Alert(){return r(d[39])},get Animated(){return r(d[40])},get AppRegistry(){return r(d[41])},get AppState(){return r(d[42])},get AsyncStorage(){return t('async-storage-moved',"AsyncStorage has been extracted from react-native core and will be removed in a future release. It can now be installed and imported from '@react-native-community/async-storage' instead of 'react-native'. See https://github.com/react-native-community/react-native-async-storage"),r(d[43])},get BackHandler(){return r(d[44])},get Clipboard(){return r(d[45])},get DatePickerAndroid(){return t('DatePickerAndroid-merged',"DatePickerAndroid has been merged with DatePickerIOS and will be removed in a future release. It can now be installed and imported from '@react-native-community/datetimepicker' instead of 'react-native'. See https://github.com/react-native-community/react-native-datetimepicker"),r(d[46])},get DeviceInfo(){return r(d[47])},get Dimensions(){return r(d[48])},get Easing(){return r(d[49])},get findNodeHandle(){return r(d[50]).findNodeHandle},get I18nManager(){return r(d[51])},get ImagePickerIOS(){return t('imagePickerIOS-moved',"ImagePickerIOS has been extracted from react-native core and will be removed in a future release. Please upgrade to use either '@react-native-community/react-native-image-picker' or 'expo-image-picker'. If you cannot upgrade to a different library, please install the deprecated '@react-native-community/image-picker-ios' package. See https://github.com/react-native-community/react-native-image-picker-ios"),r(d[52])},get InteractionManager(){return r(d[53])},get Keyboard(){return r(d[54])},get LayoutAnimation(){return r(d[55])},get Linking(){return r(d[56])},get NativeDialogManagerAndroid(){return r(d[57]).default},get NativeEventEmitter(){return r(d[58])},get PanResponder(){return r(d[59])},get PermissionsAndroid(){return r(d[60])},get PixelRatio(){return r(d[61])},get PushNotificationIOS(){return t('pushNotificationIOS-moved',"PushNotificationIOS has been extracted from react-native core and will be removed in a future release. It can now be installed and imported from '@react-native-community/push-notification-ios' instead of 'react-native'. See https://github.com/react-native-community/react-native-push-notification-ios"),r(d[62])},get Settings(){return r(d[63])},get Share(){return r(d[64])},get StatusBarIOS(){return t('StatusBarIOS-merged','StatusBarIOS has been merged with StatusBar and will be removed in a future release. Use StatusBar for mutating the status bar'),r(d[65])},get StyleSheet(){return r(d[66])},get Systrace(){return r(d[67])},get TimePickerAndroid(){return t('TimePickerAndroid-merged',"TimePickerAndroid has been merged with DatePickerIOS and DatePickerAndroid and will be removed in a future release. It can now be installed and imported from '@react-native-community/datetimepicker' instead of 'react-native'. See https://github.com/react-native-community/react-native-datetimepicker"),r(d[68])},get ToastAndroid(){return r(d[69])},get TurboModuleRegistry(){return r(d[70])},get TVEventHandler(){return r(d[71])},get UIManager(){return r(d[72])},get unstable_batchedUpdates(){return r(d[50]).unstable_batchedUpdates},get useWindowDimensions(){return r(d[73]).default},get UTFSequence(){return r(d[74])},get Vibration(){return r(d[75])},get YellowBox(){return r(d[76])},get DeviceEventEmitter(){return r(d[77])},get NativeAppEventEmitter(){return r(d[78])},get NativeModules(){return r(d[79])},get Platform(){return r(d[80])},get processColor(){return r(d[81])},get requireNativeComponent(){return r(d[82])},get unstable_RootTagContext(){return r(d[83])},get ColorPropType(){return r(d[84])},get EdgeInsetsPropType(){return r(d[85])},get PointPropType(){return r(d[86])},get ViewPropTypes(){return r(d[87])}}},16,[17,18,21,56,183,193,283,286,287,250,271,292,293,295,296,298,305,309,180,310,311,257,278,312,313,315,254,290,194,318,200,325,209,217,210,82,251,279,326,137,218,328,343,346,339,348,350,352,61,246,84,303,353,227,261,263,355,138,121,357,359,60,361,363,364,366,59,37,367,369,24,204,48,371,372,373,375,41,147,25,53,76,178,302,65,196,376,272]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(n,o,t,f,s,u,c,l){if(!n){var v;if(void 0===o)v=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var p=[t,f,s,u,c,l],h=0;(v=new Error(o.replace(/%s/g,function(){return p[h++]}))).name='Invariant Violation'}throw v.framesToPop=1,v}}},17,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n={};m.exports=function(c,o){n[c]||(t(!1,o),n[c]=!0)}},18,[19]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);m.exports=t},19,[20]);
__d(function(g,r,i,a,m,e,d){"use strict";function t(t){return function(){return t}}var n=function(){};n.thatReturns=t,n.thatReturnsFalse=t(!1),n.thatReturnsTrue=t(!0),n.thatReturnsNull=t(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(t){return t},m.exports=n},20,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0])(r(d[1])),t=r(d[2]),o=r(d[3]),s=new Map,c={isBoldTextEnabled:function(){return Promise.resolve(!1)},isGrayscaleEnabled:function(){return Promise.resolve(!1)},isInvertColorsEnabled:function(){return Promise.resolve(!1)},isReduceMotionEnabled:function(){return new Promise(function(t,o){n.default?n.default.isReduceMotionEnabled(t):o(!1)})},isReduceTransparencyEnabled:function(){return Promise.resolve(!1)},isScreenReaderEnabled:function(){return new Promise(function(t,o){n.default?n.default.isTouchExplorationEnabled(t):o(!1)})},get fetch(){return this.isScreenReaderEnabled},addEventListener:function(n,o){var c;'change'===n||'screenReaderChanged'===n?c=t.addListener("touchExplorationDidChange",function(n){o(n)}):'reduceMotionChanged'===n&&(c=t.addListener("reduceMotionDidChange",function(n){o(n)})),s.set(o,c)},removeEventListener:function(n,t){var o=s.get(t);o&&(o.remove(),s.delete(t))},setAccessibilityFocus:function(n){o.sendAccessibilityEvent(n,o.getConstants().AccessibilityEventTypes.typeViewFocused)},announceForAccessibility:function(t){n.default&&n.default.announceForAccessibility(t)}};m.exports=c},21,[1,22,41,48]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])).get('AccessibilityInfo');e.default=u},22,[23,24]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);function n(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return n=function(){return t},t}m.exports=function(o){if(o&&o.__esModule)return o;if(null===o||"object"!==t(o)&&"function"!=typeof o)return{default:o};var u=n();if(u&&u.has(o))return u.get(o);var f={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var p in o)if(Object.prototype.hasOwnProperty.call(o,p)){var l=c?Object.getOwnPropertyDescriptor(o,p):null;l&&(l.get||l.set)?Object.defineProperty(f,p,l):f[p]=o[p]}return f.default=o,u&&u.set(o,f),f}},23,[7]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.get=o,e.getEnforcing=function(n){var u=o(n);return(0,t.default)(null!=u,"TurboModuleRegistry.getEnforcing(...): '"+n+"' could not be found. Verify that a module by this name is registered in the native binary."),u};var t=n(r(d[1])),u=r(d[2]),l=g.__turboModuleProxy;function o(n){if(!g.RN$Bridgeless){var t=u[n];if(null!=t)return t}return null!=l?l(n):null}},24,[1,17,25]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]),t=r(d[1]),o=r(d[2]),u=r(d[3]);function l(o,l){if(!o)return null;var f=t(o,5),v=f[0],h=f[1],y=f[2],C=f[3],p=f[4];if(u(!v.startsWith('RCT')&&!v.startsWith('RK'),"Module name prefixes should've been stripped by the native side but wasn't for "+v),!h&&!y)return{name:v};var M={};return y&&y.forEach(function(n,t){var o=C&&c(C,t),f=p&&c(p,t);u(!o||!f,'Cannot have a method that is both async and a sync hook');var v=o?'promise':f?'sync':'async';M[n]=s(l,t,v)}),n(M,h),null==M.getConstants?M.getConstants=function(){return h||Object.freeze({})}:console.warn("Unable to define method 'getConstants()' on NativeModule '"+v+"'. NativeModule '"+v+"' already has a constant or method called 'getConstants'. Please remove it."),{name:v,module:M}}function f(n,t){u(g.nativeRequireModuleConfig,"Can't lazily create module without nativeRequireModuleConfig");var o=l(g.nativeRequireModuleConfig(n),t);return o&&o.module}function s(n,t,l){var f=null;return(f='promise'===l?function(){for(var u=arguments.length,l=new Array(u),f=0;f<u;f++)l[f]=arguments[f];var s=new Error;return s.framesToPop=1,new Promise(function(u,f){o.enqueueNativeCall(n,t,l,function(n){return u(n)},function(n){return f(v(n,s))})})}:function(){for(var f=arguments.length,s=new Array(f),c=0;c<f;c++)s[c]=arguments[c];var v=s.length>0?s[s.length-1]:null,h=s.length>1?s[s.length-2]:null,y='function'==typeof v,C='function'==typeof h;C&&u(y,'Cannot have a non-function arg after a function arg.');var p=y?v:null,M=C?h:null,b=y+C;if(s=s.slice(0,s.length-b),'sync'===l)return o.callNativeSyncHook(n,t,s,M,p);o.enqueueNativeCall(n,t,s,M,p)}).type=l,f}function c(n,t){return-1!==n.indexOf(t)}function v(t,o){return n(o,t||{})}g.__fbGenNativeModule=l;var h={};if(g.nativeModuleProxy)h=g.nativeModuleProxy;else if(!g.nativeExtensions){var y=g.__fbBatchedBridgeConfig;u(y,'__fbBatchedBridgeConfig is not set, cannot invoke native modules');var C=r(d[4]);(y.remoteModuleConfig||[]).forEach(function(n,t){var o=l(n,t);o&&(o.module?h[o.name]=o.module:C(h,o.name,{get:function(){return f(o.name,t)}}))})}m.exports=h},25,[15,26,30,17,40]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]),t=r(d[1]),o=r(d[2]);m.exports=function(u,c){return n(u)||t(u,c)||o()}},26,[27,28,29]);
__d(function(g,r,i,a,m,e,d){m.exports=function(n){if(Array.isArray(n))return n}},27,[]);
__d(function(g,r,i,a,m,e,d){m.exports=function(t,o){if(("function"==typeof Symbol?Symbol.iterator:"@@iterator")in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],l=!0,f=!1,u=void 0;try{for(var y,c=t["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();!(l=(y=c.next()).done)&&(n.push(y.value),!o||n.length!==o);l=!0);}catch(t){f=!0,u=t}finally{try{l||null==c.return||c.return()}finally{if(f)throw u}}return n}}},28,[]);
__d(function(g,r,i,a,m,e,d){m.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},29,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=new(r(d[0]));Object.defineProperty(g,'__fbBatchedBridge',{configurable:!0,value:t}),m.exports=t},30,[31]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),l=r(d[1]),u=r(d[2]),s=r(d[3]),n=r(d[4]),h=(r(d[5]),r(d[6])),o=r(d[7]),c=(r(d[8]),(function(){function c(){l(this,c),this._lazyCallableModules={},this._queue=[[],[],[],0],this._successCallbacks=new Map,this._failureCallbacks=new Map,this._callID=0,this._lastFlush=0,this._eventLoopStartTime=Date.now(),this._immediatesCallback=null,this.callFunctionReturnFlushedQueue=this.callFunctionReturnFlushedQueue.bind(this),this.callFunctionReturnResultAndFlushedQueue=this.callFunctionReturnResultAndFlushedQueue.bind(this),this.flushedQueue=this.flushedQueue.bind(this),this.invokeCallbackAndReturnFlushedQueue=this.invokeCallbackAndReturnFlushedQueue.bind(this)}return u(c,[{key:"callFunctionReturnFlushedQueue",value:function(t,l,u){var s=this;return this.__guard(function(){s.__callFunction(t,l,u)}),this.flushedQueue()}},{key:"callFunctionReturnResultAndFlushedQueue",value:function(t,l,u){var s,n=this;return this.__guard(function(){s=n.__callFunction(t,l,u)}),[s,this.flushedQueue()]}},{key:"invokeCallbackAndReturnFlushedQueue",value:function(t,l){var u=this;return this.__guard(function(){u.__invokeCallback(t,l)}),this.flushedQueue()}},{key:"flushedQueue",value:function(){var t=this;this.__guard(function(){t.__callImmediates()});var l=this._queue;return this._queue=[[],[],[],this._callID],l[0].length?l:null}},{key:"getEventLoopRunningTime",value:function(){return Date.now()-this._eventLoopStartTime}},{key:"registerCallableModule",value:function(t,l){this._lazyCallableModules[t]=function(){return l}}},{key:"registerLazyCallableModule",value:function(t,l){var u,s=l;this._lazyCallableModules[t]=function(){return s&&(u=s(),s=null),u}}},{key:"getCallableModule",value:function(t){var l=this._lazyCallableModules[t];return l?l():null}},{key:"callNativeSyncHook",value:function(t,l,u,s,n){this.processCallbacks(t,l,u,s,n);try{return g.nativeCallSyncHook(t,l,u)}catch(t){throw'object'==typeof t&&null!=t&&void 0===t.framesToPop&&/^Exception in HostFunction: /.test(t.message)&&(t.framesToPop=2),t}}},{key:"processCallbacks",value:function(t,l,u,s,n){(s||n)&&(s&&u.push(this._callID<<1),n&&u.push(this._callID<<1|1),this._successCallbacks.set(this._callID,n),this._failureCallbacks.set(this._callID,s)),this._callID++}},{key:"enqueueNativeCall",value:function(t,l,u,s,h){this.processCallbacks(t,l,u,s,h),this._queue[0].push(t),this._queue[1].push(l),this._queue[2].push(u);var o=Date.now();if(g.nativeFlushQueueImmediate&&o-this._lastFlush>=5){var c=this._queue;this._queue=[[],[],[],this._callID],this._lastFlush=o,g.nativeFlushQueueImmediate(c)}n.counterEvent('pending_js_to_native_queue',this._queue[0].length),this.__spy&&this.__spy({type:1,module:t+'',method:l,args:u})}},{key:"createDebugLookup",value:function(t,l,u){}},{key:"setImmediatesCallback",value:function(t){this._immediatesCallback=t}},{key:"__guard",value:function(t){if(this.__shouldPauseOnThrow())t();else try{t()}catch(t){s.reportFatalError(t)}}},{key:"__shouldPauseOnThrow",value:function(){return'undefined'!=typeof DebuggerInternal&&!0===DebuggerInternal.shouldPauseOnThrow}},{key:"__callImmediates",value:function(){n.beginEvent('JSTimers.callImmediates()'),null!=this._immediatesCallback&&this._immediatesCallback(),n.endEvent()}},{key:"__callFunction",value:function(t,l,u){this._lastFlush=Date.now(),this._eventLoopStartTime=this._lastFlush,this.__spy?n.beginEvent(t+"."+l+"("+o(u)+")"):n.beginEvent(t+"."+l+"(...)"),this.__spy&&this.__spy({type:0,module:t,method:l,args:u});var s=this.getCallableModule(t);h(!!s,'Module %s is not a registered callable module (calling %s)',t,l),h(!!s[l],'Method %s does not exist on module %s',l,t);var c=s[l].apply(s,u);return n.endEvent(),c}},{key:"__invokeCallback",value:function(l,u){this._lastFlush=Date.now(),this._eventLoopStartTime=this._lastFlush;var s=l>>>1,n=1&l?this._successCallbacks.get(s):this._failureCallbacks.get(s);n&&(this._successCallbacks.delete(s),this._failureCallbacks.delete(s),n.apply(void 0,t(u)))}}],[{key:"spy",value:function(t){c.prototype.__spy=!0===t?function(t){console.log((0===t.type?'N->JS':'JS->N')+" : "+(t.module?t.module+'.':'')+t.method+"("+JSON.stringify(t.args)+")")}:!1===t?null:t}}]),c})());m.exports=c},31,[32,4,5,36,37,38,17,39,18]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]),t=r(d[1]),o=r(d[2]);m.exports=function(u){return n(u)||t(u)||o()}},32,[33,34,35]);
__d(function(g,r,i,a,m,e,d){m.exports=function(n){if(Array.isArray(n)){for(var t=0,f=new Array(n.length);t<n.length;t++)f[t]=n[t];return f}}},33,[]);
__d(function(g,r,i,a,m,e,d){m.exports=function(t){if(("function"==typeof Symbol?Symbol.iterator:"@@iterator")in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}},34,[]);
__d(function(g,r,i,a,m,e,d){m.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},35,[]);
__d(function(g,r,i,a,m,e,d){m.exports=g.ErrorUtils},36,[]);
__d(function(g,r,i,a,m,e,d){'use strict';r(d[0]);var n=!1,t=0,c={installReactHook:function(){!0},setEnabled:function(t){n!==t&&(n=t)},isEnabled:function(){return n},beginEvent:function(t,c){n&&(t='function'==typeof t?t():t,g.nativeTraceBeginSection(131072,t,c))},endEvent:function(){n&&g.nativeTraceEndSection(131072)},beginAsyncEvent:function(c){var o=t;return n&&(t++,c='function'==typeof c?c():c,g.nativeTraceBeginAsyncSection(131072,c,o)),o},endAsyncEvent:function(t,c){n&&(t='function'==typeof t?t():t,g.nativeTraceEndAsyncSection(131072,t,c))},counterEvent:function(t,c){n&&(t='function'==typeof t?t():t,g.nativeTraceCounter&&g.nativeTraceCounter(131072,t,c))}};m.exports=c},37,[17]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(t){return t}},38,[]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(t){var n,f=typeof t;if(void 0===t)n='undefined';else if(null===t)n='null';else if('string'===f)n='"'+t+'"';else if('function'===f)try{n=t.toString()}catch(t){n='[function unknown]'}else if(t instanceof Error)n=t.name+': '+t.message;else try{n=JSON.stringify(t)}catch(f){if('function'==typeof t.toString)try{n=t.toString()}catch(t){}}return n||'["'+f+'" failed to stringify]'}},39,[]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(t,n,u){var b,c=u.get,o=!1!==u.enumerable,f=!1!==u.writable,l=!1;function s(u){b=u,l=!0,Object.defineProperty(t,n,{value:u,configurable:!0,enumerable:o,writable:f})}Object.defineProperty(t,n,{get:function(){return l||(l=!0,s(c())),b},set:s,configurable:!0,enumerable:o})}},40,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),s=r(d[2]),o=r(d[3]),u=r(d[4]),c=r(d[5]),l=r(d[6]),h=r(d[7]),v=(function(v){function p(){var n;t(this,p);var u=new h;return(n=s(this,o(p).call(this,u))).sharedSubscriber=u,n}return c(p,l),n(p,[{key:"addListener",value:function(t,n,s){return u(o(p.prototype),"addListener",this).call(this,t,n,s)}},{key:"removeAllListeners",value:function(t){u(o(p.prototype),"removeAllListeners",this).call(this,t)}},{key:"removeSubscription",value:function(t){t.emitter!==this?t.emitter.removeSubscription(t):u(o(p.prototype),"removeSubscription",this).call(this,t)}}]),p})();m.exports=new v},41,[4,5,6,9,42,10,44,47]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);function n(c,f,o){return"undefined"!=typeof Reflect&&Reflect.get?m.exports=n=Reflect.get:m.exports=n=function(n,c,f){var o=t(n,c);if(o){var u=Object.getOwnPropertyDescriptor(o,c);return u.get?u.get.call(f):u.value}},n(c,f,o||c)}m.exports=n},42,[43]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);m.exports=function(n,o){for(;!Object.prototype.hasOwnProperty.call(n,o)&&null!==(n=t(n)););return n}},43,[9]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),s=r(d[2]),u=r(d[3]),o=r(d[4]),c=function(){return!0},b=(function(){function b(n){t(this,b),this._subscriber=n||new u}return n(b,[{key:"addListener",value:function(t,n,u){return this._subscriber.addSubscription(t,new s(this,this._subscriber,n,u))}},{key:"once",value:function(t,n,s){var u=this;return this.addListener(t,function(){u.removeCurrentListener();for(var t=arguments.length,o=new Array(t),c=0;c<t;c++)o[c]=arguments[c];n.apply(s,o)})}},{key:"removeAllListeners",value:function(t){this._subscriber.removeAllSubscriptions(t)}},{key:"removeCurrentListener",value:function(){o(!!this._currentSubscription,'Not in an emitting cycle; there is no current subscription'),this.removeSubscription(this._currentSubscription)}},{key:"removeSubscription",value:function(t){o(t.emitter===this,'Subscription does not belong to this emitter.'),this._subscriber.removeSubscription(t)}},{key:"listeners",value:function(t){var n=this._subscriber.getSubscriptionsForType(t);return n?n.filter(c).map(function(t){return t.listener}):[]}},{key:"emit",value:function(t){var n=this._subscriber.getSubscriptionsForType(t);if(n){for(var s=0,u=n.length;s<u;s++){var o=n[s];o&&o.listener&&(this._currentSubscription=o,o.listener.apply(o.context,Array.prototype.slice.call(arguments,1)))}this._currentSubscription=null}}},{key:"removeListener",value:function(t,n){var s=this._subscriber.getSubscriptionsForType(t);if(s)for(var u=0,o=s.length;u<o;u++){var c=s[u];c&&c.listener===n&&c.remove()}}}]),b})();m.exports=b},44,[4,5,45,47,17]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),s=r(d[2]),o=r(d[3]),u=r(d[4]),c=r(d[5]),h=(function(h){function v(n,u,c,h){var f;return t(this,v),(f=s(this,o(v).call(this,u))).emitter=n,f.listener=c,f.context=h,f}return u(v,c),n(v,[{key:"remove",value:function(){this.emitter.removeSubscription(this)}}]),v})();m.exports=h},45,[4,5,6,9,10,46]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),s=r(d[1]),n=(function(){function n(s){t(this,n),this.subscriber=s}return s(n,[{key:"remove",value:function(){this.subscriber.removeSubscription(this)}}]),n})();m.exports=n},46,[4,5]);
__d(function(g,r,i,a,m,e,d){'use strict';var s=r(d[0]),t=r(d[1]),n=r(d[2]),o=(function(){function o(){s(this,o),this._subscriptionsForType={},this._currentSubscription=null}return t(o,[{key:"addSubscription",value:function(s,t){n(t.subscriber===this,'The subscriber of the subscription is incorrectly set.'),this._subscriptionsForType[s]||(this._subscriptionsForType[s]=[]);var o=this._subscriptionsForType[s].length;return this._subscriptionsForType[s].push(t),t.eventType=s,t.key=o,t}},{key:"removeAllSubscriptions",value:function(s){void 0===s?this._subscriptionsForType={}:delete this._subscriptionsForType[s]}},{key:"removeSubscription",value:function(s){var t=s.eventType,n=s.key,o=this._subscriptionsForType[t];o&&delete o[n]}},{key:"getSubscriptionsForType",value:function(s){return this._subscriptionsForType[s]}}]),o})();m.exports=o},47,[4,5,17]);
__d(function(g,r,i,a,m,e,d){'use strict';var s=!0===g.RN$Bridgeless?r(d[0]):r(d[1]);m.exports=s},48,[49,50]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports={getViewManagerConfig:function(n){return console.warn('Attempting to get config for view manager: '+n),null},getConstants:function(){return{}},getConstantsForViewManager:function(n){},getDefaultEventTypes:function(){return[]},playTouchSound:function(){},lazilyLoadView:function(n){},createView:function(n,t,o,u){},updateView:function(n,t,o){},focus:function(n){},blur:function(n){},findSubviewIn:function(n,t,o){},dispatchViewManagerCommand:function(n,t,o){},measure:function(n,t){},measureInWindow:function(n,t){},viewIsDescendantOf:function(n,t,o){},measureLayout:function(n,t,o,u){},measureLayoutRelativeToParent:function(n,t,o){},setJSResponder:function(n,t){},clearJSResponder:function(){},configureNextLayoutAnimation:function(n,t,o){},removeSubviewsFromContainerWithID:function(n){},replaceExistingNonRootView:function(n,t){},setChildren:function(n,t){},manageChildren:function(n,t,o,u,c,f){},setLayoutAnimationEnabledExperimental:function(n){},sendAccessibilityEvent:function(n,t){},showPopupMenu:function(n,t,o,u){},dismissPopupMenu:function(){}}},49,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=t(r(d[1])),o=t(r(d[2]));function f(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(t);n&&(f=f.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,f)}return o}var c=r(d[3]),u=(r(d[4]),r(d[5])),s=r(d[6]),l={},w=new Set,y={},p=!1;function v(){return p||(y=o.default.getConstants(),p=!0),y}var O=(function(t){for(var o=1;o<arguments.length;o++){var c=null!=arguments[o]?arguments[o]:{};o%2?f(Object(c),!0).forEach(function(o){(0,n.default)(t,o,c[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(c)):f(Object(c)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(c,n))})}return t})({},o.default,{getConstants:function(){return v()},getViewManagerConfig:function(t){if(void 0===l[t]&&o.default.getConstantsForViewManager)try{l[t]=o.default.getConstantsForViewManager(t)}catch(n){l[t]=null}var n=l[t];if(n)return n;if(!g.nativeCallSyncHook)return n;if(o.default.lazilyLoadView&&!w.has(t)){var f=o.default.lazilyLoadView(t);w.add(t),f.viewConfig&&(v()[t]=f.viewConfig,b(t))}return l[t]}});function b(t){var n=v()[t];l[t]=n,n.Manager&&(s(n,'Constants',{get:function(){var t=c[n.Manager],o={};return t&&Object.keys(t).forEach(function(n){var f=t[n];'function'!=typeof f&&(o[n]=f)}),o}}),s(n,'Commands',{get:function(){var t=c[n.Manager],o={},f=0;return t&&Object.keys(t).forEach(function(n){'function'==typeof t[n]&&(o[n]=f++)}),o}}))}o.default.getViewManagerConfig=O.getViewManagerConfig,v().ViewManagerNames&&o.default.getConstants().ViewManagerNames.forEach(function(t){s(o.default,t,{get:function(){return o.default.getConstantsForViewManager(t)}})}),g.nativeCallSyncHook||Object.keys(v()).forEach(function(t){u.includes(t)||(l[t]||(l[t]=v()[t]),s(o.default,t,{get:function(){return console.warn("Accessing view manager configs directly off UIManager via UIManager['"+t+"'] is no longer supported. Use UIManager.getViewManagerConfig('"+t+"') instead."),O.getViewManagerConfig(t)}}))}),m.exports=O},50,[1,51,52,25,53,55,40]);
__d(function(g,r,i,a,m,e,d){m.exports=function(n,t,u){return t in n?Object.defineProperty(n,t,{value:u,enumerable:!0,configurable:!0,writable:!0}):n[t]=u,n}},51,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])).getEnforcing('UIManager');e.default=n},52,[23,24]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])(r(d[1])),n={__constants:null,OS:'android',get Version(){return this.constants.Version},get constants(){return null==this.__constants&&(this.__constants=t.default.getConstants()),this.__constants},get isTesting(){return!1},get isTV(){return'tv'===this.constants.uiMode},select:function(t){return'android'in t?t.android:t.default}};m.exports=n},53,[1,54]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])).getEnforcing('PlatformConstants');e.default=n},54,[23,24]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=['clearJSResponder','configureNextLayoutAnimation','createView','dismissPopupMenu','dispatchViewManagerCommand','findSubviewIn','getConstantsForViewManager','getDefaultEventTypes','manageChildren','measure','measureInWindow','measureLayout','measureLayoutRelativeToParent','playTouchSound','removeRootView','removeSubviewsFromContainerWithID','replaceExistingNonRootView','sendAccessibilityEvent','setChildren','setJSResponder','setLayoutAnimationEnabledExperimental','showPopupMenu','updateView','viewIsDescendantOf','PopupMenu','LazyViewManagersEnabled','ViewManagerNames','StyleConstants','AccessibilityEventTypes','UIView','getViewManagerConfig','blur','focus','genericBubblingEventTypes','genericDirectEventTypes','lazilyLoadView']},55,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=r(d[2]);function s(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);n&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,s)}return o}function c(t){for(var o=1;o<arguments.length;o++){var c=null!=arguments[o]?arguments[o]:{};o%2?s(Object(c),!0).forEach(function(o){n(t,o,c[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(c)):s(Object(c)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(c,n))})}return t}r(d[3]);var l=r(d[4]),u=r(d[5]),y=r(d[6]),p=r(d[7]),f=l.forwardRef(function(n,s){var f,b,h=n.onLayout,j=n.style,w=n.size,v=o(n,["onLayout","style","size"]);switch(w){case'small':f=O.sizeSmall,b='small';break;case'large':f=O.sizeLarge,b='large';break;default:f={height:n.size,width:n.size}}var z=c({},v,{ref:s,style:f,size:b});return l.createElement(y,{onLayout:h,style:u.compose(O.container,j)},l.createElement(p,t({},z,{styleAttr:'Normal',indeterminate:!0})))});f.displayName='ActivityIndicator',f.defaultProps={animating:!0,color:null,hidesWhenStopped:!0,size:'small'};var O=u.create({container:{alignItems:'center',justifyContent:'center'},sizeSmall:{width:20,height:20},sizeLarge:{width:36,height:36}});m.exports=f},56,[15,51,57,53,12,59,82,180]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);m.exports=function(n,o){if(null==n)return{};var l,p,b=t(n,o);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(n);for(p=0;p<c.length;p++)l=c[p],o.indexOf(l)>=0||Object.prototype.propertyIsEnumerable.call(n,l)&&(b[l]=n[l])}return b}},57,[58]);
__d(function(g,r,i,a,m,e,d){m.exports=function(n,t){if(null==n)return{};var f,u,o={},c=Object.keys(n);for(u=0;u<c.length;u++)f=c[u],t.indexOf(f)>=0||(o[f]=n[f]);return o}},58,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);function o(t,o){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);o&&(c=c.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,c)}return n}function n(n){for(var c=1;c<arguments.length;c++){var l=null!=arguments[c]?arguments[c]:{};c%2?o(Object(l),!0).forEach(function(o){t(n,o,l[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(l)):o(Object(l)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(l,t))})}return n}var c=r(d[1]),l=r(d[2]),s=(r(d[3]),r(d[4])),u=c.roundToNearestPixel(.4);0===u&&(u=1/c.get());var b={position:'absolute',left:0,right:0,top:0,bottom:0};m.exports={hairlineWidth:u,absoluteFill:b,absoluteFillObject:b,compose:function(t,o){return null!=t&&null!=o?[t,o]:null!=t?t:o},flatten:s,setStyleAttributePreprocessor:function(t,o){var c;if(!0===l[t])c={};else{if('object'!=typeof l[t])return void console.error(t+" is not a valid style attribute");c=l[t]}l[t]=n({},c,{process:o})},create:function(t){return t}}},59,[51,60,63,80,81]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),u=r(d[2]),o=(function(){function o(){t(this,o)}return n(o,null,[{key:"get",value:function(){return u.get('window').scale}},{key:"getFontScale",value:function(){return u.get('window').fontScale||o.get()}},{key:"getPixelSizeForLayoutSize",value:function(t){return Math.round(t*o.get())}},{key:"roundToNearestPixel",value:function(t){var n=o.get();return Math.round(t*n)/n}},{key:"startDetecting",value:function(){}}]),o})();m.exports=o},60,[4,5,61]);
__d(function(g,r,i,a,m,e,d){'use strict';var n,t=r(d[0]),s=t(r(d[1])),o=t(r(d[2])),l=t(r(d[3])),c=t(r(d[4])),u=t(r(d[5])),f=t(r(d[6])),v=new l.default,h=!1,w=(function(){function t(){(0,s.default)(this,t)}return(0,o.default)(t,null,[{key:"get",value:function(t){return(0,f.default)(n[t],'No dimension set for key '+t),n[t]}},{key:"set",value:function(t){var s=t.screen,o=t.window,l=t.windowPhysicalPixels;l&&(o={width:l.width/l.scale,height:l.height/l.scale,scale:l.scale,fontScale:l.fontScale});var c=t.screenPhysicalPixels;c?s={width:c.width/c.scale,height:c.height/c.scale,scale:c.scale,fontScale:c.fontScale}:null==s&&(s=o),n={window:o,screen:s},h?v.emit('change',n):h=!0}},{key:"addEventListener",value:function(n,t){(0,f.default)('change'===n,'Trying to subscribe to unknown event: "%s"',n),v.addListener(n,t)}},{key:"removeEventListener",value:function(n,t){(0,f.default)('change'===n,'Trying to remove listener for unknown event: "%s"',n),v.removeListener(n,t)}}]),t})(),y=g.nativeExtensions&&g.nativeExtensions.DeviceInfo&&g.nativeExtensions.DeviceInfo.Dimensions;y||(c.default.addListener('didUpdateDimensions',function(n){w.set(n)}),y=u.default.getConstants().Dimensions),w.set(y),m.exports=w},61,[1,4,5,44,41,62,17]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var f=t(r(d[1])).getEnforcing('DeviceInfo');e.default=f},62,[23,24]);
__d(function(g,r,i,a,m,e,d){'use strict';var o=r(d[0]);function t(o,t){var n=Object.keys(o);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(o);t&&(c=c.filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable})),n.push.apply(n,c)}return n}for(var n=r(d[1]),c=r(d[2]),l=r(d[3]),b=r(d[4]),s=r(d[5]),f=r(d[6]),p={},O=0,u=Object.keys((function(n){for(var c=1;c<arguments.length;c++){var l=null!=arguments[c]?arguments[c]:{};c%2?t(Object(l),!0).forEach(function(t){o(n,t,l[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(l)):t(Object(l)).forEach(function(o){Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(l,o))})}return n})({},l,{},c,{},n));O<u.length;O++){p[u[O]]=!0}p.transform={process:s},p.shadowOffset={diff:f};var y={process:b};p.backgroundColor=y,p.borderBottomColor=y,p.borderColor=y,p.borderLeftColor=y,p.borderRightColor=y,p.borderTopColor=y,p.borderStartColor=y,p.borderEndColor=y,p.color=y,p.shadowColor=y,p.textDecorationColor=y,p.tintColor=y,p.textShadowColor=y,p.overlayColor=y,m.exports=p},63,[51,64,74,75,76,77,79]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);function o(t,o){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(t);o&&(b=b.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,b)}return n}var n=r(d[1]),b=r(d[2]),c=r(d[3]),u=r(d[4]),s=r(d[5]),f=(function(n){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?o(Object(c),!0).forEach(function(o){t(n,o,c[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(c)):o(Object(c)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(c,t))})}return n})({},b,{},c,{},u,{resizeMode:s.oneOf(['center','contain','cover','repeat','stretch']),backfaceVisibility:s.oneOf(['visible','hidden']),backgroundColor:n,borderColor:n,borderWidth:s.number,borderRadius:s.number,overflow:s.oneOf(['visible','hidden']),tintColor:n,opacity:s.number,overlayColor:s.string,borderTopLeftRadius:s.number,borderTopRightRadius:s.number,borderBottomLeftRadius:s.number,borderBottomRightRadius:s.number});m.exports=f},64,[51,65,67,71,72,68]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]),f=function(f,l,o,b,t,u){var s=l[o];return void 0===s||null===s?f?new Error('Required '+t+' `'+(u||o)+'` was not specified in `'+b+'`.'):void 0:'number'!=typeof s&&null===n(s)?new Error('Invalid '+t+' `'+(u||o)+'` supplied to `'+b+'`: '+s+"\nValid color formats are\n  - '#f0f' (#rgb)\n  - '#f0fc' (#rgba)\n  - '#ff00ff' (#rrggbb)\n  - '#ff00ff00' (#rrggbbaa)\n  - 'rgb(255, 255, 255)'\n  - 'rgba(255, 255, 255, 1.0)'\n  - 'hsl(360, 100%, 100%)'\n  - 'hsla(360, 100%, 100%, 1.0)'\n  - 'transparent'\n  - 'red'\n  - 0xff00ff00 (0xrrggbbaa)\n"):void 0},l=f.bind(null,!1);l.isRequired=f.bind(null,!0),m.exports=l},65,[66]);
__d(function(g,r,i,a,m,e,d){'use strict';function l(l,n,t){return t<0&&(t+=1),t>1&&(t-=1),t<.16666666666666666?l+6*(n-l)*t:t<.5?n:t<.6666666666666666?l+(n-l)*(.6666666666666666-t)*6:l}function n(n,t,o){var u=o<.5?o*(1+t):o+t-o*t,s=2*o-u,h=l(s,u,n+.3333333333333333),c=l(s,u,n),b=l(s,u,n-.3333333333333333);return Math.round(255*h)<<24|Math.round(255*c)<<16|Math.round(255*b)<<8}var t,o='[-+]?\\d*\\.?\\d+',u="[-+]?\\d*\\.?\\d+%";function s(){for(var l=arguments.length,n=new Array(l),t=0;t<l;t++)n[t]=arguments[t];return'\\(\\s*('+n.join(')\\s*,\\s*(')+')\\s*\\)'}function h(l){var n=parseInt(l,10);return n<0?0:n>255?255:n}function c(l){return(parseFloat(l)%360+360)%360/360}function b(l){var n=parseFloat(l);return n<0?0:n>1?255:Math.round(255*n)}function p(l){var n=parseFloat(l);return n<0?0:n>100?1:n/100}var y={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199};m.exports=function(l){var k,f=(void 0===t&&(t={rgb:new RegExp('rgb'+s(o,o,o)),rgba:new RegExp('rgba'+s(o,o,o,o)),hsl:new RegExp('hsl'+s(o,u,u)),hsla:new RegExp('hsla'+s(o,u,u,o)),hex3:/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex4:/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#([0-9a-fA-F]{6})$/,hex8:/^#([0-9a-fA-F]{8})$/}),t);return'number'==typeof l?l>>>0===l&&l>=0&&l<=4294967295?l:null:(k=f.hex6.exec(l))?parseInt(k[1]+'ff',16)>>>0:y.hasOwnProperty(l)?y[l]:(k=f.rgb.exec(l))?(h(k[1])<<24|h(k[2])<<16|h(k[3])<<8|255)>>>0:(k=f.rgba.exec(l))?(h(k[1])<<24|h(k[2])<<16|h(k[3])<<8|b(k[4]))>>>0:(k=f.hex3.exec(l))?parseInt(k[1]+k[1]+k[2]+k[2]+k[3]+k[3]+'ff',16)>>>0:(k=f.hex8.exec(l))?parseInt(k[1],16)>>>0:(k=f.hex4.exec(l))?parseInt(k[1]+k[1]+k[2]+k[2]+k[3]+k[3]+k[4]+k[4],16)>>>0:(k=f.hsl.exec(l))?(255|n(c(k[1]),p(k[2]),p(k[3])))>>>0:(k=f.hsla.exec(l))?(n(c(k[1]),p(k[2]),p(k[3]))|b(k[4]))>>>0:null}},66,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]),t={display:n.oneOf(['none','flex']),width:n.oneOfType([n.number,n.string]),height:n.oneOfType([n.number,n.string]),start:n.oneOfType([n.number,n.string]),end:n.oneOfType([n.number,n.string]),top:n.oneOfType([n.number,n.string]),left:n.oneOfType([n.number,n.string]),right:n.oneOfType([n.number,n.string]),bottom:n.oneOfType([n.number,n.string]),minWidth:n.oneOfType([n.number,n.string]),maxWidth:n.oneOfType([n.number,n.string]),minHeight:n.oneOfType([n.number,n.string]),maxHeight:n.oneOfType([n.number,n.string]),margin:n.oneOfType([n.number,n.string]),marginVertical:n.oneOfType([n.number,n.string]),marginHorizontal:n.oneOfType([n.number,n.string]),marginTop:n.oneOfType([n.number,n.string]),marginBottom:n.oneOfType([n.number,n.string]),marginLeft:n.oneOfType([n.number,n.string]),marginRight:n.oneOfType([n.number,n.string]),marginStart:n.oneOfType([n.number,n.string]),marginEnd:n.oneOfType([n.number,n.string]),padding:n.oneOfType([n.number,n.string]),paddingVertical:n.oneOfType([n.number,n.string]),paddingHorizontal:n.oneOfType([n.number,n.string]),paddingTop:n.oneOfType([n.number,n.string]),paddingBottom:n.oneOfType([n.number,n.string]),paddingLeft:n.oneOfType([n.number,n.string]),paddingRight:n.oneOfType([n.number,n.string]),paddingStart:n.oneOfType([n.number,n.string]),paddingEnd:n.oneOfType([n.number,n.string]),borderWidth:n.number,borderTopWidth:n.number,borderStartWidth:n.number,borderEndWidth:n.number,borderRightWidth:n.number,borderBottomWidth:n.number,borderLeftWidth:n.number,position:n.oneOf(['absolute','relative']),flexDirection:n.oneOf(['row','row-reverse','column','column-reverse']),flexWrap:n.oneOf(['wrap','nowrap','wrap-reverse']),justifyContent:n.oneOf(['flex-start','flex-end','center','space-between','space-around','space-evenly']),alignItems:n.oneOf(['flex-start','flex-end','center','stretch','baseline']),alignSelf:n.oneOf(['auto','flex-start','flex-end','center','stretch','baseline']),alignContent:n.oneOf(['flex-start','flex-end','center','stretch','space-between','space-around']),overflow:n.oneOf(['visible','hidden','scroll']),flex:n.number,flexGrow:n.number,flexShrink:n.number,flexBasis:n.oneOfType([n.number,n.string]),aspectRatio:n.number,zIndex:n.number,direction:n.oneOf(['inherit','ltr','rtl'])};m.exports=t},67,[68]);
__d(function(g,r,i,a,m,e,d){m.exports=r(d[0])()},68,[69]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]);function t(){}function o(){}o.resetWarningCache=t,m.exports=function(){function p(t,o,p,c,s,y){if(y!==n){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name='Invariant Violation',f}}function c(){return p}p.isRequired=p;var s={array:p,bool:p,func:p,number:p,object:p,string:p,symbol:p,any:p,arrayOf:c,element:p,elementType:p,instanceOf:c,node:p,objectOf:c,oneOf:c,oneOfType:c,shape:c,exact:c,checkPropTypes:o,resetWarningCache:t};return s.PropTypes=s,s}},69,[70]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports='SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED'},70,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var s=r(d[0]),h=r(d[1]),o={shadowColor:s,shadowOffset:h.shape({width:h.number,height:h.number}),shadowOpacity:h.number,shadowRadius:h.number};m.exports=o},71,[65,68]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),s=r(d[1]),n={transform:t.arrayOf(t.oneOfType([t.shape({perspective:t.number}),t.shape({rotate:t.string}),t.shape({rotateX:t.string}),t.shape({rotateY:t.string}),t.shape({rotateZ:t.string}),t.shape({scale:t.number}),t.shape({scaleX:t.number}),t.shape({scaleY:t.number}),t.shape({translateX:t.number}),t.shape({translateY:t.number}),t.shape({skewX:t.string}),t.shape({skewY:t.string})])),transformMatrix:function(t,s,n){if(t[s])return new Error("The transformMatrix style property is deprecated. Use `transform: [{ matrix: ... }]` instead.")},decomposedMatrix:function(t,s,n){if(t[s])return new Error("The decomposedMatrix style property is deprecated. Use `transform: [...]` instead.")},scaleX:s(t.number,'Use the transform prop instead.'),scaleY:s(t.number,'Use the transform prop instead.'),rotation:s(t.number,'Use the transform prop instead.'),translateX:s(t.number,'Use the transform prop instead.'),translateY:s(t.number,'Use the transform prop instead.')};m.exports=n},72,[68,73]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]);m.exports=function(t,o){return function(c,u,p){n.getViewManagerConfig(p)||void 0===c[u]||console.warn("`"+u+"` supplied to `"+p+"` has been deprecated. "+o);for(var s=arguments.length,f=new Array(s>3?s-3:0),l=3;l<s;l++)f[l-3]=arguments[l];return t.apply(void 0,[c,u,p].concat(f))}}},73,[48]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);function n(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);n&&(l=l.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,l)}return o}var o=r(d[1]),l=r(d[2]),c=r(d[3]),u=(function(o){for(var l=1;l<arguments.length;l++){var c=null!=arguments[l]?arguments[l]:{};l%2?n(Object(c),!0).forEach(function(n){t(o,n,c[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(c)):n(Object(c)).forEach(function(t){Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(c,t))})}return o})({},l,{color:o,fontFamily:c.string,fontSize:c.number,fontStyle:c.oneOf(['normal','italic']),fontWeight:c.oneOf(['normal','bold','100','200','300','400','500','600','700','800','900']),fontVariant:c.arrayOf(c.oneOf(['small-caps','oldstyle-nums','lining-nums','tabular-nums','proportional-nums'])),textShadowOffset:c.shape({width:c.number,height:c.number}),textShadowRadius:c.number,textShadowColor:o,letterSpacing:c.number,lineHeight:c.number,textAlign:c.oneOf(['auto','left','right','center','justify']),textAlignVertical:c.oneOf(['auto','top','bottom','center']),includeFontPadding:c.bool,textDecorationLine:c.oneOf(['none','underline','line-through','underline line-through']),textDecorationStyle:c.oneOf(['solid','double','dotted','dashed']),textDecorationColor:o,textTransform:c.oneOf(['none','capitalize','uppercase','lowercase']),writingDirection:c.oneOf(['auto','ltr','rtl'])});m.exports=u},74,[51,65,75,68]);
__d(function(g,r,i,a,m,e,d){'use strict';var o=r(d[0]);function t(o,t){var b=Object.keys(o);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(o);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable})),b.push.apply(b,n)}return b}var b=r(d[1]),n=r(d[2]),u=r(d[3]),c=r(d[4]),s=r(d[5]),p=(function(b){for(var n=1;n<arguments.length;n++){var u=null!=arguments[n]?arguments[n]:{};n%2?t(Object(u),!0).forEach(function(t){o(b,t,u[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(u)):t(Object(u)).forEach(function(o){Object.defineProperty(b,o,Object.getOwnPropertyDescriptor(u,o))})}return b})({},n,{},u,{},c,{backfaceVisibility:s.oneOf(['visible','hidden']),backgroundColor:b,borderColor:b,borderTopColor:b,borderRightColor:b,borderBottomColor:b,borderLeftColor:b,borderStartColor:b,borderEndColor:b,borderRadius:s.number,borderTopLeftRadius:s.number,borderTopRightRadius:s.number,borderTopStartRadius:s.number,borderTopEndRadius:s.number,borderBottomLeftRadius:s.number,borderBottomRightRadius:s.number,borderBottomStartRadius:s.number,borderBottomEndRadius:s.number,borderStyle:s.oneOf(['solid','dotted','dashed']),borderWidth:s.number,borderTopWidth:s.number,borderRightWidth:s.number,borderBottomWidth:s.number,borderLeftWidth:s.number,opacity:s.number,elevation:s.number});m.exports=p},75,[51,65,67,71,72,68]);
__d(function(g,r,i,a,m,e,d){'use strict';r(d[0]);var n=r(d[1]);m.exports=function(t){if(void 0===t||null===t)return t;var u=n(t);return null!==u&&void 0!==u?(u=(u<<24|u>>>8)>>>0,u|=0):void 0}},76,[53,66]);
__d(function(g,r,i,a,m,e,d){'use strict';r(d[0]),r(d[1]),r(d[2]),r(d[3]);m.exports=function(t){return t}},77,[78,53,17,39]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o={createIdentityMatrix:function(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},createCopy:function(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]]},createOrthographic:function(t,n,o,u,s,c){return[2/(n-t),0,0,0,0,2/(u-o),0,0,0,0,-2/(c-s),0,-(n+t)/(n-t),-(u+o)/(u-o),-(c+s)/(c-s),1]},createFrustum:function(t,n,o,u,s,c){var v=1/(n-t),f=1/(u-o),h=1/(s-c);return[s*v*2,0,0,0,0,s*f*2,0,0,(n+t)*v,(u+o)*f,(c+s)*h,-1,0,0,c*s*h*2,0]},createPerspective:function(t,n,o,u){var s=1/Math.tan(t/2),c=1/(o-u);return[s/n,0,0,0,0,s,0,0,0,0,(u+o)*c,-1,0,0,u*o*c*2,0]},createTranslate2d:function(t,n){var u=o.createIdentityMatrix();return o.reuseTranslate2dCommand(u,t,n),u},reuseTranslate2dCommand:function(t,n,o){t[12]=n,t[13]=o},reuseTranslate3dCommand:function(t,n,o,u){t[12]=n,t[13]=o,t[14]=u},createScale:function(t){var n=o.createIdentityMatrix();return o.reuseScaleCommand(n,t),n},reuseScaleCommand:function(t,n){t[0]=n,t[5]=n},reuseScale3dCommand:function(t,n,o,u){t[0]=n,t[5]=o,t[10]=u},reusePerspectiveCommand:function(t,n){t[11]=-1/n},reuseScaleXCommand:function(t,n){t[0]=n},reuseScaleYCommand:function(t,n){t[5]=n},reuseScaleZCommand:function(t,n){t[10]=n},reuseRotateXCommand:function(t,n){t[5]=Math.cos(n),t[6]=Math.sin(n),t[9]=-Math.sin(n),t[10]=Math.cos(n)},reuseRotateYCommand:function(t,n){t[0]=Math.cos(n),t[2]=-Math.sin(n),t[8]=Math.sin(n),t[10]=Math.cos(n)},reuseRotateZCommand:function(t,n){t[0]=Math.cos(n),t[1]=Math.sin(n),t[4]=-Math.sin(n),t[5]=Math.cos(n)},createRotateZ:function(t){var n=o.createIdentityMatrix();return o.reuseRotateZCommand(n,t),n},reuseSkewXCommand:function(t,n){t[4]=Math.tan(n)},reuseSkewYCommand:function(t,n){t[1]=Math.tan(n)},multiplyInto:function(t,n,o){var u=n[0],s=n[1],c=n[2],v=n[3],f=n[4],h=n[5],M=n[6],l=n[7],C=n[8],p=n[9],x=n[10],T=n[11],y=n[12],S=n[13],D=n[14],P=n[15],q=o[0],X=o[1],Y=o[2],I=o[3];t[0]=q*u+X*f+Y*C+I*y,t[1]=q*s+X*h+Y*p+I*S,t[2]=q*c+X*M+Y*x+I*D,t[3]=q*v+X*l+Y*T+I*P,q=o[4],X=o[5],Y=o[6],I=o[7],t[4]=q*u+X*f+Y*C+I*y,t[5]=q*s+X*h+Y*p+I*S,t[6]=q*c+X*M+Y*x+I*D,t[7]=q*v+X*l+Y*T+I*P,q=o[8],X=o[9],Y=o[10],I=o[11],t[8]=q*u+X*f+Y*C+I*y,t[9]=q*s+X*h+Y*p+I*S,t[10]=q*c+X*M+Y*x+I*D,t[11]=q*v+X*l+Y*T+I*P,q=o[12],X=o[13],Y=o[14],I=o[15],t[12]=q*u+X*f+Y*C+I*y,t[13]=q*s+X*h+Y*p+I*S,t[14]=q*c+X*M+Y*x+I*D,t[15]=q*v+X*l+Y*T+I*P},determinant:function(n){var o=t(n,16),u=o[0],s=o[1],c=o[2],v=o[3],f=o[4],h=o[5],M=o[6],l=o[7],C=o[8],p=o[9],x=o[10],T=o[11],y=o[12],S=o[13],D=o[14],P=o[15];return v*M*p*y-c*l*p*y-v*h*x*y+s*l*x*y+c*h*T*y-s*M*T*y-v*M*C*S+c*l*C*S+v*f*x*S-u*l*x*S-c*f*T*S+u*M*T*S+v*h*C*D-s*l*C*D-v*f*p*D+u*l*p*D+s*f*T*D-u*h*T*D-c*h*C*P+s*M*C*P+c*f*p*P-u*M*p*P-s*f*x*P+u*h*x*P},inverse:function(n){var u=o.determinant(n);if(!u)return n;var s=t(n,16),c=s[0],v=s[1],f=s[2],h=s[3],M=s[4],l=s[5],C=s[6],p=s[7],x=s[8],T=s[9],y=s[10],S=s[11],D=s[12],P=s[13],q=s[14],X=s[15];return[(C*S*P-p*y*P+p*T*q-l*S*q-C*T*X+l*y*X)/u,(h*y*P-f*S*P-h*T*q+v*S*q+f*T*X-v*y*X)/u,(f*p*P-h*C*P+h*l*q-v*p*q-f*l*X+v*C*X)/u,(h*C*T-f*p*T-h*l*y+v*p*y+f*l*S-v*C*S)/u,(p*y*D-C*S*D-p*x*q+M*S*q+C*x*X-M*y*X)/u,(f*S*D-h*y*D+h*x*q-c*S*q-f*x*X+c*y*X)/u,(h*C*D-f*p*D-h*M*q+c*p*q+f*M*X-c*C*X)/u,(f*p*x-h*C*x+h*M*y-c*p*y-f*M*S+c*C*S)/u,(l*S*D-p*T*D+p*x*P-M*S*P-l*x*X+M*T*X)/u,(h*T*D-v*S*D-h*x*P+c*S*P+v*x*X-c*T*X)/u,(v*p*D-h*l*D+h*M*P-c*p*P-v*M*X+c*l*X)/u,(h*l*x-v*p*x-h*M*T+c*p*T+v*M*S-c*l*S)/u,(C*T*D-l*y*D-C*x*P+M*y*P+l*x*q-M*T*q)/u,(v*y*D-f*T*D+f*x*P-c*y*P-v*x*q+c*T*q)/u,(f*l*D-v*C*D-f*M*P+c*C*P+v*M*q-c*l*q)/u,(v*C*x-f*l*x+f*M*T-c*C*T-v*M*y+c*l*y)/u]},transpose:function(t){return[t[0],t[4],t[8],t[12],t[1],t[5],t[9],t[13],t[2],t[6],t[10],t[14],t[3],t[7],t[11],t[15]]},multiplyVectorByMatrix:function(n,o){var u=t(n,4),s=u[0],c=u[1],v=u[2],f=u[3];return[s*o[0]+c*o[4]+v*o[8]+f*o[12],s*o[1]+c*o[5]+v*o[9]+f*o[13],s*o[2]+c*o[6]+v*o[10]+f*o[14],s*o[3]+c*o[7]+v*o[11]+f*o[15]]},v3Length:function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2])},v3Normalize:function(t,n){var u=1/(n||o.v3Length(t));return[t[0]*u,t[1]*u,t[2]*u]},v3Dot:function(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]},v3Combine:function(t,n,o,u){return[o*t[0]+u*n[0],o*t[1]+u*n[1],o*t[2]+u*n[2]]},v3Cross:function(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]},quaternionToDegreesXYZ:function(n,u,s){var c=t(n,4),v=c[0],f=c[1],h=c[2],M=c[3],l=v*v,C=f*f,p=h*h,x=v*f+h*M,T=M*M+l+C+p,y=180/Math.PI;return x>.49999*T?[0,2*Math.atan2(v,M)*y,90]:x<-.49999*T?[0,-2*Math.atan2(v,M)*y,-90]:[o.roundTo3Places(Math.atan2(2*v*M-2*f*h,1-2*l-2*p)*y),o.roundTo3Places(Math.atan2(2*f*M-2*v*h,1-2*C-2*p)*y),o.roundTo3Places(Math.asin(2*v*f+2*h*M)*y)]},roundTo3Places:function(t){var n=t.toString().split('e');return.001*Math.round(n[0]+'e'+(n[1]?+n[1]-3:3))},decomposeMatrix:function(t){n(16===t.length,'Matrix decomposition needs a list of 3d matrix values, received %s',t);var u=[],s=[],c=[],v=[],f=[];if(t[15]){for(var h=[],M=[],l=0;l<4;l++){h.push([]);for(var C=0;C<4;C++){var p=t[4*l+C]/t[15];h[l].push(p),M.push(3===C?0:p)}}if(M[15]=1,o.determinant(M)){if(0!==h[0][3]||0!==h[1][3]||0!==h[2][3]){var x=[h[0][3],h[1][3],h[2][3],h[3][3]],T=o.inverse(M),y=o.transpose(T);u=o.multiplyVectorByMatrix(x,y)}else u[0]=u[1]=u[2]=0,u[3]=1;for(var S=0;S<3;S++)f[S]=h[3][S];for(var D=[],P=0;P<3;P++)D[P]=[h[P][0],h[P][1],h[P][2]];c[0]=o.v3Length(D[0]),D[0]=o.v3Normalize(D[0],c[0]),v[0]=o.v3Dot(D[0],D[1]),D[1]=o.v3Combine(D[1],D[0],1,-v[0]),v[0]=o.v3Dot(D[0],D[1]),D[1]=o.v3Combine(D[1],D[0],1,-v[0]),c[1]=o.v3Length(D[1]),D[1]=o.v3Normalize(D[1],c[1]),v[0]/=c[1],v[1]=o.v3Dot(D[0],D[2]),D[2]=o.v3Combine(D[2],D[0],1,-v[1]),v[2]=o.v3Dot(D[1],D[2]),D[2]=o.v3Combine(D[2],D[1],1,-v[2]),c[2]=o.v3Length(D[2]),D[2]=o.v3Normalize(D[2],c[2]),v[1]/=c[2],v[2]/=c[2];var q,X=o.v3Cross(D[1],D[2]);if(o.v3Dot(D[0],X)<0)for(var Y=0;Y<3;Y++)c[Y]*=-1,D[Y][0]*=-1,D[Y][1]*=-1,D[Y][2]*=-1;return s[0]=.5*Math.sqrt(Math.max(1+D[0][0]-D[1][1]-D[2][2],0)),s[1]=.5*Math.sqrt(Math.max(1-D[0][0]+D[1][1]-D[2][2],0)),s[2]=.5*Math.sqrt(Math.max(1-D[0][0]-D[1][1]+D[2][2],0)),s[3]=.5*Math.sqrt(Math.max(1+D[0][0]+D[1][1]+D[2][2],0)),D[2][1]>D[1][2]&&(s[0]=-s[0]),D[0][2]>D[2][0]&&(s[1]=-s[1]),D[1][0]>D[0][1]&&(s[2]=-s[2]),{rotationDegrees:q=s[0]<.001&&s[0]>=0&&s[1]<.001&&s[1]>=0?[0,0,o.roundTo3Places(180*Math.atan2(D[0][1],D[0][0])/Math.PI)]:o.quaternionToDegreesXYZ(s,h,D),perspective:u,quaternion:s,scale:c,skew:v,translation:f,rotate:q[2],rotateX:q[0],rotateY:q[1],scaleX:c[0],scaleY:c[1],translateX:f[0],translateY:f[1]}}}}};m.exports=o},78,[26,17]);
__d(function(g,r,i,a,m,e,d){'use strict';var t={width:void 0,height:void 0};m.exports=function(h,n){return(h=h||t)!==(n=n||t)&&(h.width!==n.width||h.height!==n.height)}},79,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),u=(r(d[2]),r(d[3]),r(d[4]),r(d[5]),(function(){function u(){t(this,u)}return n(u,null,[{key:"validateStyleProp",value:function(t,n,u){}},{key:"validateStyle",value:function(t,n){}},{key:"addValidStylePropTypes",value:function(t){}}]),u})());m.exports=u},80,[4,5,64,74,75,17]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function t(n){if(null!==n&&'object'==typeof n){if(!Array.isArray(n))return n;for(var f={},o=0,u=n.length;o<u;++o){var c=t(n[o]);if(c)for(var s in c)f[s]=c[s]}return f}}},81,[]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0]).default},82,[83]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.__INTERNAL_VIEW_CONFIG=void 0;var _;r(d[0]),r(d[1]),r(d[2]),r(d[3]);_=r(d[4])('RCTView');e.__INTERNAL_VIEW_CONFIG=void 0;var t=_;e.default=t},83,[53,84,164,165,178]);
__d(function(g,r,i,a,m,e,d){'use strict';var t;t=r(d[0]),m.exports=t},84,[85]);
__d(function(e,t,n,r,i,l,a){"use strict";var o=t(a[0]);t(a[1]);var u=t(a[2]),c=t(a[3]),s=t(a[4]);function f(e){return e.name="Invariant Violation",e}var d=null,p={};function h(){if(d)for(var e in p){var t=p[e],n=d.indexOf(e);if(!(-1<n))throw f(Error("EventPluginRegistry: Cannot inject event plugins that do not exist in the plugin ordering, `"+e+"`."));if(!g[n]){if(!t.extractEvents)throw f(Error("EventPluginRegistry: Event plugins must implement an `extractEvents` method, but `"+e+"` does not."));for(var r in g[n]=t,n=t.eventTypes){var i=void 0,l=n[r],a=t,o=r;if(v.hasOwnProperty(o))throw f(Error("EventPluginHub: More than one plugin attempted to publish the same event name, `"+o+"`."));v[o]=l;var u=l.phasedRegistrationNames;if(u){for(i in u)u.hasOwnProperty(i)&&m(u[i],a);i=!0}else l.registrationName?(m(l.registrationName,a),i=!0):i=!1;if(!i)throw f(Error("EventPluginRegistry: Failed to publish event `"+r+"` for plugin `"+e+"`."))}}}}function m(e,t){if(y[e])throw f(Error("EventPluginHub: More than one plugin attempted to publish the same registration name, `"+e+"`."));y[e]=t}var g=[],v={},y={};function b(e,t,n,r,i,l,a,o,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}var T=!1,E=null,x=!1,w=null,S={onError:function(e){T=!0,E=e}};function k(e,t,n,r,i,l,a,o,u){T=!1,E=null,b.apply(S,arguments)}function C(e,t,n,r,i,l,a,o,u){if(k.apply(this,arguments),T){if(!T)throw f(Error("clearCaughtError was called but no error was captured. This error is likely caused by a bug in React. Please file an issue."));var c=E;T=!1,E=null,x||(x=!0,w=c)}}var _=null,P=null,R=null;function N(e,t,n){var r=e.type||"unknown-event";e.currentTarget=R(n),C(r,t,void 0,e),e.currentTarget=null}function I(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))throw f(Error("executeDirectDispatch(...): Invalid `event`."));return e.currentTarget=t?R(n):null,t=t?t(e):null,e.currentTarget=null,e._dispatchListeners=null,e._dispatchInstances=null,t}function U(e,t){if(null==t)throw f(Error("accumulateInto(...): Accumulated items must not be null or undefined."));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function z(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var M=null;function A(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)N(e,t[r],n[r]);else t&&N(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}var D=function(e){if(d)throw f(Error("EventPluginRegistry: Cannot inject event plugin ordering more than once. You are likely trying to load more than one copy of React."));d=Array.prototype.slice.call(e),h()},F=function(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!p.hasOwnProperty(t)||p[t]!==r){if(p[t])throw f(Error("EventPluginRegistry: Cannot inject two different event plugins using the same name, `"+t+"`."));p[t]=r,n=!0}}n&&h()};function O(e,t){var n=e.stateNode;if(!n)return null;var r=_(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw f(Error("Expected `"+t+"` listener to be a function, instead got a value of `"+typeof n+"` type."));return n}function j(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function W(e,t,n){for(var r=[];e;)r.push(e),e=j(e);for(e=r.length;0<e--;)t(r[e],"captured",n);for(e=0;e<r.length;e++)t(r[e],"bubbled",n)}function H(e,t,n){(t=O(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=U(n._dispatchListeners,t),n._dispatchInstances=U(n._dispatchInstances,e))}function Q(e){e&&e.dispatchConfig.phasedRegistrationNames&&W(e._targetInst,H,e)}function B(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var t=e._targetInst;W(t=t?j(t):null,H,e)}}function V(e){if(e&&e.dispatchConfig.registrationName){var t=e._targetInst;if(t&&e&&e.dispatchConfig.registrationName){var n=O(t,e.dispatchConfig.registrationName);n&&(e._dispatchListeners=U(e._dispatchListeners,n),e._dispatchInstances=U(e._dispatchInstances,t))}}}function L(){return!0}function Y(){return!1}function X(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?L:Y,this.isPropagationStopped=Y,this}function q(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function $(e){if(!(e instanceof this))throw f(Error("Trying to release an event instance into a pool of a different type."));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function G(e){e.eventPool=[],e.getPooled=q,e.release=$}o(X.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=L)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=L)},persist:function(){this.isPersistent=L},isPersistent:Y,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Y,this._dispatchInstances=this._dispatchListeners=null}}),X.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},X.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var i=new t;return o(i,n.prototype),n.prototype=i,n.prototype.constructor=n,n.Interface=o({},r.Interface,e),n.extend=r.extend,G(n),n},G(X);var J=X.extend({touchHistory:function(){return null}});function K(e){return"topTouchStart"===e}function Z(e){return"topTouchMove"===e}var ee=["topTouchStart"],te=["topTouchMove"],ne=["topTouchCancel","topTouchEnd"],re=[],ie={touchBank:re,numberActiveTouches:0,indexOfSingleActiveTouch:-1,mostRecentTimeStamp:0};function le(e){return e.timeStamp||e.timestamp}function ae(e){if(null==(e=e.identifier))throw f(Error("Touch object is missing identifier."));return e}function oe(e){var t=ae(e),n=re[t];n?(n.touchActive=!0,n.startPageX=e.pageX,n.startPageY=e.pageY,n.startTimeStamp=le(e),n.currentPageX=e.pageX,n.currentPageY=e.pageY,n.currentTimeStamp=le(e),n.previousPageX=e.pageX,n.previousPageY=e.pageY,n.previousTimeStamp=le(e)):(n={touchActive:!0,startPageX:e.pageX,startPageY:e.pageY,startTimeStamp:le(e),currentPageX:e.pageX,currentPageY:e.pageY,currentTimeStamp:le(e),previousPageX:e.pageX,previousPageY:e.pageY,previousTimeStamp:le(e)},re[t]=n),ie.mostRecentTimeStamp=le(e)}function ue(e){var t=re[ae(e)];t?(t.touchActive=!0,t.previousPageX=t.currentPageX,t.previousPageY=t.currentPageY,t.previousTimeStamp=t.currentTimeStamp,t.currentPageX=e.pageX,t.currentPageY=e.pageY,t.currentTimeStamp=le(e),ie.mostRecentTimeStamp=le(e)):console.warn("Cannot record touch move without a touch start.\nTouch Move: %s\n","Touch Bank: %s",se(e),fe())}function ce(e){var t=re[ae(e)];t?(t.touchActive=!1,t.previousPageX=t.currentPageX,t.previousPageY=t.currentPageY,t.previousTimeStamp=t.currentTimeStamp,t.currentPageX=e.pageX,t.currentPageY=e.pageY,t.currentTimeStamp=le(e),ie.mostRecentTimeStamp=le(e)):console.warn("Cannot record touch end without a touch start.\nTouch End: %s\n","Touch Bank: %s",se(e),fe())}function se(e){return JSON.stringify({identifier:e.identifier,pageX:e.pageX,pageY:e.pageY,timestamp:le(e)})}function fe(){var e=JSON.stringify(re.slice(0,20));return 20<re.length&&(e+=" (original size: "+re.length+")"),e}var de={recordTouchTrack:function(e,t){if(Z(e))t.changedTouches.forEach(ue);else if(K(e))t.changedTouches.forEach(oe),ie.numberActiveTouches=t.touches.length,1===ie.numberActiveTouches&&(ie.indexOfSingleActiveTouch=t.touches[0].identifier);else if(("topTouchEnd"===e||"topTouchCancel"===e)&&(t.changedTouches.forEach(ce),ie.numberActiveTouches=t.touches.length,1===ie.numberActiveTouches))for(e=0;e<re.length;e++)if(null!=(t=re[e])&&t.touchActive){ie.indexOfSingleActiveTouch=e;break}},touchHistory:ie};function pe(e,t){if(null==t)throw f(Error("accumulate(...): Accumulated items must not be null or undefined."));return null==e?t:Array.isArray(e)?e.concat(t):Array.isArray(t)?[e].concat(t):[e,t]}var he=null,me=0;function ge(e,t){var n=he;he=e,null!==ye.GlobalResponderHandler&&ye.GlobalResponderHandler.onChange(n,e,t)}var ve={startShouldSetResponder:{phasedRegistrationNames:{bubbled:"onStartShouldSetResponder",captured:"onStartShouldSetResponderCapture"},dependencies:ee},scrollShouldSetResponder:{phasedRegistrationNames:{bubbled:"onScrollShouldSetResponder",captured:"onScrollShouldSetResponderCapture"},dependencies:["topScroll"]},selectionChangeShouldSetResponder:{phasedRegistrationNames:{bubbled:"onSelectionChangeShouldSetResponder",captured:"onSelectionChangeShouldSetResponderCapture"},dependencies:["topSelectionChange"]},moveShouldSetResponder:{phasedRegistrationNames:{bubbled:"onMoveShouldSetResponder",captured:"onMoveShouldSetResponderCapture"},dependencies:te},responderStart:{registrationName:"onResponderStart",dependencies:ee},responderMove:{registrationName:"onResponderMove",dependencies:te},responderEnd:{registrationName:"onResponderEnd",dependencies:ne},responderRelease:{registrationName:"onResponderRelease",dependencies:ne},responderTerminationRequest:{registrationName:"onResponderTerminationRequest",dependencies:[]},responderGrant:{registrationName:"onResponderGrant",dependencies:[]},responderReject:{registrationName:"onResponderReject",dependencies:[]},responderTerminate:{registrationName:"onResponderTerminate",dependencies:[]}},ye={_getResponder:function(){return he},eventTypes:ve,extractEvents:function(e,t,n,r){if(K(e))me+=1;else if("topTouchEnd"===e||"topTouchCancel"===e){if(!(0<=me))return console.error("Ended a touch event which was not counted in `trackedTouchCount`."),null;--me}if(de.recordTouchTrack(e,n),t&&("topScroll"===e&&!n.responderIgnoreScroll||0<me&&"topSelectionChange"===e||K(e)||Z(e))){var i=K(e)?ve.startShouldSetResponder:Z(e)?ve.moveShouldSetResponder:"topSelectionChange"===e?ve.selectionChangeShouldSetResponder:ve.scrollShouldSetResponder;if(he)e:{for(var l=he,a=0,o=l;o;o=j(o))a++;o=0;for(var u=t;u;u=j(u))o++;for(;0<a-o;)l=j(l),a--;for(;0<o-a;)t=j(t),o--;for(;a--;){if(l===t||l===t.alternate)break e;l=j(l),t=j(t)}l=null}else l=t;t=l===he,(l=J.getPooled(i,l,n,r)).touchHistory=de.touchHistory,z(l,t?B:Q);e:{if(i=l._dispatchListeners,t=l._dispatchInstances,Array.isArray(i)){for(a=0;a<i.length&&!l.isPropagationStopped();a++)if(i[a](l,t[a])){i=t[a];break e}}else if(i&&i(l,t)){i=t;break e}i=null}l._dispatchInstances=null,l._dispatchListeners=null,l.isPersistent()||l.constructor.release(l),i&&i!==he?(l=void 0,(t=J.getPooled(ve.responderGrant,i,n,r)).touchHistory=de.touchHistory,z(t,V),a=!0===I(t),he?((o=J.getPooled(ve.responderTerminationRequest,he,n,r)).touchHistory=de.touchHistory,z(o,V),u=!o._dispatchListeners||I(o),o.isPersistent()||o.constructor.release(o),u?((o=J.getPooled(ve.responderTerminate,he,n,r)).touchHistory=de.touchHistory,z(o,V),l=pe(l,[t,o]),ge(i,a)):((i=J.getPooled(ve.responderReject,i,n,r)).touchHistory=de.touchHistory,z(i,V),l=pe(l,i))):(l=pe(l,t),ge(i,a)),i=l):i=null}else i=null;if(l=he&&K(e),t=he&&Z(e),a=he&&("topTouchEnd"===e||"topTouchCancel"===e),(l=l?ve.responderStart:t?ve.responderMove:a?ve.responderEnd:null)&&((l=J.getPooled(l,he,n,r)).touchHistory=de.touchHistory,z(l,V),i=pe(i,l)),l=he&&"topTouchCancel"===e,e=he&&!l&&("topTouchEnd"===e||"topTouchCancel"===e))e:{if((e=n.touches)&&0!==e.length)for(t=0;t<e.length;t++)if(null!==(a=e[t].target)&&void 0!==a&&0!==a){o=P(a);t:{for(a=he;o;){if(a===o||a===o.alternate){a=!0;break t}o=j(o)}a=!1}if(a){e=!1;break e}}e=!0}return(e=l?ve.responderTerminate:e?ve.responderRelease:null)&&((n=J.getPooled(e,he,n,r)).touchHistory=de.touchHistory,z(n,V),i=pe(i,n),ge(null)),i},GlobalResponderHandler:null,injection:{injectGlobalResponderHandler:function(e){ye.GlobalResponderHandler=e}}},be=u.ReactNativeViewConfigRegistry.customBubblingEventTypes,Te=u.ReactNativeViewConfigRegistry.customDirectEventTypes;D(["ResponderEventPlugin","ReactNativeBridgeEventPlugin"]),F({ResponderEventPlugin:ye,ReactNativeBridgeEventPlugin:{eventTypes:{},extractEvents:function(e,t,n,r){if(null==t)return null;var i=be[e],l=Te[e];if(!i&&!l)throw f(Error('Unsupported top level event type "'+e+'" dispatched'));if(e=X.getPooled(i||l,t,n,r),i)z(e,Q);else{if(!l)return null;z(e,V)}return e}}});var Ee=new Map,xe=new Map;function we(e){return Ee.get(e)||null}var Se=null,ke=null;function Ce(e){if(P(e))throw f(Error("setRestoreImplementation() needs to be called to handle a target for controlled events. This error is likely caused by a bug in React. Please file an issue."))}function _e(e,t){return e(t)}function Pe(){}var Re=!1;function Ne(e,t){if(Re)return e(t);Re=!0;try{return _e(e,t)}finally{if(Re=!1,(null!==Se||null!==ke)&&(Pe(),Se&&(t=Se,e=ke,ke=Se=null,Ce(t),e)))for(t=0;t<e.length;t++)Ce(e[t])}}var Ie={};function Ue(e,t,n){var r=n||Ie,i=we(e);Ne(function(){for(var e=r.target,n=null,l=0;l<g.length;l++){var a=g[l];a&&(a=a.extractEvents(t,i,r,e))&&(n=U(n,a))}if(null!==(e=n)&&(M=U(M,e)),e=M,M=null,e){if(z(e,A),M)throw f(Error("processEventQueue(): Additional events were enqueued while processing an event queue. Support for this has not yet been implemented."));if(x)throw e=w,x=!1,w=null,e}})}u.RCTEventEmitter.register({receiveEvent:function(e,t,n){Ue(e,t,n)},receiveTouches:function(e,t,n){if("topTouchEnd"===e||"topTouchCancel"===e){for(var r=[],i=0;i<n.length;i++){var l=n[i];r.push(t[l]),t[l]=null}for(i=n=0;i<t.length;i++)null!==(l=t[i])&&(t[n++]=l);t.length=n}else for(r=[],i=0;i<n.length;i++)r.push(t[n[i]]);for(n=0;n<r.length;n++){(i=r[n]).changedTouches=r,i.touches=t,l=null;var a=i.target;null===a||void 0===a||1>a||(l=a),Ue(l,e,i)}}}),_=function(e){return xe.get(e._nativeTag)||null},P=we,R=function(e){var t=e.stateNode._nativeTag;if(void 0===t&&(t=e.stateNode.canonical._nativeTag),!t)throw f(Error("All native instances should have a tag."));return t},ye.injection.injectGlobalResponderHandler({onChange:function(e,t,n){null!==t?u.UIManager.setJSResponder(t.stateNode._nativeTag,n):u.UIManager.clearJSResponder()}});var ze=c.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;ze.hasOwnProperty("ReactCurrentDispatcher")||(ze.ReactCurrentDispatcher={current:null}),ze.hasOwnProperty("ReactCurrentBatchConfig")||(ze.ReactCurrentBatchConfig={suspense:null});var Me="function"==typeof Symbol&&("function"==typeof Symbol?Symbol.for:"@@for"),Ae=Me?("function"==typeof Symbol?Symbol.for:"@@for")("react.element"):60103,De=Me?("function"==typeof Symbol?Symbol.for:"@@for")("react.portal"):60106,Fe=Me?("function"==typeof Symbol?Symbol.for:"@@for")("react.fragment"):60107,Oe=Me?("function"==typeof Symbol?Symbol.for:"@@for")("react.strict_mode"):60108,je=Me?("function"==typeof Symbol?Symbol.for:"@@for")("react.profiler"):60114,We=Me?("function"==typeof Symbol?Symbol.for:"@@for")("react.provider"):60109,He=Me?("function"==typeof Symbol?Symbol.for:"@@for")("react.context"):60110,Qe=Me?("function"==typeof Symbol?Symbol.for:"@@for")("react.concurrent_mode"):60111,Be=Me?("function"==typeof Symbol?Symbol.for:"@@for")("react.forward_ref"):60112,Ve=Me?("function"==typeof Symbol?Symbol.for:"@@for")("react.suspense"):60113,Le=Me?("function"==typeof Symbol?Symbol.for:"@@for")("react.suspense_list"):60120,Ye=Me?("function"==typeof Symbol?Symbol.for:"@@for")("react.memo"):60115,Xe=Me?("function"==typeof Symbol?Symbol.for:"@@for")("react.lazy"):60116;Me&&("function"==typeof Symbol?Symbol.for:"@@for")("react.fundamental"),Me&&("function"==typeof Symbol?Symbol.for:"@@for")("react.responder");var qe="function"==typeof Symbol&&("function"==typeof Symbol?Symbol.iterator:"@@iterator");function $e(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=qe&&e[qe]||e["@@iterator"])?e:null}function Ge(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case Fe:return"Fragment";case De:return"Portal";case je:return"Profiler";case Oe:return"StrictMode";case Ve:return"Suspense";case Le:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case He:return"Context.Consumer";case We:return"Context.Provider";case Be:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case Ye:return Ge(e.type);case Xe:if(e=1===e._status?e._result:null)return Ge(e)}return null}function Je(e){var t=e;if(e.alternate)for(;t.return;)t=t.return;else{if(0!=(2&t.effectTag))return 1;for(;t.return;)if(0!=(2&(t=t.return).effectTag))return 1}return 3===t.tag?2:3}function Ke(e){if(2!==Je(e))throw f(Error("Unable to find node on an unmounted component."))}function Ze(e){var t=e.alternate;if(!t){if(3===(t=Je(e)))throw f(Error("Unable to find node on an unmounted component."));return 1===t?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var l=i.alternate;if(null===l){if(null!==(r=i.return)){n=r;continue}break}if(i.child===l.child){for(l=i.child;l;){if(l===n)return Ke(i),e;if(l===r)return Ke(i),t;l=l.sibling}throw f(Error("Unable to find node on an unmounted component."))}if(n.return!==r.return)n=i,r=l;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=l;break}if(o===r){a=!0,r=i,n=l;break}o=o.sibling}if(!a){for(o=l.child;o;){if(o===n){a=!0,n=l,r=i;break}if(o===r){a=!0,r=l,n=i;break}o=o.sibling}if(!a)throw f(Error("Child was not found in either parent set. This indicates a bug in React related to the return pointer. Please file an issue."))}}if(n.alternate!==r)throw f(Error("Return fibers should always be each others' alternates. This error is likely caused by a bug in React. Please file an issue."))}if(3!==n.tag)throw f(Error("Unable to find node on an unmounted component."));return n.stateNode.current===n?e:t}function et(e){if(!(e=Ze(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}var tt={},nt=null,rt=0;function it(e,t,n){if(Array.isArray(t))for(var r=t.length;r--&&0<rt;)it(e,t[r],n);else if(t&&0<rt)for(r in nt)if(nt[r]){var i=t[r];if(void 0!==i){var l=n[r];l&&("function"==typeof i&&(i=!0),void 0===i&&(i=null),"object"!=typeof l?e[r]=i:"function"!=typeof l.diff&&"function"!=typeof l.process||(i="function"==typeof l.process?l.process(i):i,e[r]=i),nt[r]=!1,rt--)}}}function lt(e,t,n,r){if(!e&&t===n)return e;if(!t||!n)return n?at(e,n,r):t?ot(e,t,r):e;if(!Array.isArray(t)&&!Array.isArray(n))return ut(e,t,n,r);if(Array.isArray(t)&&Array.isArray(n)){var i,l=t.length<n.length?t.length:n.length;for(i=0;i<l;i++)e=lt(e,t[i],n[i],r);for(;i<t.length;i++)e=ot(e,t[i],r);for(;i<n.length;i++)e=at(e,n[i],r);return e}return Array.isArray(t)?ut(e,u.flattenStyle(t),n,r):ut(e,t,u.flattenStyle(n),r)}function at(e,t,n){if(!t)return e;if(!Array.isArray(t))return ut(e,tt,t,n);for(var r=0;r<t.length;r++)e=at(e,t[r],n);return e}function ot(e,t,n){if(!t)return e;if(!Array.isArray(t))return ut(e,t,tt,n);for(var r=0;r<t.length;r++)e=ot(e,t[r],n);return e}function ut(e,t,n,r){var i,l;for(l in n)if(i=r[l]){var a=t[l],o=n[l];"function"==typeof o&&(o=!0,"function"==typeof a&&(a=!0)),void 0===o&&(o=null,void 0===a&&(a=null)),nt&&(nt[l]=!1),e&&void 0!==e[l]?"object"!=typeof i?e[l]=o:"function"!=typeof i.diff&&"function"!=typeof i.process||(i="function"==typeof i.process?i.process(o):o,e[l]=i):a!==o&&("object"!=typeof i?("object"!=typeof o||null===o||u.deepDiffer(a,o))&&((e||(e={}))[l]=o):"function"==typeof i.diff||"function"==typeof i.process?(void 0===a||("function"==typeof i.diff?i.diff(a,o):"object"!=typeof o||null===o||u.deepDiffer(a,o)))&&(i="function"==typeof i.process?i.process(o):o,(e||(e={}))[l]=i):(nt=null,rt=0,e=lt(e,a,o,i),0<rt&&e&&(it(e,o,i),nt=null)))}for(var c in t)void 0===n[c]&&(!(i=r[c])||e&&void 0!==e[c]||void 0!==(a=t[c])&&("object"!=typeof i||"function"==typeof i.diff||"function"==typeof i.process?((e||(e={}))[c]=null,nt||(nt={}),nt[c]||(nt[c]=!0,rt++)):e=ot(e,a,i)));return e}function ct(e,t){return function(){if(t&&("boolean"!=typeof e.__isMounted||e.__isMounted))return t.apply(e,arguments)}}var st=(function(){function e(t,n){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this._nativeTag=t,this._children=[],this.viewConfig=n}return e.prototype.blur=function(){u.TextInputState.blurTextInput(this._nativeTag)},e.prototype.focus=function(){u.TextInputState.focusTextInput(this._nativeTag)},e.prototype.measure=function(e){u.UIManager.measure(this._nativeTag,ct(this,e))},e.prototype.measureInWindow=function(e){u.UIManager.measureInWindow(this._nativeTag,ct(this,e))},e.prototype.measureLayout=function(e,t,n){var r=void 0;"number"==typeof e?r=e:e._nativeTag?r=e._nativeTag:e.canonical&&e.canonical._nativeTag&&(r=e.canonical._nativeTag),null!=r&&u.UIManager.measureLayout(this._nativeTag,r,ct(this,n),ct(this,t))},e.prototype.setNativeProps=function(e){null!=(e=ut(null,tt,e,this.viewConfig.validAttributes))&&u.UIManager.updateView(this._nativeTag,this.viewConfig.uiViewClassName,e)},e})();function ft(){throw f(Error("The current renderer does not support hydration. This error is likely caused by a bug in React. Please file an issue."))}var dt=u.ReactNativeViewConfigRegistry.get,pt={},ht=3;function mt(){var e=ht;return 1==e%10&&(e+=2),ht=e+2,e}function gt(e){if("number"==typeof e)Ee.delete(e),xe.delete(e);else{var t=e._nativeTag;Ee.delete(t),xe.delete(t),e._children.forEach(gt)}}function vt(e){if(0===e._children.length)return!1;var t=e._children.map(function(e){return"number"==typeof e?e:e._nativeTag});return u.UIManager.setChildren(e._nativeTag,t),!1}var yt=setTimeout,bt=clearTimeout,Tt=/^(.*)[\\\/]/;function Et(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,l=Ge(e.type);n=null,r&&(n=Ge(r.type)),r=l,l="",i?l=" (at "+i.fileName.replace(Tt,"")+":"+i.lineNumber+")":n&&(l=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+l}t+=n,e=e.return}while(e);return t}new Set;var xt=[],wt=-1;function St(e){0>wt||(e.current=xt[wt],xt[wt]=null,wt--)}function kt(e,t){xt[++wt]=e.current,e.current=t}var Ct={},_t={current:Ct},Pt={current:!1},Rt=Ct;function Nt(e,t){var n=e.type.contextTypes;if(!n)return Ct;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,l={};for(i in n)l[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function It(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ut(e){St(Pt),St(_t)}function zt(e){St(Pt),St(_t)}function Mt(e,t,n){if(_t.current!==Ct)throw f(Error("Unexpected context found on stack. This error is likely caused by a bug in React. Please file an issue."));kt(_t,t),kt(Pt,n)}function At(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in e))throw f(Error((Ge(t)||"Unknown")+'.getChildContext(): key "'+i+'" is not defined in childContextTypes.'));return o({},n,r)}function Dt(e){var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||Ct,Rt=_t.current,kt(_t,t),kt(Pt,Pt.current),!0}function Ft(e,t,n){var r=e.stateNode;if(!r)throw f(Error("Expected to have an instance by this point. This error is likely caused by a bug in React. Please file an issue."));n?(t=At(e,t,Rt),r.__reactInternalMemoizedMergedChildContext=t,St(Pt),St(_t),kt(_t,t)):St(Pt),kt(Pt,n)}var Ot=s.unstable_runWithPriority,jt=s.unstable_scheduleCallback,Wt=s.unstable_cancelCallback,Ht=s.unstable_shouldYield,Qt=s.unstable_requestPaint,Bt=s.unstable_now,Vt=s.unstable_getCurrentPriorityLevel,Lt=s.unstable_ImmediatePriority,Yt=s.unstable_UserBlockingPriority,Xt=s.unstable_NormalPriority,qt=s.unstable_LowPriority,$t=s.unstable_IdlePriority,Gt={},Jt=void 0!==Qt?Qt:function(){},Kt=null,Zt=null,en=!1,tn=Bt(),nn=1e4>tn?Bt:function(){return Bt()-tn};function rn(){switch(Vt()){case Lt:return 99;case Yt:return 98;case Xt:return 97;case qt:return 96;case $t:return 95;default:throw f(Error("Unknown priority level."))}}function ln(e){switch(e){case 99:return Lt;case 98:return Yt;case 97:return Xt;case 96:return qt;case 95:return $t;default:throw f(Error("Unknown priority level."))}}function an(e,t){return e=ln(e),Ot(e,t)}function on(e,t,n){return e=ln(e),jt(e,t,n)}function un(e){return null===Kt?(Kt=[e],Zt=jt(Lt,sn)):Kt.push(e),Gt}function cn(){null!==Zt&&Wt(Zt),sn()}function sn(){if(!en&&null!==Kt){en=!0;var e=0;try{var t=Kt;an(99,function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}}),Kt=null}catch(t){throw null!==Kt&&(Kt=Kt.slice(e+1)),jt(Lt,cn),t}finally{en=!1}}}function fn(e,t){return 1073741823===t?99:1===t?95:0>=(e=10*(1073741821-t)-10*(1073741821-e))?99:250>=e?98:5250>=e?97:95}function dn(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t}var pn=Object.prototype.hasOwnProperty;function hn(e,t){if(dn(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!pn.call(t,n[r])||!dn(e[n[r]],t[n[r]]))return!1;return!0}function mn(e,t){if(e&&e.defaultProps)for(var n in t=o({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}function gn(e){var t=e._result;switch(e._status){case 1:return t;case 2:case 0:throw t;default:switch(e._status=0,(t=(t=e._ctor)()).then(function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)},function(t){0===e._status&&(e._status=2,e._result=t)}),e._status){case 1:return e._result;case 2:throw e._result}throw e._result=t,t}}var vn={current:null},yn=null,bn=null,Tn=null;function En(){Tn=bn=yn=null}function xn(e,t){var n=e.type._context;kt(vn,n._currentValue),n._currentValue=t}function wn(e){var t=vn.current;St(vn),e.type._context._currentValue=t}function Sn(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function kn(e,t){yn=e,Tn=bn=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(li=!0),e.firstContext=null)}function Cn(e,t){if(Tn!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(Tn=e,t=1073741823),t={context:e,observedBits:t,next:null},null===bn){if(null===yn)throw f(Error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo()."));bn=t,yn.dependencies={expirationTime:0,firstContext:t,responders:null}}else bn=bn.next=t;return e._currentValue}var _n=!1;function Pn(e){return{baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Rn(e){return{baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Nn(e,t){return{expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function In(e,t){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t)}function Un(e,t){var n=e.alternate;if(null===n){var r=e.updateQueue,i=null;null===r&&(r=e.updateQueue=Pn(e.memoizedState))}else r=e.updateQueue,i=n.updateQueue,null===r?null===i?(r=e.updateQueue=Pn(e.memoizedState),i=n.updateQueue=Pn(n.memoizedState)):r=e.updateQueue=Rn(i):null===i&&(i=n.updateQueue=Rn(r));null===i||r===i?In(r,t):null===r.lastUpdate||null===i.lastUpdate?(In(r,t),In(i,t)):(In(r,t),i.lastUpdate=t)}function zn(e,t){var n=e.updateQueue;null===(n=null===n?e.updateQueue=Pn(e.memoizedState):Mn(e,n)).lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=t:(n.lastCapturedUpdate.next=t,n.lastCapturedUpdate=t)}function Mn(e,t){var n=e.alternate;return null!==n&&t===n.updateQueue&&(t=e.updateQueue=Rn(t)),t}function An(e,t,n,r,i,l){switch(n.tag){case 1:return"function"==typeof(e=n.payload)?e.call(l,r,i):e;case 3:e.effectTag=-2049&e.effectTag|64;case 0:if(null===(i="function"==typeof(e=n.payload)?e.call(l,r,i):e)||void 0===i)break;return o({},r,i);case 2:_n=!0}return r}function Dn(e,t,n,r,i){_n=!1;for(var l=(t=Mn(e,t)).baseState,a=null,o=0,u=t.firstUpdate,c=l;null!==u;){var s=u.expirationTime;s<i?(null===a&&(a=u,l=c),o<s&&(o=s)):(zl(s,u.suspenseConfig),c=An(e,0,u,c,n,r),null!==u.callback&&(e.effectTag|=32,u.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=u:(t.lastEffect.nextEffect=u,t.lastEffect=u))),u=u.next}for(s=null,u=t.firstCapturedUpdate;null!==u;){var f=u.expirationTime;f<i?(null===s&&(s=u,null===a&&(l=c)),o<f&&(o=f)):(c=An(e,0,u,c,n,r),null!==u.callback&&(e.effectTag|=32,u.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=u:(t.lastCapturedEffect.nextEffect=u,t.lastCapturedEffect=u))),u=u.next}null===a&&(t.lastUpdate=null),null===s?t.lastCapturedUpdate=null:e.effectTag|=32,null===a&&null===s&&(l=c),t.baseState=l,t.firstUpdate=a,t.firstCapturedUpdate=s,e.expirationTime=o,e.memoizedState=c}function Fn(e,t,n){null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),On(t.firstEffect,n),t.firstEffect=t.lastEffect=null,On(t.firstCapturedEffect,n),t.firstCapturedEffect=t.lastCapturedEffect=null}function On(e,t){for(;null!==e;){var n=e.callback;if(null!==n){e.callback=null;var r=t;if("function"!=typeof n)throw f(Error("Invalid argument passed as callback. Expected a function. Instead received: "+n));n.call(r)}e=e.nextEffect}}var jn=ze.ReactCurrentBatchConfig,Wn=(new c.Component).refs;function Hn(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:o({},t,n),e.memoizedState=n,null!==(r=e.updateQueue)&&0===e.expirationTime&&(r.baseState=n)}var Qn={isMounted:function(e){return!!(e=e._reactInternalFiber)&&2===Je(e)},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=wl(),i=jn.suspense;(i=Nn(r=Sl(r,e,i),i)).payload=t,void 0!==n&&null!==n&&(i.callback=n),Un(e,i),kl(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=wl(),i=jn.suspense;(i=Nn(r=Sl(r,e,i),i)).tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),Un(e,i),kl(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=wl(),r=jn.suspense;(r=Nn(n=Sl(n,e,r),r)).tag=2,void 0!==t&&null!==t&&(r.callback=t),Un(e,r),kl(e,n)}};function Bn(e,t,n,r,i,l,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,l,a):!t.prototype||!t.prototype.isPureReactComponent||(!hn(n,r)||!hn(i,l))}function Vn(e,t,n){var r=!1,i=Ct,l=t.contextType;return"object"==typeof l&&null!==l?l=Cn(l):(i=It(t)?Rt:_t.current,l=(r=null!==(r=t.contextTypes)&&void 0!==r)?Nt(e,i):Ct),t=new t(n,l),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Qn,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=l),t}function Ln(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Qn.enqueueReplaceState(t,t.state,null)}function Yn(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Wn;var l=t.contextType;"object"==typeof l&&null!==l?i.context=Cn(l):(l=It(t)?Rt:_t.current,i.context=Nt(e,l)),null!==(l=e.updateQueue)&&(Dn(e,l,n,i,r),i.state=e.memoizedState),"function"==typeof(l=t.getDerivedStateFromProps)&&(Hn(e,t,l,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Qn.enqueueReplaceState(i,i.state,null),null!==(l=e.updateQueue)&&(Dn(e,l,n,i,r),i.state=e.memoizedState)),"function"==typeof i.componentDidMount&&(e.effectTag|=4)}var Xn=Array.isArray;function qn(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){var r=void 0;if(n=n._owner){if(1!==n.tag)throw f(Error("Function components cannot have refs. Did you mean to use React.forwardRef()?"));r=n.stateNode}if(!r)throw f(Error("Missing owner for string ref "+e+". This error is likely caused by a bug in React. Please file an issue."));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===Wn&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!=typeof e)throw f(Error("Expected ref to be a function, a string, an object returned by React.createRef(), or null."));if(!n._owner)throw f(Error("Element ref was specified as a string ("+e+") but no owner was set. This could happen for one of the following reasons:\n1. You may be adding a ref to a function component\n2. You may be adding a ref to a component that was not created inside a component's render method\n3. You have multiple copies of React loaded\nSee https://fb.me/react-refs-must-have-owner for more information."))}return e}function $n(e,t){if("textarea"!==e.type)throw f(Error("Objects are not valid as a React child (found: "+("[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t)+")."))}function Gn(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t,n){return(e=Kl(e,t)).index=0,e.sibling=null,e}function l(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function a(t){return e&&null===t.alternate&&(t.effectTag=2),t}function o(e,t,n,r){return null===t||6!==t.tag?((t=ta(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=qn(e,t,n),r.return=e,r):((r=Zl(n.type,n.key,n.props,null,e.mode,r)).ref=qn(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=na(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function s(e,t,n,r,l){return null===t||7!==t.tag?((t=ea(n,e.mode,r,l)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=ta(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case Ae:return(n=Zl(t.type,t.key,t.props,null,e.mode,n)).ref=qn(e,null,t),n.return=e,n;case De:return(t=na(t,e.mode,n)).return=e,t}if(Xn(t)||$e(t))return(t=ea(t,e.mode,n,null)).return=e,t;$n(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:o(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case Ae:return n.key===i?n.type===Fe?s(e,t,n.props.children,r,i):u(e,t,n,r):null;case De:return n.key===i?c(e,t,n,r):null}if(Xn(n)||$e(n))return null!==i?null:s(e,t,n,r,null);$n(e,n)}return null}function h(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return o(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case Ae:return e=e.get(null===r.key?n:r.key)||null,r.type===Fe?s(t,e,r.props.children,i,r.key):u(t,e,r,i);case De:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Xn(r)||$e(r))return s(t,e=e.get(n)||null,r,i,null);$n(t,r)}return null}function m(i,a,o,u){for(var c=null,s=null,f=a,m=a=0,g=null;null!==f&&m<o.length;m++){f.index>m?(g=f,f=null):g=f.sibling;var v=p(i,f,o[m],u);if(null===v){null===f&&(f=g);break}e&&f&&null===v.alternate&&t(i,f),a=l(v,a,m),null===s?c=v:s.sibling=v,s=v,f=g}if(m===o.length)return n(i,f),c;if(null===f){for(;m<o.length;m++)null!==(f=d(i,o[m],u))&&(a=l(f,a,m),null===s?c=f:s.sibling=f,s=f);return c}for(f=r(i,f);m<o.length;m++)null!==(g=h(f,i,m,o[m],u))&&(e&&null!==g.alternate&&f.delete(null===g.key?m:g.key),a=l(g,a,m),null===s?c=g:s.sibling=g,s=g);return e&&f.forEach(function(e){return t(i,e)}),c}function g(i,a,o,u){var c=$e(o);if("function"!=typeof c)throw f(Error("An object is not an iterable. This error is likely caused by a bug in React. Please file an issue."));if(null==(o=c.call(o)))throw f(Error("An iterable object provided no iterator."));for(var s=c=null,m=a,g=a=0,v=null,y=o.next();null!==m&&!y.done;g++,y=o.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=p(i,m,y.value,u);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),a=l(b,a,g),null===s?c=b:s.sibling=b,s=b,m=v}if(y.done)return n(i,m),c;if(null===m){for(;!y.done;g++,y=o.next())null!==(y=d(i,y.value,u))&&(a=l(y,a,g),null===s?c=y:s.sibling=y,s=y);return c}for(m=r(i,m);!y.done;g++,y=o.next())null!==(y=h(m,i,g,y.value,u))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=l(y,a,g),null===s?c=y:s.sibling=y,s=y);return e&&m.forEach(function(e){return t(i,e)}),c}return function(e,r,l,o){var u="object"==typeof l&&null!==l&&l.type===Fe&&null===l.key;u&&(l=l.props.children);var c="object"==typeof l&&null!==l;if(c)switch(l.$$typeof){case Ae:e:{for(c=l.key,u=r;null!==u;){if(u.key===c){if(7===u.tag?l.type===Fe:u.elementType===l.type){n(e,u.sibling),(r=i(u,l.type===Fe?l.props.children:l.props)).ref=qn(e,u,l),r.return=e,e=r;break e}n(e,u);break}t(e,u),u=u.sibling}l.type===Fe?((r=ea(l.props.children,e.mode,o,l.key)).return=e,e=r):((o=Zl(l.type,l.key,l.props,null,e.mode,o)).ref=qn(e,r,l),o.return=e,e=o)}return a(e);case De:e:{for(u=l.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===l.containerInfo&&r.stateNode.implementation===l.implementation){n(e,r.sibling),(r=i(r,l.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=na(l,e.mode,o)).return=e,e=r}return a(e)}if("string"==typeof l||"number"==typeof l)return l=""+l,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,l)).return=e,e=r):(n(e,r),(r=ta(l,e.mode,o)).return=e,e=r),a(e);if(Xn(l))return m(e,r,l,o);if($e(l))return g(e,r,l,o);if(c&&$n(e,l),void 0===l&&!u)switch(e.tag){case 1:case 0:throw e=e.type,f(Error((e.displayName||e.name||"Component")+"(...): Nothing was returned from render. This usually means a return statement is missing. Or, to render nothing, return null."))}return n(e,r)}}var Jn=Gn(!0),Kn=Gn(!1),Zn={},er={current:Zn},tr={current:Zn},nr={current:Zn};function rr(e){if(e===Zn)throw f(Error("Expected host context to exist. This error is likely caused by a bug in React. Please file an issue."));return e}function ir(e,t){kt(nr,t),kt(tr,e),kt(er,Zn),St(er),kt(er,{isInAParentText:!1})}function lr(e){St(er),St(tr),St(nr)}function ar(e){rr(nr.current);var t=rr(er.current),n=e.type;n="AndroidTextInput"===n||"RCTMultilineTextInputView"===n||"RCTSinglelineTextInputView"===n||"RCTText"===n||"RCTVirtualText"===n,t!==(n=t.isInAParentText!==n?{isInAParentText:n}:t)&&(kt(tr,e),kt(er,n))}function or(e){tr.current===e&&(St(er),St(tr))}var ur=1,cr=1,sr=2,fr={current:0};function dr(e){for(var t=e;null!==t;){if(13===t.tag){if(null!==t.memoizedState)return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function pr(e,t){return{responder:e,props:t}}var hr=0,mr=2,gr=4,vr=8,yr=16,br=32,Tr=64,Er=128,xr=ze.ReactCurrentDispatcher,wr=0,Sr=null,kr=null,Cr=null,_r=null,Pr=null,Rr=null,Nr=0,Ir=null,Ur=0,zr=!1,Mr=null,Ar=0;function Dr(){throw f(Error("Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:\n1. You might have mismatching versions of React and the renderer (such as React DOM)\n2. You might be breaking the Rules of Hooks\n3. You might have more than one copy of React in the same app\nSee https://fb.me/react-invalid-hook-call for tips about how to debug and fix this problem."))}function Fr(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!dn(e[n],t[n]))return!1;return!0}function Or(e,t,n,r,i,l){if(wr=l,Sr=t,Cr=null!==e?e.memoizedState:null,xr.current=null===Cr?Jr:Kr,t=n(r,i),zr){do{zr=!1,Ar+=1,Cr=null!==e?e.memoizedState:null,Rr=_r,Ir=Pr=kr=null,xr.current=Kr,t=n(r,i)}while(zr);Mr=null,Ar=0}if(xr.current=Gr,(e=Sr).memoizedState=_r,e.expirationTime=Nr,e.updateQueue=Ir,e.effectTag|=Ur,e=null!==kr&&null!==kr.next,wr=0,Rr=Pr=_r=Cr=kr=Sr=null,Nr=0,Ir=null,Ur=0,e)throw f(Error("Rendered fewer hooks than expected. This may be caused by an accidental early return statement."));return t}function jr(){xr.current=Gr,wr=0,Rr=Pr=_r=Cr=kr=Sr=null,Nr=0,Ir=null,Ur=0,zr=!1,Mr=null,Ar=0}function Wr(){var e={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===Pr?_r=Pr=e:Pr=Pr.next=e,Pr}function Hr(){if(null!==Rr)Rr=(Pr=Rr).next,Cr=null!==(kr=Cr)?kr.next:null;else{if(null===Cr)throw f(Error("Rendered more hooks than during the previous render."));var e={memoizedState:(kr=Cr).memoizedState,baseState:kr.baseState,queue:kr.queue,baseUpdate:kr.baseUpdate,next:null};Pr=null===Pr?_r=e:Pr.next=e,Cr=kr.next}return Pr}function Qr(e,t){return"function"==typeof t?t(e):t}function Br(e){var t=Hr(),n=t.queue;if(null===n)throw f(Error("Should have a queue. This is likely a bug in React. Please file an issue."));if(n.lastRenderedReducer=e,0<Ar){var r=n.dispatch;if(null!==Mr){var i=Mr.get(n);if(void 0!==i){Mr.delete(n);var l=t.memoizedState;do{l=e(l,i.action),i=i.next}while(null!==i);return dn(l,t.memoizedState)||(li=!0),t.memoizedState=l,t.baseUpdate===n.last&&(t.baseState=l),n.lastRenderedState=l,[l,r]}}return[t.memoizedState,r]}r=n.last;var a=t.baseUpdate;if(l=t.baseState,null!==a?(null!==r&&(r.next=null),r=a.next):r=null!==r?r.next:null,null!==r){var o=i=null,u=r,c=!1;do{var s=u.expirationTime;s<wr?(c||(c=!0,o=a,i=l),s>Nr&&(Nr=s)):(zl(s,u.suspenseConfig),l=u.eagerReducer===e?u.eagerState:e(l,u.action)),a=u,u=u.next}while(null!==u&&u!==r);c||(o=a,i=l),dn(l,t.memoizedState)||(li=!0),t.memoizedState=l,t.baseUpdate=o,t.baseState=i,n.lastRenderedState=l}return[t.memoizedState,n.dispatch]}function Vr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===Ir?(Ir={lastEffect:null}).lastEffect=e.next=e:null===(t=Ir.lastEffect)?Ir.lastEffect=e.next=e:(n=t.next,t.next=e,e.next=n,Ir.lastEffect=e),e}function Lr(e,t,n,r){var i=Wr();Ur|=e,i.memoizedState=Vr(t,n,void 0,void 0===r?null:r)}function Yr(e,t,n,r){var i=Hr();r=void 0===r?null:r;var l=void 0;if(null!==kr){var a=kr.memoizedState;if(l=a.destroy,null!==r&&Fr(r,a.deps))return void Vr(hr,n,l,r)}Ur|=e,i.memoizedState=Vr(t,n,l,r)}function Xr(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function qr(){}function $r(e,t,n){if(!(25>Ar))throw f(Error("Too many re-renders. React limits the number of renders to prevent an infinite loop."));var r=e.alternate;if(e===Sr||null!==r&&r===Sr)if(zr=!0,e={expirationTime:wr,suspenseConfig:null,action:n,eagerReducer:null,eagerState:null,next:null},null===Mr&&(Mr=new Map),void 0===(n=Mr.get(t)))Mr.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}else{var i=wl(),l=jn.suspense;l={expirationTime:i=Sl(i,e,l),suspenseConfig:l,action:n,eagerReducer:null,eagerState:null,next:null};var a=t.last;if(null===a)l.next=l;else{var o=a.next;null!==o&&(l.next=o),a.next=l}if(t.last=l,0===e.expirationTime&&(null===r||0===r.expirationTime)&&null!==(r=t.lastRenderedReducer))try{var u=t.lastRenderedState,c=r(u,n);if(l.eagerReducer=r,l.eagerState=c,dn(c,u))return}catch(e){}kl(e,i)}}var Gr={readContext:Cn,useCallback:Dr,useContext:Dr,useEffect:Dr,useImperativeHandle:Dr,useLayoutEffect:Dr,useMemo:Dr,useReducer:Dr,useRef:Dr,useState:Dr,useDebugValue:Dr,useResponder:Dr},Jr={readContext:Cn,useCallback:function(e,t){return Wr().memoizedState=[e,void 0===t?null:t],e},useContext:Cn,useEffect:function(e,t){return Lr(516,192,e,t)},useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Lr(4,36,Xr.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Lr(4,36,e,t)},useMemo:function(e,t){var n=Wr();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Wr();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={last:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=$r.bind(null,Sr,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Wr().memoizedState=e},useState:function(e){var t=Wr();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={last:null,dispatch:null,lastRenderedReducer:Qr,lastRenderedState:e}).dispatch=$r.bind(null,Sr,e),[t.memoizedState,e]},useDebugValue:qr,useResponder:pr},Kr={readContext:Cn,useCallback:function(e,t){var n=Hr();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Fr(t,r[1])?r[0]:(n.memoizedState=[e,t],e)},useContext:Cn,useEffect:function(e,t){return Yr(516,192,e,t)},useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Yr(4,36,Xr.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Yr(4,36,e,t)},useMemo:function(e,t){var n=Hr();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Fr(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)},useReducer:Br,useRef:function(){return Hr().memoizedState},useState:function(e){return Br(Qr)},useDebugValue:qr,useResponder:pr},Zr=null,ei=null,ti=!1;function ni(e,t){switch(e.tag){case 5:return null!==(t=ft(e.type,e.pendingProps))&&(e.stateNode=t,!0);case 6:return null!==(t=ft(e.pendingProps))&&(e.stateNode=t,!0);case 13:default:return!1}}function ri(e){if(ti){var t=ei;if(t){var n=t;if(!ni(e,t)){if(!(t=ft())||!ni(e,t))return e.effectTag|=2,ti=!1,void(Zr=e);var r=Zr,i=$l(5,null,null,0);i.elementType="DELETED",i.type="DELETED",i.stateNode=n,i.return=r,i.effectTag=8,null!==r.lastEffect?(r.lastEffect.nextEffect=i,r.lastEffect=i):r.firstEffect=r.lastEffect=i}Zr=e,ei=ft()}else e.effectTag|=2,ti=!1,Zr=e}}var ii=ze.ReactCurrentOwner,li=!1;function ai(e,t,n,r){t.child=null===e?Kn(t,null,n,r):Jn(t,e.child,n,r)}function oi(e,t,n,r,i){n=n.render;var l=t.ref;return kn(t,i),r=Or(e,t,n,r,l,i),null===e||li?(t.effectTag|=1,ai(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),bi(e,t,i))}function ui(e,t,n,r,i,l){if(null===e){var a=n.type;return"function"!=typeof a||Gl(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Zl(n.type,null,r,null,t.mode,l)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,ci(e,t,a,r,i,l))}return a=e.child,i<l&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:hn)(i,r)&&e.ref===t.ref)?bi(e,t,l):(t.effectTag|=1,(e=Kl(a,r)).ref=t.ref,e.return=t,t.child=e)}function ci(e,t,n,r,i,l){return null!==e&&hn(e.memoizedProps,r)&&e.ref===t.ref&&(li=!1,i<l)?bi(e,t,l):fi(e,t,n,r,l)}function si(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function fi(e,t,n,r,i){var l=It(n)?Rt:_t.current;return l=Nt(t,l),kn(t,i),n=Or(e,t,n,r,l,i),null===e||li?(t.effectTag|=1,ai(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),bi(e,t,i))}function di(e,t,n,r,i){if(It(n)){var l=!0;Dt(t)}else l=!1;if(kn(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),Vn(t,n,r),Yn(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var u=a.context,c=n.contextType;"object"==typeof c&&null!==c?c=Cn(c):c=Nt(t,c=It(n)?Rt:_t.current);var s=n.getDerivedStateFromProps,f="function"==typeof s||"function"==typeof a.getSnapshotBeforeUpdate;f||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(o!==r||u!==c)&&Ln(t,a,r,c),_n=!1;var d=t.memoizedState;u=a.state=d;var p=t.updateQueue;null!==p&&(Dn(t,p,r,a,i),u=t.memoizedState),o!==r||d!==u||Pt.current||_n?("function"==typeof s&&(Hn(t,n,s,r),u=t.memoizedState),(o=_n||Bn(t,n,o,r,d,u,c))?(f||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.effectTag|=4)):("function"==typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=o):("function"==typeof a.componentDidMount&&(t.effectTag|=4),r=!1)}else a=t.stateNode,o=t.memoizedProps,a.props=t.type===t.elementType?o:mn(t.type,o),u=a.context,"object"==typeof(c=n.contextType)&&null!==c?c=Cn(c):c=Nt(t,c=It(n)?Rt:_t.current),(f="function"==typeof(s=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(o!==r||u!==c)&&Ln(t,a,r,c),_n=!1,u=t.memoizedState,d=a.state=u,null!==(p=t.updateQueue)&&(Dn(t,p,r,a,i),d=t.memoizedState),o!==r||u!==d||Pt.current||_n?("function"==typeof s&&(Hn(t,n,s,r),d=t.memoizedState),(s=_n||Bn(t,n,o,r,u,d,c))?(f||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,d,c),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,d,c)),"function"==typeof a.componentDidUpdate&&(t.effectTag|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof a.componentDidUpdate||o===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=d),a.props=r,a.state=d,a.context=c,r=s):("function"!=typeof a.componentDidUpdate||o===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),r=!1);return pi(e,t,n,r,l,i)}function pi(e,t,n,r,i,l){si(e,t);var a=0!=(64&t.effectTag);if(!r&&!a)return i&&Ft(t,n,!1),bi(e,t,l);r=t.stateNode,ii.current=t;var o=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&a?(t.child=Jn(t,e.child,null,l),t.child=Jn(t,null,o,l)):ai(e,t,o,l),t.memoizedState=r.state,i&&Ft(t,n,!0),t.child}function hi(e){var t=e.stateNode;t.pendingContext?Mt(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Mt(0,t.context,!1),ir(e,t.containerInfo)}var mi={};function gi(e,t,n){var r,i=t.mode,l=t.pendingProps,a=fr.current,o=null,u=!1;if((r=0!=(64&t.effectTag))||(r=0!=(a&sr)&&(null===e||null!==e.memoizedState)),r?(o=mi,u=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===l.fallback||!0===l.unstable_avoidThisFallback||(a|=cr),kt(fr,a&=ur),null===e)if(u){if(l=l.fallback,(e=ea(null,i,0,null)).return=t,0==(2&t.mode))for(u=null!==t.memoizedState?t.child.child:t.child,e.child=u;null!==u;)u.return=e,u=u.sibling;(n=ea(l,i,n,null)).return=t,e.sibling=n,i=e}else i=n=Kn(t,null,l.children,n);else{if(null!==e.memoizedState)if(i=(a=e.child).sibling,u){if(l=l.fallback,(n=Kl(a,a.pendingProps)).return=t,0==(2&t.mode)&&(u=null!==t.memoizedState?t.child.child:t.child)!==a.child)for(n.child=u;null!==u;)u.return=n,u=u.sibling;(l=Kl(i,l,i.expirationTime)).return=t,n.sibling=l,i=n,n.childExpirationTime=0,n=l}else i=n=Jn(t,a.child,l.children,n);else if(a=e.child,u){if(u=l.fallback,(l=ea(null,i,0,null)).return=t,l.child=a,null!==a&&(a.return=l),0==(2&t.mode))for(a=null!==t.memoizedState?t.child.child:t.child,l.child=a;null!==a;)a.return=l,a=a.sibling;(n=ea(u,i,n,null)).return=t,l.sibling=n,n.effectTag|=2,i=l,l.childExpirationTime=0}else n=i=Jn(t,a,l.children,n);t.stateNode=e.stateNode}return t.memoizedState=o,t.child=i,n}function vi(e,t,n,r,i){var l=e.memoizedState;null===l?e.memoizedState={isBackwards:t,rendering:null,last:r,tail:n,tailExpiration:0,tailMode:i}:(l.isBackwards=t,l.rendering=null,l.last=r,l.tail=n,l.tailExpiration=0,l.tailMode=i)}function yi(e,t,n){var r=t.pendingProps,i=r.revealOrder,l=r.tail;if(ai(e,t,r.children,n),0!=((r=fr.current)&sr))r=r&ur|sr,t.effectTag|=64;else{if(null!==e&&0!=(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag){if(null!==e.memoizedState){e.expirationTime<n&&(e.expirationTime=n);var a=e.alternate;null!==a&&a.expirationTime<n&&(a.expirationTime=n),Sn(e.return,n)}}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=ur}if(kt(fr,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(r=n.alternate)&&null===dr(r)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),vi(t,!1,i,n,l);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(r=i.alternate)&&null===dr(r)){t.child=i;break}r=i.sibling,i.sibling=n,n=i,i=r}vi(t,!0,n,null,l);break;case"together":vi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function bi(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw f(Error("Resuming work not yet implemented."));if(null!==t.child){for(n=Kl(e=t.child,e.pendingProps,e.expirationTime),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Kl(e,e.pendingProps,e.expirationTime)).return=t;n.sibling=null}return t.child}var Ti=void 0,Ei=void 0,xi=void 0,wi=void 0;function Si(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ki(e){switch(e.tag){case 1:It(e.type)&&Ut();var t=e.effectTag;return 2048&t?(e.effectTag=-2049&t|64,e):null;case 3:if(lr(),zt(),0!=(64&(t=e.effectTag)))throw f(Error("The root failed to unmount after an error. This is likely a bug in React. Please file an issue."));return e.effectTag=-2049&t|64,e;case 5:return or(e),null;case 13:return St(fr),2048&(t=e.effectTag)?(e.effectTag=-2049&t|64,e):null;case 18:return null;case 19:return St(fr),null;case 4:return lr(),null;case 10:return wn(e),null;default:return null}}function Ci(e,t){return{value:e,source:t,stack:Et(t)}}if(Ti=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e._children.push(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ei=function(){},xi=function(e,t,n,r){e.memoizedProps!==r&&(rr(er.current),t.updateQueue=pt)&&(t.effectTag|=4)},wi=function(e,t,n,r){n!==r&&(t.effectTag|=4)},"function"!=typeof u.ReactFiberErrorDialog.showErrorDialog)throw f(Error("Expected ReactFiberErrorDialog.showErrorDialog to be a function."));var _i="function"==typeof WeakSet?WeakSet:Set;function Pi(e,t){var n,r=t.source,i=t.stack;null===i&&null!==r&&(i=Et(r)),t={componentName:null!==r?Ge(r.type):null,componentStack:null!==i?i:"",error:t.value,errorBoundary:null,errorBoundaryName:null,errorBoundaryFound:!1,willRetry:!1},null!==e&&1===e.tag&&(t.errorBoundary=e.stateNode,t.errorBoundaryName=Ge(e.type),t.errorBoundaryFound=!0,t.willRetry=!0);try{n=t,!1!==u.ReactFiberErrorDialog.showErrorDialog(n)&&console.error(n.error)}catch(e){setTimeout(function(){throw e})}}function Ri(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){Hl(e,t)}}function Ni(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Hl(e,t)}else t.current=null}function Ii(e,t,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var r=n=n.next;do{if((r.tag&e)!==hr){var i=r.destroy;r.destroy=void 0,void 0!==i&&i()}(r.tag&t)!==hr&&(i=r.create,r.destroy=i()),r=r.next}while(r!==n)}}function Ui(e,t){switch("function"==typeof Yl&&Yl(e),e.tag){case 0:case 11:case 14:case 15:var n=e.updateQueue;if(null!==n&&null!==(n=n.lastEffect)){var r=n.next;an(97<t?97:t,function(){var t=r;do{var n=t.destroy;if(void 0!==n){var i=e;try{n()}catch(e){Hl(i,e)}}t=t.next}while(t!==r)})}break;case 1:Ni(e),"function"==typeof(t=e.stateNode).componentWillUnmount&&Ri(e,t);break;case 5:Ni(e);break;case 4:Di(e,t)}}function zi(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,null!==t&&zi(t)}function Mi(e){return 5===e.tag||3===e.tag||4===e.tag}function Ai(e){e:{for(var t=e.return;null!==t;){if(Mi(t)){var n=t;break e}t=t.return}throw f(Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue."))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw f(Error("Invalid host parent fiber. This error is likely caused by a bug in React. Please file an issue."))}16&n.effectTag&&(n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||Mi(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}for(var i=e;;){var l=5===i.tag||6===i.tag;if(l){var a=l?i.stateNode:i.stateNode.instance;if(n)if(r){if("number"==typeof t)throw f(Error("Container does not support insertBefore operation"))}else{var o=n,c=(l=t)._children,s=c.indexOf(a);0<=s?(c.splice(s,1),o=c.indexOf(o),c.splice(o,0,a),u.UIManager.manageChildren(l._nativeTag,[s],[o],[],[],[])):(s=c.indexOf(o),c.splice(s,0,a),u.UIManager.manageChildren(l._nativeTag,[],[],["number"==typeof a?a:a._nativeTag],[s],[]))}else r?u.UIManager.setChildren(t,["number"==typeof a?a:a._nativeTag]):(l=t,c="number"==typeof a?a:a._nativeTag,0<=(o=(s=l._children).indexOf(a))?(s.splice(o,1),s.push(a),u.UIManager.manageChildren(l._nativeTag,[o],[s.length-1],[],[],[])):(s.push(a),u.UIManager.manageChildren(l._nativeTag,[],[],[c],[s.length-1],[])))}else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}}function Di(e,t){for(var n=e,r=!1,i=void 0,l=void 0;;){if(!r){r=n.return;e:for(;;){if(null===r)throw f(Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue."));switch(i=r.stateNode,r.tag){case 5:l=!1;break e;case 3:case 4:i=i.containerInfo,l=!0;break e}r=r.return}r=!0}if(5===n.tag||6===n.tag){e:for(var a=n,o=t,c=a;;)if(Ui(c,o),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===a)break;for(;null===c.sibling;){if(null===c.return||c.return===a)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}l?(a=i,gt(n.stateNode),u.UIManager.manageChildren(a,[],[],[],[],[0])):(a=i,gt(c=n.stateNode),c=(o=a._children).indexOf(c),o.splice(c,1),u.UIManager.manageChildren(a._nativeTag,[],[],[],[],[c]))}else if(4===n.tag){if(null!==n.child){i=n.stateNode.containerInfo,l=!0,n.child.return=n,n=n.child;continue}}else if(Ui(n,t),null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;4===(n=n.return).tag&&(r=!1)}n.sibling.return=n.return,n=n.sibling}}function Fi(e,t){switch(t.tag){case 0:case 11:case 14:case 15:Ii(gr,vr,t);break;case 1:break;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps;e=null!==e?e.memoizedProps:r;var i=t.updateQueue;t.updateQueue=null,null!==i&&(t=n.viewConfig,xe.set(n._nativeTag,r),null!=(r=ut(null,e,r,t.validAttributes))&&u.UIManager.updateView(n._nativeTag,t.uiViewClassName,r))}break;case 6:if(null===t.stateNode)throw f(Error("This should have a text node initialized. This error is likely caused by a bug in React. Please file an issue."));u.UIManager.updateView(t.stateNode,"RCTRawText",{text:t.memoizedProps});break;case 3:case 12:break;case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,cl=nn()),null!==n)e:for(e=n;;){if(5===e.tag)if(i=e.stateNode,r){var l=i.viewConfig,a=ut(null,tt,{style:{display:"none"}},l.validAttributes);u.UIManager.updateView(i._nativeTag,l.uiViewClassName,a)}else{i=e.stateNode,a=e.memoizedProps,l=i.viewConfig,a=ut(null,o({},a,{style:[a.style,{display:"none"}]}),a,l.validAttributes),u.UIManager.updateView(i._nativeTag,l.uiViewClassName,a)}else{if(6===e.tag)throw Error("Not yet implemented.");if(13===e.tag&&null!==e.memoizedState){(i=e.child.sibling).return=e,e=i;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break e;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}Oi(t);break;case 19:Oi(t);break;case 17:case 20:break;default:throw f(Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue."))}}function Oi(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new _i),t.forEach(function(t){var r=Bl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}var ji="function"==typeof WeakMap?WeakMap:Map;function Wi(e,t,n){(n=Nn(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){dl||(dl=!0,pl=r),Pi(e,t)},n}function Hi(e,t,n){(n=Nn(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return Pi(e,t),r(i)}}var l=e.stateNode;return null!==l&&"function"==typeof l.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===hl?hl=new Set([this]):hl.add(this),Pi(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var Qi=Math.ceil,Bi=ze.ReactCurrentDispatcher,Vi=ze.ReactCurrentOwner,Li=0,Yi=8,Xi=16,qi=32,$i=0,Gi=1,Ji=2,Ki=3,Zi=4,el=Li,tl=null,nl=null,rl=0,il=$i,ll=1073741823,al=1073741823,ol=null,ul=!1,cl=0,sl=500,fl=null,dl=!1,pl=null,hl=null,ml=!1,gl=null,vl=90,yl=0,bl=null,Tl=0,El=null,xl=0;function wl(){return(48&el)!==Li?1073741821-(nn()/10|0):0!==xl?xl:xl=1073741821-(nn()/10|0)}function Sl(e,t,n){if(0==(2&(t=t.mode)))return 1073741823;var r=rn();if(0==(4&t))return 99===r?1073741823:1073741822;if((el&Xi)!==Li)return rl;if(null!==n)e=1073741821-25*(1+((1073741821-e+(0|n.timeoutMs||5e3)/10)/25|0));else switch(r){case 99:e=1073741823;break;case 98:e=1073741821-10*(1+((1073741821-e+15)/10|0));break;case 97:case 96:e=1073741821-25*(1+((1073741821-e+500)/25|0));break;case 95:e=1;break;default:throw f(Error("Expected a valid priority level"))}return null!==tl&&e===rl&&--e,e}function kl(e,t){if(50<Tl)throw Tl=0,El=null,f(Error("Maximum update depth exceeded. This can happen when a component repeatedly calls setState inside componentWillUpdate or componentDidUpdate. React limits the number of nested updates to prevent infinite loops."));if(null!==(e=Cl(e,t))){e.pingTime=0;var n=rn();if(1073741823===t)if((el&Yi)!==Li&&(48&el)===Li)for(var r=Ul(e,1073741823,!0);null!==r;)r=r(!0);else _l(e,99,1073741823),el===Li&&cn();else _l(e,n,t);(4&el)===Li||98!==n&&99!==n||(null===bl?bl=new Map([[e,t]]):(void 0===(n=bl.get(e))||n>t)&&bl.set(e,t))}}function Cl(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(t>i.firstPendingTime&&(i.firstPendingTime=t),0===(e=i.lastPendingTime)||t<e)&&(i.lastPendingTime=t),i}function _l(e,t,n){if(e.callbackExpirationTime<n){var r=e.callbackNode;null!==r&&r!==Gt&&Wt(r),e.callbackExpirationTime=n,1073741823===n?e.callbackNode=un(Pl.bind(null,e,Ul.bind(null,e,n))):(r=null,1!==n&&(r={timeout:10*(1073741821-n)-nn()}),e.callbackNode=on(t,Pl.bind(null,e,Ul.bind(null,e,n)),r))}}function Pl(e,t,n){var r=e.callbackNode,i=null;try{return null!==(i=t(n))?Pl.bind(null,e,i):null}finally{null===i&&r===e.callbackNode&&(e.callbackNode=null,e.callbackExpirationTime=0)}}function Rl(e,t){var n=e.firstBatch;return!!(null!==n&&n._defer&&n._expirationTime>=t)&&(on(97,function(){return n._onComplete(),null}),!0)}function Nl(){if(null!==bl){var e=bl;bl=null,e.forEach(function(e,t){un(Ul.bind(null,t,e))}),cn()}}function Il(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,bt(n)),null!==nl)for(n=nl.return;null!==n;){var r=n;switch(r.tag){case 1:var i=r.type.childContextTypes;null!==i&&void 0!==i&&Ut();break;case 3:lr(),zt();break;case 5:or(r);break;case 4:lr();break;case 13:case 19:St(fr);break;case 10:wn(r)}n=n.return}tl=e,nl=Kl(e.current,null),rl=t,il=$i,al=ll=1073741823,ol=null,ul=!1}function Ul(e,t,n){if((48&el)!==Li)throw f(Error("Should not already be working."));if(e.firstPendingTime<t)return null;if(n&&e.finishedExpirationTime===t)return Dl.bind(null,e);if(Ol(),e!==tl||t!==rl)Il(e,t);else if(il===Ki)if(ul)Il(e,t);else{var r=e.lastPendingTime;if(r<t)return Ul.bind(null,e,r)}if(null!==nl){r=el,el|=Xi;var i=Bi.current;if(null===i&&(i=Gr),Bi.current=Gr,n){if(1073741823!==t){var l=wl();if(l<t)return el=r,En(),Bi.current=i,Ul.bind(null,e,l)}}else xl=0;for(;;)try{if(n)for(;null!==nl;)nl=Ml(nl);else for(;null!==nl&&!Ht();)nl=Ml(nl);break}catch(n){if(En(),jr(),null===(l=nl)||null===l.return)throw Il(e,t),el=r,n;e:{var a=e,o=l.return,u=l,c=n,s=rl;if(u.effectTag|=1024,u.firstEffect=u.lastEffect=null,null!==c&&"object"==typeof c&&"function"==typeof c.then){var d=c,p=0!=(fr.current&cr);c=o;do{var h;if((h=13===c.tag)&&(null!==c.memoizedState?h=!1:h=void 0!==(h=c.memoizedProps).fallback&&(!0!==h.unstable_avoidThisFallback||!p)),h){if(null===(o=c.updateQueue)?((o=new Set).add(d),c.updateQueue=o):o.add(d),0==(2&c.mode)){c.effectTag|=64,u.effectTag&=-1957,1===u.tag&&(null===u.alternate?u.tag=17:((s=Nn(1073741823,null)).tag=2,Un(u,s))),u.expirationTime=1073741823;break e}u=a,a=s,null===(p=u.pingCache)?(p=u.pingCache=new ji,o=new Set,p.set(d,o)):void 0===(o=p.get(d))&&(o=new Set,p.set(d,o)),o.has(a)||(o.add(a),u=Ql.bind(null,u,d,a),d.then(u,u)),c.effectTag|=2048,c.expirationTime=s;break e}c=c.return}while(null!==c);c=Error((Ge(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+Et(u))}il!==Zi&&(il=Gi),c=Ci(c,u),u=o;do{switch(u.tag){case 3:u.effectTag|=2048,u.expirationTime=s,zn(u,s=Wi(u,c,s));break e;case 1:if(d=c,a=u.type,o=u.stateNode,0==(64&u.effectTag)&&("function"==typeof a.getDerivedStateFromError||null!==o&&"function"==typeof o.componentDidCatch&&(null===hl||!hl.has(o)))){u.effectTag|=2048,u.expirationTime=s,zn(u,s=Hi(u,d,s));break e}}u=u.return}while(null!==u)}nl=Al(l)}if(el=r,En(),Bi.current=i,null!==nl)return Ul.bind(null,e,t)}if(e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Rl(e,t))return null;switch(tl=null,il){case $i:throw f(Error("Should have a work-in-progress."));case Gi:return(r=e.lastPendingTime)<t?Ul.bind(null,e,r):n?Dl.bind(null,e):(Il(e,t),un(Ul.bind(null,e,t)),null);case Ji:return 1073741823===ll&&!n&&10<(n=cl+sl-nn())?ul?(Il(e,t),Ul.bind(null,e,t)):(r=e.lastPendingTime)<t?Ul.bind(null,e,r):(e.timeoutHandle=yt(Dl.bind(null,e),n),null):Dl.bind(null,e);case Ki:if(!n){if(ul)return Il(e,t),Ul.bind(null,e,t);if((n=e.lastPendingTime)<t)return Ul.bind(null,e,n);if(1073741823!==al?n=10*(1073741821-al)-nn():1073741823===ll?n=0:(n=10*(1073741821-ll)-5e3,t=10*(1073741821-t)-(r=nn()),0>(n=r-n)&&(n=0),t<(n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Qi(n/1960))-n)&&(n=t)),10<n)return e.timeoutHandle=yt(Dl.bind(null,e),n),null}return Dl.bind(null,e);case Zi:return!n&&1073741823!==ll&&null!==ol&&(r=ll,0>=(t=0|(i=ol).busyMinDurationMs)?t=0:(n=0|i.busyDelayMs,t=(r=nn()-(10*(1073741821-r)-(0|i.timeoutMs||5e3)))<=n?0:n+t-r),10<t)?(e.timeoutHandle=yt(Dl.bind(null,e),t),null):Dl.bind(null,e);default:throw f(Error("Unknown root exit status."))}}function zl(e,t){e<ll&&1<e&&(ll=e),null!==t&&e<al&&1<e&&(al=e,ol=t)}function Ml(e){var t=Vl(e.alternate,e,rl);return e.memoizedProps=e.pendingProps,null===t&&(t=Al(e)),Vi.current=null,t}function Al(e){nl=e;do{var t=nl.alternate;if(e=nl.return,0==(1024&nl.effectTag)){e:{var n=t,r=rl,i=(t=nl).pendingProps;switch(t.tag){case 2:case 16:break;case 15:case 0:break;case 1:It(t.type)&&Ut();break;case 3:lr(),zt(),(i=t.stateNode).pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==n&&null!==n.child||(t.effectTag&=-3),Ei(t);break;case 5:or(t),r=rr(nr.current);var l=t.type;if(null!==n&&null!=t.stateNode)xi(n,t,l,i,r),n.ref!==t.ref&&(t.effectTag|=128);else if(i){n=rr(er.current);var a=l,o=i,c=r,s=t,d=mt();a=dt(a);var p=ut(null,tt,o,a.validAttributes);u.UIManager.createView(d,a.uiViewClassName,c,p),c=new st(d,a),Ee.set(d,s),xe.set(d,o),Ti(o=c,t,!1,!1),vt(o)&&(t.effectTag|=4),t.stateNode=o,null!==t.ref&&(t.effectTag|=128)}else if(null===t.stateNode)throw f(Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue."));break;case 6:if(n&&null!=t.stateNode)wi(n,t,n.memoizedProps,i);else{if("string"!=typeof i&&null===t.stateNode)throw f(Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue."));if(l=rr(nr.current),n=t,!(r=rr(er.current)).isInAParentText)throw f(Error("Text strings must be rendered within a <Text> component."));r=mt(),u.UIManager.createView(r,"RCTRawText",l,{text:i}),Ee.set(r,t),n.stateNode=r}break;case 11:break;case 13:if(St(fr),i=t.memoizedState,0!=(64&t.effectTag)){t.expirationTime=r;break e}i=null!==i,r=!1,null!==n&&(r=null!==(l=n.memoizedState),i||null===l||null!==(l=n.child.sibling)&&(null!==(o=t.firstEffect)?(t.firstEffect=l,l.nextEffect=o):(t.firstEffect=t.lastEffect=l,l.nextEffect=null),l.effectTag=8)),i&&!r&&0!=(2&t.mode)&&(null===n&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(fr.current&cr)?il===$i&&(il=Ji):il!==$i&&il!==Ji||(il=Ki)),(i||r)&&(t.effectTag|=4);break;case 7:case 8:case 12:break;case 4:lr(),Ei(t);break;case 10:wn(t);break;case 9:case 14:break;case 17:It(t.type)&&Ut();break;case 18:break;case 19:if(St(fr),null===(i=t.memoizedState))break;if(l=0!=(64&t.effectTag),null===(o=i.rendering)){if(l)Si(i,!1);else if(il!==$i||null!==n&&0!=(64&n.effectTag))for(n=t.child;null!==n;){if(null!==(o=dr(n))){for(t.effectTag|=64,Si(i,!1),null!==(i=o.updateQueue)&&(t.updateQueue=i,t.effectTag|=4),t.firstEffect=t.lastEffect=null,i=r,n=t.child;null!==n;)l=i,(r=n).effectTag&=2,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null,null===(o=r.alternate)?(r.childExpirationTime=0,r.expirationTime=l,r.child=null,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null):(r.childExpirationTime=o.childExpirationTime,r.expirationTime=o.expirationTime,r.child=o.child,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,l=o.dependencies,r.dependencies=null===l?null:{expirationTime:l.expirationTime,firstContext:l.firstContext,responders:l.responders}),n=n.sibling;kt(fr,fr.current&ur|sr),t=t.child;break e}n=n.sibling}}else{if(!l)if(null!==(n=dr(o))){if(t.effectTag|=64,l=!0,Si(i,!0),null===i.tail&&"hidden"===i.tailMode){null!==(n=n.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),null!==(t=t.lastEffect=i.lastEffect)&&(t.nextEffect=null);break}}else nn()>i.tailExpiration&&1<r&&(t.effectTag|=64,l=!0,Si(i,!1),t.expirationTime=t.childExpirationTime=r-1);i.isBackwards?(o.sibling=t.child,t.child=o):(null!==(n=i.last)?n.sibling=o:t.child=o,i.last=o)}if(null!==i.tail){0===i.tailExpiration&&(i.tailExpiration=nn()+500),n=i.tail,i.rendering=n,i.tail=n.sibling,i.lastEffect=t.lastEffect,n.sibling=null,i=fr.current,kt(fr,i=l?i&ur|sr:i&ur),t=n;break e}break;case 20:break;default:throw f(Error("Unknown unit of work tag. This error is likely caused by a bug in React. Please file an issue."))}t=null}if(i=nl,1===rl||1!==i.childExpirationTime){for(n=0,r=i.child;null!==r;)l=r.expirationTime,o=r.childExpirationTime,l>n&&(n=l),o>n&&(n=o),r=r.sibling;i.childExpirationTime=n}if(null!==t)return t;null!==e&&0==(1024&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=nl.firstEffect),null!==nl.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=nl.firstEffect),e.lastEffect=nl.lastEffect),1<nl.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=nl:e.firstEffect=nl,e.lastEffect=nl))}else{if(null!==(t=ki(nl)))return t.effectTag&=1023,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=1024)}if(null!==(t=nl.sibling))return t;nl=e}while(null!==nl);return il===$i&&(il=Zi),null}function Dl(e){var t=rn();return an(99,Fl.bind(null,e,t)),null!==gl&&on(97,function(){return Ol(),null}),null}function Fl(e,t){if(Ol(),(48&el)!==Li)throw f(Error("Should not already be working."));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw f(Error("Cannot commit the same tree as before. This error is likely caused by a bug in React. Please file an issue."));e.callbackNode=null,e.callbackExpirationTime=0;var i=n.expirationTime,l=n.childExpirationTime;if(i=l>i?l:i,e.firstPendingTime=i,i<e.lastPendingTime&&(e.lastPendingTime=i),e===tl&&(nl=tl=null,rl=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){l=el,el|=qi,Vi.current=null,fl=i;do{try{for(;null!==fl;){if(0!=(256&fl.effectTag)){var a=fl.alternate,o=fl;switch(o.tag){case 0:case 11:case 15:Ii(mr,hr,o);break;case 1:if(256&o.effectTag&&null!==a){var u=a.memoizedProps,c=a.memoizedState,s=o.stateNode,d=s.getSnapshotBeforeUpdate(o.elementType===o.type?u:mn(o.type,u),c);s.__reactInternalSnapshotBeforeUpdate=d}break;case 3:case 5:case 6:case 4:case 17:break;default:throw f(Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue."))}}fl=fl.nextEffect}}catch(e){if(null===fl)throw f(Error("Should be working on an effect."));Hl(fl,e),fl=fl.nextEffect}}while(null!==fl);fl=i;do{try{for(a=t;null!==fl;){var p=fl.effectTag;if(128&p){var h=fl.alternate;if(null!==h){var m=h.ref;null!==m&&("function"==typeof m?m(null):m.current=null)}}switch(14&p){case 2:Ai(fl),fl.effectTag&=-3;break;case 6:Ai(fl),fl.effectTag&=-3,Fi(fl.alternate,fl);break;case 4:Fi(fl.alternate,fl);break;case 8:Di(u=fl,a),zi(u)}fl=fl.nextEffect}}catch(e){if(null===fl)throw f(Error("Should be working on an effect."));Hl(fl,e),fl=fl.nextEffect}}while(null!==fl);e.current=n,fl=i;do{try{for(p=r;null!==fl;){var g=fl.effectTag;if(36&g){var v=fl.alternate;switch(m=p,(h=fl).tag){case 0:case 11:case 15:Ii(yr,br,h);break;case 1:var y=h.stateNode;if(4&h.effectTag)if(null===v)y.componentDidMount();else{var b=h.elementType===h.type?v.memoizedProps:mn(h.type,v.memoizedProps);y.componentDidUpdate(b,v.memoizedState,y.__reactInternalSnapshotBeforeUpdate)}var T=h.updateQueue;null!==T&&Fn(0,T,y);break;case 3:var E=h.updateQueue;if(null!==E){if(a=null,null!==h.child)switch(h.child.tag){case 5:a=h.child.stateNode;break;case 1:a=h.child.stateNode}Fn(0,E,a)}break;case 5:case 6:case 4:case 12:break;case 13:case 19:case 17:case 20:break;default:throw f(Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue."))}}if(128&g){var x=fl.ref;if(null!==x){var w=fl.stateNode;switch(fl.tag){case 5:var S=w;break;default:S=w}"function"==typeof x?x(S):x.current=S}}512&g&&(ml=!0),fl=fl.nextEffect}}catch(e){if(null===fl)throw f(Error("Should be working on an effect."));Hl(fl,e),fl=fl.nextEffect}}while(null!==fl);fl=null,Jt(),el=l}else e.current=n;if(ml)ml=!1,gl=e,yl=r,vl=t;else for(fl=i;null!==fl;)t=fl.nextEffect,fl.nextEffect=null,fl=t;if(0!==(t=e.firstPendingTime)?_l(e,g=fn(g=wl(),t),t):hl=null,"function"==typeof Ll&&Ll(n.stateNode,r),1073741823===t?e===El?Tl++:(Tl=0,El=e):Tl=0,dl)throw dl=!1,e=pl,pl=null,e;return(el&Yi)!==Li?null:(cn(),null)}function Ol(){if(null===gl)return!1;var e=gl,t=yl,n=vl;return gl=null,yl=0,vl=90,an(97<n?97:n,jl.bind(null,e,t))}function jl(e){if((48&el)!==Li)throw f(Error("Cannot flush passive effects while already rendering."));var t=el;for(el|=qi,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!=(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:Ii(Er,hr,n),Ii(hr,Tr,n)}}catch(t){if(null===e)throw f(Error("Should be working on an effect."));Hl(e,t)}n=e.nextEffect,e.nextEffect=null,e=n}return el=t,cn(),!0}function Wl(e,t,n){Un(e,t=Wi(e,t=Ci(n,t),1073741823)),null!==(e=Cl(e,1073741823))&&_l(e,99,1073741823)}function Hl(e,t){if(3===e.tag)Wl(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Wl(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===hl||!hl.has(r))){Un(n,e=Hi(n,e=Ci(t,e),1073741823)),null!==(n=Cl(n,1073741823))&&_l(n,99,1073741823);break}}n=n.return}}function Ql(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),tl===e&&rl===n?il===Ki||il===Ji&&1073741823===ll&&nn()-cl<sl?Il(e,rl):ul=!0:e.lastPendingTime<n||(0!==(t=e.pingTime)&&t<n||(e.pingTime=n,e.finishedExpirationTime===n&&(e.finishedExpirationTime=0,e.finishedWork=null),_l(e,t=fn(t=wl(),n),n)))}function Bl(e,t){var n=e.stateNode;null!==n&&n.delete(t),n=fn(n=wl(),t=Sl(n,e,null)),null!==(e=Cl(e,t))&&_l(e,n,t)}var Vl=void 0;Vl=function(e,t,n){var r=t.expirationTime;if(null!==e){if(e.memoizedProps!==t.pendingProps||Pt.current)li=!0;else if(r<n){switch(li=!1,t.tag){case 3:hi(t);break;case 5:ar(t);break;case 1:It(t.type)&&Dt(t);break;case 4:ir(t,t.stateNode.containerInfo);break;case 10:xn(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?gi(e,t,n):(kt(fr,fr.current&ur),null!==(t=bi(e,t,n))?t.sibling:null);kt(fr,fr.current&ur);break;case 19:if(r=t.childExpirationTime>=n,0!=(64&e.effectTag)){if(r)return yi(e,t,n);t.effectTag|=64}var i=t.memoizedState;if(null!==i&&(i.rendering=null,i.tail=null),kt(fr,fr.current),!r)return null}return bi(e,t,n)}}else li=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=Nt(t,_t.current),kn(t,n),i=Or(null,t,r,e,i,n),t.effectTag|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,jr(),It(r)){var l=!0;Dt(t)}else l=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null;var a=r.getDerivedStateFromProps;"function"==typeof a&&Hn(t,r,a,e),i.updater=Qn,t.stateNode=i,i._reactInternalFiber=t,Yn(t,r,e,n),t=pi(null,t,r,!0,l,n)}else t.tag=0,ai(null,t,i,n),t=t.child;return t;case 16:switch(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=gn(i),t.type=i,l=t.tag=Jl(i),e=mn(i,e),l){case 0:t=fi(null,t,i,e,n);break;case 1:t=di(null,t,i,e,n);break;case 11:t=oi(null,t,i,e,n);break;case 14:t=ui(null,t,i,mn(i.type,e),r,n);break;default:throw f(Error("Element type is invalid. Received a promise that resolves to: "+i+". Lazy element type must resolve to a class or function."))}return t;case 0:return r=t.type,i=t.pendingProps,fi(e,t,r,i=t.elementType===r?i:mn(r,i),n);case 1:return r=t.type,i=t.pendingProps,di(e,t,r,i=t.elementType===r?i:mn(r,i),n);case 3:if(hi(t),null===(r=t.updateQueue))throw f(Error("If the root does not have an updateQueue, we should have already bailed out. This error is likely caused by a bug in React. Please file an issue."));return i=null!==(i=t.memoizedState)?i.element:null,Dn(t,r,t.pendingProps,null,n),(r=t.memoizedState.element)===i?t=bi(e,t,n):(ai(e,t,r,n),t=t.child),t;case 5:return ar(t),null===e&&ri(t),r=t.pendingProps.children,si(e,t),ai(e,t,r,n),t.child;case 6:return null===e&&ri(t),null;case 13:return gi(e,t,n);case 4:return ir(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Jn(t,null,r,n):ai(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,oi(e,t,r,i=t.elementType===r?i:mn(r,i),n);case 7:return ai(e,t,t.pendingProps,n),t.child;case 8:case 12:return ai(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,xn(t,l=i.value),null!==a){var o=a.value;if(0===(l=dn(o,l)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(o,l):1073741823))){if(a.children===i.children&&!Pt.current){t=bi(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){a=o.child;for(var c=u.firstContext;null!==c;){if(c.context===r&&0!=(c.observedBits&l)){1===o.tag&&((c=Nn(n,null)).tag=2,Un(o,c)),o.expirationTime<n&&(o.expirationTime=n),null!==(c=o.alternate)&&c.expirationTime<n&&(c.expirationTime=n),Sn(o.return,n),u.expirationTime<n&&(u.expirationTime=n);break}c=c.next}}else a=10===o.tag&&o.type===t.type?null:o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}}ai(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(l=t.pendingProps).children,kn(t,n),r=r(i=Cn(i,l.unstable_observedBits)),t.effectTag|=1,ai(e,t,r,n),t.child;case 14:return l=mn(i=t.type,t.pendingProps),ui(e,t,i,l=mn(i.type,l),r,n);case 15:return ci(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:mn(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,It(r)?(e=!0,Dt(t)):e=!1,kn(t,n),Vn(t,r,i),Yn(t,r,i,n),pi(null,t,r,!0,e,n);case 19:return yi(e,t,n)}throw f(Error("Unknown unit of work tag. This error is likely caused by a bug in React. Please file an issue."))};var Ll=null,Yl=null;function Xl(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Ll=function(e){try{t.onCommitFiberRoot(n,e,void 0,64==(64&e.current.effectTag))}catch(e){}},Yl=function(e){try{t.onCommitFiberUnmount(n,e)}catch(e){}}}catch(e){}return!0}function ql(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function $l(e,t,n,r){return new ql(e,t,n,r)}function Gl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Jl(e){if("function"==typeof e)return Gl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===Be)return 11;if(e===Ye)return 14}return 2}function Kl(e,t){var n=e.alternate;return null===n?((n=$l(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Zl(e,t,n,r,i,l){var a=2;if(r=e,"function"==typeof e)Gl(e)&&(a=1);else if("string"==typeof e)a=5;else e:switch(e){case Fe:return ea(n.children,i,l,t);case Qe:a=8,i|=7;break;case Oe:a=8,i|=1;break;case je:return(e=$l(12,n,t,8|i)).elementType=je,e.type=je,e.expirationTime=l,e;case Ve:return(e=$l(13,n,t,i)).type=Ve,e.elementType=Ve,e.expirationTime=l,e;case Le:return(e=$l(19,n,t,i)).elementType=Le,e.expirationTime=l,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case We:a=10;break e;case He:a=9;break e;case Be:a=11;break e;case Ye:a=14;break e;case Xe:a=16,r=null;break e}throw f(Error("Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: "+(null==e?e:typeof e)+"."))}return(t=$l(a,n,t,i)).elementType=e,t.type=r,t.expirationTime=l,t}function ea(e,t,n,r){return(e=$l(7,e,r,t)).expirationTime=n,e}function ta(e,t,n){return(e=$l(6,e,null,t)).expirationTime=n,e}function na(e,t,n){return(t=$l(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ra(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=this.firstBatch=null,this.pingTime=this.lastPendingTime=this.firstPendingTime=this.callbackExpirationTime=0}function ia(e){var t=e._reactInternalFiber;if(void 0===t){if("function"==typeof e.render)throw f(Error("Unable to find node on an unmounted component."));throw f(Error("Argument appears to not be a ReactComponent. Keys: "+Object.keys(e)))}return null===(e=et(t))?null:e.stateNode}function la(e,t,n,r){var i=t.current,l=wl(),a=jn.suspense;i=Sl(l,i,a),l=t.current;e:if(n){n=n._reactInternalFiber;t:{if(2!==Je(n)||1!==n.tag)throw f(Error("Expected subtree parent to be a mounted class component. This error is likely caused by a bug in React. Please file an issue."));var o=n;do{switch(o.tag){case 3:o=o.stateNode.context;break t;case 1:if(It(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break t}}o=o.return}while(null!==o);throw f(Error("Found unexpected detached subtree parent. This error is likely caused by a bug in React. Please file an issue."))}if(1===n.tag){var u=n.type;if(It(u)){n=At(n,u,o);break e}}n=o}else n=Ct;return null===t.context?t.context=n:t.pendingContext=n,t=r,(a=Nn(i,a)).payload={element:e},null!==(t=void 0===t?null:t)&&(a.callback=t),Un(l,a),kl(l,i),i}function aa(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:De,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function oa(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var ua;function ca(e){return null==e?null:"number"==typeof e?e:e._nativeTag?e._nativeTag:e.canonical&&e.canonical._nativeTag?e.canonical._nativeTag:null==(e=ia(e))?e:e.canonical?e.canonical._nativeTag:e._nativeTag}ua=function(){throw f(Error("getInspectorDataForViewTag() is not available in production"))},_e=function(e,t){var n=el;el|=1;try{return e(t)}finally{(el=n)===Li&&cn()}},Pe=function(){(49&el)===Li&&(Nl(),Ol())};var sa,fa,da=new Map,pa={NativeComponent:(function(e,t){return(function(n){function r(){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");var e=n.apply(this,arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?this:e}return oa(r,n),r.prototype.blur=function(){u.TextInputState.blurTextInput(e(this))},r.prototype.focus=function(){u.TextInputState.focusTextInput(e(this))},r.prototype.measure=function(n){var r=void 0;try{r=t(this)}catch(e){}null!=r&&(r.canonical?nativeFabricUIManager.measure(r.node,ct(this,n)):u.UIManager.measure(e(this),ct(this,n)))},r.prototype.measureInWindow=function(n){var r=void 0;try{r=t(this)}catch(e){}null!=r&&(r.canonical?nativeFabricUIManager.measureInWindow(r.node,ct(this,n)):u.UIManager.measureInWindow(e(this),ct(this,n)))},r.prototype.measureLayout=function(n,r,i){var l=void 0;try{l=t(this)}catch(e){}null==l||l.canonical||(l=void 0,"number"==typeof n?l=n:n._nativeTag&&(l=n._nativeTag),null!=l&&u.UIManager.measureLayout(e(this),l,ct(this,i),ct(this,r)))},r.prototype.setNativeProps=function(e){var n=void 0;try{n=t(this)}catch(e){}if(null!=n&&!n.canonical){var r=n._nativeTag||n.canonical._nativeTag;n=n.viewConfig||n.canonical.viewConfig,null!=(e=ut(null,tt,e,n.validAttributes))&&u.UIManager.updateView(r,n.uiViewClassName,e)}},r})(c.Component)})(ca,ia),findNodeHandle:ca,dispatchCommand:function(e,t,n){null!=e._nativeTag&&u.UIManager.dispatchViewManagerCommand(e._nativeTag,t,n)},setNativeProps:function(e,t){null!=e._nativeTag&&(null!=(t=ut(null,tt,t,e.viewConfig.validAttributes))&&u.UIManager.updateView(e._nativeTag,e.viewConfig.uiViewClassName,t))},render:function(e,t,n){var r=da.get(t);if(!r){r=new ra(t,0,!1);var i=$l(3,null,null,0);r.current=i,i.stateNode=r,da.set(t,r)}la(e,r,null,n);e:if(e=r.current,e.child)switch(e.child.tag){case 5:e=e.child.stateNode;break e;default:e=e.child.stateNode}else e=null;return e},unmountComponentAtNode:function(e){var t=da.get(e);t&&la(null,t,null,function(){da.delete(e)})},unmountComponentAtNodeAndRemoveContainer:function(e){pa.unmountComponentAtNode(e),u.UIManager.removeRootView(e)},createPortal:function(e,t){return aa(e,t,null,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},unstable_batchedUpdates:Ne,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{NativeMethodsMixin:(function(e,t){return{measure:function(n){var r=void 0;try{r=t(this)}catch(e){}null!=r&&(r.canonical?nativeFabricUIManager.measure(r.node,ct(this,n)):u.UIManager.measure(e(this),ct(this,n)))},measureInWindow:function(n){var r=void 0;try{r=t(this)}catch(e){}null!=r&&(r.canonical?nativeFabricUIManager.measureInWindow(r.node,ct(this,n)):u.UIManager.measureInWindow(e(this),ct(this,n)))},measureLayout:function(n,r,i){var l=void 0;try{l=t(this)}catch(e){}null==l||l.canonical||(l=void 0,"number"==typeof n?l=n:n._nativeTag&&(l=n._nativeTag),null!=l&&u.UIManager.measureLayout(e(this),l,ct(this,i),ct(this,r)))},setNativeProps:function(e){var n=void 0;try{n=t(this)}catch(e){}if(null!=n&&!n.canonical){var r=n._nativeTag||n.canonical._nativeTag;n=n.viewConfig||n.canonical.viewConfig,null!=(e=ut(null,tt,e,n.validAttributes))&&u.UIManager.updateView(r,n.uiViewClassName,e)}},focus:function(){u.TextInputState.focusTextInput(e(this))},blur:function(){u.TextInputState.blurTextInput(e(this))}}})(ca,ia),computeComponentStackForErrorReporting:function(e){return(e=we(e))?Et(e):""}}};fa=(sa={findFiberByHostInstance:we,getInspectorDataForViewTag:ua,bundleType:0,version:"16.8.6",rendererPackageName:"react-native-renderer"}).findFiberByHostInstance,Xl(o({},sa,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ze.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=et(e))?null:e.stateNode},findFiberByHostInstance:function(e){return fa?fa(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}));var ha={default:pa},ma=ha&&pa||ha;i.exports=ma.default||ma},85,[15,86,156,12,162]);
__d(function(g,r,i,a,m,e,d){r(d[0])},86,[87]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=Date.now();r(d[0]),r(d[1]),r(d[2]),r(d[3]),r(d[4]),r(d[5]),r(d[6]),r(d[7]),r(d[8]),r(d[9]),r(d[10]);var n=r(d[11]);n.markPoint('initializeCore_start',n.currentTimestamp()-(Date.now()-t)),n.markPoint('initializeCore_end')},87,[88,89,90,98,105,106,112,136,140,141,154,148]);
__d(function(g,r,i,a,m,e,d){'use strict';void 0===g.GLOBAL&&(g.GLOBAL=g),void 0===g.window&&(g.window=g),void 0===g.self&&(g.self=g),g.process=g.process||{},g.process.env=g.process.env||{},g.process.env.NODE_ENV||(g.process.env.NODE_ENV='production')},88,[]);
__d(function(g,r,i,a,m,e,d){'use strict';if(g.__RCTProfileIsProfiling){var t=r(d[0]);t.installReactHook(),t.setEnabled(!0)}},89,[37]);
__d(function(g,r,i,a,m,e,d){'use strict';var o=r(d[0]);if(o.installConsoleErrorReporter(),!g.__fbDisableExceptionsManager){r(d[1]).setGlobalHandler(function(t,n){try{o.handleException(t,n)}catch(o){throw console.log('Failed to print error: ',o.message),t}})}},90,[91,36]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]),o=r(d[1]),s=r(d[2]),t=r(d[3]),l=(function(l){function c(){var t,l;n(this,c);for(var p=arguments.length,f=new Array(p),u=0;u<p;u++)f[u]=arguments[u];return(l=o(this,(t=s(c)).call.apply(t,[this].concat(f)))).name='',l}return t(c,l),c})(r(d[4])(Error)),c=0;function p(n,o){var s=r(d[5]).default;if(s){var t=r(d[6])(n),l=++c,p=n.message||'',f=p;null!=n.componentStack&&(f+="\n\nThis error is located at:"+n.componentStack);var u=null==n.name||''===n.name?'':n.name+": ",E='console.error'===n.name;f.startsWith(u)||(f=u+f),E||(console._errorOriginal?console._errorOriginal(f):console.error(f)),f=null==n.jsEngine?f:f+", js engine: "+n.jsEngine,s.reportException({message:f,originalMessage:f===p?null:p,name:null==n.name||''===n.name?null:n.name,componentStack:'string'==typeof n.componentStack?n.componentStack:null,stack:t,id:l,isFatal:o,extraData:{jsEngine:n.jsEngine,rawStack:n.stack,framesPopped:n.framesToPop}})}}function f(){if(console.reportErrorsAsExceptions)if(arguments[0]&&arguments[0].stack)p(arguments[0],!1);else{console._errorOriginal.apply(console,arguments);var n=r(d[7]),o=Array.prototype.map.call(arguments,n).join(', ');if('"Warning: '===o.slice(0,10))return;var s=new l(o);s.name='console.error',s.framesToPop=(s.framesToPop||0)+1,p(s,!1)}else console._errorOriginal.apply(console,arguments)}m.exports={handleException:function(n,o){p(n instanceof Error?n:new l(n),o)},installConsoleErrorReporter:function(){console._errorOriginal||(console._errorOriginal=console.error.bind(console),console.error=f,void 0===console.reportErrorsAsExceptions&&(console.reportErrorsAsExceptions=!0))},SyntheticError:l}},91,[4,6,9,10,92,95,96,39]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=r(d[1]),o=r(d[2]),u=r(d[3]);function c(f){var p="function"==typeof Map?new Map:void 0;return m.exports=c=function(c){if(null===c||!o(c))return c;if("function"!=typeof c)throw new TypeError("Super expression must either be null or a function");if(void 0!==p){if(p.has(c))return p.get(c);p.set(c,f)}function f(){return u(c,arguments,t(this).constructor)}return f.prototype=Object.create(c.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),n(f,c)},c(f)}m.exports=c},92,[9,11,93,94]);
__d(function(g,r,i,a,m,e,d){m.exports=function(n){return-1!==Function.toString.call(n).indexOf("[native code]")}},93,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);function n(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function c(o,u,f){return n()?m.exports=c=Reflect.construct:m.exports=c=function(n,c,o){var u=[null];u.push.apply(u,c);var f=new(Function.bind.apply(n,u));return o&&t(f,o.prototype),f},c.apply(null,arguments)}m.exports=c},94,[11]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=t(r(d[1])),n=(r(d[2]),o.getEnforcing('ExceptionsManager')),p={reportFatalException:function(t,o,p){n.reportFatalException(t,o,p)},reportSoftException:function(t,o,p){n.reportSoftException(t,o,p)},updateExceptionMessage:function(t,o,p){n.updateExceptionMessage(t,o,p)},dismissRedbox:function(){n.dismissRedbox&&n.dismissRedbox()},reportException:function(t){n.reportException?n.reportException(t):t.isFatal?p.reportFatalException(t.message,t.stack,t.id):p.reportSoftException(t.message,t.stack,t.id)}},s=p;e.default=s},95,[23,24,53]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(t){if(!t||!t.stack)return[];for(var s=r(d[0]),o=Array.isArray(t.stack)?t.stack:s.parse(t.stack),f='number'==typeof t.framesToPop?t.framesToPop:0;f--;)o.shift();return o}},96,[97]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,'__esModule',{value:!0});var n='<unknown>';var l=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,u=/\((\S*)(?::(\d+))(?::(\d+))\)/;function t(t){var o=l.exec(t);if(!o)return null;var c=o[2]&&0===o[2].indexOf('native'),s=o[2]&&0===o[2].indexOf('eval'),v=u.exec(o[2]);return s&&null!=v&&(o[2]=v[1],o[3]=v[2],o[4]=v[3]),{file:c?null:o[2],methodName:o[1]||n,arguments:c?[o[2]]:[],lineNumber:o[3]?+o[3]:null,column:o[4]?+o[4]:null}}var o=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i;function c(l){var u=o.exec(l);return u?{file:u[2],methodName:u[1]||n,arguments:[],lineNumber:+u[3],column:u[4]?+u[4]:null}:null}var s=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,v=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;function f(l){var u=s.exec(l);if(!u)return null;var t=u[3]&&u[3].indexOf(' > eval')>-1,o=v.exec(u[3]);return t&&null!=o&&(u[3]=o[1],u[4]=o[2],u[5]=null),{file:u[3],methodName:u[1]||n,arguments:u[2]?u[2].split(','):[],lineNumber:u[4]?+u[4]:null,column:u[5]?+u[5]:null}}var b=/^\s*(?:([^@]*)(?:\((.*?)\))?@)?(\S.*?):(\d+)(?::(\d+))?\s*$/i;function p(l){var u=b.exec(l);return u?{file:u[3],methodName:u[1]||n,arguments:[],lineNumber:+u[4],column:u[5]?+u[5]:null}:null}var x=/^\s*at (?:((?:\[object object\])?[^\\/]+(?: \[as \S+\])?) )?\(?(.*?):(\d+)(?::(\d+))?\)?\s*$/i;function h(l){var u=x.exec(l);return u?{file:u[2],methodName:u[1]||n,arguments:[],lineNumber:+u[3],column:u[4]?+u[4]:null}:null}e.parse=function(n){return n.split('\n').reduce(function(n,l){var u=t(l)||c(l)||f(l)||h(l)||p(l);return u&&n.push(u),n},[])}},97,[]);
__d(function(g,r,i,a,m,e,d){'use strict';(0,r(d[0]).polyfillGlobal)('Promise',function(){return r(d[1])})},98,[99,100]);
__d(function(g,r,i,a,m,e,d){'use strict';var l=r(d[0]);function o(o,t,n){var c=Object.getOwnPropertyDescriptor(o,t),b=c||{},f=b.enumerable,u=b.writable,p=b.configurable;!c||p?l(o,t,{get:n,enumerable:!1!==f,writable:!1!==u}):console.error('Failed to set polyfill. '+t+' is not configurable.')}m.exports={polyfillObjectProperty:o,polyfillGlobal:function(l,t){o(g,l,t)}}},99,[40]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);r(d[1]),r(d[2]),m.exports=t},100,[101,103,104]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]);m.exports=n;var t=h(!0),o=h(!1),f=h(null),u=h(void 0),c=h(0),l=h('');function h(t){var o=new n(n._61);return o._65=1,o._55=t,o}n.resolve=function(v){if(v instanceof n)return v;if(null===v)return f;if(void 0===v)return u;if(!0===v)return t;if(!1===v)return o;if(0===v)return c;if(''===v)return l;if('object'==typeof v||'function'==typeof v)try{var p=v.then;if('function'==typeof p)return new n(p.bind(v))}catch(t){return new n(function(n,o){o(t)})}return h(v)},n.all=function(t){var o=Array.prototype.slice.call(t);return new n(function(t,f){if(0===o.length)return t([]);var u=o.length;function c(l,h){if(h&&('object'==typeof h||'function'==typeof h)){if(h instanceof n&&h.then===n.prototype.then){for(;3===h._65;)h=h._55;return 1===h._65?c(l,h._55):(2===h._65&&f(h._55),void h.then(function(n){c(l,n)},f))}var v=h.then;if('function'==typeof v)return void new n(v.bind(h)).then(function(n){c(l,n)},f)}o[l]=h,0==--u&&t(o)}for(var l=0;l<o.length;l++)c(l,o[l])})},n.reject=function(t){return new n(function(n,o){o(t)})},n.race=function(t){return new n(function(o,f){t.forEach(function(t){n.resolve(t).then(o,f)})})},n.prototype.catch=function(n){return this.then(null,n)}},101,[102]);
__d(function(g,r,i,a,m,e,d){'use strict';function n(){}var t=null,o={};function u(n){try{return n.then}catch(n){return t=n,o}}function f(n,u){try{return n(u)}catch(n){return t=n,o}}function c(n,u,f){try{n(u,f)}catch(n){return t=n,o}}function _(t){if('object'!=typeof this)throw new TypeError('Promises must be constructed via new');if('function'!=typeof t)throw new TypeError('Promise constructor\'s argument is not a function');this._40=0,this._65=0,this._55=null,this._72=null,t!==n&&b(t,this)}function s(t,o,u){return new t.constructor(function(f,c){var s=new _(n);s.then(f,c),l(t,new w(o,u,s))})}function l(n,t){for(;3===n._65;)n=n._55;if(_._37&&_._37(n),0===n._65)return 0===n._40?(n._40=1,void(n._72=t)):1===n._40?(n._40=2,void(n._72=[n._72,t])):void n._72.push(t);h(n,t)}function h(n,u){setImmediate(function(){var c=1===n._65?u.onFulfilled:u.onRejected;if(null!==c){var _=f(c,n._55);_===o?v(u.promise,t):p(u.promise,_)}else 1===n._65?p(u.promise,n._55):v(u.promise,n._55)})}function p(n,f){if(f===n)return v(n,new TypeError('A promise cannot be resolved with itself.'));if(f&&('object'==typeof f||'function'==typeof f)){var c=u(f);if(c===o)return v(n,t);if(c===n.then&&f instanceof _)return n._65=3,n._55=f,void y(n);if('function'==typeof c)return void b(c.bind(f),n)}n._65=1,n._55=f,y(n)}function v(n,t){n._65=2,n._55=t,_._87&&_._87(n,t),y(n)}function y(n){if(1===n._40&&(l(n,n._72),n._72=null),2===n._40){for(var t=0;t<n._72.length;t++)l(n,n._72[t]);n._72=null}}function w(n,t,o){this.onFulfilled='function'==typeof n?n:null,this.onRejected='function'==typeof t?t:null,this.promise=o}function b(n,u){var f=!1,_=c(n,function(n){f||(f=!0,p(u,n))},function(n){f||(f=!0,v(u,n))});f||_!==o||(f=!0,v(u,t))}m.exports=_,_._37=null,_._87=null,_._61=n,_.prototype.then=function(t,o){if(this.constructor!==_)return s(this,t,o);var u=new _(n);return l(this,new w(t,o,u)),u}},102,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);m.exports=t,t.prototype.done=function(t,n){(arguments.length?this.then.apply(this,arguments):this).then(null,function(t){setTimeout(function(){throw t},0)})}},103,[102]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]);m.exports=n,n.prototype.finally=function(t){return this.then(function(o){return n.resolve(t()).then(function(){return o})},function(o){return n.resolve(t()).then(function(){throw o})})}},104,[102]);
__d(function(g,r,i,a,m,e,d){'use strict';(0,r(d[0]).polyfillGlobal)('regeneratorRuntime',function(){return delete g.regeneratorRuntime,r(d[1])})},105,[99,3]);
__d(function(g,r,i,a,m,e,d){'use strict';if(!g.RN$Bridgeless){var l=r(d[0]).polyfillGlobal,t=function(t){l(t,function(){return r(d[1])[t]})};t('setTimeout'),t('setInterval'),t('setImmediate'),t('clearTimeout'),t('clearInterval'),t('clearImmediate'),t('requestAnimationFrame'),t('cancelAnimationFrame'),t('requestIdleCallback'),t('cancelIdleCallback')}},106,[99,107]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])(r(d[1])),n=r(d[2]),l=(r(d[3]),r(d[4]),r(d[5])),u=null;function o(){return u||(u=r(d[6])),u()}var c=16.666666666666668,f=[],s=[],v=[],h=[],I=[],T={},b=[],p=1,w=null,k=!1;function q(){var t=v.indexOf(null);return-1===t&&(t=v.length),t}function x(t,n){var l=p++,u=q();return v[u]=l,f[u]=t,s[u]=n,l}function y(t,n,l){r(d[7])(t<=p,'Tried to call timer with ID %s but no such timer exists.',t);var u=v.indexOf(t);if(-1!==u){var h=s[u],I=f[u];if(I&&h){'setTimeout'!==h&&'setImmediate'!==h&&'requestAnimationFrame'!==h&&'requestIdleCallback'!==h||A(u);try{'setTimeout'===h||'setInterval'===h||'setImmediate'===h?I():'requestAnimationFrame'===h?I(o()):'requestIdleCallback'===h?I({timeRemaining:function(){return Math.max(0,c-(o()-n))},didTimeout:!!l}):console.error('Tried to call a callback with invalid type: '+h)}catch(t){w?w.push(t):w=[t]}}else console.error('No callback found for timerID '+t)}}function C(){if(h.length>0){var t=h.slice();h=[];for(var n=0;n<t.length;++n)y(t[n],0)}return h.length>0}function A(t){v[t]=null,f[t]=null,s[t]=null,b[t]=null}function D(t){if(null!=t){var n=v.indexOf(t);if(-1!==n){A(n);var l=s[n];'setImmediate'!==l&&'requestIdleCallback'!==l&&E(t)}}}var O,F={setTimeout:function(t,n){for(var l=arguments.length,u=new Array(l>2?l-2:0),o=2;o<l;o++)u[o-2]=arguments[o];var c=x(function(){return t.apply(void 0,u)},'setTimeout');return N(c,n||0,Date.now(),!1),c},setInterval:function(t,n){for(var l=arguments.length,u=new Array(l>2?l-2:0),o=2;o<l;o++)u[o-2]=arguments[o];var c=x(function(){return t.apply(void 0,u)},'setInterval');return N(c,n||0,Date.now(),!0),c},setImmediate:function(t){for(var n=arguments.length,l=new Array(n>1?n-1:0),u=1;u<n;u++)l[u-1]=arguments[u];var o=x(function(){return t.apply(void 0,l)},'setImmediate');return h.push(o),o},requestAnimationFrame:function(t){var n=x(t,'requestAnimationFrame');return N(n,1,Date.now(),!1),n},requestIdleCallback:function(t,n){0===I.length&&_(!0);var l=n&&n.timeout,u=x(null!=l?function(n){var l=T[u];return l&&(F.clearTimeout(l),delete T[u]),t(n)}:t,'requestIdleCallback');if(I.push(u),null!=l){var c=F.setTimeout(function(){var t=I.indexOf(u);t>-1&&(I.splice(t,1),y(u,o(),!0)),delete T[u],0===I.length&&_(!1)},l);T[u]=c}return u},cancelIdleCallback:function(t){D(t);var n=I.indexOf(t);-1!==n&&I.splice(n,1);var l=T[t];l&&(F.clearTimeout(l),delete T[t]),0===I.length&&_(!1)},clearTimeout:function(t){D(t)},clearInterval:function(t){D(t)},clearImmediate:function(t){D(t);var n=h.indexOf(t);-1!==n&&h.splice(n,1)},cancelAnimationFrame:function(t){D(t)},callTimers:function(t){l(0!==t.length,'Cannot call `callTimers` with an empty list of IDs.'),w=null;for(var n=0;n<t.length;n++)y(t[n],0);if(w){var u=w.length;if(u>1)for(var o=1;o<u;o++)F.setTimeout(function(t){throw t}.bind(null,w[o]),0);throw w[0]}},callIdleCallbacks:function(t){if(!(c-(o()-t)<1)){if(w=null,I.length>0){var n=I.slice();I=[];for(var l=0;l<n.length;++l)y(n[l],t)}0===I.length&&_(!1),w&&w.forEach(function(t){return F.setTimeout(function(){throw t},0)})}},callImmediates:function(){for(w=null;C(););w&&w.forEach(function(t){return F.setTimeout(function(){throw t},0)})},emitTimeDriftWarning:function(t){k||(k=!0,console.warn(t))}};function N(n,u,o,c){l(t.default,'NativeTiming is available'),t.default.createTimer(n,u,o,c)}function E(n){l(t.default,'NativeTiming is available'),t.default.deleteTimer(n)}function _(n){l(t.default,'NativeTiming is available'),t.default.setSendIdleEvents(n)}t.default?O=F:(console.warn("Timing native module is not available, can't set timers."),O={callImmediates:F.callImmediates,setImmediate:F.setImmediate}),n.setImmediatesCallback(O.callImmediates.bind(O)),m.exports=O},107,[1,108,30,53,37,17,109,19]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])).get('Timing');e.default=u},108,[23,24]);
__d(function(g,r,i,a,m,e,d){"use strict";var n,t=r(d[0]);n=t.now?function(){return t.now()}:function(){return Date.now()},m.exports=n},109,[110]);
__d(function(g,r,i,a,m,e,d){'use strict';var n;r(d[0]).canUseDOM&&(n=window.performance||window.msPerformance||window.webkitPerformance),m.exports=n||{}},110,[111]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=!('undefined'==typeof window||!window.document||!window.document.createElement),t={canUseDOM:n,canUseWorkers:'undefined'!=typeof Worker,canUseEventListeners:n&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:n&&!!window.screen,isInWorker:!n};m.exports=t},111,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]).polyfillGlobal;n('XMLHttpRequest',function(){return r(d[1])}),n('FormData',function(){return r(d[2])}),n('fetch',function(){return r(d[3]).fetch}),n('Headers',function(){return r(d[3]).Headers}),n('Request',function(){return r(d[3]).Request}),n('Response',function(){return r(d[3]).Response}),n('WebSocket',function(){return r(d[4])}),n('Blob',function(){return r(d[5])}),n('File',function(){return r(d[6])}),n('FileReader',function(){return r(d[7])}),n('URL',function(){return r(d[8]).URL}),n('URLSearchParams',function(){return r(d[8]).URLSearchParams}),n('AbortController',function(){return r(d[9]).AbortController}),n('AbortSignal',function(){return r(d[9]).AbortSignal})},112,[99,113,125,126,128,116,131,132,134,135]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),s=r(d[1]),n=r(d[2]),o=r(d[3]),h=r(d[4]),p=r(d[5]),u=r(d[6]),_=r(d[7]),c=r(d[8]),l=r(d[9]),y=r(d[10]),v=r(d[11]),f=r(d[12]);_.isAvailable&&_.addNetworkingHandler();var R=0,E=1,b=2,k=3,N=4,w={arraybuffer:'function'==typeof g.ArrayBuffer,blob:'function'==typeof g.Blob,document:!1,json:!0,text:!0,'':!0},S=['abort','error','load','loadstart','progress','timeout','loadend'],D=S.concat('readystatechange'),T=(function(t){function s(){return o(this,s),h(this,p(s).apply(this,arguments))}return u(s,t),s})(c.apply(void 0,S)),q=(function(c){function S(){var t;return o(this,S),(t=h(this,p(S).call(this))).UNSENT=R,t.OPENED=E,t.HEADERS_RECEIVED=b,t.LOADING=k,t.DONE=N,t.readyState=R,t.status=0,t.timeout=0,t.withCredentials=!0,t.upload=new T,t._aborted=!1,t._hasError=!1,t._method=null,t._response='',t._url=null,t._timedOut=!1,t._trackingName='unknown',t._incrementalEvents=!1,t._reset(),t}return u(S,c),n(S,null,[{key:"setInterceptor",value:function(t){S._interceptor=t}}]),n(S,[{key:"_reset",value:function(){this.readyState=this.UNSENT,this.responseHeaders=void 0,this.status=0,delete this.responseURL,this._requestId=null,this._cachedResponse=void 0,this._hasError=!1,this._headers={},this._response='',this._responseType='',this._sent=!1,this._lowerCaseResponseHeaders={},this._clearSubscriptions(),this._timedOut=!1}},{key:"__didCreateRequest",value:function(t){this._requestId=t,S._interceptor&&S._interceptor.requestSent(t,this._url||'',this._method||'GET',this._headers)}},{key:"__didUploadProgress",value:function(t,s,n){t===this._requestId&&this.upload.dispatchEvent({type:'progress',lengthComputable:!0,loaded:s,total:n})}},{key:"__didReceiveResponse",value:function(t,s,n,o){t===this._requestId&&(this.status=s,this.setResponseHeaders(n),this.setReadyState(this.HEADERS_RECEIVED),o||''===o?this.responseURL=o:delete this.responseURL,S._interceptor&&S._interceptor.responseReceived(t,o||this._url||'',s,n||{}))}},{key:"__didReceiveData",value:function(t,s){t===this._requestId&&(this._response=s,this._cachedResponse=void 0,this.setReadyState(this.LOADING),S._interceptor&&S._interceptor.dataReceived(t,s))}},{key:"__didReceiveIncrementalData",value:function(t,s,n,o){t===this._requestId&&(this._response?this._response+=s:this._response=s,S._interceptor&&S._interceptor.dataReceived(t,s),this.setReadyState(this.LOADING),this.__didReceiveDataProgress(t,n,o))}},{key:"__didReceiveDataProgress",value:function(t,s,n){t===this._requestId&&this.dispatchEvent({type:'progress',lengthComputable:n>=0,loaded:s,total:n})}},{key:"__didCompleteResponse",value:function(t,s,n){t===this._requestId&&(s&&(''!==this._responseType&&'text'!==this._responseType||(this._response=s),this._hasError=!0,n&&(this._timedOut=!0)),this._clearSubscriptions(),this._requestId=null,this.setReadyState(this.DONE),s?S._interceptor&&S._interceptor.loadingFailed(t,s):S._interceptor&&S._interceptor.loadingFinished(t,this._response.length))}},{key:"_clearSubscriptions",value:function(){(this._subscriptions||[]).forEach(function(t){t&&t.remove()}),this._subscriptions=[]}},{key:"getAllResponseHeaders",value:function(){if(!this.responseHeaders)return null;var t=this.responseHeaders||{};return Object.keys(t).map(function(s){return s+': '+t[s]}).join('\r\n')}},{key:"getResponseHeader",value:function(t){var s=this._lowerCaseResponseHeaders[t.toLowerCase()];return void 0!==s?s:null}},{key:"setRequestHeader",value:function(t,s){if(this.readyState!==this.OPENED)throw new Error('Request has not been opened');this._headers[t.toLowerCase()]=String(s)}},{key:"setTrackingName",value:function(t){return this._trackingName=t,this}},{key:"open",value:function(t,s,n){if(this.readyState!==this.UNSENT)throw new Error('Cannot open, already sending');if(void 0!==n&&!n)throw new Error('Synchronous http requests are not supported');if(!s)throw new Error('Cannot load an empty url');this._method=t.toUpperCase(),this._url=s,this._aborted=!1,this.setReadyState(this.OPENED)}},{key:"send",value:function(s){var n=this;if(this.readyState!==this.OPENED)throw new Error('Request has not been opened');if(this._sent)throw new Error('Request has already been sent');this._sent=!0;var o=this._incrementalEvents||!!this.onreadystatechange||!!this.onprogress;this._subscriptions.push(l.addListener('didSendNetworkData',function(s){return n.__didUploadProgress.apply(n,t(s))})),this._subscriptions.push(l.addListener('didReceiveNetworkResponse',function(s){return n.__didReceiveResponse.apply(n,t(s))})),this._subscriptions.push(l.addListener('didReceiveNetworkData',function(s){return n.__didReceiveData.apply(n,t(s))})),this._subscriptions.push(l.addListener('didReceiveNetworkIncrementalData',function(s){return n.__didReceiveIncrementalData.apply(n,t(s))})),this._subscriptions.push(l.addListener('didReceiveNetworkDataProgress',function(s){return n.__didReceiveDataProgress.apply(n,t(s))})),this._subscriptions.push(l.addListener('didCompleteNetworkResponse',function(s){return n.__didCompleteResponse.apply(n,t(s))}));var h='text';'arraybuffer'===this._responseType&&(h='base64'),'blob'===this._responseType&&(h='blob'),v(this._method,'Request method needs to be defined.'),v(this._url,'Request URL needs to be defined.'),l.sendRequest(this._method,this._trackingName,this._url,this._headers,s,h,o,this.timeout,this.__didCreateRequest.bind(this),this.withCredentials)}},{key:"abort",value:function(){this._aborted=!0,this._requestId&&l.abortRequest(this._requestId),this.readyState===this.UNSENT||this.readyState===this.OPENED&&!this._sent||this.readyState===this.DONE||(this._reset(),this.setReadyState(this.DONE)),this._reset()}},{key:"setResponseHeaders",value:function(t){this.responseHeaders=t||null;var s=t||{};this._lowerCaseResponseHeaders=Object.keys(s).reduce(function(t,n){return t[n.toLowerCase()]=s[n],t},{})}},{key:"setReadyState",value:function(t){this.readyState=t,this.dispatchEvent({type:'readystatechange'}),t===this.DONE&&(this._aborted?this.dispatchEvent({type:'abort'}):this._hasError?this._timedOut?this.dispatchEvent({type:'timeout'}):this.dispatchEvent({type:'error'}):this.dispatchEvent({type:'load'}),this.dispatchEvent({type:'loadend'}))}},{key:"addEventListener",value:function(t,n){'readystatechange'!==t&&'progress'!==t||(this._incrementalEvents=!0),s(p(S.prototype),"addEventListener",this).call(this,t,n)}},{key:"responseType",get:function(){return this._responseType},set:function(t){if(this._sent)throw new Error("Failed to set the 'responseType' property on 'XMLHttpRequest': The response type cannot be set after the request has been sent.");w.hasOwnProperty(t)?(v(w[t]||'document'===t,"The provided value '"+t+"' is unsupported in this environment."),'blob'===t&&v(_.isAvailable,'Native module BlobModule is required for blob support'),this._responseType=t):f(!1,"The provided value '"+t+"' is not a valid 'responseType'.")}},{key:"responseText",get:function(){if(''!==this._responseType&&'text'!==this._responseType)throw new Error("The 'responseText' property is only available if 'responseType' is set to '' or 'text', but it is '"+this._responseType+"'.");return this.readyState<k?'':this._response}},{key:"response",get:function(){var t=this.responseType;if(''===t||'text'===t)return this.readyState<k||this._hasError?'':this._response;if(this.readyState!==N)return null;if(void 0!==this._cachedResponse)return this._cachedResponse;switch(t){case'document':this._cachedResponse=null;break;case'arraybuffer':this._cachedResponse=y.toByteArray(this._response).buffer;break;case'blob':if('object'==typeof this._response&&this._response)this._cachedResponse=_.createFromOptions(this._response);else{if(''!==this._response)throw new Error("Invalid response for blob: "+this._response);this._cachedResponse=null}break;case'json':try{this._cachedResponse=JSON.parse(this._response)}catch(t){this._cachedResponse=null}break;default:this._cachedResponse=null}return this._cachedResponse}}]),S})(c.apply(void 0,t(D)));q.UNSENT=R,q.OPENED=E,q.HEADERS_RECEIVED=b,q.LOADING=k,q.DONE=N,q._interceptor=null,m.exports=q},113,[32,42,5,4,6,9,10,114,118,119,124,17,19]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),l=t(r(d[1])),o=t(r(d[2])),n=t(r(d[3])),u=t(r(d[4])),f=t(r(d[5])),c=t(r(d[6]));function b(t,l){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);l&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),o.push.apply(o,n)}return o}function s(t){for(var o=1;o<arguments.length;o++){var n=null!=arguments[o]?arguments[o]:{};o%2?b(Object(n),!0).forEach(function(o){(0,l.default)(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach(function(l){Object.defineProperty(t,l,Object.getOwnPropertyDescriptor(n,l))})}return t}var v=r(d[7]),x=r(d[8]);var y=(function(){function t(){(0,n.default)(this,t)}return(0,u.default)(t,null,[{key:"createFromParts",value:function(l,o){(0,c.default)(f.default,'NativeBlobModule is available.');var n='xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,function(t){var l=16*Math.random()|0;return('x'==t?l:3&l|8).toString(16)}),u=l.map(function(t){if(t instanceof ArrayBuffer||g.ArrayBufferView&&t instanceof g.ArrayBufferView)throw new Error("Creating blobs from 'ArrayBuffer' and 'ArrayBufferView' are not supported");return t instanceof v?{data:t.data,type:'blob'}:{data:String(t),type:'string'}}),b=u.reduce(function(t,l){return'string'===l.type?t+g.unescape(encodeURI(l.data)).length:t+l.data.size},0);return f.default.createFromParts(u,n),t.createFromOptions({blobId:n,offset:0,size:b,type:o?o.type:'',lastModified:o?o.lastModified:Date.now()})}},{key:"createFromOptions",value:function(t){return x.register(t.blobId),(0,o.default)(Object.create(v.prototype),{data:null==t.__collector?s({},t,{__collector:(l=t.blobId,null==g.__blobCollectorProvider?null:g.__blobCollectorProvider(l))}):t});var l}},{key:"release",value:function(t){(0,c.default)(f.default,'NativeBlobModule is available.'),x.unregister(t),x.has(t)||f.default.release(t)}},{key:"addNetworkingHandler",value:function(){(0,c.default)(f.default,'NativeBlobModule is available.'),f.default.addNetworkingHandler()}},{key:"addWebSocketHandler",value:function(t){(0,c.default)(f.default,'NativeBlobModule is available.'),f.default.addWebSocketHandler(t)}},{key:"removeWebSocketHandler",value:function(t){(0,c.default)(f.default,'NativeBlobModule is available.'),f.default.removeWebSocketHandler(t)}},{key:"sendOverSocket",value:function(t,l){(0,c.default)(f.default,'NativeBlobModule is available.'),f.default.sendOverSocket(t.data,l)}}]),t})();y.isAvailable=!!f.default,m.exports=y},114,[1,51,15,4,5,115,17,116,117]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])).get('BlobModule');e.default=u},115,[23,24]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),s=(function(){function s(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=arguments.length>1?arguments[1]:void 0;t(this,s);var u=r(d[2]);this.data=u.createFromParts(n,o).data}return n(s,[{key:"slice",value:function(t,n){var s=r(d[2]),o=this.data,u=o.offset,l=o.size;return'number'==typeof t&&(t>l&&(t=l),u+=t,l-=t,'number'==typeof n&&(n<0&&(n=this.size+n),l=n-t)),s.createFromOptions({blobId:this.data.blobId,offset:u,size:l})}},{key:"close",value:function(){r(d[2]).release(this.data.blobId),this.data=null}},{key:"data",set:function(t){this._data=t},get:function(){if(!this._data)throw new Error('Blob has been closed and is no longer available');return this._data}},{key:"size",get:function(){return this.data.size}},{key:"type",get:function(){return this.data.type||''}}]),s})();m.exports=s},116,[4,5,114]);
__d(function(g,r,i,a,m,e,d){var n={};m.exports={register:function(t){n[t]?n[t]++:n[t]=1},unregister:function(t){n[t]&&(n[t]--,n[t]<=0&&delete n[t])},has:function(t){return n[t]&&n[t]>0}}},117,[]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,'__esModule',{value:!0});var t=new WeakMap,n=new WeakMap;function o(n){var o=t.get(n);return console.assert(null!=o,"'this' is expected an Event object, but got",n),o}function l(t){null==t.passiveListener?t.event.cancelable&&(t.canceled=!0,"function"==typeof t.event.preventDefault&&t.event.preventDefault()):"undefined"!=typeof console&&"function"==typeof console.error&&console.error("Unable to preventDefault inside passive event listener invocation.",t.passiveListener)}function u(n,o){t.set(this,{eventTarget:n,event:o,eventPhase:2,currentTarget:n,canceled:!1,stopped:!1,immediateStopped:!1,passiveListener:null,timeStamp:o.timeStamp||Date.now()}),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});for(var l=Object.keys(o),u=0;u<l.length;++u){var p=l[u];p in this||Object.defineProperty(this,p,s(p))}}function s(t){return{get:function(){return o(this).event[t]},set:function(n){o(this).event[t]=n},configurable:!0,enumerable:!0}}function p(t){return{value:function(){var n=o(this).event;return n[t].apply(n,arguments)},configurable:!0,enumerable:!0}}function c(t,n){var o=Object.keys(n);if(0===o.length)return t;function l(n,o){t.call(this,n,o)}l.prototype=Object.create(t.prototype,{constructor:{value:l,configurable:!0,writable:!0}});for(var u=0;u<o.length;++u){var c=o[u];if(!(c in t.prototype)){var f="function"==typeof Object.getOwnPropertyDescriptor(n,c).value;Object.defineProperty(l.prototype,c,f?p(c):s(c))}}return l}function f(t){if(null==t||t===Object.prototype)return u;var o=n.get(t);return null==o&&(o=c(f(Object.getPrototypeOf(t)),t),n.set(t,o)),o}function v(t,n){return new(f(Object.getPrototypeOf(n)))(t,n)}function y(t){return o(t).immediateStopped}function b(t,n){o(t).eventPhase=n}function h(t,n){o(t).currentTarget=n}function w(t,n){o(t).passiveListener=n}u.prototype={get type(){return o(this).event.type},get target(){return o(this).eventTarget},get currentTarget(){return o(this).currentTarget},composedPath:function(){var t=o(this).currentTarget;return null==t?[]:[t]},get NONE(){return 0},get CAPTURING_PHASE(){return 1},get AT_TARGET(){return 2},get BUBBLING_PHASE(){return 3},get eventPhase(){return o(this).eventPhase},stopPropagation:function(){var t=o(this);t.stopped=!0,"function"==typeof t.event.stopPropagation&&t.event.stopPropagation()},stopImmediatePropagation:function(){var t=o(this);t.stopped=!0,t.immediateStopped=!0,"function"==typeof t.event.stopImmediatePropagation&&t.event.stopImmediatePropagation()},get bubbles(){return Boolean(o(this).event.bubbles)},get cancelable(){return Boolean(o(this).event.cancelable)},preventDefault:function(){l(o(this))},get defaultPrevented(){return o(this).canceled},get composed(){return Boolean(o(this).event.composed)},get timeStamp(){return o(this).timeStamp},get srcElement(){return o(this).eventTarget},get cancelBubble(){return o(this).stopped},set cancelBubble(t){if(t){var n=o(this);n.stopped=!0,"boolean"==typeof n.event.cancelBubble&&(n.event.cancelBubble=!0)}},get returnValue(){return!o(this).canceled},set returnValue(t){t||l(o(this))},initEvent:function(){}},Object.defineProperty(u.prototype,"constructor",{value:u,configurable:!0,writable:!0}),"undefined"!=typeof window&&void 0!==window.Event&&(Object.setPrototypeOf(u.prototype,window.Event.prototype),n.set(window.Event.prototype,u));var T=new WeakMap,P=3;function x(t){return null!==t&&"object"==typeof t}function E(t){var n=T.get(t);if(null==n)throw new TypeError("'this' is expected an EventTarget object, but got another value.");return n}function O(t){return{get:function(){for(var n=E(this).get(t);null!=n;){if(n.listenerType===P)return n.listener;n=n.next}return null},set:function(n){"function"==typeof n||x(n)||(n=null);for(var o=E(this),l=null,u=o.get(t);null!=u;)u.listenerType===P?null!==l?l.next=u.next:null!==u.next?o.set(t,u.next):o.delete(t):l=u,u=u.next;if(null!==n){var s={listener:n,listenerType:P,passive:!1,once:!1,next:null};null===l?o.set(t,s):l.next=s}},configurable:!0,enumerable:!0}}function j(t,n){Object.defineProperty(t,"on"+n,O(n))}function B(t){function n(){A.call(this)}n.prototype=Object.create(A.prototype,{constructor:{value:n,configurable:!0,writable:!0}});for(var o=0;o<t.length;++o)j(n.prototype,t[o]);return n}function A(){if(!(this instanceof A)){if(1===arguments.length&&Array.isArray(arguments[0]))return B(arguments[0]);if(arguments.length>0){for(var t=new Array(arguments.length),n=0;n<arguments.length;++n)t[n]=arguments[n];return B(t)}throw new TypeError("Cannot call a class as a function")}T.set(this,new Map)}A.prototype={addEventListener:function(t,n,o){if(null!=n){if("function"!=typeof n&&!x(n))throw new TypeError("'listener' should be a function or an object.");var l=E(this),u=x(o),s=(u?Boolean(o.capture):Boolean(o))?1:2,p={listener:n,listenerType:s,passive:u&&Boolean(o.passive),once:u&&Boolean(o.once),next:null},c=l.get(t);if(void 0!==c){for(var f=null;null!=c;){if(c.listener===n&&c.listenerType===s)return;f=c,c=c.next}f.next=p}else l.set(t,p)}},removeEventListener:function(t,n,o){if(null!=n)for(var l=E(this),u=(x(o)?Boolean(o.capture):Boolean(o))?1:2,s=null,p=l.get(t);null!=p;){if(p.listener===n&&p.listenerType===u)return void(null!==s?s.next=p.next:null!==p.next?l.set(t,p.next):l.delete(t));s=p,p=p.next}},dispatchEvent:function(t){if(null==t||"string"!=typeof t.type)throw new TypeError('"event.type" should be a string.');var n=E(this),o=t.type,l=n.get(o);if(null==l)return!0;for(var u=v(this,t),s=null;null!=l;){if(l.once?null!==s?s.next=l.next:null!==l.next?n.set(o,l.next):n.delete(o):s=l,w(u,l.passive?l.listener:null),"function"==typeof l.listener)try{l.listener.call(this,u)}catch(t){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(t)}else l.listenerType!==P&&"function"==typeof l.listener.handleEvent&&l.listener.handleEvent(u);if(y(u))break;l=l.next}return w(u,null),b(u,0),h(u,null),!u.defaultPrevented}},Object.defineProperty(A.prototype,"constructor",{value:A,configurable:!0,writable:!0}),"undefined"!=typeof window&&void 0!==window.EventTarget&&Object.setPrototypeOf(A.prototype,window.EventTarget.prototype),e.defineEventAttribute=j,e.EventTarget=A,e.default=A,m.exports=A,m.exports.EventTarget=m.exports.default=A,m.exports.defineEventAttribute=j},118,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=t(r(d[1])),u=t(r(d[2])),o=t(r(d[3])),c=t(r(d[4])),f=t(r(d[5])),s=t(r(d[6])),l=t(r(d[7]));function p(t,n){var u=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),u.push.apply(u,o)}return u}function O(t){for(var u=1;u<arguments.length;u++){var o=null!=arguments[u]?arguments[u]:{};u%2?p(Object(o),!0).forEach(function(u){(0,n.default)(t,u,o[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):p(Object(o)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(o,n))})}return t}var b=r(d[8]),v=r(d[9]);function y(t){var n=[];for(var u in t)n.push([u,t[u]]);return n}var j=1;var h=(function(t){function n(){return(0,u.default)(this,n),(0,c.default)(this,(0,f.default)(n).call(this,l.default))}return(0,s.default)(n,t),(0,o.default)(n,[{key:"sendRequest",value:function(t,n,u,o,c,f,s,p,b,h){var P=v(c);P&&P.formData&&(P.formData=P.formData.map(function(t){return O({},t,{headers:y(t.headers)})}));var k=j++;l.default.sendRequest(t,u,k,y(o),O({},P,{trackingName:n}),f,s,p,h),b(k)}},{key:"abortRequest",value:function(t){l.default.abortRequest(t)}},{key:"clearCookies",value:function(t){l.default.clearCookies(t)}}]),n})(b);m.exports=new h},119,[1,51,4,5,6,9,10,120,121,122]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])).getEnforcing('Networking');e.default=n},120,[23,24]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),s=r(d[2]),l=r(d[3]),o=r(d[4]),u=r(d[5]),h=r(d[6]),v=(r(d[7]),r(d[8])),c=r(d[9]),p=(function(p){function _(n){return t(this,_),s(this,l(_).call(this,v.sharedSubscriber))}return u(_,h),n(_,[{key:"addListener",value:function(t,n,s){return null!=this._nativeModule&&this._nativeModule.addListener(t),o(l(_.prototype),"addListener",this).call(this,t,n,s)}},{key:"removeAllListeners",value:function(t){c(t,'eventType argument is required.');var n=this.listeners(t).length;null!=this._nativeModule&&this._nativeModule.removeListeners(n),o(l(_.prototype),"removeAllListeners",this).call(this,t)}},{key:"removeSubscription",value:function(t){null!=this._nativeModule&&this._nativeModule.removeListeners(1),o(l(_.prototype),"removeSubscription",this).call(this,t)}}]),_})();m.exports=p},121,[4,5,6,9,42,10,44,53,41,17]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),f=r(d[2]);m.exports=function(s){return'string'==typeof s?{string:s}:s instanceof n?{blob:s.data}:s instanceof f?{formData:s.getParts()}:s instanceof ArrayBuffer||ArrayBuffer.isView(s)?{base64:t(s)}:s}},122,[123,116,125]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);m.exports=function(f){if(f instanceof ArrayBuffer&&(f=new Uint8Array(f)),f instanceof Uint8Array)return t.fromByteArray(f);if(!ArrayBuffer.isView(f))throw new Error('data must be ArrayBuffer or typed array');var n=f,y=n.buffer,o=n.byteOffset,u=n.byteLength;return t.fromByteArray(new Uint8Array(y,o,u))}},123,[124]);
__d(function(g,r,i,a,m,e,d){'use strict';e.byteLength=function(t){var n=f(t),o=n[0],h=n[1];return 3*(o+h)/4-h},e.toByteArray=function(t){var h,u,c=f(t),C=c[0],y=c[1],s=new o(A(t,C,y)),v=0,l=y>0?C-4:C;for(u=0;u<l;u+=4)h=n[t.charCodeAt(u)]<<18|n[t.charCodeAt(u+1)]<<12|n[t.charCodeAt(u+2)]<<6|n[t.charCodeAt(u+3)],s[v++]=h>>16&255,s[v++]=h>>8&255,s[v++]=255&h;2===y&&(h=n[t.charCodeAt(u)]<<2|n[t.charCodeAt(u+1)]>>4,s[v++]=255&h);1===y&&(h=n[t.charCodeAt(u)]<<10|n[t.charCodeAt(u+1)]<<4|n[t.charCodeAt(u+2)]>>2,s[v++]=h>>8&255,s[v++]=255&h);return s},e.fromByteArray=function(n){for(var o,h=n.length,u=h%3,c=[],f=0,A=h-u;f<A;f+=16383)c.push(C(n,f,f+16383>A?A:f+16383));1===u?(o=n[h-1],c.push(t[o>>2]+t[o<<4&63]+'==')):2===u&&(o=(n[h-2]<<8)+n[h-1],c.push(t[o>>10]+t[o>>4&63]+t[o<<2&63]+'='));return c.join('')};for(var t=[],n=[],o='undefined'!=typeof Uint8Array?Uint8Array:Array,h='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',u=0,c=h.length;u<c;++u)t[u]=h[u],n[h.charCodeAt(u)]=u;function f(t){var n=t.length;if(n%4>0)throw new Error('Invalid string. Length must be a multiple of 4');var o=t.indexOf('=');return-1===o&&(o=n),[o,o===n?0:4-o%4]}function A(t,n,o){return 3*(n+o)/4-o}function C(n,o,h){for(var u,c,f=[],A=o;A<h;A+=3)u=(n[A]<<16&16711680)+(n[A+1]<<8&65280)+(255&n[A+2]),f.push(t[(c=u)>>18&63]+t[c>>12&63]+t[c>>6&63]+t[63&c]);return f.join('')}n['-'.charCodeAt(0)]=62,n['_'.charCodeAt(0)]=63},124,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=r(d[2]),c=r(d[3]);function s(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);n&&(c=c.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,c)}return o}function p(n){for(var o=1;o<arguments.length;o++){var c=null!=arguments[o]?arguments[o]:{};o%2?s(Object(c),!0).forEach(function(o){t(n,o,c[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(c)):s(Object(c)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(c,t))})}return n}var f=(function(){function t(){o(this,t),this._parts=[]}return c(t,[{key:"append",value:function(t,n){this._parts.push([t,n])}},{key:"getParts",value:function(){return this._parts.map(function(t){var o=n(t,2),c=o[0],s=o[1],f={'content-disposition':'form-data; name="'+c+'"'};return'object'==typeof s&&s?('string'==typeof s.name&&(f['content-disposition']+='; filename="'+s.name+'"'),'string'==typeof s.type&&(f['content-type']=s.type),p({},s,{headers:f,fieldName:c})):{string:String(s),headers:f,fieldName:c}})}}]),t})();m.exports=f},125,[51,26,4,5]);
__d(function(g,r,i,a,m,e,d){'use strict';r(d[0]),m.exports={fetch:fetch,Headers:Headers,Request:Request,Response:Response}},126,[127]);
__d(function(g,r,i,a,m,e,d){var t,o;t=this,o=function(t){'use strict';var o={searchParams:'URLSearchParams'in self,iterable:'Symbol'in self&&'iterator'in Symbol,blob:'FileReader'in self&&'Blob'in self&&(function(){try{return new Blob,!0}catch(t){return!1}})(),formData:'FormData'in self,arrayBuffer:'ArrayBuffer'in self};if(o.arrayBuffer)var n=['[object Int8Array]','[object Uint8Array]','[object Uint8ClampedArray]','[object Int16Array]','[object Uint16Array]','[object Int32Array]','[object Uint32Array]','[object Float32Array]','[object Float64Array]'],s=ArrayBuffer.isView||function(t){return t&&n.indexOf(Object.prototype.toString.call(t))>-1};function f(t){if('string'!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError('Invalid character in header field name');return t.toLowerCase()}function h(t){return'string'!=typeof t&&(t=String(t)),t}function u(t){var n={next:function(){var o=t.shift();return{done:void 0===o,value:o}}};return o.iterable&&(n["function"==typeof Symbol?Symbol.iterator:"@@iterator"]=function(){return n}),n}function c(t){this.map={},t instanceof c?t.forEach(function(t,o){this.append(o,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(o){this.append(o,t[o])},this)}function y(t){if(t.bodyUsed)return Promise.reject(new TypeError('Already read'));t.bodyUsed=!0}function l(t){return new Promise(function(o,n){t.onload=function(){o(t.result)},t.onerror=function(){n(t.error)}})}function p(t){var o=new FileReader,n=l(o);return o.readAsArrayBuffer(t),n}function b(t){for(var o=new Uint8Array(t),n=new Array(o.length),s=0;s<o.length;s++)n[s]=String.fromCharCode(o[s]);return n.join('')}function w(t){if(t.slice)return t.slice(0);var o=new Uint8Array(t.byteLength);return o.set(new Uint8Array(t)),o.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(t){var n;this._bodyInit=t,t?'string'==typeof t?this._bodyText=t:o.blob&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:o.formData&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:o.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():o.arrayBuffer&&o.blob&&((n=t)&&DataView.prototype.isPrototypeOf(n))?(this._bodyArrayBuffer=w(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):o.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(t)||s(t))?this._bodyArrayBuffer=w(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText='',this.headers.get('content-type')||('string'==typeof t?this.headers.set('content-type','text/plain;charset=UTF-8'):this._bodyBlob&&this._bodyBlob.type?this.headers.set('content-type',this._bodyBlob.type):o.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set('content-type','application/x-www-form-urlencoded;charset=UTF-8'))},o.blob&&(this.blob=function(){var t=y(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error('could not read FormData body as blob');return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?y(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(p)}),this.text=function(){var t,o,n,s=y(this);if(s)return s;if(this._bodyBlob)return t=this._bodyBlob,o=new FileReader,n=l(o),o.readAsText(t),n;if(this._bodyArrayBuffer)return Promise.resolve(b(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error('could not read FormData body as text');return Promise.resolve(this._bodyText)},o.formData&&(this.formData=function(){return this.text().then(A)}),this.json=function(){return this.text().then(JSON.parse)},this}c.prototype.append=function(t,o){t=f(t),o=h(o);var n=this.map[t];this.map[t]=n?n+', '+o:o},c.prototype.delete=function(t){delete this.map[f(t)]},c.prototype.get=function(t){return t=f(t),this.has(t)?this.map[t]:null},c.prototype.has=function(t){return this.map.hasOwnProperty(f(t))},c.prototype.set=function(t,o){this.map[f(t)]=h(o)},c.prototype.forEach=function(t,o){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(o,this.map[n],n,this)},c.prototype.keys=function(){var t=[];return this.forEach(function(o,n){t.push(n)}),u(t)},c.prototype.values=function(){var t=[];return this.forEach(function(o){t.push(o)}),u(t)},c.prototype.entries=function(){var t=[];return this.forEach(function(o,n){t.push([n,o])}),u(t)},o.iterable&&(c.prototype["function"==typeof Symbol?Symbol.iterator:"@@iterator"]=c.prototype.entries);var E=['DELETE','GET','HEAD','OPTIONS','POST','PUT'];function _(t,o){var n,s,f=(o=o||{}).body;if(t instanceof _){if(t.bodyUsed)throw new TypeError('Already read');this.url=t.url,this.credentials=t.credentials,o.headers||(this.headers=new c(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,f||null==t._bodyInit||(f=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=o.credentials||this.credentials||'same-origin',!o.headers&&this.headers||(this.headers=new c(o.headers)),this.method=(n=o.method||this.method||'GET',s=n.toUpperCase(),E.indexOf(s)>-1?s:n),this.mode=o.mode||this.mode||null,this.signal=o.signal||this.signal,this.referrer=null,('GET'===this.method||'HEAD'===this.method)&&f)throw new TypeError('Body not allowed for GET or HEAD requests');this._initBody(f)}function A(t){var o=new FormData;return t.trim().split('&').forEach(function(t){if(t){var n=t.split('='),s=n.shift().replace(/\+/g,' '),f=n.join('=').replace(/\+/g,' ');o.append(decodeURIComponent(s),decodeURIComponent(f))}}),o}function x(t,o){o||(o={}),this.type='default',this.status=void 0===o.status?200:o.status,this.ok=this.status>=200&&this.status<300,this.statusText='statusText'in o?o.statusText:'OK',this.headers=new c(o.headers),this.url=o.url||'',this._initBody(t)}_.prototype.clone=function(){return new _(this,{body:this._bodyInit})},v.call(_.prototype),v.call(x.prototype),x.prototype.clone=function(){return new x(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})},x.error=function(){var t=new x(null,{status:0,statusText:''});return t.type='error',t};var B=[301,302,303,307,308];x.redirect=function(t,o){if(-1===B.indexOf(o))throw new RangeError('Invalid status code');return new x(null,{status:o,headers:{location:t}})},t.DOMException=self.DOMException;try{new t.DOMException}catch(o){t.DOMException=function(t,o){this.message=t,this.name=o;var n=Error(t);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function T(n,s){return new Promise(function(f,h){var u=new _(n,s);if(u.signal&&u.signal.aborted)return h(new t.DOMException('Aborted','AbortError'));var y=new XMLHttpRequest;function l(){y.abort()}y.onload=function(){var t,o,n={status:y.status,statusText:y.statusText,headers:(t=y.getAllResponseHeaders()||'',o=new c,t.replace(/\r?\n[\t ]+/g,' ').split(/\r?\n/).forEach(function(t){var n=t.split(':'),s=n.shift().trim();if(s){var f=n.join(':').trim();o.append(s,f)}}),o)};n.url='responseURL'in y?y.responseURL:n.headers.get('X-Request-URL');var s='response'in y?y.response:y.responseText;f(new x(s,n))},y.onerror=function(){h(new TypeError('Network request failed'))},y.ontimeout=function(){h(new TypeError('Network request failed'))},y.onabort=function(){h(new t.DOMException('Aborted','AbortError'))},y.open(u.method,u.url,!0),'include'===u.credentials?y.withCredentials=!0:'omit'===u.credentials&&(y.withCredentials=!1),'responseType'in y&&o.blob&&(y.responseType='blob'),u.headers.forEach(function(t,o){y.setRequestHeader(o,t)}),u.signal&&(u.signal.addEventListener('abort',l),y.onreadystatechange=function(){4===y.readyState&&u.signal.removeEventListener('abort',l)}),y.send(void 0===u._bodyInit?null:u._bodyInit)})}T.polyfill=!0,self.fetch||(self.fetch=T,self.Headers=c,self.Request=_,self.Response=x),t.Headers=c,t.Request=_,t.Response=x,t.fetch=T,Object.defineProperty(t,'__esModule',{value:!0})},'object'==typeof e&&void 0!==m?o(e):'function'==typeof define&&define.amd?define(['exports'],o):o(t.WHATWGFetch={})},127,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),s=t(r(d[1])),o=t(r(d[2])),n=t(r(d[3])),c=t(r(d[4])),u=t(r(d[5])),l=t(r(d[6])),f=t(r(d[7])),h=r(d[8]),b=r(d[9]),y=r(d[10]),p=r(d[11]),v=(r(d[12]),r(d[13])),_=r(d[14]),E=r(d[15]),k=r(d[16]),I=0,S=1,N=2,w=3,O=0,C=(function(t){function y(t,n,l){var h;(0,o.default)(this,y),(h=(0,c.default)(this,(0,u.default)(y).call(this))).CONNECTING=I,h.OPEN=S,h.CLOSING=N,h.CLOSED=w,h.readyState=I,'string'==typeof n&&(n=[n]);var b=l||{},v=b.headers,_=void 0===v?{}:v,E=(0,s.default)(b,["headers"]);return E&&'string'==typeof E.origin&&(console.warn('Specifying `origin` as a WebSocket connection option is deprecated. Include it under `headers` instead.'),_.origin=E.origin,delete E.origin),Object.keys(E).length>0&&console.warn('Unrecognized WebSocket connection option(s) `'+Object.keys(E).join('`, `')+"`. Did you mean to put these under `headers`?"),Array.isArray(n)||(n=null),h._eventEmitter=new p(f.default),h._socketId=O++,h._registerEvents(),f.default.connect(t,n,{headers:_},h._socketId),h}return(0,l.default)(y,t),(0,n.default)(y,[{key:"close",value:function(t,s){this.readyState!==this.CLOSING&&this.readyState!==this.CLOSED&&(this.readyState=this.CLOSING,this._close(t,s))}},{key:"send",value:function(t){if(this.readyState===this.CONNECTING)throw new Error('INVALID_STATE_ERR');if(t instanceof h)return k(b.isAvailable,'Native module BlobModule is required for blob support'),void b.sendOverSocket(t,this._socketId);if('string'!=typeof t){if(!(t instanceof ArrayBuffer||ArrayBuffer.isView(t)))throw new Error('Unsupported data type');f.default.sendBinary(E(t),this._socketId)}else f.default.send(t,this._socketId)}},{key:"ping",value:function(){if(this.readyState===this.CONNECTING)throw new Error('INVALID_STATE_ERR');f.default.ping(this._socketId)}},{key:"_close",value:function(t,s){var o='number'==typeof t?t:1e3,n='string'==typeof s?s:'';f.default.close(o,n,this._socketId),b.isAvailable&&'blob'===this._binaryType&&b.removeWebSocketHandler(this._socketId)}},{key:"_unregisterEvents",value:function(){this._subscriptions.forEach(function(t){return t.remove()}),this._subscriptions=[]}},{key:"_registerEvents",value:function(){var t=this;this._subscriptions=[this._eventEmitter.addListener('websocketMessage',function(s){if(s.id===t._socketId){var o=s.data;switch(s.type){case'binary':o=_.toByteArray(s.data).buffer;break;case'blob':o=b.createFromOptions(s.data)}t.dispatchEvent(new v('message',{data:o}))}}),this._eventEmitter.addListener('websocketOpen',function(s){s.id===t._socketId&&(t.readyState=t.OPEN,t.protocol=s.protocol,t.dispatchEvent(new v('open')))}),this._eventEmitter.addListener('websocketClosed',function(s){s.id===t._socketId&&(t.readyState=t.CLOSED,t.dispatchEvent(new v('close',{code:s.code,reason:s.reason})),t._unregisterEvents(),t.close())}),this._eventEmitter.addListener('websocketFailed',function(s){s.id===t._socketId&&(t.readyState=t.CLOSED,t.dispatchEvent(new v('error',{message:s.message})),t.dispatchEvent(new v('close',{message:s.message})),t._unregisterEvents(),t.close())})]}},{key:"binaryType",get:function(){return this._binaryType},set:function(t){if('blob'!==t&&'arraybuffer'!==t)throw new Error("binaryType must be either 'blob' or 'arraybuffer'");'blob'!==this._binaryType&&'blob'!==t||(k(b.isAvailable,'Native module BlobModule is required for blob support'),'blob'===t?b.addWebSocketHandler(this._socketId):b.removeWebSocketHandler(this._socketId)),this._binaryType=t}}]),y})(y.apply(void 0,['close','error','message','open']));C.CONNECTING=I,C.OPEN=S,C.CLOSING=N,C.CLOSED=w,m.exports=C},128,[1,57,4,5,6,9,10,129,116,114,118,121,53,130,124,123,17]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=t(r(d[1])).getEnforcing('WebSocketModule');e.default=o},129,[23,24]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),s=r(d[1]);m.exports=function n(o,c){s(this,n),this.type=o.toString(),t(this,c)}},130,[15,4]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),s=r(d[2]),u=r(d[3]),l=r(d[4]),o=r(d[5]),c=r(d[6]),h=(function(h){function f(n,l,o){var h;return t(this,f),c(null!=n&&null!=l,'Failed to construct `File`: Must pass both `parts` and `name` arguments.'),(h=s(this,u(f).call(this,n,o))).data.name=l,h}return l(f,o),n(f,[{key:"name",get:function(){return c(null!=this.data.name,'Files must have a name set.'),this.data.name}},{key:"lastModified",get:function(){return this.data.lastModified||0}}]),f})();m.exports=h},131,[4,5,6,9,10,116,17]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),s=t(r(d[1])),n=t(r(d[2])),o=t(r(d[3])),u=t(r(d[4])),h=t(r(d[5])),_=t(r(d[6])),l=(r(d[7]),0),c=1,y=2,f=(function(t){function f(){var t;return(0,s.default)(this,f),(t=(0,o.default)(this,(0,u.default)(f).call(this))).EMPTY=l,t.LOADING=c,t.DONE=y,t._aborted=!1,t._subscriptions=[],t._reset(),t}return(0,h.default)(f,t),(0,n.default)(f,[{key:"_reset",value:function(){this._readyState=l,this._error=null,this._result=null}},{key:"_clearSubscriptions",value:function(){this._subscriptions.forEach(function(t){return t.remove()}),this._subscriptions=[]}},{key:"_setReadyState",value:function(t){this._readyState=t,this.dispatchEvent({type:'readystatechange'}),t===y&&(this._aborted?this.dispatchEvent({type:'abort'}):this._error?this.dispatchEvent({type:'error'}):this.dispatchEvent({type:'load'}),this.dispatchEvent({type:'loadend'}))}},{key:"readAsArrayBuffer",value:function(){throw new Error('FileReader.readAsArrayBuffer is not implemented')}},{key:"readAsDataURL",value:function(t){var s=this;this._aborted=!1,_.default.readAsDataURL(t.data).then(function(t){s._aborted||(s._result=t,s._setReadyState(y))},function(t){s._aborted||(s._error=t,s._setReadyState(y))})}},{key:"readAsText",value:function(t){var s=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:'UTF-8';this._aborted=!1,_.default.readAsText(t.data,n).then(function(t){s._aborted||(s._result=t,s._setReadyState(y))},function(t){s._aborted||(s._error=t,s._setReadyState(y))})}},{key:"abort",value:function(){this._aborted=!0,this._readyState!==l&&this._readyState!==y&&(this._reset(),this._setReadyState(y)),this._reset()}},{key:"readyState",get:function(){return this._readyState}},{key:"error",get:function(){return this._error}},{key:"result",get:function(){return this._result}}]),f})(r(d[8]).apply(void 0,['abort','error','load','loadstart','loadend','progress']));f.EMPTY=l,f.LOADING=c,f.DONE=y,m.exports=f},132,[1,4,5,6,9,10,133,116,118]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])).getEnforcing('FileReaderModule');e.default=u},133,[23,24]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.URL=e.URLSearchParams=void 0;var n,o=t(r(d[1])),u=t(r(d[2])),s=t(r(d[3])),f=(r(d[4]),null);if(s.default&&'string'==typeof s.default.getConstants().BLOB_URI_SCHEME){var l=s.default.getConstants();f=l.BLOB_URI_SCHEME+':','string'==typeof l.BLOB_URI_HOST&&(f+="//"+l.BLOB_URI_HOST+"/")}n=Symbol.iterator;var h=(function(){function t(n){var u=this;(0,o.default)(this,t),this._searchParams=[],'object'==typeof n&&Object.keys(n).forEach(function(t){return u.append(t,n[t])})}return(0,u.default)(t,[{key:"append",value:function(t,n){this._searchParams.push([t,n])}},{key:"delete",value:function(t){throw new Error('not implemented')}},{key:"get",value:function(t){throw new Error('not implemented')}},{key:"getAll",value:function(t){throw new Error('not implemented')}},{key:"has",value:function(t){throw new Error('not implemented')}},{key:"set",value:function(t,n){throw new Error('not implemented')}},{key:"sort",value:function(){throw new Error('not implemented')}},{key:n,value:function(){return this._searchParams["function"==typeof Symbol?Symbol.iterator:"@@iterator"]()}},{key:"toString",value:function(){if(0===this._searchParams.length)return'';var t=this._searchParams.length-1;return this._searchParams.reduce(function(n,o,u){return n+o.join('=')+(u===t?'':'&')},'')}}]),t})();function c(t){return/^(?:(?:(?:https?|ftp):)?\/\/)(?:(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(t)}e.URLSearchParams=h;var w=(function(){function t(n,u){(0,o.default)(this,t),this._searchParamsInstance=null;var s=null;if(!u||c(n))this._url=n,this._url.endsWith('/')||(this._url+='/');else{if('string'==typeof u){if(!c(s=u))throw new TypeError("Invalid base URL: "+s)}else'object'==typeof u&&(s=u.toString());s.endsWith('/')&&n.startsWith('/')&&(s=s.slice(0,s.length-1)),s.endsWith(n)&&(n=''),this._url=""+s+n}}return(0,u.default)(t,null,[{key:"createObjectURL",value:function(t){if(null===f)throw new Error('Cannot create URL for blob!');return""+f+t.data.blobId+"?offset="+t.data.offset+"&size="+t.size}},{key:"revokeObjectURL",value:function(t){}}]),(0,u.default)(t,[{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){if(null===this._searchParamsInstance)return this._url;var t=this._url.indexOf('?')>-1?'&':'?';return this._url+t+this._searchParamsInstance.toString()}},{key:"hash",get:function(){throw new Error('not implemented')}},{key:"host",get:function(){throw new Error('not implemented')}},{key:"hostname",get:function(){throw new Error('not implemented')}},{key:"href",get:function(){return this.toString()}},{key:"origin",get:function(){throw new Error('not implemented')}},{key:"password",get:function(){throw new Error('not implemented')}},{key:"pathname",get:function(){throw new Error('not implemented')}},{key:"port",get:function(){throw new Error('not implemented')}},{key:"protocol",get:function(){throw new Error('not implemented')}},{key:"search",get:function(){throw new Error('not implemented')}},{key:"searchParams",get:function(){return null==this._searchParamsInstance&&(this._searchParamsInstance=new h),this._searchParamsInstance}},{key:"username",get:function(){throw new Error('not implemented')}}]),t})();e.URL=w},134,[1,4,5,115,116]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),o=r(d[1]),n=r(d[2]),l=r(d[3]),b=r(d[4]);Object.defineProperty(e,'__esModule',{value:!0});var u=r(d[5]),p=(function(u){function p(){throw t(this,p),n(this,l(p).call(this)),new TypeError("AbortSignal cannot be constructed directly")}return b(p,u),o(p,[{key:"aborted",get:function(){var t=y.get(this);if("boolean"!=typeof t)throw new TypeError("Expected 'this' to be an 'AbortSignal' object, but got "+(null===this?"null":typeof this));return t}}]),p})(u.EventTarget);u.defineEventAttribute(p.prototype,"abort");var y=new WeakMap;Object.defineProperties(p.prototype,{aborted:{enumerable:!0}}),"function"==typeof Symbol&&"symbol"==typeof("function"==typeof Symbol?Symbol.toStringTag:"@@toStringTag")&&Object.defineProperty(p.prototype,"function"==typeof Symbol?Symbol.toStringTag:"@@toStringTag",{configurable:!0,value:"AbortSignal"});var f=(function(){function n(){var o;t(this,n),c.set(this,(o=Object.create(p.prototype),u.EventTarget.call(o),y.set(o,!1),o))}return o(n,[{key:"abort",value:function(){var t;t=s(this),!1===y.get(t)&&(y.set(t,!0),t.dispatchEvent({type:"abort"}))}},{key:"signal",get:function(){return s(this)}}]),n})(),c=new WeakMap;function s(t){var o=c.get(t);if(null==o)throw new TypeError("Expected 'this' to be an 'AbortController' object, but got "+(null===t?"null":typeof t));return o}Object.defineProperties(f.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}}),"function"==typeof Symbol&&"symbol"==typeof("function"==typeof Symbol?Symbol.toStringTag:"@@toStringTag")&&Object.defineProperty(f.prototype,"function"==typeof Symbol?Symbol.toStringTag:"@@toStringTag",{configurable:!0,value:"AbortController"}),e.AbortController=f,e.AbortSignal=p,e.default=f,m.exports=f,m.exports.AbortController=m.exports.default=f,m.exports.AbortSignal=p},135,[4,5,6,9,10,118]);
__d(function(g,r,i,a,m,e,d){'use strict';g.alert||(g.alert=function(t){r(d[0]).alert('Alert',''+t)})},136,[137]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=t(r(d[1])),o=t(r(d[2])),l=t(r(d[3])),s=t(r(d[4])),u=t(r(d[5])),c=(function(){function t(){(0,n.default)(this,t)}return(0,o.default)(t,null,[{key:"alert",value:function(n,o,u,c){if('ios'===l.default.OS)t.prompt(n,o,u,'default');else if('android'===l.default.OS){if(!s.default)return;var f=s.default.getConstants(),p={title:n||'',message:o||'',cancelable:!1};c&&c.cancelable&&(p.cancelable=c.cancelable);var v=u?u.slice(0,3):[{text:"OK"}],y=v.pop(),b=v.pop(),h=v.pop();h&&(p.buttonNeutral=h.text||''),b&&(p.buttonNegative=b.text||''),y&&(p.buttonPositive=y.text||"OK");s.default.showAlert(p,function(t){return console.warn(t)},function(t,n){t===f.buttonClicked?n===f.buttonNeutral?h.onPress&&h.onPress():n===f.buttonNegative?b.onPress&&b.onPress():n===f.buttonPositive&&y.onPress&&y.onPress():t===f.dismissed&&c&&c.onDismiss&&c.onDismiss()})}}},{key:"prompt",value:function(t,n,o){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:'plain-text',c=arguments.length>4?arguments[4]:void 0,f=arguments.length>5?arguments[5]:void 0;if('ios'===l.default.OS){if('function'==typeof s){console.warn("You passed a callback function as the \"type\" argument to Alert.prompt(). React Native is assuming  you want to use the deprecated Alert.prompt(title, defaultValue, buttons, callback) signature. The current signature is Alert.prompt(title, message, callbackOrButtons, type, defaultValue, keyboardType) and the old syntax will be removed in a future version.");var p=s;return void u.default.alertWithArgs({title:t||'',type:'plain-text',defaultValue:n||''},function(t,n){p(n)})}var v,y,b=[],h=[];'function'==typeof o?b=[o]:Array.isArray(o)&&o.forEach(function(t,n){if(b[n]=t.onPress,'cancel'===t.style?v=String(n):'destructive'===t.style&&(y=String(n)),t.text||n<(o||[]).length-1){var l={};l[n]=t.text||'',h.push(l)}}),u.default.alertWithArgs({title:t||'',message:n||void 0,buttons:h,type:s||void 0,defaultValue:c,cancelButtonKey:v,destructiveButtonKey:y,keyboardType:f},function(t,n){var o=b[t];o&&o(n)})}}}]),t})();m.exports=c},137,[1,4,5,53,138,139]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=t(r(d[1])).get('DialogManagerAndroid');e.default=o},138,[23,24]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])(r(d[1]));function n(){}m.exports={alertWithArgs:function(u,f){t.default&&t.default.showAlert(u,n,f||n)}}},139,[1,138]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]).polyfillObjectProperty,o=g.navigator;void 0===o&&(g.navigator=o={}),t(o,'product',function(){return'ReactNative'})},140,[99]);
__d(function(g,r,i,a,m,e,d){'use strict';if(!g.RN$Bridgeless){var l=r(d[0]);l.registerLazyCallableModule('Systrace',function(){return r(d[1])}),l.registerLazyCallableModule('JSTimers',function(){return r(d[2])}),l.registerLazyCallableModule('HeapCapture',function(){return r(d[3])}),l.registerLazyCallableModule('SamplingProfiler',function(){return r(d[4])}),l.registerLazyCallableModule('RCTLog',function(){return r(d[5])}),l.registerLazyCallableModule('RCTDeviceEventEmitter',function(){return r(d[6])}),l.registerLazyCallableModule('RCTNativeAppEventEmitter',function(){return r(d[7])}),l.registerLazyCallableModule('GlobalPerformanceLogger',function(){return r(d[8])}),l.registerLazyCallableModule('JSDevSupportModule',function(){return r(d[9])}),l.registerCallableModule('HMRClient',r(d[10]))}},141,[30,37,107,142,144,146,41,147,148,151,153]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])(r(d[1])),p={captureHeap:function(p){var u=null;try{g.nativeCaptureHeap(p),console.log('HeapCapture.captureHeap succeeded: '+p)}catch(t){console.log('HeapCapture.captureHeap error: '+t.toString()),u=t.toString()}t.default&&t.default.captureComplete(p,u)}};m.exports=p},142,[1,143]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])).get('HeapCapture');e.default=u},143,[23,24]);
__d(function(g,r,i,a,m,e,d){'use strict';var o={poke:function(o){var l=null,n=null;try{null===(n=g.pokeSamplingProfiler())?console.log('The JSC Sampling Profiler has started'):console.log('The JSC Sampling Profiler has stopped')}catch(o){console.log('Error occurred when restarting Sampling Profiler: '+o.toString()),l=o.toString()}var t=r(d[0]).default;t&&t.operationComplete(o,n,l)}};m.exports=o},144,[145]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l=t(r(d[1])).get('JSCSamplingProfiler');e.default=l},145,[23,24]);
__d(function(g,r,i,a,m,e,d){'use strict';var o=r(d[0]),n={log:'log',info:'info',warn:'warn',error:'error',fatal:'error'},l=null,t={logIfNoNativeHook:function(o){for(var n=arguments.length,f=new Array(n>1?n-1:0),c=1;c<n;c++)f[c-1]=arguments[c];void 0===g.nativeLoggingHook?t.logToConsole.apply(t,[o].concat(f)):l&&'warn'===o&&l.apply(void 0,f)},logToConsole:function(l){var t,f=n[l];o(f,'Level "'+l+'" not one of '+Object.keys(n).toString());for(var c=arguments.length,v=new Array(c>1?c-1:0),s=1;s<c;s++)v[s-1]=arguments[s];(t=console)[f].apply(t,v)},setWarningHandler:function(o){l=o}};m.exports=t},146,[17]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);m.exports=t},147,[41]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])();m.exports=t},148,[149]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),s=(r(d[1]),g.nativeQPLTimestamp||g.nativePerformanceNow||r(d[2])),n={};m.exports=function(){return{_timespans:{},_extras:{},_points:{},addTimespan:function(t,s,n){this._timespans[t]||(this._timespans[t]={description:n,totalTime:s})},startTimespan:function(o,p){this._timespans[o]||(this._timespans[o]={description:p,startTime:s()},n[o]=t.beginAsyncEvent(o))},stopTimespan:function(o){var p=this._timespans[o];p&&p.startTime&&(p.endTime||(p.endTime=s(),p.totalTime=p.endTime-(p.startTime||0),t.endAsyncEvent(o,n[o]),delete n[o]))},clear:function(){this._timespans={},this._extras={},this._points={}},clearCompleted:function(){for(var t in this._timespans)this._timespans[t].totalTime&&delete this._timespans[t];this._extras={},this._points={}},clearExceptTimespans:function(t){this._timespans=Object.keys(this._timespans).reduce(function(s,n){return-1!==t.indexOf(n)&&(s[n]=this._timespans[n]),s},{}),this._extras={},this._points={}},currentTimestamp:function(){return s()},getTimespans:function(){return this._timespans},hasTimespan:function(t){return!!this._timespans[t]},logTimespans:function(){},addTimespans:function(t,s){for(var n=0,o=t.length;n<o;n+=2){var p=s[n/2];this.addTimespan(p,t[n+1]-t[n],p)}},setExtra:function(t,s){this._extras[t]||(this._extras[t]=s)},getExtras:function(){return this._extras},removeExtra:function(t){var s=this._extras[t];return delete this._extras[t],s},logExtras:function(){},markPoint:function(t,n){this._points[t]||(this._points[t]=null!=n?n:s())},getPoints:function(){return this._points},logPoints:function(){},logEverything:function(){this.logTimespans(),this.logExtras(),this.logPoints()}}}},149,[37,150,109]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(){var n;return(n=console).log.apply(n,arguments)}},150,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])(r(d[1])),_=r(d[2]),o={getJSHierarchy:function(o){if(t.default){var n=t.default.getConstants();try{var E=(0,_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.computeComponentStackForErrorReporting)(o);E?t.default.onSuccess(E):t.default.onFailure(n.ERROR_CODE_VIEW_NOT_FOUND,"Component stack doesn't exist for tag "+o)}catch(_){t.default.onFailure(n.ERROR_CODE_EXCEPTION,_.message)}}}};m.exports=o},151,[1,152,84]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])).get('JSDevSupport');e.default=u},152,[23,24]);
__d(function(g,r,i,a,m,e,d){'use strict';var n={setup:function(){},enable:function(){console.error("Fast Refresh is disabled in JavaScript bundles built in production mode. Did you forget to run Metro?")},disable:function(){},registerBundle:function(){},log:function(){}};m.exports=n},153,[]);
__d(function(g,r,i,a,m,e,d){'use strict';g.__fetchSegment=function(t,n,c){r(d[0]).default.fetchSegment(t,n,function(t){if(t){var n=new Error(t.message);n.code=t.code,c(n)}c(null)})},g.__getSegment=function(t,n,c){var f=r(d[0]).default;if(!f.getSegment)throw new Error('SegmentFetcher.getSegment must be defined');f.getSegment(t,n,function(t,n){if(t){var f=new Error(t.message);f.code=t.code,c(f)}c(null,n)})}},154,[155]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])).getEnforcing('SegmentFetcher');e.default=n},155,[23,24]);
__d(function(g,r,i,a,m,e,d){m.exports={get BatchedBridge(){return r(d[0])},get ExceptionsManager(){return r(d[1])},get Platform(){return r(d[2])},get RCTEventEmitter(){return r(d[3])},get ReactNativeViewConfigRegistry(){return r(d[4])},get TextInputState(){return r(d[5])},get UIManager(){return r(d[6])},get deepDiffer(){return r(d[7])},get deepFreezeAndThrowOnMutationInDev(){return r(d[8])},get flattenStyle(){return r(d[9])},get ReactFiberErrorDialog(){return r(d[10])}}},156,[30,91,53,157,158,159,48,160,38,81,161]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n={register:function(n){t.registerCallableModule('RCTEventEmitter',n)}};m.exports=n},157,[30]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n={},s={};e.customBubblingEventTypes=n,e.customDirectEventTypes=s;var o=new Map,u=new Map;function f(t){var o=t.bubblingEventTypes,u=t.directEventTypes;if(null!=o)for(var f in o)null==n[f]&&(n[f]=o[f]);if(null!=u)for(var l in u)null==s[l]&&(s[l]=u[l])}e.register=function(n,s){return t(!o.has(n),'Tried to register two views with the same name %s',n),o.set(n,s),n},e.get=function(n){var s;if(u.has(n))s=u.get(n);else{var l=o.get(n);'function'!=typeof l&&t(!1,'View config not found for name %s.%s',n,'string'==typeof n[0]&&/[a-z]/.test(n[0])?' Make sure to start component names with a capital letter.':''),o.set(n,null),f(s=l()),u.set(n,s)}return t(s,'View config not found for name %s',n),s}},158,[17]);
__d(function(g,r,i,a,m,e,d){'use strict';r(d[0]);var n=r(d[1]),t=null,u=new Set;m.exports={currentlyFocusedField:function(){return t},focusTextInput:function(u){t!==u&&null!==u&&(t=u,n.dispatchViewManagerCommand(u,n.getViewManagerConfig('AndroidTextInput').Commands.focusTextInput,null))},blurTextInput:function(u){t===u&&null!==u&&(t=null,n.dispatchViewManagerCommand(u,n.getViewManagerConfig('AndroidTextInput').Commands.blurTextInput,null))},registerInput:function(n){u.add(n)},unregisterInput:function(n){u.delete(n)},isTextInput:function(n){return u.has(n)}}},159,[53,48]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function t(n,f){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(0===o)return!0;if(n===f)return!1;if('function'==typeof n&&'function'==typeof f)return!1;if('object'!=typeof n||null===n)return n!==f;if('object'!=typeof f||null===f)return!0;if(n.constructor!==f.constructor)return!0;if(Array.isArray(n)){var u=n.length;if(f.length!==u)return!0;for(var c=0;c<u;c++)if(t(n[c],f[c],o-1))return!0}else{for(var l in n)if(t(n[l],f[l],o-1))return!0;for(var v in f)if(void 0===n[v]&&void 0!==f[v])return!0}return!1}},160,[]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);m.exports={showErrorDialog:function(o){var t,c=o.componentStack,p=o.error;t=p instanceof Error?p:'string'==typeof p?new n.SyntheticError(p):new n.SyntheticError('Unspecified error');try{t.componentStack=c}catch(n){}return(0,n.handleException)(t,!1),!1}}},161,[91]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])},162,[163]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0});var n=void 0,t=void 0,l=void 0,o=void 0,u=void 0;if(e.unstable_now=void 0,e.unstable_forceFrameRate=void 0,"undefined"==typeof window||"function"!=typeof MessageChannel){var s=null,c=null,f=function(){if(null!==s)try{var n=e.unstable_now();s(!0,n),s=null}catch(n){throw setTimeout(f,0),n}};e.unstable_now=function(){return Date.now()},n=function(t){null!==s?setTimeout(n,0,t):(s=t,setTimeout(f,0))},t=function(n,t){c=setTimeout(n,t)},l=function(){clearTimeout(c)},o=function(){return!1},u=e.unstable_forceFrameRate=function(){}}else{var p=window.performance,v=window.Date,b=window.setTimeout,w=window.clearTimeout,y=window.requestAnimationFrame,_=window.cancelAnimationFrame;"undefined"!=typeof console&&("function"!=typeof y&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof _&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")),e.unstable_now="object"==typeof p&&"function"==typeof p.now?function(){return p.now()}:function(){return v.now()};var x=!1,h=null,T=-1,k=-1,F=33.33,P=-1,M=-1,C=0,A=!1;o=function(){return e.unstable_now()>=C},u=function(){},e.unstable_forceFrameRate=function(n){0>n||125<n?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):0<n?(F=Math.floor(1e3/n),A=!0):(F=33.33,A=!1)};var L=function(){if(null!==h){var n=e.unstable_now(),t=0<C-n;try{h(t,n)||(h=null)}catch(n){throw j.postMessage(null),n}}},R=new MessageChannel,j=R.port2;R.port1.onmessage=L;var q=function n(t){if(null===h)M=P=-1,x=!1;else{x=!0,y(function(t){w(T),n(t)});if(T=b(function n(){C=e.unstable_now()+F/2,L(),T=b(n,3*F)},3*F),-1!==P&&.1<t-P){var l=t-P;!A&&-1!==M&&l<F&&M<F&&(8.33>(F=l<M?M:l)&&(F=8.33)),M=l}P=t,C=t+F,j.postMessage(null)}};n=function(n){h=n,x||(x=!0,y(function(n){q(n)}))},t=function e(n,t){k=b(function(){n(e.unstable_now())},t)},l=function(){w(k),k=-1}}var D=null,E=null,I=null,N=3,B=!1,O=!1,U=!1;function W(n,t){var l=n.next;if(l===n)D=null;else{n===D&&(D=l);var o=n.previous;o.next=l,l.previous=o}n.next=n.previous=null,l=n.callback,o=N;var u=I;N=n.priorityLevel,I=n;try{var s=n.expirationTime<=t;switch(N){case 1:var c=l(s);break;case 2:case 3:case 4:c=l(s);break;case 5:c=l(s)}}catch(n){throw n}finally{N=o,I=u}if("function"==typeof c)if(t=n.expirationTime,n.callback=c,null===D)D=n.next=n.previous=n;else{c=null,s=D;do{if(t<=s.expirationTime){c=s;break}s=s.next}while(s!==D);null===c?c=D:c===D&&(D=n),(t=c.previous).next=c.previous=n,n.next=c,n.previous=t}}function Y(n){if(null!==E&&E.startTime<=n)do{var t=E,l=t.next;if(t===l)E=null;else{E=l;var o=t.previous;o.next=l,l.previous=o}t.next=t.previous=null,J(t,t.expirationTime)}while(null!==E&&E.startTime<=n)}function z(l){U=!1,Y(l),O||(null!==D?(O=!0,n(G)):null!==E&&t(z,E.startTime-l))}function G(n,u){O=!1,U&&(U=!1,l()),Y(u),B=!0;try{if(n){if(null!==D)do{W(D,u),Y(u=e.unstable_now())}while(null!==D&&!o())}else for(;null!==D&&D.expirationTime<=u;)W(D,u),Y(u=e.unstable_now());return null!==D||(null!==E&&t(z,E.startTime-u),!1)}finally{B=!1}}function H(n){switch(n){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}function J(n,t){if(null===D)D=n.next=n.previous=n;else{var l=null,o=D;do{if(t<o.expirationTime){l=o;break}o=o.next}while(o!==D);null===l?l=D:l===D&&(D=n),(t=l.previous).next=l.previous=n,n.next=l,n.previous=t}}var K=u;e.unstable_ImmediatePriority=1,e.unstable_UserBlockingPriority=2,e.unstable_NormalPriority=3,e.unstable_IdlePriority=5,e.unstable_LowPriority=4,e.unstable_runWithPriority=function(n,t){switch(n){case 1:case 2:case 3:case 4:case 5:break;default:n=3}var l=N;N=n;try{return t()}finally{N=l}},e.unstable_next=function(n){switch(N){case 1:case 2:case 3:var t=3;break;default:t=N}var l=N;N=t;try{return n()}finally{N=l}},e.unstable_scheduleCallback=function(o,u,s){var c=e.unstable_now();if("object"==typeof s&&null!==s){var f=s.delay;f="number"==typeof f&&0<f?c+f:c,s="number"==typeof s.timeout?s.timeout:H(o)}else s=H(o),f=c;if(o={callback:u,priorityLevel:o,startTime:f,expirationTime:s=f+s,next:null,previous:null},f>c){if(s=f,null===E)E=o.next=o.previous=o;else{u=null;var p=E;do{if(s<p.startTime){u=p;break}p=p.next}while(p!==E);null===u?u=E:u===E&&(E=o),(s=u.previous).next=u.previous=o,o.next=u,o.previous=s}null===D&&E===o&&(U?l():U=!0,t(z,f-c))}else J(o,s),O||B||(O=!0,n(G));return o},e.unstable_cancelCallback=function(n){var t=n.next;if(null!==t){if(n===t)n===D?D=null:n===E&&(E=null);else{n===D?D=t:n===E&&(E=t);var l=n.previous;l.next=t,t.previous=l}n.next=n.previous=null}},e.unstable_wrapCallback=function(n){var t=N;return function(){var l=N;N=t;try{return n.apply(this,arguments)}finally{N=l}}},e.unstable_getCurrentPriorityLevel=function(){return N},e.unstable_shouldYield=function(){var n=e.unstable_now();return Y(n),null!==I&&null!==D&&D.startTime<=n&&D.expirationTime<I.expirationTime||o()},e.unstable_requestPaint=K,e.unstable_continueExecution=function(){O||B||(O=!0,n(G))},e.unstable_pauseExecution=function(){},e.unstable_getFirstCallbackNode=function(){return D}},163,[]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports={uiViewClassName:'RCTView',bubblingEventTypes:{topSelect:{phasedRegistrationNames:{bubbled:'onSelect',captured:'onSelectCapture'}}},directEventTypes:{topClick:{registrationName:'onClick'},topContentSizeChange:{registrationName:'onContentSizeChange'},topLoadingError:{registrationName:'onLoadingError'},topLoadingFinish:{registrationName:'onLoadingFinish'},topLoadingStart:{registrationName:'onLoadingStart'},topMessage:{registrationName:'onMessage'},topMomentumScrollBegin:{registrationName:'onMomentumScrollBegin'},topMomentumScrollEnd:{registrationName:'onMomentumScrollEnd'},topScroll:{registrationName:'onScroll'},topScrollBeginDrag:{registrationName:'onScrollBeginDrag'},topScrollEndDrag:{registrationName:'onScrollEndDrag'},topSelectionChange:{registrationName:'onSelectionChange'}},validAttributes:{hasTVPreferredFocus:!0,focusable:!0,nativeBackgroundAndroid:!0,nativeForegroundAndroid:!0,nextFocusDown:!0,nextFocusForward:!0,nextFocusLeft:!0,nextFocusRight:!0,nextFocusUp:!0}}},164,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=t(r(d[1])),c=t(r(d[2]));function o(t,n){var c=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),c.push.apply(c,o)}return c}function s(t){for(var c=1;c<arguments.length;c++){var s=null!=arguments[c]?arguments[c]:{};c%2?o(Object(s),!0).forEach(function(c){(0,n.default)(t,c,s[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}var b=r(d[3]),u=r(d[4]);m.exports=function(t,n){var o={uiViewClassName:t,Commands:{},bubblingEventTypes:s({},u.bubblingEventTypes,{},n.bubblingEventTypes||{}),directEventTypes:s({},u.directEventTypes,{},n.directEventTypes||{}),validAttributes:s({},u.validAttributes,{},n.validAttributes||{})};b.register(t,function(){return(0,c.default)(t,o),o})}},165,[1,51,166,158,167]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.lefthandObjectDiff=function t(n,u){var o={};function c(n,f,u){if(typeof n==typeof f||null==n)if('object'!=typeof n)n===f||(o[u]=f);else{var c=t(n,f);Object.keys(c).length>1&&(o[u]=c)}else o[u]=f}for(var l in n)f.includes(l)||(u?n.hasOwnProperty(l)&&c(n[l],u[l],l):o[l]={});return o},e.getConfigWithoutViewProps=function(t,f){if(!t[f])return{};return Object.keys(t[f]).filter(function(t){return!n.default[f][t]}).reduce(function(n,u){return n[u]=t[f][u],n},{})},e.stringifyViewConfig=function(t){return JSON.stringify(t,function(t,n){return'function'==typeof n?"\u0192 "+n.name:n},2)},e.default=void 0;var n=t(r(d[1])),f=(r(d[2]),['transform','hitSlop']);var u=function(t,n){};e.default=u},166,[1,167,170]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),o=t(r(d[1])),s=t(r(d[2]));function n(t,o){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);o&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),s.push.apply(s,n)}return s}function c(t){for(var s=1;s<arguments.length;s++){var c=null!=arguments[s]?arguments[s]:{};s%2?n(Object(c),!0).forEach(function(s){(0,o.default)(t,s,c[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(c)):n(Object(c)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(c,o))})}return t}var p={uiViewClassName:'RCTView',baseModuleName:null,Manager:'ViewManager',Commands:{},Constants:{},bubblingEventTypes:c({},s.default.bubblingEventTypes,{topBlur:{phasedRegistrationNames:{bubbled:'onBlur',captured:'onBlurCapture'}},topChange:{phasedRegistrationNames:{bubbled:'onChange',captured:'onChangeCapture'}},topEndEditing:{phasedRegistrationNames:{bubbled:'onEndEditing',captured:'onEndEditingCapture'}},topFocus:{phasedRegistrationNames:{bubbled:'onFocus',captured:'onFocusCapture'}},topKeyPress:{phasedRegistrationNames:{bubbled:'onKeyPress',captured:'onKeyPressCapture'}},topPress:{phasedRegistrationNames:{bubbled:'onPress',captured:'onPressCapture'}},topSubmitEditing:{phasedRegistrationNames:{bubbled:'onSubmitEditing',captured:'onSubmitEditingCapture'}},topTouchCancel:{phasedRegistrationNames:{bubbled:'onTouchCancel',captured:'onTouchCancelCapture'}},topTouchEnd:{phasedRegistrationNames:{bubbled:'onTouchEnd',captured:'onTouchEndCapture'}},topTouchMove:{phasedRegistrationNames:{bubbled:'onTouchMove',captured:'onTouchMoveCapture'}},topTouchStart:{phasedRegistrationNames:{bubbled:'onTouchStart',captured:'onTouchStartCapture'}}}),directEventTypes:c({},s.default.directEventTypes,{topAccessibilityAction:{registrationName:'onAccessibilityAction'},topAccessibilityEscape:{registrationName:'onAccessibilityEscape'},topAccessibilityTap:{registrationName:'onAccessibilityTap'},topLayout:{registrationName:'onLayout'},topMagicTap:{registrationName:'onMagicTap'},onGestureHandlerEvent:{registrationName:'onGestureHandlerEvent'},onGestureHandlerStateChange:{registrationName:'onGestureHandlerStateChange'}}),validAttributes:c({},s.default.validAttributes,{accessibilityActions:!0,accessibilityElementsHidden:!0,accessibilityHint:!0,accessibilityIgnoresInvertColors:!0,accessibilityLabel:!0,accessibilityLiveRegion:!0,accessibilityRole:!0,accessibilityStates:!0,accessibilityState:!0,accessibilityViewIsModal:!0,accessible:!0,alignContent:!0,alignItems:!0,alignSelf:!0,aspectRatio:!0,backfaceVisibility:!0,backgroundColor:{process:r(d[3])},borderBottomColor:{process:r(d[3])},borderBottomEndRadius:!0,borderBottomLeftRadius:!0,borderBottomRightRadius:!0,borderBottomStartRadius:!0,borderBottomWidth:!0,borderColor:{process:r(d[3])},borderEndColor:{process:r(d[3])},borderEndWidth:!0,borderLeftColor:{process:r(d[3])},borderLeftWidth:!0,borderRadius:!0,borderRightColor:{process:r(d[3])},borderRightWidth:!0,borderStartColor:{process:r(d[3])},borderStartWidth:!0,borderStyle:!0,borderTopColor:{process:r(d[3])},borderTopEndRadius:!0,borderTopLeftRadius:!0,borderTopRightRadius:!0,borderTopStartRadius:!0,borderTopWidth:!0,borderWidth:!0,bottom:!0,clickable:!0,collapsable:!0,direction:!0,display:!0,elevation:!0,end:!0,flex:!0,flexBasis:!0,flexDirection:!0,flexGrow:!0,flexShrink:!0,flexWrap:!0,height:!0,hitSlop:{diff:r(d[4])},importantForAccessibility:!0,justifyContent:!0,left:!0,margin:!0,marginBottom:!0,marginEnd:!0,marginHorizontal:!0,marginLeft:!0,marginRight:!0,marginStart:!0,marginTop:!0,marginVertical:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,nativeID:!0,needsOffscreenAlphaCompositing:!0,onAccessibilityAction:!0,onAccessibilityEscape:!0,onAccessibilityTap:!0,onLayout:!0,onMagicTap:!0,opacity:!0,overflow:!0,padding:!0,paddingBottom:!0,paddingEnd:!0,paddingHorizontal:!0,paddingLeft:!0,paddingRight:!0,paddingStart:!0,paddingTop:!0,paddingVertical:!0,pointerEvents:!0,position:!0,removeClippedSubviews:!0,renderToHardwareTextureAndroid:!0,right:!0,rotation:!0,scaleX:!0,scaleY:!0,shadowColor:{process:r(d[3])},shadowOffset:{diff:r(d[5])},shadowOpacity:!0,shadowRadius:!0,shouldRasterizeIOS:!0,start:!0,style:{alignContent:!0,alignItems:!0,alignSelf:!0,aspectRatio:!0,backfaceVisibility:!0,backgroundColor:{process:r(d[3])},borderBottomColor:{process:r(d[3])},borderBottomEndRadius:!0,borderBottomLeftRadius:!0,borderBottomRightRadius:!0,borderBottomStartRadius:!0,borderBottomWidth:!0,borderColor:{process:r(d[3])},borderEndColor:{process:r(d[3])},borderEndWidth:!0,borderLeftColor:{process:r(d[3])},borderLeftWidth:!0,borderRadius:!0,borderRightColor:{process:r(d[3])},borderRightWidth:!0,borderStartColor:{process:r(d[3])},borderStartWidth:!0,borderStyle:!0,borderTopColor:{process:r(d[3])},borderTopEndRadius:!0,borderTopLeftRadius:!0,borderTopRightRadius:!0,borderTopStartRadius:!0,borderTopWidth:!0,borderWidth:!0,bottom:!0,color:{process:r(d[3])},decomposedMatrix:!0,direction:!0,display:!0,elevation:!0,end:!0,flex:!0,flexBasis:!0,flexDirection:!0,flexGrow:!0,flexShrink:!0,flexWrap:!0,fontFamily:!0,fontSize:!0,fontStyle:!0,fontVariant:!0,fontWeight:!0,height:!0,includeFontPadding:!0,justifyContent:!0,left:!0,letterSpacing:!0,lineHeight:!0,margin:!0,marginBottom:!0,marginEnd:!0,marginHorizontal:!0,marginLeft:!0,marginRight:!0,marginStart:!0,marginTop:!0,marginVertical:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,opacity:!0,overflow:!0,overlayColor:{process:r(d[3])},padding:!0,paddingBottom:!0,paddingEnd:!0,paddingHorizontal:!0,paddingLeft:!0,paddingRight:!0,paddingStart:!0,paddingTop:!0,paddingVertical:!0,position:!0,resizeMode:!0,right:!0,rotation:!0,scaleX:!0,scaleY:!0,shadowColor:{process:r(d[3])},shadowOffset:{diff:r(d[5])},shadowOpacity:!0,shadowRadius:!0,start:!0,textAlign:!0,textAlignVertical:!0,textDecorationColor:{process:r(d[3])},textDecorationLine:!0,textDecorationStyle:!0,textShadowColor:{process:r(d[3])},textShadowOffset:!0,textShadowRadius:!0,textTransform:!0,tintColor:{process:r(d[3])},top:!0,transform:{diff:r(d[6])},transformMatrix:!0,translateX:!0,translateY:!0,width:!0,writingDirection:!0,zIndex:!0},testID:!0,top:!0,transform:{diff:r(d[6])},translateX:!0,translateY:!0,width:!0,zIndex:!0})};m.exports=p},167,[1,51,164,76,168,79,169]);
__d(function(g,r,i,a,m,e,d){'use strict';var t={top:void 0,left:void 0,right:void 0,bottom:void 0};m.exports=function(o,f){return(o=o||t)!==(f=f||t)&&(o.top!==f.top||o.left!==f.left||o.right!==f.right||o.bottom!==f.bottom)}},168,[]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(t,n){return!(t===n||t&&n&&t[12]===n[12]&&t[13]===n[13]&&t[14]===n[14]&&t[5]===n[5]&&t[10]===n[10]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]&&t[4]===n[4]&&t[6]===n[6]&&t[7]===n[7]&&t[8]===n[8]&&t[9]===n[9]&&t[11]===n[11]&&t[15]===n[15])}},169,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]);function o(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);n&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,s)}return o}function s(t){for(var s=1;s<arguments.length;s++){var c=null!=arguments[s]?arguments[s]:{};s%2?o(Object(c),!0).forEach(function(o){n(t,o,c[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(c)):o(Object(c)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(c,n))})}return t}var c=r(d[2]),u=r(d[3]),l=r(d[4]),p=r(d[5]),b=r(d[6]),v=r(d[7]),f=r(d[8]),y=r(d[9]),O=r(d[10]),C=r(d[11]),E=r(d[12]);var w=!1;function T(t){var n=u.getConstants();n.ViewManagerNames||n.LazyViewManagersEnabled?t=P(t,u.getDefaultEventTypes()):(t.bubblingEventTypes=P(t.bubblingEventTypes,n.genericBubblingEventTypes),t.directEventTypes=P(t.directEventTypes,n.genericDirectEventTypes))}function P(t,n){if(!n)return t;if(!t)return n;for(var o in n)if(n.hasOwnProperty(o)){var s=n[o];if(t.hasOwnProperty(o)){var c=t[o];'object'==typeof s&&'object'==typeof c&&(s=P(c,s))}t[o]=s}return t}function j(t){switch(t){case'CATransform3D':return b;case'CGPoint':return v;case'CGSize':return C;case'UIEdgeInsets':return l}return null}function h(t){switch(t){case'CGColor':case'UIColor':return f;case'CGColorArray':case'UIColorArray':return y;case'CGImage':case'UIImage':case'RCTImageSource':return O;case'Color':return f;case'ColorArray':return y}return null}m.exports=function(n){var o=u.getViewManagerConfig(n);p(null!=o&&null!=o.NativeProps,'requireNativeComponent: "%s" was not found in the UIManager.',n);for(var l=o.baseModuleName,b=o.bubblingEventTypes,v=o.directEventTypes,f=o.NativeProps;l;){var y=u.getViewManagerConfig(l);y?(b=s({},y.bubblingEventTypes,{},b),v=s({},y.directEventTypes,{},v),f=s({},y.NativeProps,{},f),l=y.baseModuleName):(E(!1,'Base module "%s" does not exist',l),l=null)}var O={};for(var C in f){var P=f[C],I=j(P),N=h(P);O[C]=null==I&&null==N||{diff:I,process:N}}return O.style=c,t(o,{uiViewClassName:n,validAttributes:O,bubblingEventTypes:b,directEventTypes:v}),w||(T(o),w=!0),o}},170,[15,51,63,48,168,17,169,171,76,172,173,79,19]);
__d(function(g,r,i,a,m,e,d){'use strict';var t={x:void 0,y:void 0};m.exports=function(n,o){return(n=n||t)!==(o=o||t)&&(n.x!==o.x||n.y!==o.y)}},171,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]);m.exports=function(t){return null==t?null:t.map(n)}},172,[76]);
__d(function(g,r,i,a,m,e,d){'use strict';var t,n,s,u,o=r(d[0]),f=r(d[1]);function c(){if(u)return u;var t=g.nativeExtensions&&g.nativeExtensions.SourceCode;return t||(t=r(d[2]).default),u=t.getConstants().scriptURL}function l(){if(void 0===n){var t=c(),s=t&&t.match(/^https?:\/\/.*?\//);n=s?s[0]:null}return n}function v(t){if(t){if(t.startsWith('assets://'))return null;(t=t.substring(0,t.lastIndexOf('/')+1)).includes('://')||(t='file://'+t)}return t}m.exports=function(n){if('object'==typeof n)return n;var u=o.getAssetByID(n);if(!u)return null;var p=new f(l(),(void 0===s&&(s=v(c())),s),u);return t?t(p):p.defaultAsset()},m.exports.pickScale=f.pickScale,m.exports.setCustomSourceTransformer=function(n){t=n}},173,[174,175,177]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=[];m.exports={registerAsset:function(s){return t.push(s)},getAssetByID:function(s){return t[s-1]}}},174,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),s=r(d[1]),n=r(d[2]),u=(r(d[3]),r(d[4])),o=r(d[5]);function l(t){var s=c.pickScale(t.scales,n.get()),o=1===s?'':'@'+s+'x';return u.getBasePath(t)+'/'+t.name+o+'.'+t.type}function h(t){var s=c.pickScale(t.scales,n.get());return u.getAndroidResourceFolderName(t,s)+'/'+u.getAndroidResourceIdentifier(t)+'.'+t.type}var c=(function(){function c(s,n,u){t(this,c),this.serverUrl=s,this.jsbundleUrl=n,this.asset=u}return s(c,[{key:"isLoadedFromServer",value:function(){return!!this.serverUrl}},{key:"isLoadedFromFileSystem",value:function(){return!(!this.jsbundleUrl||!this.jsbundleUrl.startsWith('file://'))}},{key:"defaultAsset",value:function(){return this.isLoadedFromServer()?this.assetServerURL():this.isLoadedFromFileSystem()?this.drawableFolderInBundle():this.resourceIdentifierWithoutScale()}},{key:"assetServerURL",value:function(){return o(!!this.serverUrl,'need server to load from'),this.fromSource(this.serverUrl+l(this.asset)+"?platform=android&hash="+this.asset.hash)}},{key:"scaledAssetPath",value:function(){return this.fromSource(l(this.asset))}},{key:"scaledAssetURLNearBundle",value:function(){var t=this.jsbundleUrl||'file://';return this.fromSource(t+l(this.asset))}},{key:"resourceIdentifierWithoutScale",value:function(){return o(!0,'resource identifiers work on Android'),this.fromSource(u.getAndroidResourceIdentifier(this.asset))}},{key:"drawableFolderInBundle",value:function(){var t=this.jsbundleUrl||'file://';return this.fromSource(t+h(this.asset))}},{key:"fromSource",value:function(t){return{__packager_asset:!0,width:this.asset.width,height:this.asset.height,uri:t,scale:c.pickScale(this.asset.scales,n.get())}}}],[{key:"pickScale",value:function(t,s){for(var n=0;n<t.length;n++)if(t[n]>=s)return t[n];return t[t.length-1]||1}}]),c})();m.exports=c},175,[4,5,60,53,176,17]);
__d(function(g,r,i,a,m,e,d){'use strict';var t={.75:'ldpi',1:'mdpi',1.5:'hdpi',2:'xhdpi',3:'xxhdpi',4:'xxxhdpi'};function n(n){if(n.toString()in t)return t[n.toString()];throw new Error('no such scale '+n.toString())}var o=new Set(['gif','jpeg','jpg','png','svg','webp','xml']);function s(t){var n=t.httpServerLocation;return'/'===n[0]&&(n=n.substr(1)),n}m.exports={getAndroidAssetSuffix:n,getAndroidResourceFolderName:function(s,u){if(!o.has(s.type))return'raw';var c=n(u);if(!c)throw new Error("Don't know which android drawable suffix to use for scale: "+u+'\nAsset: '+JSON.stringify(s,null,'\t')+'\nPossible scales are:'+JSON.stringify(t,null,'\t'));return'drawable-'+c},getAndroidResourceIdentifier:function(t){return(s(t)+'/'+t.name).toLowerCase().replace(/\//g,'_').replace(/([^a-z0-9_])/g,'').replace(/^assets_/,'')},getBasePath:s}},176,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=t(r(d[1])).getEnforcing('SourceCode');e.default=o},177,[23,24]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]),t=r(d[1]);m.exports=function(u){return n(u,function(){return t(u)})}},178,[179,170]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]).ReactNativeViewConfigRegistry.register;m.exports=function(n,s){return t(n,s)}},179,[156]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=t(r(d[1])),f=t(r(d[2])),u=r(d[3]),l=u.forwardRef(function(t,l){return u.createElement(f.default,(0,n.default)({},t,{ref:l}))});l.defaultProps={styleAttr:'Normal',indeterminate:!0,animating:!0},m.exports=l},180,[1,15,181,12]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=(0,t(r(d[1])).default)('AndroidProgressBar');e.default=u},181,[1,182]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(r(d[1])),t=r(d[2]);var p=function(n,p){var f=p&&p.paperComponentName?p.paperComponentName:n;if(null!=p&&null!=p.paperComponentNameDeprecated)if(t.UIManager.getViewManagerConfig(n))f=n;else{if(null==p.paperComponentNameDeprecated||!t.UIManager.getViewManagerConfig(p.paperComponentNameDeprecated))throw new Error("Failed to find native component for either "+n+" or "+(p.paperComponentNameDeprecated||'(unknown)'));f=p.paperComponentNameDeprecated}return(0,o.default)(f)};e.default=p},182,[1,178,16]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=r(d[2]),l=r(d[3]),u=r(d[4]),s=r(d[5]),f=r(d[6]),c=r(d[7]),h=r(d[8]),p=r(d[9]),v=r(d[10]),y=r(d[11]),b=r(d[12]),k=r(d[13]);function S(t,n){if(null==t||null==n)return!0;if(t.length!==n.length)return!0;for(var o=0;o<t.length;o++)if(t[o]!==n[o])return!0;return!1}var w=b(v.UIView,{}),x={transform:{diff:S},opacity:!0},C=b(x,{clipping:{diff:S}}),T=b(x,{fill:{diff:S},stroke:{diff:S},strokeWidth:!0,strokeCap:!0,strokeJoin:!0,strokeDash:{diff:S}}),_=b(T,{d:{diff:S}}),A=b(T,{alignment:!0,frame:{diff:function(t,n){if(t===n)return!1;if(t.font!==n.font){if(null===t.font)return!0;if(null===n.font)return!0;if(t.font.fontFamily!==n.font.fontFamily||t.font.fontSize!==n.font.fontSize||t.font.fontWeight!==n.font.fontWeight||t.font.fontStyle!==n.font.fontStyle)return!0}return S(t.lines,n.lines)}},path:{diff:S}}),R=y('ARTSurfaceView',function(){return{validAttributes:w,uiViewClassName:'ARTSurfaceView'}}),W=y('ARTGroup',function(){return{validAttributes:C,uiViewClassName:'ARTGroup'}}),J=y('ARTShape',function(){return{validAttributes:_,uiViewClassName:'ARTShape'}}),V=y('ARTText',function(){return{validAttributes:A,uiViewClassName:'ARTText'}});function G(t){return t?'string'==typeof t?t:t.length?t.join('\n'):'':''}var I=(function(s){function f(){return t(this,f),o(this,l(f).apply(this,arguments))}return u(f,s),n(f,[{key:"getChildContext",value:function(){return{isInSurface:!0}}},{key:"render",value:function(){var t=N(this.props.height,0),n=N(this.props.width,0);return h.createElement(R,{style:[this.props.style,{height:t,width:n}]},this.props.children)}}]),f})(h.Component);function N(t,n){return null==t?n:+t}I.childContextTypes={isInSurface:p.bool};var z=new c;function D(t){var n=null!=t.scaleX?t.scaleX:null!=t.scale?t.scale:1,o=null!=t.scaleY?t.scaleY:null!=t.scale?t.scale:1;return z.transformTo(1,0,0,1,0,0).move(t.x||0,t.y||0).rotate(t.rotation||0,t.originX,t.originY).scale(n,o,t.originX,t.originY),null!=t.transform&&z.transform(t.transform),[z.xx,z.yx,z.xy,z.yy,z.x,z.y]}function E(t){return!1===t.visible?0:null==t.opacity?1:+t.opacity}var F=(function(s){function f(){return t(this,f),o(this,l(f).apply(this,arguments))}return u(f,s),n(f,[{key:"render",value:function(){var t=this.props;return k(this.context.isInSurface,'ART: <Group /> must be a child of a <Surface />'),h.createElement(W,{opacity:E(t),transform:D(t)},this.props.children)}}]),f})(h.Component);F.contextTypes={isInSurface:p.bool.isRequired};var M=(function(s){function f(){return t(this,f),o(this,l(f).apply(this,arguments))}return u(f,s),n(f,[{key:"render",value:function(){var t=this.props,n=[N(t.x,0),N(t.y,0),N(t.width,0),N(t.height,0)],o=b(t);return delete o.x,delete o.y,h.createElement(W,{clipping:n,opacity:E(t),transform:D(o)},this.props.children)}}]),f})(h.Component),P=0,X=1,Y=2,O=3;function q(t,n,o){var l=new s(t);n[o+0]=l.red/255,n[o+1]=l.green/255,n[o+2]=l.blue/255,n[o+3]=l.alpha}function j(t,n,o){var l=0;if('length'in t)for(;l<t.length;)q(t[l],n,o+4*l),l++;else for(var u in t)q(t[u],n,o+4*l),l++;return o+4*l}function L(t,n,o,l,u){var s,f=0;if('length'in t)for(;f<t.length;)s=f/(t.length-1)*l,n[o+f]=u?1-s:s,f++;else for(var c in t)s=+c*l,n[o+f]=u?1-s:s,f++;return o+f}function U(t,n,o){L(t,n,j(t,n,o),1,!1)}function $(t,n,o){var l=j(t,n,o);L(t,n,l=L(t,n,l=j(t,n,l),.5,!1),.5,!0)}function B(t,n){var o=t[0],l=+n.width,u=+n.height;o===X?(t[1]*=l,t[2]*=u,t[3]*=l,t[4]*=u):o===Y&&(t[1]*=l,t[2]*=u,t[3]*=l,t[4]*=u,t[5]*=l,t[6]*=u)}function H(t,n){if(null==t)return null;if(t._brush)return t._bb&&(B(t._brush,n),t._bb=!1),t._brush;var o=new s(t);return[P,o.red/255,o.green/255,o.blue/255,o.alpha]}function K(t){if(null==t)return null;var n=new s(t);return[n.red/255,n.green/255,n.blue/255,n.alpha]}function Q(t){switch(t){case'butt':return 0;case'square':return 2;default:return 1}}function Z(t){switch(t){case'miter':return 0;case'bevel':return 2;default:return 1}}var tt=(function(s){function c(){return t(this,c),o(this,l(c).apply(this,arguments))}return u(c,s),n(c,[{key:"render",value:function(){var t=this.props,n=t.d||G(t.children),o=(n instanceof f?n:new f(n)).toJSON();return h.createElement(J,{fill:H(t.fill,t),opacity:E(t),stroke:K(t.stroke),strokeCap:Q(t.strokeCap),strokeDash:t.strokeDash||null,strokeJoin:Z(t.strokeJoin),strokeWidth:N(t.strokeWidth,1),transform:D(t),d:o})}}]),c})(h.Component),nt={},et=/^[\s"']*/,rt=/[\s"']*$/;function it(t){return t.split(',')[0].replace(et,'').replace(rt,'')}function ot(t){if(nt.hasOwnProperty(t))return nt[t];var n=/^\s*((?:(?:normal|bold|italic)\s+)*)(?:(\d+(?:\.\d+)?)[ptexm\%]*(?:\s*\/.*?)?\s+)?\s*\"?([^\"]*)/i.exec(t);if(!n)return null;var o=it(n[3]),l=+n[2]||12,u=/bold/.exec(n[1]),s=/italic/.exec(n[1]);return nt[t]={fontFamily:o,fontSize:l,fontWeight:u?'bold':'normal',fontStyle:s?'italic':'normal'},nt[t]}function lt(t){return null==t?null:'string'==typeof t?ot(t):{fontFamily:it(t.fontFamily),fontSize:+t.fontSize||12,fontWeight:null!=t.fontWeight?t.fontWeight.toString():'400',fontStyle:t.fontStyle}}var ut=/\n/g;function at(t){switch(t){case'right':return 1;case'center':return 2;default:return 0}}var st=(function(s){function c(){return t(this,c),o(this,l(c).apply(this,arguments))}return u(c,s),n(c,[{key:"render",value:function(){var t,n,o=this.props,l=o.path,u=l?(l instanceof f?l:new f(l)).toJSON():null,s=(t=o.font,n=G(o.children),{font:lt(t),lines:n.split(ut)});return h.createElement(V,{fill:H(o.fill,o),opacity:E(o),stroke:K(o.stroke),strokeCap:Q(o.strokeCap),strokeDash:o.strokeDash||null,strokeJoin:Z(o.strokeJoin),strokeWidth:N(o.strokeWidth,1),transform:D(o),alignment:at(o.alignment),frame:s,path:u})}}]),c})(h.Component);var ft={LinearGradient:function(t,n,o,l,u){var s=X;if(arguments.length<5){var f=(null==n?270:n)*Math.PI/180,c=Math.cos(f),h=-Math.sin(f),p=(Math.abs(c)+Math.abs(h))/2;n=.5-(c*=p),l=.5+c,o=.5-(h*=p),u=.5+h,this._bb=!0}else this._bb=!1;var v=[s,+n,+o,+l,+u];U(t,v,5),this._brush=v},RadialGradient:function(t,n,o,l,u,s,f){null==u&&(u=l),null==s&&(s=n),null==f&&(f=o),null==n?(n=o=l=u=s=f=.5,this._bb=!0):this._bb=!1;var c=[Y,+n,+o,2*+l,2*+u,+s,+f];$(t,c,7),this._brush=c},Pattern:function(t,n,o,l,u){this._brush=[O,t,+l||0,+u||0,+n,+o]},Transform:c,Path:f,Surface:I,Group:F,ClippingRectangle:M,Shape:tt,Text:st};m.exports=ft},183,[4,5,6,9,10,184,185,188,12,68,189,179,190,17]);
__d(function(g,r,i,a,m,e,d){var t={maroon:'#800000',red:'#ff0000',orange:'#ffA500',yellow:'#ffff00',olive:'#808000',purple:'#800080',fuchsia:"#ff00ff",white:'#ffffff',lime:'#00ff00',green:'#008000',navy:'#000080',blue:'#0000ff',aqua:'#00ffff',teal:'#008080',black:'#000000',silver:'#c0c0c0',gray:'#808080'},n=function(t,n){for(var h=[],u=0,s=t.length;u<s;u++)h[u]=n(t[u],u);return h},h=function n(h,u){if(h.isColor)this.red=h.red,this.green=h.green,this.blue=h.blue,this.alpha=h.alpha;else{var s=t[h];switch(s&&(h=s,u='hex'),typeof h){case'string':u||(u=(u=h.match(/^rgb|^hsb|^hsl/))?u[0]:'hex');break;case'object':u=u||'rgb',h=h.toString();break;case'number':u='hex',h=h.toString(16)}h=n['parse'+u.toUpperCase()](h),this.red=h[0],this.green=h[1],this.blue=h[2],this.alpha=h[3]}this.isColor=!0},u=function(t,n,h){return Math.min(h,Math.max(n,t))},s=/([-.\d]+\%?)\s*,\s*([-.\d]+\%?)\s*,\s*([-.\d]+\%?)\s*,?\s*([-.\d]*\%?)/,o=/^#?([a-f0-9]{1,2})([a-f0-9]{1,2})([a-f0-9]{1,2})([a-f0-9]{0,2})$/i;h.parseRGB=function(t){return n(t.match(s).slice(1),function(t,n){return t&&(t=parseFloat(t)*('%'==t[t.length-1]?2.55:1)),n<3?Math.round((t%=256)<0?t+256:t):u(''===t?1:Number(t),0,1)})},h.parseHEX=function(t){return 1==t.length&&(t=t+t+t),n(t.match(o).slice(1),function(t,n){return 3==n?t?parseInt(t,16)/255:1:parseInt(1==t.length?t+t:t,16)})},h.parseHSB=function(t){var h=n(t.match(s).slice(1),function(t,n){return t&&(t=parseFloat(t)),0===n?Math.round((t%=360)<0?t+360:t):n<3?u(Math.round(t),0,100):u(''===t?1:Number(t),0,1)}),o=h[3],f=Math.round(h[2]/100*255);if(0==h[1])return[f,f,f,o];var l=h[0],c=l%60,b=Math.round(h[2]*(100-h[1])/1e4*255),p=Math.round(h[2]*(6e3-h[1]*c)/6e5*255),M=Math.round(h[2]*(6e3-h[1]*(60-c))/6e5*255);switch(Math.floor(l/60)){case 0:return[f,M,b,o];case 1:return[p,f,b,o];case 2:return[b,f,M,o];case 3:return[b,p,f,o];case 4:return[M,b,f,o];default:return[f,b,p,o]}},h.parseHSL=function(t){var h=n(t.match(s).slice(1),function(t,n){return t&&(t=parseFloat(t)),0===n?Math.round((t%=360)<0?t+360:t):n<3?u(Math.round(t),0,100):u(''===t?1:Number(t),0,1)}),o=h[0]/60,f=h[1]/100,l=h[2]/100,c=h[3],b=(1-Math.abs(2*l-1))*f,p=b*(1-Math.abs(o%2-1)),M=l-b/2,v=Math.round(255*(b+M)),x=Math.round(255*(p+M)),w=Math.round(255*M);switch(Math.floor(o)){case 0:return[v,x,w,c];case 1:return[x,v,w,c];case 2:return[w,v,x,c];case 3:return[w,x,v,c];case 4:return[x,w,v,c];default:return[v,w,x,c]}};var f=function(t,n){return 1!=n[3]?t+='a':n.pop(),t+'('+n.join(', ')+')'};(h.prototype={toHSB:function(t){var n=this.red,h=this.green,u=this.blue,s=this.alpha,o=Math.max(n,h,u),l=o-Math.min(n,h,u),c=0,b=0!=l?l/o:0,p=o/255;if(b){var M=(o-n)/l,v=(o-h)/l,x=(o-u)/l;c=n==o?x-v:h==o?2+M-x:4+v-M,(c/=6)<0&&c++}var w=[Math.round(360*c),Math.round(100*b),Math.round(100*p),s];return t?w:f('hsb',w)},toHSL:function(t){var n=this.red,h=this.green,u=this.blue,s=this.alpha,o=Math.max(n,h,u),l=Math.min(n,h,u),c=o-l,b=0,p=0!=c?c/(255-Math.abs(o+l-255)):0,M=(o+l)/512;if(p){var v=(o-n)/c,x=(o-h)/c,w=(o-u)/c;b=n==o?w-x:h==o?2+v-w:4+x-v,(b/=6)<0&&b++}var S=[Math.round(360*b),Math.round(100*p),Math.round(100*M),s];return t?S:f('hsl',S)},toHEX:function(t){var h=this.alpha,u=1==(h=Math.round(255*h).toString(16)).length?h+h:h,s=n([this.red,this.green,this.blue],function(t){return 1==(t=t.toString(16)).length?'0'+t:t});return t?s.concat(u):'#'+s.join('')+('ff'==u?'':u)},toRGB:function(t){var n=[this.red,this.green,this.blue,this.alpha];return t?n:f('rgb',n)}}).toString=h.prototype.toRGB,h.hex=function(t){return new h(t,'hex')},null==this.hex&&(this.hex=h.hex),h.hsb=function(t,n,u,s){return new h([t||0,n||0,u||0,null==s?1:s],'hsb')},null==this.hsb&&(this.hsb=h.hsb),h.hsl=function(t,n,u,s){return new h([t||0,n||0,u||0,null==s?1:s],'hsl')},null==this.hsl&&(this.hsl=h.hsl),h.rgb=function(t,n,u,s){return new h([t||0,n||0,u||0,null==s?1:s],'rgb')},null==this.rgb&&(this.rgb=h.rgb),h.detach=function(t){return t=new h(t),[h.rgb(t.red,t.green,t.blue).toString(),t.alpha]},m.exports=h},184,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),h=t(n,{initialize:function(t){this.reset(),t instanceof h?this.path=t.path.slice(0):t&&(t.applyToPath?t.applyToPath(this):this.push(t))},onReset:function(){this.path=[]},onMove:function(t,n,h,o){this.path.push(0,h,o)},onLine:function(t,n,h,o){this.path.push(2,h,o)},onBezierCurve:function(t,n,h,o,s,p,u,c){this.path.push(3,h,o,s,p,u,c)},_arcToBezier:n.prototype.onArc,onArc:function(t,n,h,o,s,p,u,c,f,l,z,T){if(u!==c||T)return this._arcToBezier(t,n,h,o,s,p,u,c,f,l,z,T);this.path.push(4,s,p,u,f,l,z?0:1)},onClose:function(){this.path.push(1)},toJSON:function(){return this.path}});m.exports=h},185,[186,187]);
__d(function(g,r,i,a,m,e,d){m.exports=function(t){for(var n={},o=0,c=arguments.length;o<c;o++){var u=arguments[o];for(var f in'function'==typeof u&&(u=u.prototype),u)n[f]=u[f]}return n.initialize||(n.initialize=function(){}),n.constructor=function(t,o,c,u,f,p,l,s){return new n.initialize(t,o,c,u,f,p,l,s)},n.constructor.prototype=n.initialize.prototype=n,n.constructor}},186,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);m.exports=t({initialize:function(t){this.reset().push(t)},push:function(){var t=Array.prototype.join.call(arguments,' ').match(/[a-df-z]|[\-+]?(?:[\d\.]e[\-+]?|[^\s\-+,a-z])+/gi);if(!t)return this;for(var n,s=t[0],h=1;s;){switch(s){case'm':this.move(t[h++],t[h++]);break;case'l':this.line(t[h++],t[h++]);break;case'c':this.curve(t[h++],t[h++],t[h++],t[h++],t[h++],t[h++]);break;case's':this.curve(t[h++],t[h++],null,null,t[h++],t[h++]);break;case'q':this.curve(t[h++],t[h++],t[h++],t[h++]);break;case't':this.curve(t[h++],t[h++]);break;case'a':this.arc(t[h+5],t[h+6],t[h],t[h+1],t[h+3],!+t[h+4],t[h+2]),h+=7;break;case'h':this.line(t[h++],0);break;case'v':this.line(0,t[h++]);break;case'M':this.moveTo(t[h++],t[h++]);break;case'L':this.lineTo(t[h++],t[h++]);break;case'C':this.curveTo(t[h++],t[h++],t[h++],t[h++],t[h++],t[h++]);break;case'S':this.curveTo(t[h++],t[h++],null,null,t[h++],t[h++]);break;case'Q':this.curveTo(t[h++],t[h++],t[h++],t[h++]);break;case'T':this.curveTo(t[h++],t[h++]);break;case'A':this.arcTo(t[h+5],t[h+6],t[h],t[h+1],t[h+3],!+t[h+4],t[h+2]),h+=7;break;case'H':this.lineTo(t[h++],this.penY);break;case'V':this.lineTo(this.penX,t[h++]);break;case'Z':case'z':this.close();break;default:s=n,h--;continue}'m'==(n=s)?n='l':'M'==n&&(n='L'),s=t[h++]}return this},reset:function(){return this.penX=this.penY=0,this.penDownX=this.penDownY=null,this._pivotX=this._pivotY=0,this.onReset(),this},move:function(t,n){return this.onMove(this.penX,this.penY,this._pivotX=this.penX+=+t,this._pivotY=this.penY+=+n),this},moveTo:function(t,n){return this.onMove(this.penX,this.penY,this._pivotX=this.penX=+t,this._pivotY=this.penY=+n),this},line:function(t,n){return this.lineTo(this.penX+ +t,this.penY+ +n)},lineTo:function(t,n){return null==this.penDownX&&(this.penDownX=this.penX,this.penDownY=this.penY),this.onLine(this.penX,this.penY,this._pivotX=this.penX=+t,this._pivotY=this.penY=+n),this},curve:function(t,n,s,h,o,u){var p=this.penX,c=this.penY;return this.curveTo(p+ +t,c+ +n,null==s?null:p+ +s,null==h?null:c+ +h,null==o?null:p+ +o,null==u?null:c+ +u)},curveTo:function(t,n,s,h,o,u){var p=this.penX,c=this.penY;return null==s&&(s=+t,h=+n,t=2*p-(this._pivotX||0),n=2*c-(this._pivotY||0)),null==o?(this._pivotX=+t,this._pivotY=+n,s=((o=+s)+2*+t)/3,h=((u=+h)+2*+n)/3,t=(p+2*+t)/3,n=(c+2*+n)/3):(this._pivotX=+s,this._pivotY=+h),null==this.penDownX&&(this.penDownX=p,this.penDownY=c),this.onBezierCurve(p,c,+t,+n,+s,+h,this.penX=+o,this.penY=+u),this},arc:function(t,n,s,h,o,u,p){return this.arcTo(this.penX+ +t,this.penY+ +n,s,h,o,u,p)},arcTo:function(t,n,s,h,o,u,p){if(h=Math.abs(+h||+s||+n-this.penY),!(s=Math.abs(+s||+t-this.penX))||!h||t==this.penX&&n==this.penY)return this.lineTo(t,n);var c=this.penX,l=this.penY,v=!+u,X=!!+o,Y=p?p*Math.PI/180:0,f=Math.cos(Y),M=Math.sin(Y),b=f*(t-=c)/2+M*(n-=l)/2,T=-M*t/2+f*n/2,k=s*s*h*h,w=h*h*b*b,_=s*s*T*T,D=k-_-w;if(D<0)s*=D=Math.sqrt(1-D/k),h*=D,b=t/2,T=n/2;else{D=Math.sqrt(D/(_+w)),X==v&&(D=-D);var z=-D*T*s/h,C=D*b*h/s;b=f*z-M*C+t/2,T=M*z+f*C+n/2}var B=f/s,A=M/s,L=-M/h,I=f/h,P=Math.atan2(L*-b+I*-T,B*-b+A*-T),N=Math.atan2(L*(t-b)+I*(n-T),B*(t-b)+A*(n-T));return b+=c,T+=l,t+=c,n+=l,null==this.penDownX&&(this.penDownX=this.penX,this.penDownY=this.penY),this.onArc(c,l,this._pivotX=this.penX=t,this._pivotY=this.penY=n,b,T,s,h,P,N,!v,p),this},counterArc:function(t,n,s,h,o){return this.arc(t,n,s,h,o,!0)},counterArcTo:function(t,n,s,h,o){return this.arcTo(t,n,s,h,o,!0)},close:function(){return null!=this.penDownX&&(this.onClose(this.penX,this.penY,this.penX=this.penDownX,this.penY=this.penDownY),this.penDownX=null),this},onReset:function(){},onMove:function(t,n,s,h){},onLine:function(t,n,s,h){this.onBezierCurve(t,n,t,n,s,h,s,h)},onBezierCurve:function(t,n,s,h,o,u,p,c){var l,v,X,Y,f,M=p-t,b=c-n,T=M*M+b*b;if((f=(X=s-t)*M+(Y=h-n)*b)>T?(X-=M,Y-=b):f>0&&0!=T&&(X-=f/T*M,Y-=f/T*b),l=X*X+Y*Y,(f=(X=o-t)*M+(Y=u-n)*b)>T?(X-=M,Y-=b):f>0&&0!=T&&(X-=f/T*M,Y-=f/T*b),v=X*X+Y*Y,l<.01&&v<.01)this.onLine(t,n,p,c);else{if(isNaN(l)||isNaN(v))throw new Error('Bad input');var k=.5*(s+o),w=.5*(h+u),_=.5*(s+t),D=.5*(h+n),z=.5*(_+k),C=.5*(D+w),B=.5*(p+o),A=.5*(c+u),L=.5*(B+k),I=.5*(A+w),P=.5*(z+L),N=.5*(C+I);this.onBezierCurve(t,n,_,D,z,C,P,N),this.onBezierCurve(P,N,L,I,B,A,p,c)}},onArc:function(t,n,s,h,o,u,p,c,l,v,X,Y){var f=Y?Y*Math.PI/180:0,M=Math.cos(f),b=Math.sin(f),T=M*p,k=-b*c,w=b*p,_=M*c,D=v-l;D<0&&!X?D+=2*Math.PI:D>0&&X&&(D-=2*Math.PI);for(var z=Math.ceil(Math.abs(D/(Math.PI/2))),C=D/z,B=1.3333333333333333*Math.tan(C/4),A=Math.cos(l),L=Math.sin(l),I=0;I<z;I++){var P=A-B*L,N=L+B*A;l+=C;var q=(A=Math.cos(l))+B*(L=Math.sin(l)),y=L-B*A;this.onBezierCurve(t,n,o+T*P+k*N,u+w*P+_*N,o+T*q+k*y,u+w*q+_*y,t=o+T*A+k*L,n=u+w*A+_*L)}},onClose:function(t,n,s,h){this.onLine(t,n,s,h)}})},187,[186]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);function s(t,s,h,x,y,n){return t&&'object'==typeof t&&(s=t.yx,x=t.yy,n=t.y,h=t.xy,y=t.x,t=t.xx),this.xx=null==t?1:t,this.yx=s||0,this.xy=h||0,this.yy=null==x?1:x,this.x=(null==y?this.x:y)||0,this.y=(null==n?this.y:n)||0,this._transform(),this}m.exports=t({initialize:s,_transform:function(){},xx:1,yx:0,x:0,xy:0,yy:1,y:0,transform:function(t,s,h,x,y,n){var o=this;return t&&'object'==typeof t&&(s=t.yx,x=t.yy,n=t.y,h=t.xy,y=t.x,t=t.xx),y||(y=0),n||(n=0),this.transformTo(o.xx*t+o.xy*s,o.yx*t+o.yy*s,o.xx*h+o.xy*x,o.yx*h+o.yy*x,o.xx*y+o.xy*n+o.x,o.yx*y+o.yy*n+o.y)},transformTo:s,translate:function(t,s){return this.transform(1,0,0,1,t,s)},move:function(t,s){return this.x+=t||0,this.y+=s||0,this._transform(),this},scale:function(t,s){return null==s&&(s=t),this.transform(t,0,0,s,0,0)},rotate:function(t,s,h){null!=s&&null!=h||(s=(this.left||0)+(this.width||0)/2,h=(this.top||0)+(this.height||0)/2);var x=t*Math.PI/180,y=Math.sin(x),n=Math.cos(x);this.transform(1,0,0,1,s,h);return this.transformTo(n*this.xx-y*this.yx,y*this.xx+n*this.yx,n*this.xy-y*this.yy,y*this.xy+n*this.yy,this.x,this.y).transform(1,0,0,1,-s,-h)},moveTo:function(t,s){return this.transformTo(this.xx,this.yx,this.xy,this.yy,t,s)},rotateTo:function(t,s,h){var x=this.yx/this.xx>this.yy/this.xy?-1:1;return(this.xx<0?this.xy>=0:this.xy<0)&&(x=-x),this.rotate(t-180*Math.atan2(x*this.yx,x*this.xx)/Math.PI,s,h)},scaleTo:function(t,s){var h=Math.sqrt(this.xx*this.xx+this.yx*this.yx);return this.xx/=h,this.yx/=h,h=Math.sqrt(this.yy*this.yy+this.xy*this.xy),this.yy/=h,this.xy/=h,this.scale(t,s)},resizeTo:function(t,s){var h=this.width,x=this.height;return h&&x?this.scaleTo(t/h,s/x):this},inversePoint:function(t,s){var h=this.xx,x=this.yx,y=this.xy,n=this.yy,o=this.x,u=this.y,f=x*y-h*n;return 0==f?null:{x:(n*(o-t)+y*(s-u))/f,y:(h*(u-s)+x*(t-o))/f}},point:function(t,s){return{x:this.xx*t+this.xy*s+this.x,y:this.yx*t+this.yy*s+this.y}}})},188,[186]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);function c(t,c){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);c&&(n=n.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),s.push.apply(s,n)}return s}var s={pointerEvents:!0,accessible:!0,accessibilityActions:!0,accessibilityLabel:!0,accessibilityLiveRegion:!0,accessibilityRole:!0,accessibilityStates:!0,accessibilityState:!0,accessibilityHint:!0,importantForAccessibility:!0,nativeID:!0,testID:!0,renderToHardwareTextureAndroid:!0,shouldRasterizeIOS:!0,onLayout:!0,onAccessibilityAction:!0,onAccessibilityTap:!0,onMagicTap:!0,onAccessibilityEscape:!0,collapsable:!0,needsOffscreenAlphaCompositing:!0,style:r(d[1])},n={UIView:s,RCTView:(function(s){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?c(Object(o),!0).forEach(function(c){t(s,c,o[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(o)):c(Object(o)).forEach(function(t){Object.defineProperty(s,t,Object.getOwnPropertyDescriptor(o,t))})}return s})({},s,{removeClippedSubviews:!0})};m.exports=n},189,[51,63]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]);m.exports=function(n,u){var c={};return t(c,n),t(c,u),c}},190,[191]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]),c=t.checkMergeObjectArg,n=t.checkMergeIntoObjectArg;m.exports=function(t,o){if(n(t),null!=o)for(var f in c(o),o)Object.prototype.hasOwnProperty.call(o,f)&&(t[f]=o[f])}},191,[192]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=function(t){return'object'!=typeof t||t instanceof Date||null===t},c={MAX_MERGE_DEPTH:36,isTerminal:n,normalizeMergeArg:function(t){return void 0===t||null===t?{}:t},checkMergeArrayArgs:function(n,c){t(Array.isArray(n)&&Array.isArray(c),'Tried to merge arrays, instead got %s and %s.',n,c)},checkMergeObjectArgs:function(t,n){c.checkMergeObjectArg(t),c.checkMergeObjectArg(n)},checkMergeObjectArg:function(c){t(!n(c)&&!Array.isArray(c),'Tried to merge an object, instead got %s.',c)},checkMergeIntoObjectArg:function(c){t(!(n(c)&&'function'!=typeof c||Array.isArray(c)),'Tried to merge into an object, instead got %s.',c)},checkMergeLevel:function(n){t(n<36,"Maximum deep merge depth exceeded. You may be attempting to merge circular structures in an unsupported way.")},checkArrayStrategy:function(n){t(void 0===n||n in c.ArrayStrategies,"You must provide an array strategy to deep merge functions to instruct the deep merge how to resolve merging two arrays.")},ArrayStrategies:{Clobber:'Clobber',Concat:'Concat',IndexByIndex:'IndexByIndex'}};m.exports=c},192,[17]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),o=r(d[1]),n=r(d[2]),s=r(d[3]),c=r(d[4]),u=r(d[5]);function l(t,o){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);o&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,s)}return n}r(d[6]);var b=r(d[7]),p=r(d[8]),f=r(d[9]),h=r(d[10]),y=(r(d[11]),r(d[12])),O=r(d[13]),x=(function(t){function l(){return o(this,l),s(this,c(l).apply(this,arguments))}return u(l,t),n(l,[{key:"render",value:function(){var t=this.props,o=t.accessibilityLabel,n=t.color,s=t.onPress,c=t.touchSoundDisabled,u=t.title,l=t.hasTVPreferredFocus,p=t.nextFocusDown,x=t.nextFocusForward,D=t.nextFocusLeft,v=t.nextFocusRight,P=t.nextFocusUp,j=t.disabled,w=t.testID,k=[F.button],C=[F.text];n&&k.push({backgroundColor:n});var E=[];j&&(k.push(F.buttonDisabled),C.push(F.textDisabled),E.push('disabled')),O('string'==typeof u,'The title prop of a Button must be a string');var S=u.toUpperCase(),L=h;return b.createElement(L,{accessibilityLabel:o,accessibilityRole:"button",accessibilityStates:E,hasTVPreferredFocus:l,nextFocusDown:p,nextFocusForward:x,nextFocusLeft:D,nextFocusRight:v,nextFocusUp:P,testID:w,disabled:j,onPress:s,touchSoundDisabled:c},b.createElement(y,{style:k},b.createElement(f,{style:C,disabled:j},S)))}}]),l})(b.Component),F=p.create({button:{elevation:4,backgroundColor:'#2196F3',borderRadius:2},text:(function(o){for(var n=1;n<arguments.length;n++){var s=null!=arguments[n]?arguments[n]:{};n%2?l(Object(s),!0).forEach(function(n){t(o,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(s)):l(Object(s)).forEach(function(t){Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(s,t))})}return o})({textAlign:'center',padding:8},{color:'white',fontWeight:'500'}),buttonDisabled:{elevation:0,backgroundColor:'#dfdfdf'},textDisabled:{color:'#a1a1a1'}});m.exports=x},193,[51,4,5,6,9,10,53,12,59,194,209,217,82,17]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=r(d[2]),s=r(d[3]),l=r(d[4]),u=r(d[5]),p=r(d[6]),c=r(d[7]);function f(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);n&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,s)}return o}function h(t){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?f(Object(o),!0).forEach(function(n){c(t,n,o[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):f(Object(o)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(o,n))})}return t}var R=r(d[8]),b=r(d[9]),v=r(d[10]),y=r(d[11]),H=r(d[12]),T=r(d[13]),w=r(d[14]),O=r(d[15]),P=r(d[16]),S={top:20,left:20,right:20,bottom:30},x={validAttributes:h({},v.UIView,{isHighlighted:!0,numberOfLines:!0,ellipsizeMode:!0,allowFontScaling:!0,maxFontSizeMultiplier:!0,disabled:!0,selectable:!0,selectionColor:!0,adjustsFontSizeToFit:!0,minimumFontScale:!0,textBreakStrategy:!0,onTextLayout:!0,onInlineViewLayout:!0,dataDetectorType:!0}),directEventTypes:{topTextLayout:{registrationName:'onTextLayout'},topInlineViewLayout:{registrationName:'onInlineViewLayout'}},uiViewClassName:'RCTText'},C=(function(c){function f(){var t,o;n(this,f);for(var p=arguments.length,c=new Array(p),R=0;R<p;R++)c[R]=arguments[R];return(o=s(this,(t=l(f)).call.apply(t,[this].concat(c)))).state=h({},H.Mixin.touchableGetInitialState(),{isHighlighted:!1,createResponderHandlers:o._createResponseHandlers.bind(u(o)),responseHandlers:null}),o}return p(f,c),o(f,[{key:"render",value:function(){var n=this.props;return M(n)&&(n=h({},n,{},this.state.responseHandlers,{isHighlighted:this.state.isHighlighted})),null!=n.selectionColor&&(n=h({},n,{selectionColor:P(n.selectionColor)})),b.createElement(y.Consumer,null,function(o){return o?b.createElement(V,t({},n,{ref:n.forwardedRef})):b.createElement(y.Provider,{value:!0},b.createElement(j,t({},n,{ref:n.forwardedRef})))})}},{key:"_createResponseHandlers",value:function(){var t=this;return{onStartShouldSetResponder:function(){var n=t.props.onStartShouldSetResponder,o=null!=n&&n()||M(t.props);return o&&t._attachTouchHandlers(),o},onResponderGrant:function(n,o){O(t.touchableHandleResponderGrant)(n,o),null!=t.props.onResponderGrant&&t.props.onResponderGrant.call(t,n,o)},onResponderMove:function(n){O(t.touchableHandleResponderMove)(n),null!=t.props.onResponderMove&&t.props.onResponderMove.call(t,n)},onResponderRelease:function(n){O(t.touchableHandleResponderRelease)(n),null!=t.props.onResponderRelease&&t.props.onResponderRelease.call(t,n)},onResponderTerminate:function(n){O(t.touchableHandleResponderTerminate)(n),null!=t.props.onResponderTerminate&&t.props.onResponderTerminate.call(t,n)},onResponderTerminationRequest:function(){var n=t.props.onResponderTerminationRequest;return!!O(t.touchableHandleResponderTerminationRequest)()&&(null==n||n())}}}},{key:"_attachTouchHandlers",value:function(){var t=this;if(null==this.touchableGetPressRectOffset){for(var n in H.Mixin)'function'==typeof H.Mixin[n]&&(this[n]=H.Mixin[n].bind(this));this.touchableHandleActivePressIn=function(){!t.props.suppressHighlighting&&M(t.props)&&t.setState({isHighlighted:!0})},this.touchableHandleActivePressOut=function(){!t.props.suppressHighlighting&&M(t.props)&&t.setState({isHighlighted:!1})},this.touchableHandlePress=function(n){null!=t.props.onPress&&t.props.onPress(n)},this.touchableHandleLongPress=function(n){null!=t.props.onLongPress&&t.props.onLongPress(n)},this.touchableGetPressRectOffset=function(){return null==t.props.pressRetentionOffset?S:t.props.pressRetentionOffset}}}}],[{key:"getDerivedStateFromProps",value:function(t,n){return null==n.responseHandlers&&M(t)?{responseHandlers:n.createResponderHandlers()}:null}}]),f})(b.Component);C.defaultProps={accessible:!0,allowFontScaling:!0,ellipsizeMode:'tail'},C.viewConfig=x;var M=function(t){return null!=t.onPress||null!=t.onLongPress||null!=t.onStartShouldSetResponder},j=w(x.uiViewClassName,function(){return x}),V=null==T.getViewManagerConfig('RCTVirtualText')?j:w('RCTVirtualText',function(){return{validAttributes:h({},v.UIView,{isHighlighted:!0,maxFontSizeMultiplier:!0}),uiViewClassName:'RCTVirtualText'}}),L=b.forwardRef(function(n,o){return b.createElement(C,t({},n,{forwardedRef:o}))});L.displayName='Text',L.propTypes=R,m.exports=L},194,[15,4,5,6,9,8,10,51,195,12,189,199,200,48,179,208,76]);
__d(function(g,r,i,a,m,e,d){'use strict';var o=r(d[0]),n=r(d[1]),t=r(d[2]),l=r(d[3]),s=t(r(d[4]));m.exports={ellipsizeMode:l.oneOf(['head','middle','tail','clip']),numberOfLines:l.number,textBreakStrategy:l.oneOf(['simple','highQuality','balanced']),onLayout:l.func,onPress:l.func,onLongPress:l.func,pressRetentionOffset:n,selectable:l.bool,selectionColor:o,suppressHighlighting:l.bool,style:s,testID:l.string,nativeID:l.string,allowFontScaling:l.bool,maxFontSizeMultiplier:l.number,accessible:l.bool,adjustsFontSizeToFit:l.bool,minimumFontScale:l.number,disabled:l.bool,dataDetectorType:l.oneOf(['phoneNumber','link','email','none','all'])}},195,[65,196,197,68,74]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=t.shape({top:t.number,left:t.number,bottom:t.number,right:t.number});m.exports=n},196,[68]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]),t=r(d[1]);m.exports=function(o){var c=n(o);return function(n,o,u,v){var f=n;n[o]&&((f={})[o]=t(n[o]));for(var p=arguments.length,s=new Array(p>4?p-4:0),l=4;l<p;l++)s[l-4]=arguments[l];return c.apply(void 0,[f,o,u,v].concat(s))}}},197,[198,81]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]),t=r(d[1]);m.exports=function(o){function l(l,c,s,u,p){if(c[s]){var f=c[s],y=typeof f;'object'!==y&&n(!1,"Invalid "+(p||'(unknown)')+" `"+s+"` of type `"+y+"` supplied to `"+u+"`, expected `object`.");for(var v=t(c[s],o),b=arguments.length,j=new Array(b>5?b-5:0),k=5;k<b;k++)j[k-5]=arguments[k];for(var w in v){var O=o[w];O||n(!1,"Invalid props."+s+" key `"+w+"` supplied to `"+u+"`.\nBad object: "+JSON.stringify(c[s],null,'  ')+'\nValid keys: '+JSON.stringify(Object.keys(o),null,'  '));var J=O.apply(void 0,[f,w,u,p].concat(j));J&&n(!1,J.message+'\nBad object: '+JSON.stringify(c[s],null,'  '))}}else l&&n(!1,"Required object `"+s+"` was not specified in `"+u+"`.")}function c(n,t,o,c){for(var s=arguments.length,u=new Array(s>4?s-4:0),p=4;p<s;p++)u[p-4]=arguments[p];return l.apply(void 0,[!1,n,t,o,c].concat(u))}return c.isRequired=l.bind(null,!0),c}},198,[17,190]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);m.exports=t.createContext(!1)},199,[12]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),E=r(d[1]);function R(t,E){var R=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);E&&(o=o.filter(function(E){return Object.getOwnPropertyDescriptor(t,E).enumerable})),R.push.apply(R,o)}return R}function o(t){for(var o=1;o<arguments.length;o++){var s=null!=arguments[o]?arguments[o]:{};o%2?R(Object(s),!0).forEach(function(R){E(t,R,s[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):R(Object(s)).forEach(function(E){Object.defineProperty(t,E,Object.getOwnPropertyDescriptor(s,E))})}return t}var s=r(d[2]),_=r(d[3]),n=r(d[4]),S=(r(d[5]),r(d[6])),l=r(d[7]),u=r(d[8]),h=r(d[9]),N=(r(d[10]),r(d[11])),O=(r(d[12]),function(t){var E=t.touches,R=t.changedTouches,o=E&&E.length>0,s=R&&R.length>0;return!o&&s?R[0]:o?E[0]:t}),P=N({NOT_RESPONDER:null,RESPONDER_INACTIVE_PRESS_IN:null,RESPONDER_INACTIVE_PRESS_OUT:null,RESPONDER_ACTIVE_PRESS_IN:null,RESPONDER_ACTIVE_PRESS_OUT:null,RESPONDER_ACTIVE_LONG_PRESS_IN:null,RESPONDER_ACTIVE_LONG_PRESS_OUT:null,ERROR:null}),T={NOT_RESPONDER:!1,RESPONDER_INACTIVE_PRESS_IN:!1,RESPONDER_INACTIVE_PRESS_OUT:!1,RESPONDER_ACTIVE_PRESS_IN:!1,RESPONDER_ACTIVE_PRESS_OUT:!1,RESPONDER_ACTIVE_LONG_PRESS_IN:!1,RESPONDER_ACTIVE_LONG_PRESS_OUT:!1,ERROR:!1},c=o({},T,{RESPONDER_ACTIVE_PRESS_OUT:!0,RESPONDER_ACTIVE_PRESS_IN:!0}),D=o({},T,{RESPONDER_INACTIVE_PRESS_IN:!0,RESPONDER_ACTIVE_PRESS_IN:!0,RESPONDER_ACTIVE_LONG_PRESS_IN:!0}),A=o({},T,{RESPONDER_ACTIVE_LONG_PRESS_IN:!0}),I=N({DELAY:null,RESPONDER_GRANT:null,RESPONDER_RELEASE:null,RESPONDER_TERMINATED:null,ENTER_PRESS_RECT:null,LEAVE_PRESS_RECT:null,LONG_PRESS_DETECTED:null}),b={NOT_RESPONDER:{DELAY:P.ERROR,RESPONDER_GRANT:P.RESPONDER_INACTIVE_PRESS_IN,RESPONDER_RELEASE:P.ERROR,RESPONDER_TERMINATED:P.ERROR,ENTER_PRESS_RECT:P.ERROR,LEAVE_PRESS_RECT:P.ERROR,LONG_PRESS_DETECTED:P.ERROR},RESPONDER_INACTIVE_PRESS_IN:{DELAY:P.RESPONDER_ACTIVE_PRESS_IN,RESPONDER_GRANT:P.ERROR,RESPONDER_RELEASE:P.NOT_RESPONDER,RESPONDER_TERMINATED:P.NOT_RESPONDER,ENTER_PRESS_RECT:P.RESPONDER_INACTIVE_PRESS_IN,LEAVE_PRESS_RECT:P.RESPONDER_INACTIVE_PRESS_OUT,LONG_PRESS_DETECTED:P.ERROR},RESPONDER_INACTIVE_PRESS_OUT:{DELAY:P.RESPONDER_ACTIVE_PRESS_OUT,RESPONDER_GRANT:P.ERROR,RESPONDER_RELEASE:P.NOT_RESPONDER,RESPONDER_TERMINATED:P.NOT_RESPONDER,ENTER_PRESS_RECT:P.RESPONDER_INACTIVE_PRESS_IN,LEAVE_PRESS_RECT:P.RESPONDER_INACTIVE_PRESS_OUT,LONG_PRESS_DETECTED:P.ERROR},RESPONDER_ACTIVE_PRESS_IN:{DELAY:P.ERROR,RESPONDER_GRANT:P.ERROR,RESPONDER_RELEASE:P.NOT_RESPONDER,RESPONDER_TERMINATED:P.NOT_RESPONDER,ENTER_PRESS_RECT:P.RESPONDER_ACTIVE_PRESS_IN,LEAVE_PRESS_RECT:P.RESPONDER_ACTIVE_PRESS_OUT,LONG_PRESS_DETECTED:P.RESPONDER_ACTIVE_LONG_PRESS_IN},RESPONDER_ACTIVE_PRESS_OUT:{DELAY:P.ERROR,RESPONDER_GRANT:P.ERROR,RESPONDER_RELEASE:P.NOT_RESPONDER,RESPONDER_TERMINATED:P.NOT_RESPONDER,ENTER_PRESS_RECT:P.RESPONDER_ACTIVE_PRESS_IN,LEAVE_PRESS_RECT:P.RESPONDER_ACTIVE_PRESS_OUT,LONG_PRESS_DETECTED:P.ERROR},RESPONDER_ACTIVE_LONG_PRESS_IN:{DELAY:P.ERROR,RESPONDER_GRANT:P.ERROR,RESPONDER_RELEASE:P.NOT_RESPONDER,RESPONDER_TERMINATED:P.NOT_RESPONDER,ENTER_PRESS_RECT:P.RESPONDER_ACTIVE_LONG_PRESS_IN,LEAVE_PRESS_RECT:P.RESPONDER_ACTIVE_LONG_PRESS_OUT,LONG_PRESS_DETECTED:P.RESPONDER_ACTIVE_LONG_PRESS_IN},RESPONDER_ACTIVE_LONG_PRESS_OUT:{DELAY:P.ERROR,RESPONDER_GRANT:P.ERROR,RESPONDER_RELEASE:P.NOT_RESPONDER,RESPONDER_TERMINATED:P.NOT_RESPONDER,ENTER_PRESS_RECT:P.RESPONDER_ACTIVE_LONG_PRESS_IN,LEAVE_PRESS_RECT:P.RESPONDER_ACTIVE_LONG_PRESS_OUT,LONG_PRESS_DETECTED:P.ERROR},error:{DELAY:P.NOT_RESPONDER,RESPONDER_GRANT:P.RESPONDER_INACTIVE_PRESS_IN,RESPONDER_RELEASE:P.NOT_RESPONDER,RESPONDER_TERMINATED:P.NOT_RESPONDER,ENTER_PRESS_RECT:P.NOT_RESPONDER,LEAVE_PRESS_RECT:P.NOT_RESPONDER,LONG_PRESS_DETECTED:P.NOT_RESPONDER}},p={componentDidMount:function(){_.isTV&&(this._tvEventHandler=new u,this._tvEventHandler.enable(this,function(t,E){var R=S.findNodeHandle(t);E.dispatchConfig={},R===E.tag&&('focus'===E.eventType?t.touchableHandleFocus(E):'blur'===E.eventType?t.touchableHandleBlur(E):'select'===E.eventType&&t.touchableHandlePress&&!t.props.disabled&&t.touchableHandlePress(E))}))},componentWillUnmount:function(){this._tvEventHandler&&(this._tvEventHandler.disable(),delete this._tvEventHandler),this.touchableDelayTimeout&&clearTimeout(this.touchableDelayTimeout),this.longPressDelayTimeout&&clearTimeout(this.longPressDelayTimeout),this.pressOutDelayTimeout&&clearTimeout(this.pressOutDelayTimeout)},touchableGetInitialState:function(){return{touchable:{touchState:void 0,responderID:null}}},touchableHandleResponderTerminationRequest:function(){return!this.props.rejectResponderTermination},touchableHandleStartShouldSetResponder:function(){return!this.props.disabled},touchableLongPressCancelsPress:function(){return!0},touchableHandleResponderGrant:function(t){var E=t.currentTarget;t.persist(),this.pressOutDelayTimeout&&clearTimeout(this.pressOutDelayTimeout),this.pressOutDelayTimeout=null,this.state.touchable.touchState=P.NOT_RESPONDER,this.state.touchable.responderID=E,this._receiveSignal(I.RESPONDER_GRANT,t);var R=void 0!==this.touchableGetHighlightDelayMS?Math.max(this.touchableGetHighlightDelayMS(),0):130;0!==(R=isNaN(R)?130:R)?this.touchableDelayTimeout=setTimeout(this._handleDelay.bind(this,t),R):this._handleDelay(t);var o=void 0!==this.touchableGetLongPressDelayMS?Math.max(this.touchableGetLongPressDelayMS(),10):370;o=isNaN(o)?370:o,this.longPressDelayTimeout=setTimeout(this._handleLongDelay.bind(this,t),o+R)},touchableHandleResponderRelease:function(t){this.pressInLocation=null,this._receiveSignal(I.RESPONDER_RELEASE,t)},touchableHandleResponderTerminate:function(t){this.pressInLocation=null,this._receiveSignal(I.RESPONDER_TERMINATED,t)},touchableHandleResponderMove:function(t){if(this.state.touchable.positionOnActivate){var E=this.state.touchable.positionOnActivate,R=this.state.touchable.dimensionsOnActivate,o=this.touchableGetPressRectOffset?this.touchableGetPressRectOffset():{left:20,right:20,top:20,bottom:20},s=o.left,_=o.top,n=o.right,S=o.bottom,l=this.touchableGetHitSlop?this.touchableGetHitSlop():null;l&&(s+=l.left||0,_+=l.top||0,n+=l.right||0,S+=l.bottom||0);var u=O(t.nativeEvent),h=u&&u.pageX,N=u&&u.pageY;if(this.pressInLocation)this._getDistanceBetweenPoints(h,N,this.pressInLocation.pageX,this.pressInLocation.pageY)>10&&this._cancelLongPressDelayTimeout();if(h>E.left-s&&N>E.top-_&&h<E.left+R.width+n&&N<E.top+R.height+S){var T=this.state.touchable.touchState;this._receiveSignal(I.ENTER_PRESS_RECT,t),this.state.touchable.touchState===P.RESPONDER_INACTIVE_PRESS_IN&&T!==P.RESPONDER_INACTIVE_PRESS_IN&&this._cancelLongPressDelayTimeout()}else this._cancelLongPressDelayTimeout(),this._receiveSignal(I.LEAVE_PRESS_RECT,t)}},touchableHandleFocus:function(t){this.props.onFocus&&this.props.onFocus(t)},touchableHandleBlur:function(t){this.props.onBlur&&this.props.onBlur(t)},_remeasureMetricsOnActivation:function(){var t=this.state.touchable.responderID;null!=t&&h.measure(t,this._handleQueryLayout)},_handleQueryLayout:function(t,E,R,o,_,S){(t||E||R||o||_||S)&&(this.state.touchable.positionOnActivate&&n.release(this.state.touchable.positionOnActivate),this.state.touchable.dimensionsOnActivate&&s.release(this.state.touchable.dimensionsOnActivate),this.state.touchable.positionOnActivate=n.getPooled(_,S),this.state.touchable.dimensionsOnActivate=s.getPooled(R,o))},_handleDelay:function(t){this.touchableDelayTimeout=null,this._receiveSignal(I.DELAY,t)},_handleLongDelay:function(t){this.longPressDelayTimeout=null;var E=this.state.touchable.touchState;E!==P.RESPONDER_ACTIVE_PRESS_IN&&E!==P.RESPONDER_ACTIVE_LONG_PRESS_IN?console.error('Attempted to transition from state `'+E+'` to `'+P.RESPONDER_ACTIVE_LONG_PRESS_IN+"`, which is not supported. This is most likely due to `Touchable.longPressDelayTimeout` not being cancelled."):this._receiveSignal(I.LONG_PRESS_DETECTED,t)},_receiveSignal:function(t,E){var R=this.state.touchable.responderID,o=this.state.touchable.touchState,s=b[o]&&b[o][t];if(R||t!==I.RESPONDER_RELEASE){if(!s)throw new Error('Unrecognized signal `'+t+'` or state `'+o+'` for Touchable responder `'+R+'`');if(s===P.ERROR)throw new Error('Touchable cannot transition from `'+o+'` to `'+t+'` for responder `'+R+'`');o!==s&&(this._performSideEffectsForTransition(o,s,t,E),this.state.touchable.touchState=s)}},_cancelLongPressDelayTimeout:function(){this.longPressDelayTimeout&&clearTimeout(this.longPressDelayTimeout),this.longPressDelayTimeout=null},_isHighlight:function(t){return t===P.RESPONDER_ACTIVE_PRESS_IN||t===P.RESPONDER_ACTIVE_LONG_PRESS_IN},_savePressInLocation:function(t){var E=O(t.nativeEvent),R=E&&E.pageX,o=E&&E.pageY,s=E&&E.locationX,_=E&&E.locationY;this.pressInLocation={pageX:R,pageY:o,locationX:s,locationY:_}},_getDistanceBetweenPoints:function(t,E,R,o){var s=t-R,_=E-o;return Math.sqrt(s*s+_*_)},_performSideEffectsForTransition:function(t,E,R,o){var s=this._isHighlight(t),_=this._isHighlight(E);(R===I.RESPONDER_TERMINATED||R===I.RESPONDER_RELEASE)&&this._cancelLongPressDelayTimeout();var n=t===P.NOT_RESPONDER&&E===P.RESPONDER_INACTIVE_PRESS_IN,S=!c[t]&&c[E];if((n||S)&&this._remeasureMetricsOnActivation(),D[t]&&R===I.LONG_PRESS_DETECTED&&this.touchableHandleLongPress&&this.touchableHandleLongPress(o),_&&!s?this._startHighlight(o):!_&&s&&this._endHighlight(o),D[t]&&R===I.RESPONDER_RELEASE){var l=!!this.props.onLongPress,u=A[t]&&(!l||!this.touchableLongPressCancelsPress());(!A[t]||u)&&this.touchableHandlePress&&(_||s||(this._startHighlight(o),this._endHighlight(o)),this.props.touchSoundDisabled||this._playTouchSound(),this.touchableHandlePress(o))}this.touchableDelayTimeout&&clearTimeout(this.touchableDelayTimeout),this.touchableDelayTimeout=null},_playTouchSound:function(){h.playTouchSound()},_startHighlight:function(t){this._savePressInLocation(t),this.touchableHandleActivePressIn&&this.touchableHandleActivePressIn(t)},_endHighlight:function(t){var E=this;this.touchableHandleActivePressOut&&(this.touchableGetPressOutDelayMS&&this.touchableGetPressOutDelayMS()?this.pressOutDelayTimeout=setTimeout(function(){E.touchableHandleActivePressOut(t)},this.touchableGetPressOutDelayMS()):this.touchableHandleActivePressOut(t))},withoutDefaultFocusAndBlur:{}},C=(p.touchableHandleFocus,p.touchableHandleBlur,t(p,["touchableHandleFocus","touchableHandleBlur"]));p.withoutDefaultFocusAndBlur=C;var L={Mixin:p,TOUCH_TARGET_DEBUG:!1,renderDebugView:function(t){t.color,t.hitSlop;if(!L.TOUCH_TARGET_DEBUG)return null;throw Error('Touchable.TOUCH_TARGET_DEBUG should not be enabled in prod!')}};l.create({debug:{position:'absolute',borderWidth:1,borderStyle:'dashed'}});m.exports=L},200,[57,51,201,53,203,12,84,59,204,48,82,206,66]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),o=t.twoArgumentPooler;function n(t,o){this.width=t,this.height=o}n.prototype.destructor=function(){this.width=null,this.height=null},n.getPooledFromElement=function(t){return n.getPooled(t.offsetWidth,t.offsetHeight)},t.addPoolingTo(n,o),m.exports=n},201,[202]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=function(t){if(this.instancePool.length){var n=this.instancePool.pop();return this.call(n,t),n}return new this(t)},o=function(n){t(n instanceof this,'Trying to release an instance into a pool of a different type.'),n.destructor(),this.instancePool.length<this.poolSize&&this.instancePool.push(n)},s=n,l={addPoolingTo:function(t,n){var l=t;return l.instancePool=[],l.getPooled=n||s,l.poolSize||(l.poolSize=10),l.release=o,l},oneArgumentPooler:n,twoArgumentPooler:function(t,n){if(this.instancePool.length){var o=this.instancePool.pop();return this.call(o,t,n),o}return new this(t,n)},threeArgumentPooler:function(t,n,o){if(this.instancePool.length){var s=this.instancePool.pop();return this.call(s,t,n,o),s}return new this(t,n,o)},fourArgumentPooler:function(t,n,o,s){if(this.instancePool.length){var l=this.instancePool.pop();return this.call(l,t,n,o,s),l}return new this(t,n,o,s)}};m.exports=l},202,[17]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),o=t.twoArgumentPooler;function n(t,o){this.left=t,this.top=o}n.prototype.destructor=function(){this.left=null,this.top=null},t.addPoolingTo(n,o),m.exports=n},203,[202]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])(r(d[1])),n=(r(d[2]),r(d[3]));function v(){this.__nativeTVNavigationEventListener=null,this.__nativeTVNavigationEventEmitter=null}v.prototype.enable=function(v,o){this.__nativeTVNavigationEventEmitter=new n(t.default),this.__nativeTVNavigationEventListener=this.__nativeTVNavigationEventEmitter.addListener('onHWKeyEvent',function(t){o&&o(v,t)})},v.prototype.disable=function(){this.__nativeTVNavigationEventListener&&(this.__nativeTVNavigationEventListener.remove(),delete this.__nativeTVNavigationEventListener),this.__nativeTVNavigationEventEmitter&&delete this.__nativeTVNavigationEventEmitter},m.exports=v},204,[1,205,53,121]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])).get('TVNavigationEventEmitter');e.default=u},205,[23,24]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]);m.exports=function(t){var o,s={};for(o in t instanceof Object&&!Array.isArray(t)||n(!1),t)t.hasOwnProperty(o)&&(s[o]=o);return s}},206,[207]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=function(n){if(void 0===n)throw new Error('invariant(...): Second argument must be a string.')};m.exports=function(o,t){for(var f=arguments.length,s=new Array(f>2?f-2:0),u=2;u<f;u++)s[u-2]=arguments[u];if(n(t),!o){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var v=0;(c=new Error(t.replace(/%s/g,function(){return String(s[v++])}))).name='Invariant Violation'}throw c.framesToPop=1,c}}},207,[]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(t,o){if(null!=t)return t;var n=new Error(void 0!==o?o:'Got unexpected '+t);throw n.framesToPop=1,n}m.exports=t,m.exports.default=t,Object.defineProperty(m.exports,'__esModule',{value:!0})},208,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);function s(t,s){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);s&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),o.push.apply(o,n)}return o}function o(o){for(var n=1;n<arguments.length;n++){var c=null!=arguments[n]?arguments[n]:{};n%2?s(Object(c),!0).forEach(function(s){t(o,s,c[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(c)):s(Object(c)).forEach(function(t){Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(c,t))})}return o}var n=r(d[1]),c=r(d[2]),p=r(d[3]),u=r(d[4]),l=r(d[5]),h=r(d[6]),b=r(d[7]),f=r(d[8]),y=r(d[9]),P=r(d[10]),R=r(d[11]),F=p.shape({type:p.oneOf(['RippleAndroid']),color:p.number,borderless:p.bool}),S=p.shape({type:p.oneOf(['ThemeAttrAndroid']),attribute:p.string.isRequired}),v=p.oneOfType([F,S]),O={top:20,left:20,right:20,bottom:30},A=y({displayName:'TouchableNativeFeedback',propTypes:o({},h.propTypes,{background:v,hasTVPreferredFocus:p.bool,nextFocusDown:p.number,nextFocusForward:p.number,nextFocusLeft:p.number,nextFocusRight:p.number,nextFocusUp:p.number,useForeground:p.bool}),statics:{SelectableBackground:function(){return{type:'ThemeAttrAndroid',attribute:'selectableItemBackground'}},SelectableBackgroundBorderless:function(){return{type:'ThemeAttrAndroid',attribute:'selectableItemBackgroundBorderless'}},Ripple:function(t,s){return{type:'RippleAndroid',color:R(t),borderless:s}},canUseNativeForeground:function(){return n.Version>=23}},mixins:[l.Mixin],getDefaultProps:function(){return{background:this.SelectableBackground()}},getInitialState:function(){return this.touchableGetInitialState()},componentDidMount:function(){P(this.props)},UNSAFE_componentWillReceiveProps:function(t){P(t)},touchableHandleActivePressIn:function(t){this.props.onPressIn&&this.props.onPressIn(t),this._dispatchPressedStateChange(!0),this.pressInLocation&&this._dispatchHotspotUpdate(this.pressInLocation.locationX,this.pressInLocation.locationY)},touchableHandleActivePressOut:function(t){this.props.onPressOut&&this.props.onPressOut(t),this._dispatchPressedStateChange(!1)},touchableHandlePress:function(t){this.props.onPress&&this.props.onPress(t)},touchableHandleLongPress:function(t){this.props.onLongPress&&this.props.onLongPress(t)},touchableGetPressRectOffset:function(){return this.props.pressRetentionOffset||O},touchableGetHitSlop:function(){return this.props.hitSlop},touchableGetHighlightDelayMS:function(){return this.props.delayPressIn},touchableGetLongPressDelayMS:function(){return this.props.delayLongPress},touchableGetPressOutDelayMS:function(){return this.props.delayPressOut},_handleResponderMove:function(t){this.touchableHandleResponderMove(t),this._dispatchHotspotUpdate(t.nativeEvent.locationX,t.nativeEvent.locationY)},_dispatchHotspotUpdate:function(t,s){b.dispatchViewManagerCommand(u.findNodeHandle(this),b.getViewManagerConfig('RCTView').Commands.hotspotUpdate,[t||0,s||0])},_dispatchPressedStateChange:function(t){b.dispatchViewManagerCommand(u.findNodeHandle(this),b.getViewManagerConfig('RCTView').Commands.setPressed,[t])},render:function(){var s,n=c.Children.only(this.props.children),p=n.props.children;l.TOUCH_TARGET_DEBUG&&n.type===f&&(Array.isArray(p)||(p=[p]),p.push(l.renderDebugView({color:'brown',hitSlop:this.props.hitSlop}))),this.props.useForeground&&!A.canUseNativeForeground()&&console.warn("Requested foreground ripple, but it is not available on this version of Android. Consider calling TouchableNativeFeedback.canUseNativeForeground() and using a different Touchable if the result is false.");var u=this.props.useForeground&&A.canUseNativeForeground()?'nativeForegroundAndroid':'nativeBackgroundAndroid',h=o({},n.props,(t(s={},u,this.props.background),t(s,"accessible",!1!==this.props.accessible),t(s,"accessibilityLabel",this.props.accessibilityLabel),t(s,"accessibilityRole",this.props.accessibilityRole),t(s,"accessibilityStates",this.props.accessibilityStates),t(s,"accessibilityState",this.props.accessibilityState),t(s,"accessibilityActions",this.props.accessibilityActions),t(s,"onAccessibilityAction",this.props.onAccessibilityAction),t(s,"children",p),t(s,"testID",this.props.testID),t(s,"onLayout",this.props.onLayout),t(s,"hitSlop",this.props.hitSlop),t(s,"isTVSelectable",!0),t(s,"nextFocusDown",this.props.nextFocusDown),t(s,"nextFocusForward",this.props.nextFocusForward),t(s,"nextFocusLeft",this.props.nextFocusLeft),t(s,"nextFocusRight",this.props.nextFocusRight),t(s,"nextFocusUp",this.props.nextFocusUp),t(s,"hasTVPreferredFocus",this.props.hasTVPreferredFocus),t(s,"focusable",!1!==this.props.focusable&&void 0!==this.props.onPress&&!this.props.disabled),t(s,"onClick",this.touchableHandlePress),t(s,"onStartShouldSetResponder",this.touchableHandleStartShouldSetResponder),t(s,"onResponderTerminationRequest",this.touchableHandleResponderTerminationRequest),t(s,"onResponderGrant",this.touchableHandleResponderGrant),t(s,"onResponderMove",this._handleResponderMove),t(s,"onResponderRelease",this.touchableHandleResponderRelease),t(s,"onResponderTerminate",this.touchableHandleResponderTerminate),s));return c.cloneElement(n,h)}});m.exports=A},209,[51,53,12,68,84,200,210,48,82,211,215,76]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);function s(t,s){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);s&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),o.push.apply(o,n)}return o}function o(o){for(var n=1;n<arguments.length;n++){var c=null!=arguments[n]?arguments[n]:{};n%2?s(Object(c),!0).forEach(function(s){t(o,s,c[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(c)):s(Object(c)).forEach(function(t){Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(c,t))})}return o}var n=r(d[1]),c=r(d[2]),l=r(d[3]),p=r(d[4]),u=r(d[5]),b=r(d[6]),h=r(d[7]),y=r(d[8]).DeprecatedAccessibilityRoles,f={top:20,left:20,right:20,bottom:30},P=['accessibilityLabel','accessibilityHint','accessibilityIgnoresInvertColors','accessibilityRole','accessibilityStates','accessibilityState','accessibilityActions','onAccessibilityAction','hitSlop','nativeID','onBlur','onFocus','onLayout','testID'],O=b({displayName:'TouchableWithoutFeedback',mixins:[p.Mixin],propTypes:{accessible:l.bool,accessibilityLabel:l.node,accessibilityHint:l.string,accessibilityIgnoresInvertColors:l.bool,accessibilityRole:l.oneOf(y),accessibilityStates:l.array,accessibilityState:l.object,accessibilityActions:l.array,onAccessibilityAction:l.func,onFocus:l.func,onBlur:l.func,disabled:l.bool,onPress:l.func,onPressIn:l.func,onPressOut:l.func,onLayout:l.func,touchSoundDisabled:l.bool,onLongPress:l.func,nativeID:l.string,testID:l.string,delayPressIn:l.number,delayPressOut:l.number,delayLongPress:l.number,pressRetentionOffset:n,hitSlop:n},getInitialState:function(){return this.touchableGetInitialState()},componentDidMount:function(){h(this.props)},UNSAFE_componentWillReceiveProps:function(t){h(t)},touchableHandlePress:function(t){this.props.onPress&&this.props.onPress(t)},touchableHandleActivePressIn:function(t){this.props.onPressIn&&this.props.onPressIn(t)},touchableHandleActivePressOut:function(t){this.props.onPressOut&&this.props.onPressOut(t)},touchableHandleLongPress:function(t){this.props.onLongPress&&this.props.onLongPress(t)},touchableGetPressRectOffset:function(){return this.props.pressRetentionOffset||f},touchableGetHitSlop:function(){return this.props.hitSlop},touchableGetHighlightDelayMS:function(){return this.props.delayPressIn||0},touchableGetLongPressDelayMS:function(){return 0===this.props.delayLongPress?0:this.props.delayLongPress||500},touchableGetPressOutDelayMS:function(){return this.props.delayPressOut||0},render:function(){var t=c.Children.only(this.props.children),s=t.props.children;p.TOUCH_TARGET_DEBUG&&t.type===u&&(s=c.Children.toArray(s)).push(p.renderDebugView({color:'red',hitSlop:this.props.hitSlop}));var n={},l=P,b=Array.isArray(l),h=0;for(l=b?l:l["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var y;if(b){if(h>=l.length)break;y=l[h++]}else{if((h=l.next()).done)break;y=h.value}var f=y;void 0!==this.props[f]&&(n[f]=this.props[f])}return c.cloneElement(t,o({},n,{accessible:!1!==this.props.accessible,focusable:!1!==this.props.focusable&&void 0!==this.props.onPress,onClick:this.touchableHandlePress,onStartShouldSetResponder:this.touchableHandleStartShouldSetResponder,onResponderTerminationRequest:this.touchableHandleResponderTerminationRequest,onResponderGrant:this.touchableHandleResponderGrant,onResponderMove:this.touchableHandleResponderMove,onResponderRelease:this.touchableHandleResponderRelease,onResponderTerminate:this.touchableHandleResponderTerminate,children:s}))}});m.exports=O},210,[51,196,12,68,200,82,211,215,216]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),o=r(d[1]);if(void 0===t)throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var c=(new t.Component).updater;m.exports=o(t.Component,t.isValidElement,c)},211,[12,212]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=r(d[2]),s='mixins';m.exports=function(p,c,u){var l=[],E={mixins:'DEFINE_MANY',statics:'DEFINE_MANY',propTypes:'DEFINE_MANY',contextTypes:'DEFINE_MANY',childContextTypes:'DEFINE_MANY',getDefaultProps:'DEFINE_MANY_MERGED',getInitialState:'DEFINE_MANY_MERGED',getChildContext:'DEFINE_MANY_MERGED',render:'DEFINE_ONCE',componentWillMount:'DEFINE_MANY',componentDidMount:'DEFINE_MANY',componentWillReceiveProps:'DEFINE_MANY',shouldComponentUpdate:'DEFINE_ONCE',componentWillUpdate:'DEFINE_MANY',componentDidUpdate:'DEFINE_MANY',componentWillUnmount:'DEFINE_MANY',UNSAFE_componentWillMount:'DEFINE_MANY',UNSAFE_componentWillReceiveProps:'DEFINE_MANY',UNSAFE_componentWillUpdate:'DEFINE_MANY',updateComponent:'OVERRIDE_BASE'},f={getDerivedStateFromProps:'DEFINE_MANY_MERGED'},h={displayName:function(t,n){t.displayName=n},mixins:function(t,n){if(n)for(var o=0;o<n.length;o++)N(t,n[o])},childContextTypes:function(n,o){n.childContextTypes=t({},n.childContextTypes,o)},contextTypes:function(n,o){n.contextTypes=t({},n.contextTypes,o)},getDefaultProps:function(t,n){t.getDefaultProps?t.getDefaultProps=M(t.getDefaultProps,n):t.getDefaultProps=n},propTypes:function(n,o){n.propTypes=t({},n.propTypes,o)},statics:function(t,n){_(t,n)},autobind:function(){}};function y(t,n){var s=E.hasOwnProperty(n)?E[n]:null;P.hasOwnProperty(n)&&o('OVERRIDE_BASE'===s,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",n),t&&o('DEFINE_MANY'===s||'DEFINE_MANY_MERGED'===s,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n)}function N(t,n){if(n){o('function'!=typeof n,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),o(!c(n),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var p=t.prototype,u=p.__reactAutoBindPairs;for(var l in n.hasOwnProperty(s)&&h.mixins(t,n.mixins),n)if(n.hasOwnProperty(l)&&l!==s){var f=n[l],N=p.hasOwnProperty(l);if(y(N,l),h.hasOwnProperty(l))h[l](t,f);else{var _=E.hasOwnProperty(l);if('function'!=typeof f||_||N||!1===n.autobind)if(N){var D=E[l];o(_&&('DEFINE_MANY_MERGED'===D||'DEFINE_MANY'===D),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",D,l),'DEFINE_MANY_MERGED'===D?p[l]=M(p[l],f):'DEFINE_MANY'===D&&(p[l]=I(p[l],f))}else p[l]=f;else u.push(l,f),p[l]=f}}}}function _(t,n){if(n)for(var s in n){var p=n[s];if(n.hasOwnProperty(s)){if(o(!(s in h),"ReactClass: You are attempting to define a reserved property, `%s`, that shouldn't be on the \"statics\" key. Define it as an instance property instead; it will still be accessible on the constructor.",s),s in t){var c=f.hasOwnProperty(s)?f[s]:null;return o('DEFINE_MANY_MERGED'===c,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",s),void(t[s]=M(t[s],p))}t[s]=p}}}function D(t,n){for(var s in o(t&&n&&'object'==typeof t&&'object'==typeof n,'mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.'),n)n.hasOwnProperty(s)&&(o(void 0===t[s],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",s),t[s]=n[s]);return t}function M(t,n){return function(){var o=t.apply(this,arguments),s=n.apply(this,arguments);if(null==o)return s;if(null==s)return o;var p={};return D(p,o),D(p,s),p}}function I(t,n){return function(){t.apply(this,arguments),n.apply(this,arguments)}}function A(t,n){return n.bind(t)}function F(t){for(var n=t.__reactAutoBindPairs,o=0;o<n.length;o+=2){var s=n[o],p=n[o+1];t[s]=A(t,p)}}var Y={componentDidMount:function(){this.__isMounted=!0}},v={componentWillUnmount:function(){this.__isMounted=!1}},P={replaceState:function(t,n){this.updater.enqueueReplaceState(this,t,n)},isMounted:function(){return!!this.__isMounted}},R=function(){};return t(R.prototype,p.prototype,P),function(t){var s=function(t,p,c){this.__reactAutoBindPairs.length&&F(this),this.props=t,this.context=p,this.refs=n,this.updater=c||u,this.state=null;var l=this.getInitialState?this.getInitialState():null;o('object'==typeof l&&!Array.isArray(l),'%s.getInitialState(): must return an object or null',s.displayName||'ReactCompositeComponent'),this.state=l};for(var p in s.prototype=new R,s.prototype.constructor=s,s.prototype.__reactAutoBindPairs=[],l.forEach(N.bind(null,s)),N(s,Y),N(s,t),N(s,v),s.getDefaultProps&&(s.defaultProps=s.getDefaultProps()),o(s.prototype.render,'createClass(...): Class specification must implement a `render` method.'),E)s.prototype[p]||(s.prototype[p]=null);return s}}},212,[14,213,214]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports={}},213,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=function(n){};m.exports=function(o,t,f,s,u,c,l,v){if(n(t),!o){var p;if(void 0===t)p=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var h=[f,s,u,c,l,v],w=0;(p=new Error(t.replace(/%s/g,function(){return h[w++]}))).name='Invariant Violation'}throw p.framesToPop=1,p}}},214,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]);m.exports=function(s){n(!(s.delayPressIn<0||s.delayPressOut<0||s.delayLongPress<0),'Touchable components cannot have negative delay properties')}},215,[17]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports={DeprecatedAccessibilityRoles:['none','button','link','search','image','keyboardkey','text','adjustable','imagebutton','header','summary','alert','checkbox','combobox','menu','menubar','menuitem','progressbar','radio','radiogroup','scrollbar','spinbutton','switch','tab','tablist','timer','toolbar'],DeprecatedAccessibilityStates:['selected','disabled','checked','unchecked','busy','expanded','collapsed','hasPopup']}},216,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);function s(t,s){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);s&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),o.push.apply(o,n)}return o}function o(o){for(var n=1;n<arguments.length;n++){var c=null!=arguments[n]?arguments[n]:{};n%2?s(Object(c),!0).forEach(function(s){t(o,s,c[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(c)):s(Object(c)).forEach(function(t){Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(c,t))})}return o}var n=r(d[1]),c=r(d[2]),p=r(d[3]),l=r(d[4]),u=r(d[5]),h=r(d[6]),b=r(d[7]),y=r(d[8]),f=r(d[9]),P=r(d[10]),O=r(d[11]),v={top:20,left:20,right:20,bottom:30},S=f({displayName:'TouchableOpacity',mixins:[b.Mixin.withoutDefaultFocusAndBlur,p],propTypes:o({},y.propTypes,{activeOpacity:h.number,hasTVPreferredFocus:h.bool,nextFocusDown:h.number,nextFocusForward:h.number,nextFocusLeft:h.number,nextFocusRight:h.number,nextFocusUp:h.number,tvParallaxProperties:h.object}),getDefaultProps:function(){return{activeOpacity:.2}},getInitialState:function(){return o({},this.touchableGetInitialState(),{anim:new n.Value(this._getChildStyleOpacityWithDefault())})},componentDidMount:function(){P(this.props)},UNSAFE_componentWillReceiveProps:function(t){P(t)},componentDidUpdate:function(t,s){this.props.disabled!==t.disabled&&this._opacityInactive(250)},setOpacityTo:function(t,s){n.timing(this.state.anim,{toValue:t,duration:s,easing:c.inOut(c.quad),useNativeDriver:!0}).start()},touchableHandleActivePressIn:function(t){'onResponderGrant'===t.dispatchConfig.registrationName?this._opacityActive(0):this._opacityActive(150),this.props.onPressIn&&this.props.onPressIn(t)},touchableHandleActivePressOut:function(t){this._opacityInactive(250),this.props.onPressOut&&this.props.onPressOut(t)},touchableHandleFocus:function(t){l.isTV&&this._opacityActive(150),this.props.onFocus&&this.props.onFocus(t)},touchableHandleBlur:function(t){l.isTV&&this._opacityInactive(250),this.props.onBlur&&this.props.onBlur(t)},touchableHandlePress:function(t){this.props.onPress&&this.props.onPress(t)},touchableHandleLongPress:function(t){this.props.onLongPress&&this.props.onLongPress(t)},touchableGetPressRectOffset:function(){return this.props.pressRetentionOffset||v},touchableGetHitSlop:function(){return this.props.hitSlop},touchableGetHighlightDelayMS:function(){return this.props.delayPressIn||0},touchableGetLongPressDelayMS:function(){return 0===this.props.delayLongPress?0:this.props.delayLongPress||500},touchableGetPressOutDelayMS:function(){return this.props.delayPressOut},_opacityActive:function(t){this.setOpacityTo(this.props.activeOpacity,t)},_opacityInactive:function(t){this.setOpacityTo(this._getChildStyleOpacityWithDefault(),t)},_getChildStyleOpacityWithDefault:function(){var t=O(this.props.style)||{};return null==t.opacity?1:t.opacity},render:function(){return u.createElement(n.View,{accessible:!1!==this.props.accessible,accessibilityLabel:this.props.accessibilityLabel,accessibilityHint:this.props.accessibilityHint,accessibilityRole:this.props.accessibilityRole,accessibilityStates:this.props.accessibilityStates,accessibilityState:this.props.accessibilityState,accessibilityActions:this.props.accessibilityActions,onAccessibilityAction:this.props.onAccessibilityAction,style:[this.props.style,{opacity:this.state.anim}],nativeID:this.props.nativeID,testID:this.props.testID,onLayout:this.props.onLayout,isTVSelectable:!0,nextFocusDown:this.props.nextFocusDown,nextFocusForward:this.props.nextFocusForward,nextFocusLeft:this.props.nextFocusLeft,nextFocusRight:this.props.nextFocusRight,nextFocusUp:this.props.nextFocusUp,hasTVPreferredFocus:this.props.hasTVPreferredFocus,tvParallaxProperties:this.props.tvParallaxProperties,hitSlop:this.props.hitSlop,focusable:!1!==this.props.focusable&&void 0!==this.props.onPress,onClick:this.touchableHandlePress,onStartShouldSetResponder:this.touchableHandleStartShouldSetResponder,onResponderTerminationRequest:this.touchableHandleResponderTerminationRequest,onResponderGrant:this.touchableHandleResponderGrant,onResponderMove:this.touchableHandleResponderMove,onResponderRelease:this.touchableHandleResponderRelease,onResponderTerminate:this.touchableHandleResponderTerminate},this.props.children,b.renderDebugView({color:'cyan',hitSlop:this.props.hitSlop}))}});m.exports=S},217,[51,218,246,282,53,12,68,200,210,211,215,81]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=t(r(d[1])),c=t(r(d[2]));function o(t,n){var c=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),c.push.apply(c,o)}return c}var u=r(d[3]),s=r(d[4]),O=c.default.isTesting?u:s;m.exports=(function(t){for(var c=1;c<arguments.length;c++){var u=null!=arguments[c]?arguments[c]:{};c%2?o(Object(u),!0).forEach(function(c){(0,n.default)(t,c,u[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(u)):o(Object(u)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(u,n))})}return t})({get FlatList(){return r(d[5])},get Image(){return r(d[6])},get ScrollView(){return r(d[7])},get SectionList(){return r(d[8])},get Text(){return r(d[9])},get View(){return r(d[10])}},O)},218,[1,51,53,219,229,249,270,276,277,280,281]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);function n(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);n&&(u=u.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,u)}return o}function o(o){for(var u=1;u<arguments.length;u++){var c=null!=arguments[u]?arguments[u]:{};u%2?n(Object(c),!0).forEach(function(n){t(o,n,c[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(c)):n(Object(c)).forEach(function(t){Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(c,t))})}return o}var u=r(d[1]),c=u.AnimatedEvent,f=u.attachNativeEvent,s=r(d[2]),l=r(d[3]),p=r(d[4]),v=r(d[5]),O=r(d[6]),b=r(d[7]),y=r(d[8]),j={start:function(){},stop:function(){},reset:function(){},_startNativeLoop:function(){},_isUsingNativeDriver:function(){return!1}};m.exports={Value:O,ValueXY:b,Interpolation:l,Node:p,decay:function(t,n){return j},timing:function(t,n){var u=t;return o({},j,{start:function(t){u.setValue(n.toValue),t&&t({finished:!0})}})},spring:function(t,n){var u=t;return o({},j,{start:function(t){u.setValue(n.toValue),t&&t({finished:!0})}})},add:s.add,subtract:s.subtract,divide:s.divide,multiply:s.multiply,modulo:s.modulo,diffClamp:s.diffClamp,delay:function(t){return j},sequence:function(t){return j},parallel:function(t,n){return j},stagger:function(t,n){return j},loop:function(t){(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).iterations;return j},event:function(t,n){return null},createAnimatedComponent:y,attachNativeEvent:f,forkEvent:s.forkEvent,unforkEvent:s.unforkEvent,Event:c,__PropsOnlyForTests:v}},219,[51,220,229,222,223,235,221,240,248]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),s=r(d[2]),v=r(d[3]),o=r(d[4]),c=r(d[5]),_=r(d[3]).shouldUseNativeDriver;function l(t,n,_){var l=[];c(_[0]&&_[0].nativeEvent,'Native driven events only support animated values contained inside `nativeEvent`.'),(function t(n,v){if(n instanceof s)n.__makeNative(),l.push({nativeEventPath:v,animatedValueTag:n.__getNativeTag()});else if('object'==typeof n)for(var o in n)t(n[o],v.concat(o))})(_[0].nativeEvent,[]);var h=o.findNodeHandle(t);return l.forEach(function(t){v.API.addAnimatedEventToView(h,n,t)}),{detach:function(){l.forEach(function(t){v.API.removeAnimatedEventFromView(h,n,t.animatedValueTag)})}}}var h=(function(){function v(n){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t(this,v),this._listeners=[],this._argMapping=n,s.listener&&this.__addListener(s.listener),this._callListeners=this._callListeners.bind(this),this._attachedEvent=null,this.__isNative=_(s)}return n(v,[{key:"__addListener",value:function(t){this._listeners.push(t)}},{key:"__removeListener",value:function(t){this._listeners=this._listeners.filter(function(n){return n!==t})}},{key:"__attach",value:function(t,n){c(this.__isNative,'Only native driven events need to be attached.'),this._attachedEvent=l(t,n,this._argMapping)}},{key:"__detach",value:function(t,n){c(this.__isNative,'Only native driven events need to be detached.'),this._attachedEvent&&this._attachedEvent.detach()}},{key:"__getHandler",value:function(){var t=this;return this.__isNative?this._callListeners:function(){for(var n=arguments.length,v=new Array(n),o=0;o<n;o++)v[o]=arguments[o];var c=function t(n,v,o){if('number'==typeof v&&n instanceof s)n.setValue(v);else if('object'==typeof n)for(var c in n)t(n[c],v[c],c)};t.__isNative||t._argMapping.forEach(function(t,n){c(t,v[n])}),t._callListeners.apply(t,v)}}},{key:"_callListeners",value:function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];this._listeners.forEach(function(t){return t.apply(void 0,n)})}},{key:"_validateMapping",value:function(){}}]),v})();m.exports={AnimatedEvent:h,attachNativeEvent:l}},220,[4,5,221,224,84,17]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),s=r(d[2]),u=r(d[3]),_=r(d[4]),o=r(d[5]),l=r(d[6]),h=r(d[7]),f=r(d[8]),c=r(d[9]).API;function v(t){var n=new Set;!(function t(s){'function'==typeof s.update?n.add(s):s.__getChildren().forEach(t)})(t),n.forEach(function(t){return t.update()})}var p=(function(p){function k(n){var _;return t(this,k),(_=s(this,u(k).call(this)))._startingValue=_._value=n,_._offset=0,_._animation=null,_}return o(k,h),n(k,[{key:"__detach",value:function(){this.stopAnimation(),_(u(k.prototype),"__detach",this).call(this)}},{key:"__getValue",value:function(){return this._value+this._offset}},{key:"setValue",value:function(t){this._animation&&(this._animation.stop(),this._animation=null),this._updateValue(t,!this.__isNative),this.__isNative&&c.setAnimatedNodeValue(this.__getNativeTag(),t)}},{key:"setOffset",value:function(t){this._offset=t,this.__isNative&&c.setAnimatedNodeOffset(this.__getNativeTag(),t)}},{key:"flattenOffset",value:function(){this._value+=this._offset,this._offset=0,this.__isNative&&c.flattenAnimatedNodeOffset(this.__getNativeTag())}},{key:"extractOffset",value:function(){this._offset+=this._value,this._value=0,this.__isNative&&c.extractAnimatedNodeOffset(this.__getNativeTag())}},{key:"stopAnimation",value:function(t){this.stopTracking(),this._animation&&this._animation.stop(),this._animation=null,t&&t(this.__getValue())}},{key:"resetAnimation",value:function(t){this.stopAnimation(t),this._value=this._startingValue}},{key:"_onAnimatedValueUpdateReceived",value:function(t){this._updateValue(t,!1)}},{key:"interpolate",value:function(t){return new l(this,t)}},{key:"animate",value:function(t,n){var s=this,u=null;t.__isInteraction&&(u=f.createInteractionHandle());var _=this._animation;this._animation&&this._animation.stop(),this._animation=t,t.start(this._value,function(t){s._updateValue(t,!0)},function(t){s._animation=null,null!==u&&f.clearInteractionHandle(u),n&&n(t)},_,this)}},{key:"stopTracking",value:function(){this._tracking&&this._tracking.__detach(),this._tracking=null}},{key:"track",value:function(t){this.stopTracking(),this._tracking=t}},{key:"_updateValue",value:function(t,n){this._value=t,n&&v(this),_(u(k.prototype),"__callListeners",this).call(this,this.__getValue())}},{key:"__getNativeConfig",value:function(){return{type:'value',value:this._value,offset:this._offset}}}]),k})();m.exports=p},221,[4,5,6,9,42,10,222,226,227,224]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=r(d[2]),u=r(d[3]),p=r(d[4]),c=r(d[5]),l=r(d[6]);function f(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);n&&(u=u.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,u)}return o}function h(t){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?f(Object(o),!0).forEach(function(n){l(t,n,o[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):f(Object(o)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(o,n))})}return t}r(d[7]);var s=r(d[8]),v=r(d[9]),_=r(d[10]),y=r(d[11]),b=function(t){return t};function R(t){if(t.outputRange&&'string'==typeof t.outputRange[0])return k(t);var n=t.outputRange;C('outputRange',n);var o=t.inputRange;C('inputRange',o),D(o),_(o.length===n.length,'inputRange ('+o.length+') and outputRange ('+n.length+') must have the same length');var u=t.easing||b,p='extend';void 0!==t.extrapolateLeft?p=t.extrapolateLeft:void 0!==t.extrapolate&&(p=t.extrapolate);var c='extend';return void 0!==t.extrapolateRight?c=t.extrapolateRight:void 0!==t.extrapolate&&(c=t.extrapolate),function(t){_('number'==typeof t,'Cannot interpolation an input which is not a number');var l=P(t,o);return x(t,o[l],o[l+1],n[l],n[l+1],u,p,c)}}function x(t,n,o,u,p,c,l,f){var h=t;if(h<n){if('identity'===l)return h;'clamp'===l&&(h=n)}if(h>o){if('identity'===f)return h;'clamp'===f&&(h=o)}return u===p?u:n===o?t<=n?u:p:(n===-1/0?h=-h:o===1/0?h-=n:h=(h-n)/(o-n),h=c(h),u===-1/0?h=-h:p===1/0?h+=u:h=h*(p-u)+u,h)}function O(t){var n=y(t);return null===n?t:"rgba("+((4278190080&(n=n||0))>>>24)+", "+((16711680&n)>>>16)+", "+((65280&n)>>>8)+", "+(255&n)/255+")"}var j=/[+-]?(?:\d+\.?\d*|\.\d+)(?:[eE][+-]?\d+)?/g;function k(t){var n=t.outputRange;_(n.length>=2,'Bad output range'),w(n=n.map(O));var o=n[0].match(j).map(function(){return[]});n.forEach(function(t){t.match(j).forEach(function(t,n){o[n].push(+t)})});var u,p=n[0].match(j).map(function(n,u){return R(h({},t,{outputRange:o[u]}))}),c='string'==typeof(u=n[0])&&u.startsWith('rgb');return function(t){var o=0;return n[0].replace(j,function(){var n=+p[o++](t);return c&&(n=o<4?Math.round(n):Math.round(1e3*n)/1e3),String(n)})}}function w(t){for(var n=t[0].replace(j,''),o=1;o<t.length;++o)_(n===t[o].replace(j,''),'invalid pattern '+t[0]+' and '+t[o])}function P(t,n){var o;for(o=1;o<n.length-1&&!(n[o]>=t);++o);return o-1}function D(t){_(t.length>=2,'inputRange must have at least 2 elements');for(var n=1;n<t.length;++n)_(t[n]>=t[n-1],'inputRange must be monotonically non-decreasing '+t)}function C(t,n){_(n.length>=2,t+' must have at least 2 elements'),_(2!==n.length||n[0]!==-1/0||n[1]!==1/0,t+'cannot be ]-infinity;+infinity[ '+n)}var E=(function(l){function f(n,p){var c;return t(this,f),(c=o(this,u(f).call(this)))._parent=n,c._config=p,c._interpolation=R(p),c}return c(f,s),n(f,[{key:"__makeNative",value:function(){this._parent.__makeNative(),p(u(f.prototype),"__makeNative",this).call(this)}},{key:"__getValue",value:function(){var t=this._parent.__getValue();return _('number'==typeof t,'Cannot interpolate an input which is not a number.'),this._interpolation(t)}},{key:"interpolate",value:function(t){return new f(this,t)}},{key:"__attach",value:function(){this._parent.__addChild(this)}},{key:"__detach",value:function(){this._parent.__removeChild(this),p(u(f.prototype),"__detach",this).call(this)}},{key:"__transformDataType",value:function(t){return t.map(v.transformDataType)}},{key:"__getNativeConfig",value:function(){return{inputRange:this._config.inputRange,outputRange:this.__transformDataType(this._config.outputRange),extrapolateLeft:this._config.extrapolateLeft||this._config.extrapolate||'extend',extrapolateRight:this._config.extrapolateRight||this._config.extrapolate||'extend',type:'interpolation'}}}]),f})();E.__createInterpolation=R,m.exports=E},222,[4,5,6,9,42,10,51,223,226,224,17,66]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),s=r(d[2]),_=s.API,u=r(d[3]),o=1,v=(function(){function v(){t(this,v),this._listeners={}}return n(v,[{key:"__attach",value:function(){}},{key:"__detach",value:function(){this.__isNative&&null!=this.__nativeTag&&(s.API.dropAnimatedNode(this.__nativeTag),this.__nativeTag=void 0)}},{key:"__getValue",value:function(){}},{key:"__getAnimatedValue",value:function(){return this.__getValue()}},{key:"__addChild",value:function(t){}},{key:"__removeChild",value:function(t){}},{key:"__getChildren",value:function(){return[]}}]),n(v,[{key:"__makeNative",value:function(){if(!this.__isNative)throw new Error('This node cannot be made a "native" animated node');this.hasListeners()&&this._startListeningToNativeValueUpdates()}},{key:"addListener",value:function(t){var n=String(o++);return this._listeners[n]=t,this.__isNative&&this._startListeningToNativeValueUpdates(),n}},{key:"removeListener",value:function(t){delete this._listeners[t],this.__isNative&&!this.hasListeners()&&this._stopListeningForNativeValueUpdates()}},{key:"removeAllListeners",value:function(){this._listeners={},this.__isNative&&this._stopListeningForNativeValueUpdates()}},{key:"hasListeners",value:function(){return!!Object.keys(this._listeners).length}},{key:"_startListeningToNativeValueUpdates",value:function(){var t=this;this.__nativeAnimatedValueListener&&!this.__shouldUpdateListenersForNewNativeTag||(this.__shouldUpdateListenersForNewNativeTag&&(this.__shouldUpdateListenersForNewNativeTag=!1,this._stopListeningForNativeValueUpdates()),_.startListeningToAnimatedNodeValue(this.__getNativeTag()),this.__nativeAnimatedValueListener=s.nativeEventEmitter.addListener('onAnimatedValueUpdate',function(n){n.tag===t.__getNativeTag()&&t._onAnimatedValueUpdateReceived(n.value)}))}},{key:"_onAnimatedValueUpdateReceived",value:function(t){this.__callListeners(t)}},{key:"__callListeners",value:function(t){for(var n in this._listeners)this._listeners[n]({value:t})}},{key:"_stopListeningForNativeValueUpdates",value:function(){this.__nativeAnimatedValueListener&&(this.__nativeAnimatedValueListener.remove(),this.__nativeAnimatedValueListener=null,_.stopListeningToAnimatedNodeValue(this.__getNativeTag()))}},{key:"__getNativeTag",value:function(){if(s.assertNativeAnimatedModule(),u(this.__isNative,'Attempt to get native tag from node not marked as "native"'),null==this.__nativeTag){var t=s.generateNewNodeTag();this.__nativeTag=t,s.API.createAnimatedNode(t,this.__getNativeConfig()),this.__shouldUpdateListenersForNewNativeTag=!0}return this.__nativeTag}},{key:"__getNativeConfig",value:function(){throw new Error('This JS animated node type cannot be used as native animated node')}},{key:"toJSON",value:function(){return this.__getValue()}}]),v})();m.exports=v},223,[4,5,224,17]);
__d(function(g,r,i,a,m,e,d){'use strict';var t,n=r(d[0]),o=n(r(d[1])),l=n(r(d[2])),u=n(r(d[3])),s=1,f=1,v=!1,c=[],N={enableQueue:function(){v=!0},disableQueue:function(){(0,u.default)(l.default,'Native animated module is not available'),v=!1;for(var t=0,n=c.length;t<n;t++){var o=c[t];l.default.connectAnimatedNodes(o[0],o[1])}c.length=0},createAnimatedNode:function(t,n){(0,u.default)(l.default,'Native animated module is not available'),l.default.createAnimatedNode(t,n)},startListeningToAnimatedNodeValue:function(t){(0,u.default)(l.default,'Native animated module is not available'),l.default.startListeningToAnimatedNodeValue(t)},stopListeningToAnimatedNodeValue:function(t){(0,u.default)(l.default,'Native animated module is not available'),l.default.stopListeningToAnimatedNodeValue(t)},connectAnimatedNodes:function(t,n){(0,u.default)(l.default,'Native animated module is not available'),v?c.push([t,n]):l.default.connectAnimatedNodes(t,n)},disconnectAnimatedNodes:function(t,n){(0,u.default)(l.default,'Native animated module is not available'),l.default.disconnectAnimatedNodes(t,n)},startAnimatingNode:function(t,n,o,s){(0,u.default)(l.default,'Native animated module is not available'),l.default.startAnimatingNode(t,n,o,s)},stopAnimation:function(t){(0,u.default)(l.default,'Native animated module is not available'),l.default.stopAnimation(t)},setAnimatedNodeValue:function(t,n){(0,u.default)(l.default,'Native animated module is not available'),l.default.setAnimatedNodeValue(t,n)},setAnimatedNodeOffset:function(t,n){(0,u.default)(l.default,'Native animated module is not available'),l.default.setAnimatedNodeOffset(t,n)},flattenAnimatedNodeOffset:function(t){(0,u.default)(l.default,'Native animated module is not available'),l.default.flattenAnimatedNodeOffset(t)},extractAnimatedNodeOffset:function(t){(0,u.default)(l.default,'Native animated module is not available'),l.default.extractAnimatedNodeOffset(t)},connectAnimatedNodeToView:function(t,n){(0,u.default)(l.default,'Native animated module is not available'),l.default.connectAnimatedNodeToView(t,n)},disconnectAnimatedNodeFromView:function(t,n){(0,u.default)(l.default,'Native animated module is not available'),l.default.disconnectAnimatedNodeFromView(t,n)},dropAnimatedNode:function(t){(0,u.default)(l.default,'Native animated module is not available'),l.default.dropAnimatedNode(t)},addAnimatedEventToView:function(t,n,o){(0,u.default)(l.default,'Native animated module is not available'),l.default.addAnimatedEventToView(t,n,o)},removeAnimatedEventFromView:function(t,n,o){(0,u.default)(l.default,'Native animated module is not available'),l.default.removeAnimatedEventFromView(t,n,o)}},p={opacity:!0,transform:!0,borderRadius:!0,borderBottomEndRadius:!0,borderBottomLeftRadius:!0,borderBottomRightRadius:!0,borderBottomStartRadius:!0,borderTopEndRadius:!0,borderTopLeftRadius:!0,borderTopRightRadius:!0,borderTopStartRadius:!0,elevation:!0,shadowOpacity:!0,shadowRadius:!0,scaleX:!0,scaleY:!0,translateX:!0,translateY:!0},A={translateX:!0,translateY:!0,scale:!0,scaleX:!0,scaleY:!0,rotate:!0,rotateX:!0,rotateY:!0,rotateZ:!0,perspective:!0},b={inputRange:!0,outputRange:!0,extrapolate:!0,extrapolateRight:!0,extrapolateLeft:!0};var h=!1;m.exports={API:N,addWhitelistedStyleProp:function(t){p[t]=!0},addWhitelistedTransformProp:function(t){A[t]=!0},addWhitelistedInterpolationParam:function(t){b[t]=!0},validateStyles:function(t){for(var n in t)if(!p.hasOwnProperty(n))throw new Error("Style property '"+n+"' is not supported by native animated module")},validateTransform:function(t){t.forEach(function(t){if(!A.hasOwnProperty(t.property))throw new Error("Property '"+t.property+"' is not supported by native animated module")})},validateInterpolation:function(t){for(var n in t)if(!b.hasOwnProperty(n))throw new Error("Interpolation property '"+n+"' is not supported by native animated module")},generateNewNodeTag:function(){return s++},generateNewAnimationId:function(){return f++},assertNativeAnimatedModule:function(){(0,u.default)(l.default,'Native animated module is not available')},shouldUseNativeDriver:function(t){return!0!==t.useNativeDriver||l.default?t.useNativeDriver||!1:(h||(console.warn("Animated: `useNativeDriver` is not supported because the native animated module is missing. Falling back to JS-based animation. To resolve this, add `RCTAnimation` module to this app, or remove `useNativeDriver`. More info: https://github.com/facebook/react-native/issues/11094#issuecomment-263240420"),h=!0),!1)},transformDataType:function(t){return'string'!=typeof t?t:/deg$/.test(t)?(parseFloat(t)||0)*Math.PI/180:t},get nativeEventEmitter(){return t||(t=new o.default(l.default)),t}}},224,[1,121,225,17]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])).get('NativeAnimatedModule');e.default=u},225,[23,24]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),_=r(d[1]),n=r(d[2]),s=r(d[3]),h=r(d[4]),l=r(d[5]),o=r(d[6]),c=r(d[7]),v=(function(v){function u(){var _;return t(this,u),(_=n(this,s(u).call(this)))._children=[],_}return l(u,o),_(u,[{key:"__makeNative",value:function(){if(!this.__isNative){this.__isNative=!0;var t=this._children,_=Array.isArray(t),n=0;for(t=_?t:t["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var l;if(_){if(n>=t.length)break;l=t[n++]}else{if((n=t.next()).done)break;l=n.value}var o=l;o.__makeNative(),c.API.connectAnimatedNodes(this.__getNativeTag(),o.__getNativeTag())}}h(s(u.prototype),"__makeNative",this).call(this)}},{key:"__addChild",value:function(t){0===this._children.length&&this.__attach(),this._children.push(t),this.__isNative&&(t.__makeNative(),c.API.connectAnimatedNodes(this.__getNativeTag(),t.__getNativeTag()))}},{key:"__removeChild",value:function(t){var _=this._children.indexOf(t);-1!==_?(this.__isNative&&t.__isNative&&c.API.disconnectAnimatedNodes(this.__getNativeTag(),t.__getNativeTag()),this._children.splice(_,1),0===this._children.length&&this.__detach()):console.warn("Trying to remove a child that doesn't exist")}},{key:"__getChildren",value:function(){return this._children}},{key:"__callListeners",value:function(t){if(h(s(u.prototype),"__callListeners",this).call(this,t),!this.__isNative){var _=this._children,n=Array.isArray(_),l=0;for(_=n?_:_["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var o;if(n){if(l>=_.length)break;o=_[l++]}else{if((l=_.next()).done)break;o=l.value}var c=o;c.__getValue&&c.__callListeners(c.__getValue())}}}}]),u})();m.exports=v},226,[4,5,6,9,42,10,223,224]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]),t=r(d[1]),o=r(d[2]),c=(r(d[3]),r(d[4])),s=r(d[5]),u=new t,l={Events:s({interactionStart:!0,interactionComplete:!0}),runAfterInteractions:function(n){var t=[],o=new Promise(function(o){k(),n&&t.push(n),t.push({run:o,name:'resolve '+(n&&n.name||'?')}),h.enqueueTasks(t)});return{then:o.then.bind(o),done:function(){if(o.done)return o.done.apply(o,arguments);console.warn('Tried to call done when not supported by current Promise implementation.')},cancel:function(){h.cancelTasks(t)}}},createInteractionHandle:function(){k();var n=++T;return p.add(n),n},clearInteractionHandle:function(n){c(!!n,'InteractionManager: Must provide a handle to clear.'),k(),p.delete(n),v.add(n)},addListener:u.addListener.bind(u),setDeadline:function(n){E=n}},f=new Set,p=new Set,v=new Set,h=new o({onMoreTasks:k}),w=0,T=0,E=-1;function k(){w||(w=E>0?setTimeout(I,0):setImmediate(I))}function I(){w=0;var t=f.size;p.forEach(function(n){return f.add(n)}),v.forEach(function(n){return f.delete(n)});var o=f.size;if(0!==t&&0===o?u.emit(l.Events.interactionComplete):0===t&&0!==o&&u.emit(l.Events.interactionStart),0===o)for(;h.hasTasksToProcess();)if(h.processNext(),E>0&&n.getEventLoopRunningTime()>=E){k();break}p.clear(),v.clear()}m.exports=l},227,[30,44,228,150,17,206]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),u=r(d[2]);function s(t,n){var u=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);n&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),u.push.apply(u,s)}return u}function o(n){for(var u=1;u<arguments.length;u++){var o=null!=arguments[u]?arguments[u]:{};u%2?s(Object(o),!0).forEach(function(u){t(n,u,o[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):s(Object(o)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(o,t))})}return n}r(d[3]);var c=r(d[4]),h=(function(){function t(u){var s=u.onMoreTasks;n(this,t),this._onMoreTasks=s,this._queueStack=[{tasks:[],popable:!1}]}return u(t,[{key:"enqueue",value:function(t){this._getCurrentQueue().push(t)}},{key:"enqueueTasks",value:function(t){var n=this;t.forEach(function(t){return n.enqueue(t)})}},{key:"cancelTasks",value:function(t){this._queueStack=this._queueStack.map(function(n){return o({},n,{tasks:n.tasks.filter(function(n){return-1===t.indexOf(n)})})}).filter(function(t,n){return t.tasks.length>0||0===n})}},{key:"hasTasksToProcess",value:function(){return this._getCurrentQueue().length>0}},{key:"processNext",value:function(){var t=this._getCurrentQueue();if(t.length){var n=t.shift();try{n.gen?this._genPromise(n):n.run?n.run():(c('function'==typeof n,'Expected Function, SimpleTask, or PromiseTask, but got:\n'+JSON.stringify(n,null,2)),n())}catch(t){throw t.message='TaskQueue: Error with task '+(n.name||'')+': '+t.message,t}}}},{key:"_getCurrentQueue",value:function(){var t=this._queueStack.length-1,n=this._queueStack[t];return n.popable&&0===n.tasks.length&&this._queueStack.length>1?(this._queueStack.pop(),this._getCurrentQueue()):n.tasks}},{key:"_genPromise",value:function(t){var n=this;this._queueStack.push({tasks:[],popable:!1});var u=this._queueStack.length-1;t.gen().then(function(){n._queueStack[u].popable=!0,n.hasTasksToProcess()&&n._onMoreTasks()}).catch(function(n){throw n.message="TaskQueue: Error resolving Promise in task "+t.name+": "+n.message,n}).done()}}]),t})();m.exports=h},228,[51,4,5,150,17]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);function n(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);n&&(u=u.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,u)}return o}function o(o){for(var u=1;u<arguments.length;u++){var s=null!=arguments[u]?arguments[u]:{};u%2?n(Object(s),!0).forEach(function(n){t(o,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(s)):n(Object(s)).forEach(function(t){Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(s,t))})}return o}var u=r(d[1]),s=u.AnimatedEvent,c=u.attachNativeEvent,f=r(d[2]),v=r(d[3]),p=r(d[4]),l=r(d[5]),h=r(d[6]),_=r(d[7]),w=r(d[8]),y=r(d[9]),N=r(d[10]),O=r(d[11]),D=r(d[12]),b=r(d[13]),E=r(d[14]),L=r(d[15]),j=r(d[16]),A=r(d[17]),P=function(t,n){return t&&n.onComplete?function(){n.onComplete&&n.onComplete.apply(n,arguments),t&&t.apply(void 0,arguments)}:t||n.onComplete},k=function(t,n,u){if(t instanceof b){var s=o({},n),c=o({},n);for(var f in n){var v=n[f],p=v.x,l=v.y;void 0!==p&&void 0!==l&&(s[f]=p,c[f]=l)}var h=u(t.x,s),_=u(t.y,c);return C([h,_],{stopTogether:!1})}return null},U=function t(n,u){var s=function(t,n,o){o=P(o,n);var u=t,s=n;u.stopTracking(),n.toValue instanceof w?u.track(new O(u,n.toValue,j,s,o)):u.animate(new j(s),o)};return k(n,u,t)||{start:function(t){s(n,u,t)},stop:function(){n.stopAnimation()},reset:function(){n.resetAnimation()},_startNativeLoop:function(t){var c=o({},u,{iterations:t});s(n,c)},_isUsingNativeDriver:function(){return u.useNativeDriver||!1}}},V=function(t){var n=0;return{start:function(o){0===t.length?o&&o({finished:!0}):t[n].start(function u(s){s.finished&&++n!==t.length?t[n].start(u):o&&o(s)})},stop:function(){n<t.length&&t[n].stop()},reset:function(){t.forEach(function(t,o){o<=n&&t.reset()}),n=0},_startNativeLoop:function(){throw new Error('Loops run using the native driver cannot contain Animated.sequence animations')},_isUsingNativeDriver:function(){return!1}}},C=function(t,n){var o=0,u={},s=!(n&&!1===n.stopTogether),c={start:function(n){o!==t.length?t.forEach(function(f,v){var p=function(f){if(u[v]=!0,++o===t.length)return o=0,void(n&&n(f));!f.finished&&s&&c.stop()};f?f.start(p):p({finished:!0})}):n&&n({finished:!0})},stop:function(){t.forEach(function(t,n){!u[n]&&t.stop(),u[n]=!0})},reset:function(){t.forEach(function(t,n){t.reset(),u[n]=!1,o=0})},_startNativeLoop:function(){throw new Error('Loops run using the native driver cannot contain Animated.parallel animations')},_isUsingNativeDriver:function(){return!1}};return c},T=function(t){return U(new D(0),{toValue:0,delay:t,duration:0,useNativeDriver:!1})};m.exports={Value:D,ValueXY:b,Interpolation:l,Node:w,decay:function t(n,u){var s=function(t,n,o){o=P(o,n);var u=t,s=n;u.stopTracking(),u.animate(new E(s),o)};return k(n,u,t)||{start:function(t){s(n,u,t)},stop:function(){n.stopAnimation()},reset:function(){n.resetAnimation()},_startNativeLoop:function(t){var c=o({},u,{iterations:t});s(n,c)},_isUsingNativeDriver:function(){return u.useNativeDriver||!1}}},timing:U,spring:function t(n,u){var s=function(t,n,o){o=P(o,n);var u=t,s=n;u.stopTracking(),n.toValue instanceof w?u.track(new O(u,n.toValue,L,s,o)):u.animate(new L(s),o)};return k(n,u,t)||{start:function(t){s(n,u,t)},stop:function(){n.stopAnimation()},reset:function(){n.resetAnimation()},_startNativeLoop:function(t){var c=o({},u,{iterations:t});s(n,c)},_isUsingNativeDriver:function(){return u.useNativeDriver||!1}}},add:function(t,n){return new f(t,n)},subtract:function(t,n){return new N(t,n)},divide:function(t,n){return new p(t,n)},multiply:function(t,n){return new _(t,n)},modulo:function(t,n){return new h(t,n)},diffClamp:function(t,n,o){return new v(t,n,o)},delay:T,sequence:V,parallel:C,stagger:function(t,n){return C(n.map(function(n,o){return V([T(t*o),n])}))},loop:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.iterations,u=void 0===o?-1:o,s=n.resetBeforeIteration,c=void 0===s||s,f=!1,v=0;return{start:function(n){t&&0!==u?t._isUsingNativeDriver()?t._startNativeLoop(u):(function o(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{finished:!0};f||v===u||!1===s.finished?n&&n(s):(v++,c&&t.reset(),t.start(o))})():n&&n({finished:!0})},stop:function(){f=!0,t.stop()},reset:function(){v=0,f=!1,t.reset()},_startNativeLoop:function(){throw new Error('Loops run using the native driver cannot contain Animated.loop animations')},_isUsingNativeDriver:function(){return t._isUsingNativeDriver()}}},event:function(t,n){var o=new s(t,n);return o.__isNative?o:o.__getHandler()},createAnimatedComponent:A,attachNativeEvent:c,forkEvent:function(t,n){return t?t instanceof s?(t.__addListener(n),t):function(){'function'==typeof t&&t.apply(void 0,arguments),n.apply(void 0,arguments)}:n},unforkEvent:function(t,n){t&&t instanceof s&&t.__removeListener(n)},Event:s,__PropsOnlyForTests:y}},229,[51,220,230,231,232,222,233,234,223,235,238,239,221,240,241,243,245,248]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),_=r(d[1]),n=r(d[2]),h=r(d[3]),u=r(d[4]),s=r(d[5]),o=r(d[6]),l=(r(d[7]),r(d[8])),v=r(d[9]),c=(function(c){function f(_,u){var s;return t(this,f),(s=n(this,h(f).call(this)))._a='number'==typeof _?new l(_):_,s._b='number'==typeof u?new l(u):u,s}return s(f,v),_(f,[{key:"__makeNative",value:function(){this._a.__makeNative(),this._b.__makeNative(),u(h(f.prototype),"__makeNative",this).call(this)}},{key:"__getValue",value:function(){return this._a.__getValue()+this._b.__getValue()}},{key:"interpolate",value:function(t){return new o(this,t)}},{key:"__attach",value:function(){this._a.__addChild(this),this._b.__addChild(this)}},{key:"__detach",value:function(){this._a.__removeChild(this),this._b.__removeChild(this),u(h(f.prototype),"__detach",this).call(this)}},{key:"__getNativeConfig",value:function(){return{type:'addition',input:[this._a.__getNativeTag(),this._b.__getNativeTag()]}}}]),f})();m.exports=c},230,[4,5,6,9,42,10,222,223,221,226]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),_=r(d[1]),n=r(d[2]),u=r(d[3]),h=r(d[4]),s=r(d[5]),l=r(d[6]),v=(r(d[7]),r(d[8])),c=(function(c){function o(_,h,s){var l;return t(this,o),(l=n(this,u(o).call(this)))._a=_,l._min=h,l._max=s,l._value=l._lastValue=l._a.__getValue(),l}return s(o,v),_(o,[{key:"__makeNative",value:function(){this._a.__makeNative(),h(u(o.prototype),"__makeNative",this).call(this)}},{key:"interpolate",value:function(t){return new l(this,t)}},{key:"__getValue",value:function(){var t=this._a.__getValue(),_=t-this._lastValue;return this._lastValue=t,this._value=Math.min(Math.max(this._value+_,this._min),this._max),this._value}},{key:"__attach",value:function(){this._a.__addChild(this)}},{key:"__detach",value:function(){this._a.__removeChild(this),h(u(o.prototype),"__detach",this).call(this)}},{key:"__getNativeConfig",value:function(){return{type:'diffclamp',input:this._a.__getNativeTag(),min:this._min,max:this._max}}}]),o})();m.exports=c},231,[4,5,6,9,42,10,222,223,226]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),_=r(d[1]),n=r(d[2]),h=r(d[3]),s=r(d[4]),o=r(d[5]),u=r(d[6]),l=(r(d[7]),r(d[8])),v=r(d[9]),c=(function(c){function f(_,s){var o;return t(this,f),(o=n(this,h(f).call(this)))._a='number'==typeof _?new l(_):_,o._b='number'==typeof s?new l(s):s,o}return o(f,v),_(f,[{key:"__makeNative",value:function(){this._a.__makeNative(),this._b.__makeNative(),s(h(f.prototype),"__makeNative",this).call(this)}},{key:"__getValue",value:function(){var t=this._a.__getValue(),_=this._b.__getValue();return 0===_&&console.error('Detected division by zero in AnimatedDivision'),t/_}},{key:"interpolate",value:function(t){return new u(this,t)}},{key:"__attach",value:function(){this._a.__addChild(this),this._b.__addChild(this)}},{key:"__detach",value:function(){this._a.__removeChild(this),this._b.__removeChild(this),s(h(f.prototype),"__detach",this).call(this)}},{key:"__getNativeConfig",value:function(){return{type:'division',input:[this._a.__getNativeTag(),this._b.__getNativeTag()]}}}]),f})();m.exports=c},232,[4,5,6,9,42,10,222,223,221,226]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),u=r(d[1]),_=r(d[2]),s=r(d[3]),n=r(d[4]),h=r(d[5]),l=r(d[6]),o=(r(d[7]),r(d[8])),c=(function(c){function v(u,n){var h;return t(this,v),(h=_(this,s(v).call(this)))._a=u,h._modulus=n,h}return h(v,o),u(v,[{key:"__makeNative",value:function(){this._a.__makeNative(),n(s(v.prototype),"__makeNative",this).call(this)}},{key:"__getValue",value:function(){return(this._a.__getValue()%this._modulus+this._modulus)%this._modulus}},{key:"interpolate",value:function(t){return new l(this,t)}},{key:"__attach",value:function(){this._a.__addChild(this)}},{key:"__detach",value:function(){this._a.__removeChild(this),n(s(v.prototype),"__detach",this).call(this)}},{key:"__getNativeConfig",value:function(){return{type:'modulus',input:this._a.__getNativeTag(),modulus:this._modulus}}}]),v})();m.exports=c},233,[4,5,6,9,42,10,222,223,226]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),_=r(d[1]),n=r(d[2]),h=r(d[3]),u=r(d[4]),s=r(d[5]),l=r(d[6]),o=(r(d[7]),r(d[8])),c=r(d[9]),v=(function(v){function f(_,u){var s;return t(this,f),(s=n(this,h(f).call(this)))._a='number'==typeof _?new o(_):_,s._b='number'==typeof u?new o(u):u,s}return s(f,c),_(f,[{key:"__makeNative",value:function(){this._a.__makeNative(),this._b.__makeNative(),u(h(f.prototype),"__makeNative",this).call(this)}},{key:"__getValue",value:function(){return this._a.__getValue()*this._b.__getValue()}},{key:"interpolate",value:function(t){return new l(this,t)}},{key:"__attach",value:function(){this._a.__addChild(this),this._b.__addChild(this)}},{key:"__detach",value:function(){this._a.__removeChild(this),this._b.__removeChild(this),u(h(f.prototype),"__detach",this).call(this)}},{key:"__getNativeConfig",value:function(){return{type:'multiplication',input:[this._a.__getNativeTag(),this._b.__getNativeTag()]}}}]),f})();m.exports=v},234,[4,5,6,9,42,10,222,223,221,226]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=r(d[2]),s=r(d[3]),_=r(d[4]),c=r(d[5]),v=r(d[6]);function p(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);n&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,s)}return o}function h(n){for(var o=1;o<arguments.length;o++){var s=null!=arguments[o]?arguments[o]:{};o%2?p(Object(s),!0).forEach(function(o){t(n,o,s[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):p(Object(s)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(s,t))})}return n}var u=r(d[7]).AnimatedEvent,l=r(d[8]),f=r(d[9]),y=r(d[10]),w=r(d[11]),b=r(d[12]),N=(function(t){function p(t,o){var c;return n(this,p),c=s(this,_(p).call(this)),t.style&&(t=h({},t,{style:new f(t.style)})),c._props=t,c._callback=o,c.__attach(),c}return v(p,l),o(p,[{key:"__getValue",value:function(){var t={};for(var n in this._props){var o=this._props[n];o instanceof l?(!o.__isNative||o instanceof f)&&(t[n]=o.__getValue()):t[n]=o instanceof u?o.__getHandler():o}return t}},{key:"__getAnimatedValue",value:function(){var t={};for(var n in this._props){var o=this._props[n];o instanceof l&&(t[n]=o.__getAnimatedValue())}return t}},{key:"__attach",value:function(){for(var t in this._props){var n=this._props[t];n instanceof l&&n.__addChild(this)}}},{key:"__detach",value:function(){for(var t in this.__isNative&&this._animatedView&&this.__disconnectAnimatedView(),this._props){var n=this._props[t];n instanceof l&&n.__removeChild(this)}c(_(p.prototype),"__detach",this).call(this)}},{key:"update",value:function(){this._callback()}},{key:"__makeNative",value:function(){if(!this.__isNative){for(var t in this.__isNative=!0,this._props){var n=this._props[t];n instanceof l&&n.__makeNative()}this._animatedView&&this.__connectAnimatedView()}}},{key:"setNativeView",value:function(t){this._animatedView!==t&&(this._animatedView=t,this.__isNative&&this.__connectAnimatedView())}},{key:"__connectAnimatedView",value:function(){b(this.__isNative,'Expected node to be marked as "native"');var t=w.findNodeHandle(this._animatedView);b(null!=t,'Unable to locate attached view in the native tree'),y.API.connectAnimatedNodeToView(this.__getNativeTag(),t)}},{key:"__disconnectAnimatedView",value:function(){b(this.__isNative,'Expected node to be marked as "native"');var t=w.findNodeHandle(this._animatedView);b(null!=t,'Unable to locate attached view in the native tree'),y.API.disconnectAnimatedNodeFromView(this.__getNativeTag(),t)}},{key:"__getNativeConfig",value:function(){var t={};for(var n in this._props){var o=this._props[n];o instanceof l&&(o.__makeNative(),t[n]=o.__getNativeTag())}return{type:'props',props:t}}}]),p})();m.exports=N},235,[51,4,5,6,9,42,10,220,223,236,224,84,17]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),s=r(d[2]),l=r(d[3]),o=r(d[4]),_=r(d[5]),y=r(d[6]);function c(t,n){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);n&&(l=l.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,l)}return s}function u(n){for(var s=1;s<arguments.length;s++){var l=null!=arguments[s]?arguments[s]:{};s%2?c(Object(l),!0).forEach(function(s){t(n,s,l[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(l)):c(Object(l)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(l,t))})}return n}var f=r(d[7]),v=r(d[8]),h=r(d[9]),p=r(d[10]),k=r(d[11]),O=(function(t){function c(t){var s;return n(this,c),s=l(this,o(c).call(this)),(t=k(t)||{}).transform&&(t=u({},t,{transform:new v(t.transform)})),s._style=t,s}return y(c,h),s(c,[{key:"_walkStyleAndGetValues",value:function(t){var n={};for(var s in t){var l=t[s];l instanceof f?l.__isNative||(n[s]=l.__getValue()):l&&!Array.isArray(l)&&'object'==typeof l?n[s]=this._walkStyleAndGetValues(l):n[s]=l}return n}},{key:"__getValue",value:function(){return this._walkStyleAndGetValues(this._style)}},{key:"_walkStyleAndGetAnimatedValues",value:function(t){var n={};for(var s in t){var l=t[s];l instanceof f?n[s]=l.__getAnimatedValue():l&&!Array.isArray(l)&&'object'==typeof l&&(n[s]=this._walkStyleAndGetAnimatedValues(l))}return n}},{key:"__getAnimatedValue",value:function(){return this._walkStyleAndGetAnimatedValues(this._style)}},{key:"__attach",value:function(){for(var t in this._style){var n=this._style[t];n instanceof f&&n.__addChild(this)}}},{key:"__detach",value:function(){for(var t in this._style){var n=this._style[t];n instanceof f&&n.__removeChild(this)}_(o(c.prototype),"__detach",this).call(this)}},{key:"__makeNative",value:function(){for(var t in this._style){var n=this._style[t];n instanceof f&&n.__makeNative()}_(o(c.prototype),"__makeNative",this).call(this)}},{key:"__getNativeConfig",value:function(){var t={};for(var n in this._style)if(this._style[n]instanceof f){var s=this._style[n];s.__makeNative(),t[n]=s.__getNativeTag()}return p.validateStyles(t),{type:'style',style:t}}}]),c})();m.exports=O},236,[51,4,5,6,9,42,10,223,237,226,224,81]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=r(d[2]),s=r(d[3]),f=r(d[4]),_=r(d[5]),u=r(d[6]),c=r(d[7]),v=r(d[8]),h=(function(h){function l(n){var f;return t(this,l),(f=o(this,s(l).call(this)))._transforms=n,f}return _(l,c),n(l,[{key:"__makeNative",value:function(){this._transforms.forEach(function(t){for(var n in t){var o=t[n];o instanceof u&&o.__makeNative()}}),f(s(l.prototype),"__makeNative",this).call(this)}},{key:"__getValue",value:function(){return this._transforms.map(function(t){var n={};for(var o in t){var s=t[o];n[o]=s instanceof u?s.__getValue():s}return n})}},{key:"__getAnimatedValue",value:function(){return this._transforms.map(function(t){var n={};for(var o in t){var s=t[o];n[o]=s instanceof u?s.__getAnimatedValue():s}return n})}},{key:"__attach",value:function(){var t=this;this._transforms.forEach(function(n){for(var o in n){var s=n[o];s instanceof u&&s.__addChild(t)}})}},{key:"__detach",value:function(){var t=this;this._transforms.forEach(function(n){for(var o in n){var s=n[o];s instanceof u&&s.__removeChild(t)}}),f(s(l.prototype),"__detach",this).call(this)}},{key:"__getNativeConfig",value:function(){var t=[];return this._transforms.forEach(function(n){for(var o in n){var s=n[o];s instanceof u?t.push({type:'animated',property:o,nodeTag:s.__getNativeTag()}):t.push({type:'static',property:o,value:v.transformDataType(s)})}}),v.validateTransform(t),{type:'transform',transforms:t}}}]),l})();m.exports=h},237,[4,5,6,9,42,10,223,226,224]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),_=r(d[1]),n=r(d[2]),h=r(d[3]),u=r(d[4]),s=r(d[5]),o=r(d[6]),l=(r(d[7]),r(d[8])),c=r(d[9]),v=(function(v){function f(_,u){var s;return t(this,f),(s=n(this,h(f).call(this)))._a='number'==typeof _?new l(_):_,s._b='number'==typeof u?new l(u):u,s}return s(f,c),_(f,[{key:"__makeNative",value:function(){this._a.__makeNative(),this._b.__makeNative(),u(h(f.prototype),"__makeNative",this).call(this)}},{key:"__getValue",value:function(){return this._a.__getValue()-this._b.__getValue()}},{key:"interpolate",value:function(t){return new o(this,t)}},{key:"__attach",value:function(){this._a.__addChild(this),this._b.__addChild(this)}},{key:"__detach",value:function(){this._a.__removeChild(this),this._b.__removeChild(this),u(h(f.prototype),"__detach",this).call(this)}},{key:"__getNativeConfig",value:function(){return{type:'subtraction',input:[this._a.__getNativeTag(),this._b.__getNativeTag()]}}}]),f})();m.exports=v},238,[4,5,6,9,42,10,222,223,221,226]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=r(d[2]),_=r(d[3]),s=r(d[4]),u=r(d[5]),c=r(d[6]);function l(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(t);n&&(_=_.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,_)}return o}function h(n){for(var o=1;o<arguments.length;o++){var _=null!=arguments[o]?arguments[o]:{};o%2?l(Object(_),!0).forEach(function(o){t(n,o,_[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(_)):l(Object(_)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(_,t))})}return n}r(d[7]);var v=r(d[8]),f=r(d[9]),p=f.generateNewAnimationId,y=f.shouldUseNativeDriver,O=(function(t){function l(t,o,u,c,h){var v;return n(this,l),(v=_(this,s(l).call(this)))._value=t,v._parent=o,v._animationClass=u,v._animationConfig=c,v._useNativeDriver=y(c),v._callback=h,v.__attach(),v}return c(l,v),o(l,[{key:"__makeNative",value:function(){this.__isNative=!0,this._parent.__makeNative(),u(s(l.prototype),"__makeNative",this).call(this),this._value.__makeNative()}},{key:"__getValue",value:function(){return this._parent.__getValue()}},{key:"__attach",value:function(){this._parent.__addChild(this),this._useNativeDriver&&this.__makeNative()}},{key:"__detach",value:function(){this._parent.__removeChild(this),u(s(l.prototype),"__detach",this).call(this)}},{key:"update",value:function(){this._value.animate(new this._animationClass(h({},this._animationConfig,{toValue:this._animationConfig.toValue.__getValue()})),this._callback)}},{key:"__getNativeConfig",value:function(){var t=new this._animationClass(h({},this._animationConfig,{toValue:void 0})).__getNativeAnimationConfig();return{type:'tracking',animationId:p(),animationConfig:t,toValue:this._parent.__getNativeTag(),value:this._value.__getNativeTag()}}}]),l})();m.exports=O},239,[51,4,5,6,9,42,10,221,223,224]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),s=r(d[1]),n=r(d[2]),u=r(d[3]),l=r(d[4]),f=r(d[5]),o=r(d[6]),y=r(d[7]),h=1,x=(function(x){function c(s){var l;t(this,c),l=n(this,u(c).call(this));var o=s||{x:0,y:0};return'number'==typeof o.x&&'number'==typeof o.y?(l.x=new f(o.x),l.y=new f(o.y)):(y(o.x instanceof f&&o.y instanceof f,"AnimatedValueXY must be initialized with an object of numbers or AnimatedValues."),l.x=o.x,l.y=o.y),l._listeners={},l}return l(c,o),s(c,[{key:"setValue",value:function(t){this.x.setValue(t.x),this.y.setValue(t.y)}},{key:"setOffset",value:function(t){this.x.setOffset(t.x),this.y.setOffset(t.y)}},{key:"flattenOffset",value:function(){this.x.flattenOffset(),this.y.flattenOffset()}},{key:"extractOffset",value:function(){this.x.extractOffset(),this.y.extractOffset()}},{key:"__getValue",value:function(){return{x:this.x.__getValue(),y:this.y.__getValue()}}},{key:"resetAnimation",value:function(t){this.x.resetAnimation(),this.y.resetAnimation(),t&&t(this.__getValue())}},{key:"stopAnimation",value:function(t){this.x.stopAnimation(),this.y.stopAnimation(),t&&t(this.__getValue())}},{key:"addListener",value:function(t){var s=this,n=String(h++),u=function(n){n.value;t(s.__getValue())};return this._listeners[n]={x:this.x.addListener(u),y:this.y.addListener(u)},n}},{key:"removeListener",value:function(t){this.x.removeListener(this._listeners[t].x),this.y.removeListener(this._listeners[t].y),delete this._listeners[t]}},{key:"removeAllListeners",value:function(){this.x.removeAllListeners(),this.y.removeAllListeners(),this._listeners={}}},{key:"getLayout",value:function(){return{left:this.x,top:this.y}}},{key:"getTranslateTransform",value:function(){return[{translateX:this.x},{translateY:this.y}]}}]),c})();m.exports=x},240,[4,5,6,9,10,221,226,17]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),s=r(d[2]),o=r(d[3]),_=r(d[4]),h=r(d[5]),l=r(d[6]),c=r(d[7]).shouldUseNativeDriver,u=(function(u){function v(n){var _,h,l,u;return t(this,v),(u=s(this,o(v).call(this)))._deceleration=null!=(_=n.deceleration)?_:.998,u._velocity=n.velocity,u._useNativeDriver=c(n),u.__isInteraction=null!=(h=n.isInteraction)?h:!u._useNativeDriver,u.__iterations=null!=(l=n.iterations)?l:1,u}return h(v,l),n(v,[{key:"__getNativeAnimationConfig",value:function(){return{type:'decay',deceleration:this._deceleration,velocity:this._velocity,iterations:this.__iterations}}},{key:"start",value:function(t,n,s,o,_){this.__active=!0,this._lastValue=t,this._fromValue=t,this._onUpdate=n,this.__onEnd=s,this._startTime=Date.now(),this._useNativeDriver?this.__startNativeAnimation(_):this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this))}},{key:"onUpdate",value:function(){var t=Date.now(),n=this._fromValue+this._velocity/(1-this._deceleration)*(1-Math.exp(-(1-this._deceleration)*(t-this._startTime)));this._onUpdate(n),Math.abs(this._lastValue-n)<.1?this.__debouncedOnEnd({finished:!0}):(this._lastValue=n,this.__active&&(this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this))))}},{key:"stop",value:function(){_(o(v.prototype),"stop",this).call(this),this.__active=!1,g.cancelAnimationFrame(this._animationFrame),this.__debouncedOnEnd({finished:!1})}}]),v})();m.exports=u},241,[4,5,6,9,42,10,242,224]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]),t=r(d[1]),o=r(d[2]),_=(function(){function _(){n(this,_)}return t(_,[{key:"start",value:function(n,t,o,_,u){}},{key:"stop",value:function(){this.__nativeId&&o.API.stopAnimation(this.__nativeId)}},{key:"__getNativeAnimationConfig",value:function(){throw new Error('This animation type cannot be offloaded to native')}},{key:"__debouncedOnEnd",value:function(n){var t=this.__onEnd;this.__onEnd=null,t&&t(n)}},{key:"__startNativeAnimation",value:function(n){o.API.enableQueue(),n.__makeNative(),o.API.disableQueue(),this.__nativeId=o.generateNewAnimationId(),o.API.startAnimatingNode(this.__nativeId,n.__getNativeTag(),this.__getNativeAnimationConfig(),this.__debouncedOnEnd.bind(this))}}]),_})();m.exports=_},242,[4,5,224]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),s=r(d[1]),n=r(d[2]),o=r(d[3]),l=r(d[4]),h=r(d[5]),_=(r(d[6]),r(d[7]),r(d[8])),u=r(d[9]),f=r(d[10]),c=r(d[11]).shouldUseNativeDriver,v=(function(v){function p(s){var l,h,_,v,y,V,T,b,M,D,P,S;if(t(this,p),(M=n(this,o(p).call(this)))._overshootClamping=null!=(l=s.overshootClamping)&&l,M._restDisplacementThreshold=null!=(h=s.restDisplacementThreshold)?h:.001,M._restSpeedThreshold=null!=(_=s.restSpeedThreshold)?_:.001,M._initialVelocity=null!=(v=s.velocity)?v:0,M._lastVelocity=null!=(y=s.velocity)?y:0,M._toValue=s.toValue,M._delay=null!=(V=s.delay)?V:0,M._useNativeDriver=c(s),M.__isInteraction=null!=(T=s.isInteraction)?T:!M._useNativeDriver,M.__iterations=null!=(b=s.iterations)?b:1,void 0!==s.stiffness||void 0!==s.damping||void 0!==s.mass)f(void 0===s.bounciness&&void 0===s.speed&&void 0===s.tension&&void 0===s.friction,'You can define one of bounciness/speed, tension/friction, or stiffness/damping/mass, but not more than one'),M._stiffness=null!=(D=s.stiffness)?D:100,M._damping=null!=(P=s.damping)?P:10,M._mass=null!=(S=s.mass)?S:1;else if(void 0!==s.bounciness||void 0!==s.speed){var U,A;f(void 0===s.tension&&void 0===s.friction&&void 0===s.stiffness&&void 0===s.damping&&void 0===s.mass,'You can define one of bounciness/speed, tension/friction, or stiffness/damping/mass, but not more than one');var C=u.fromBouncinessAndSpeed(null!=(U=s.bounciness)?U:8,null!=(A=s.speed)?A:12);M._stiffness=C.stiffness,M._damping=C.damping,M._mass=1}else{var N,k,F=u.fromOrigamiTensionAndFriction(null!=(N=s.tension)?N:40,null!=(k=s.friction)?k:7);M._stiffness=F.stiffness,M._damping=F.damping,M._mass=1}return f(M._stiffness>0,'Stiffness value must be greater than 0'),f(M._damping>0,'Damping value must be greater than 0'),f(M._mass>0,'Mass value must be greater than 0'),M}return h(p,_),s(p,[{key:"__getNativeAnimationConfig",value:function(){var t;return{type:'spring',overshootClamping:this._overshootClamping,restDisplacementThreshold:this._restDisplacementThreshold,restSpeedThreshold:this._restSpeedThreshold,stiffness:this._stiffness,damping:this._damping,mass:this._mass,initialVelocity:null!=(t=this._initialVelocity)?t:this._lastVelocity,toValue:this._toValue,iterations:this.__iterations}}},{key:"start",value:function(t,s,n,o,l){var h=this;if(this.__active=!0,this._startPosition=t,this._lastPosition=this._startPosition,this._onUpdate=s,this.__onEnd=n,this._lastTime=Date.now(),this._frameTime=0,o instanceof p){var _=o.getInternalState();this._lastPosition=_.lastPosition,this._lastVelocity=_.lastVelocity,this._initialVelocity=this._lastVelocity,this._lastTime=_.lastTime}var u=function(){h._useNativeDriver?h.__startNativeAnimation(l):h.onUpdate()};this._delay?this._timeout=setTimeout(u,this._delay):u()}},{key:"getInternalState",value:function(){return{lastPosition:this._lastPosition,lastVelocity:this._lastVelocity,lastTime:this._lastTime}}},{key:"onUpdate",value:function(){var t=Date.now();t>this._lastTime+64&&(t=this._lastTime+64);var s=(t-this._lastTime)/1e3;this._frameTime+=s;var n=this._damping,o=this._mass,l=this._stiffness,h=-this._initialVelocity,_=n/(2*Math.sqrt(l*o)),u=Math.sqrt(l/o),f=u*Math.sqrt(1-_*_),c=this._toValue-this._startPosition,v=0,p=0,y=this._frameTime;if(_<1){var V=Math.exp(-_*u*y);v=this._toValue-V*((h+_*u*c)/f*Math.sin(f*y)+c*Math.cos(f*y)),p=_*u*V*(Math.sin(f*y)*(h+_*u*c)/f+c*Math.cos(f*y))-V*(Math.cos(f*y)*(h+_*u*c)-f*c*Math.sin(f*y))}else{var T=Math.exp(-u*y);v=this._toValue-T*(c+(h+u*c)*y),p=T*(h*(y*u-1)+y*c*(u*u))}if(this._lastTime=t,this._lastPosition=v,this._lastVelocity=p,this._onUpdate(v),this.__active){var b=!1;this._overshootClamping&&0!==this._stiffness&&(b=this._startPosition<this._toValue?v>this._toValue:v<this._toValue);var M=Math.abs(p)<=this._restSpeedThreshold,D=!0;if(0!==this._stiffness&&(D=Math.abs(this._toValue-v)<=this._restDisplacementThreshold),b||M&&D)return 0!==this._stiffness&&(this._lastPosition=this._toValue,this._lastVelocity=0,this._onUpdate(this._toValue)),void this.__debouncedOnEnd({finished:!0});this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this))}}},{key:"stop",value:function(){l(o(p.prototype),"stop",this).call(this),this.__active=!1,clearTimeout(this._timeout),g.cancelAnimationFrame(this._animationFrame),this.__debouncedOnEnd({finished:!1})}}]),p})();m.exports=v},243,[4,5,6,9,42,10,221,240,242,244,17,224]);
__d(function(g,r,i,a,m,e,d){'use strict';function n(n){return 3.62*(n-30)+194}function t(n){return 3*(n-8)+25}m.exports={fromOrigamiTensionAndFriction:function(o,u){return{stiffness:n(o),damping:t(u)}},fromBouncinessAndSpeed:function(o,u){function f(n,t,o){return(n-t)/(o-t)}function c(n,t,o){return t+n*(o-t)}function s(n,t,o){return n*o+(1-n)*t}function p(n){return 44e-6*Math.pow(n,3)-.006*Math.pow(n,2)+.36*n+2}function h(n){return 4.5e-7*Math.pow(n,3)-332e-6*Math.pow(n,2)+.1078*n+5.84}var w=f(o/1.7,0,20);w=c(w,0,.8);var M,v,A,_,x=c(f(u/1.7,0,20),.5,200),B=(M=w,v=(A=x)<=18?(_=A,7e-4*Math.pow(_,3)-.031*Math.pow(_,2)+.64*_+1.28):A>18&&A<=44?p(A):h(A),s(2*M-M*M,v,.01));return{stiffness:n(x),damping:t(B)}}}},244,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t,n=r(d[0]),s=r(d[1]),o=r(d[2]),_=r(d[3]),u=r(d[4]),h=r(d[5]),l=(r(d[6]),r(d[7]),r(d[8])),v=r(d[9]).shouldUseNativeDriver;function c(){if(!t){var n=r(d[10]);t=n.inOut(n.ease)}return t}var f=(function(t){function f(t){var s,u,h,l,p,V;return n(this,f),(V=o(this,_(f).call(this)))._toValue=t.toValue,V._easing=null!=(s=t.easing)?s:c(),V._duration=null!=(u=t.duration)?u:500,V._delay=null!=(h=t.delay)?h:0,V.__iterations=null!=(l=t.iterations)?l:1,V._useNativeDriver=v(t),V.__isInteraction=null!=(p=t.isInteraction)?p:!V._useNativeDriver,V}return h(f,l),s(f,[{key:"__getNativeAnimationConfig",value:function(){for(var t=[],n=Math.round(this._duration/16.666666666666668),s=0;s<n;s++)t.push(this._easing(s/n));return t.push(this._easing(1)),{type:'frames',frames:t,toValue:this._toValue,iterations:this.__iterations}}},{key:"start",value:function(t,n,s,o,_){var u=this;this.__active=!0,this._fromValue=t,this._onUpdate=n,this.__onEnd=s;var h=function(){0!==u._duration||u._useNativeDriver?(u._startTime=Date.now(),u._useNativeDriver?u.__startNativeAnimation(_):u._animationFrame=requestAnimationFrame(u.onUpdate.bind(u))):(u._onUpdate(u._toValue),u.__debouncedOnEnd({finished:!0}))};this._delay?this._timeout=setTimeout(h,this._delay):h()}},{key:"onUpdate",value:function(){var t=Date.now();if(t>=this._startTime+this._duration)return 0===this._duration?this._onUpdate(this._toValue):this._onUpdate(this._fromValue+this._easing(1)*(this._toValue-this._fromValue)),void this.__debouncedOnEnd({finished:!0});this._onUpdate(this._fromValue+this._easing((t-this._startTime)/this._duration)*(this._toValue-this._fromValue)),this.__active&&(this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this)))}},{key:"stop",value:function(){u(_(f.prototype),"stop",this).call(this),this.__active=!1,clearTimeout(this._timeout),g.cancelAnimationFrame(this._animationFrame),this.__debouncedOnEnd({finished:!1})}}]),f})();m.exports=f},245,[4,5,6,9,42,10,221,240,242,224,246]);
__d(function(g,r,i,a,m,e,d){'use strict';var n,u=r(d[0]),t=r(d[1]),o=(function(){function o(){u(this,o)}return t(o,null,[{key:"step0",value:function(n){return n>0?1:0}},{key:"step1",value:function(n){return n>=1?1:0}},{key:"linear",value:function(n){return n}},{key:"ease",value:function(u){return n||(n=o.bezier(.42,0,1,1)),n(u)}},{key:"quad",value:function(n){return n*n}},{key:"cubic",value:function(n){return n*n*n}},{key:"poly",value:function(n){return function(u){return Math.pow(u,n)}}},{key:"sin",value:function(n){return 1-Math.cos(n*Math.PI/2)}},{key:"circle",value:function(n){return 1-Math.sqrt(1-n*n)}},{key:"exp",value:function(n){return Math.pow(2,10*(n-1))}},{key:"elastic",value:function(){var n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1)*Math.PI;return function(u){return 1-Math.pow(Math.cos(u*Math.PI/2),3)*Math.cos(u*n)}}},{key:"back",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1.70158;return function(u){return u*u*((n+1)*u-n)}}},{key:"bounce",value:function(n){if(n<.36363636363636365)return 7.5625*n*n;if(n<.7272727272727273){var u=n-.5454545454545454;return 7.5625*u*u+.75}if(n<.9090909090909091){var t=n-.8181818181818182;return 7.5625*t*t+.9375}var o=n-.9545454545454546;return 7.5625*o*o+.984375}},{key:"bezier",value:function(n,u,t,o){return r(d[2])(n,u,t,o)}},{key:"in",value:function(n){return n}},{key:"out",value:function(n){return function(u){return 1-n(1-u)}}},{key:"inOut",value:function(n){return function(u){return u<.5?n(2*u)/2:1-n(2*(1-u))/2}}}]),o})();m.exports=o},246,[4,5,247]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=4,t=.001,u=1e-7,o=10,f=.1,c='function'==typeof Float32Array;function v(n,t){return 1-3*t+3*n}function s(n,t){return 3*t-6*n}function w(n){return 3*n}function l(n,t,u){return((v(t,u)*n+s(t,u))*n+w(t))*n}function y(n,t,u){return 3*v(t,u)*n*n+2*s(t,u)*n+w(t)}function b(n,t,f,c,v){var s,w,y=0,b=t,h=f;do{(s=l(w=b+(h-b)/2,c,v)-n)>0?h=w:b=w}while(Math.abs(s)>u&&++y<o);return w}function h(t,u,o,f){for(var c=u,v=0;v<n;++v){var s=y(c,o,f);if(0===s)return c;c-=(l(c,o,f)-t)/s}return c}m.exports=function(n,u,o,v){if(!(n>=0&&n<=1&&o>=0&&o<=1))throw new Error('bezier x values must be in [0, 1] range');var s=c?new Float32Array(11):new Array(11);if(n!==u||o!==v)for(var w=0;w<11;++w)s[w]=l(w*f,n,o);function A(u){for(var c=0,v=1;10!==v&&s[v]<=u;++v)c+=f;var w=c+(u-s[--v])/(s[v+1]-s[v])*f,l=y(w,n,o);return l>=t?h(u,w,n,o):0===l?w:b(u,c,c+f,n,o)}return function(t){return n===u&&o===v?t:0===t?0:1===t?1:l(A(t),u,v)}}},247,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=r(d[2]),s=r(d[3]),p=r(d[4]),c=r(d[5]),_=r(d[6]).AnimatedEvent,h=r(d[7]),l=r(d[8]),v=r(d[9]),u=r(d[10]);m.exports=function(f,N){u('function'!=typeof f||f.prototype&&f.prototype.isReactComponent,"`createAnimatedComponent` does not support stateless functional components; use a class component instead.");var k=(function(v){function u(t){var o;return n(this,u),(o=s(this,p(u).call(this,t)))._invokeAnimatedPropsCallbackOnMount=!1,o._eventDetachers=[],o._animatedPropsCallback=function(){if(null==o._component)o._invokeAnimatedPropsCallbackOnMount=!0;else if(u.__skipSetNativeProps_FOR_TESTS_ONLY||'function'!=typeof o._component.setNativeProps)o.forceUpdate();else{if(o._propsAnimated.__isNative)throw new Error("Attempting to run JS driven animation on animated node that has been moved to \"native\" earlier by starting an animation with `useNativeDriver: true`");o._component.setNativeProps(o._propsAnimated.__getAnimatedValue())}},o._setComponentRef=function(t){o._prevComponent=o._component,o._component=t},o}return c(u,v),o(u,[{key:"componentWillUnmount",value:function(){this._propsAnimated&&this._propsAnimated.__detach(),this._detachNativeEvents()}},{key:"setNativeProps",value:function(t){this._component.setNativeProps(t)}},{key:"UNSAFE_componentWillMount",value:function(){this._attachProps(this.props)}},{key:"componentDidMount",value:function(){this._invokeAnimatedPropsCallbackOnMount&&(this._invokeAnimatedPropsCallbackOnMount=!1,this._animatedPropsCallback()),this._propsAnimated.setNativeView(this._component),this._attachNativeEvents()}},{key:"_attachNativeEvents",value:function(){var t,n=this,o=(null==(t=this._component)?void 0:t.getScrollableNode)?this._component.getScrollableNode():this._component,s=function(t){var s=n.props[t];s instanceof _&&s.__isNative&&(s.__attach(o,t),n._eventDetachers.push(function(){return s.__detach(o,t)}))};for(var p in this.props)s(p)}},{key:"_detachNativeEvents",value:function(){this._eventDetachers.forEach(function(t){return t()}),this._eventDetachers=[]}},{key:"_attachProps",value:function(t){var n=this._propsAnimated;this._propsAnimated=new h(t,this._animatedPropsCallback),n&&n.__detach()}},{key:"UNSAFE_componentWillReceiveProps",value:function(t){this._attachProps(t)}},{key:"componentDidUpdate",value:function(t){this._component!==this._prevComponent&&this._propsAnimated.setNativeView(this._component),this._component===this._prevComponent&&t===this.props||(this._detachNativeEvents(),this._attachNativeEvents())}},{key:"render",value:function(){var n=this._propsAnimated.__getValue();return l.createElement(f,t({},N,n,{ref:this._setComponentRef,collapsable:!this._propsAnimated.__isNative&&n.collapsable}))}},{key:"getNode",value:function(){return this._component}}]),u})(l.Component);k.__skipSetNativeProps_FOR_TESTS_ONLY=!1;var y=f.propTypes;return k.propTypes={style:function(t,n,o){if(y)for(var s in v)y[s]||void 0===t[s]||console.warn('You are setting the style `{ '+s+": ... }` as a prop. You should nest it in a style object. E.g. `{ style: { "+s+': ... } }`')}},k}},248,[15,4,5,6,9,10,220,235,12,75,17]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),o=r(d[1]);m.exports=o(t,{scrollEventThrottle:1e-4})},249,[250,248]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=r(d[2]),s=r(d[3]),l=r(d[4]),u=r(d[5]),c=r(d[6]);function f(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);n&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,s)}return o}function p(t){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?f(Object(o),!0).forEach(function(n){c(t,n,o[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):f(Object(o)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(o,n))})}return t}r(d[7]);var h=r(d[8]),C=r(d[9]),y=r(d[10]),v=r(d[11]),b=r(d[12]),w=r(d[13]),_=p({},v.defaultProps,{numColumns:1,removeClippedSubviews:!0}),I=(function(f){function _(t){var l;return n(this,_),(l=o(this,s(_).call(this,t)))._virtualizedListPairs=[],l._captureRef=function(t){l._listRef=t},l._getItem=function(t,n){var o=l.props.numColumns;if(o>1){for(var s=[],u=0;u<o;u++){var c=t[n*o+u];null!=c&&s.push(c)}return s}return t[n]},l._getItemCount=function(t){return t?Math.ceil(t.length/l.props.numColumns):0},l._keyExtractor=function(t,n){var o=l.props,s=o.keyExtractor,u=o.numColumns;return u>1?(w(Array.isArray(t),"FlatList: Encountered internal consistency error, expected each item to consist of an array with 1-%s columns; instead, received a single item.",u),t.map(function(t,o){return s(t,n*u+o)}).join(':')):s(t,n)},l._renderer=function(){var t=l.props,n=t.ListItemComponent,o=t.renderItem,s=t.numColumns,u=t.columnWrapperStyle,f=function(t){return n?C.createElement(n,t):o?o(t):null};return c({},n?'ListItemComponent':'renderItem',function(t){if(s>1){var n=t.item,o=t.index;return w(Array.isArray(n),'Expected array of items with numColumns > 1'),C.createElement(y,{style:b.compose(k.row,u)},n.map(function(n,l){var u=f({item:n,index:o*s+l,separators:t.separators});return null!=u?C.createElement(C.Fragment,{key:l},u):null}))}return f(t)})},l._checkProps(l.props),l.props.viewabilityConfigCallbackPairs?l._virtualizedListPairs=l.props.viewabilityConfigCallbackPairs.map(function(t){return{viewabilityConfig:t.viewabilityConfig,onViewableItemsChanged:l._createOnViewableItemsChanged(t.onViewableItemsChanged)}}):l.props.onViewableItemsChanged&&l._virtualizedListPairs.push({viewabilityConfig:l.props.viewabilityConfig,onViewableItemsChanged:l._createOnViewableItemsChanged(l.props.onViewableItemsChanged)}),l}return u(_,f),l(_,[{key:"scrollToEnd",value:function(t){this._listRef&&this._listRef.scrollToEnd(t)}},{key:"scrollToIndex",value:function(t){this._listRef&&this._listRef.scrollToIndex(t)}},{key:"scrollToItem",value:function(t){this._listRef&&this._listRef.scrollToItem(t)}},{key:"scrollToOffset",value:function(t){this._listRef&&this._listRef.scrollToOffset(t)}},{key:"recordInteraction",value:function(){this._listRef&&this._listRef.recordInteraction()}},{key:"flashScrollIndicators",value:function(){this._listRef&&this._listRef.flashScrollIndicators()}},{key:"getScrollResponder",value:function(){if(this._listRef)return this._listRef.getScrollResponder()}},{key:"getScrollableNode",value:function(){if(this._listRef)return this._listRef.getScrollableNode()}},{key:"setNativeProps",value:function(t){this._listRef&&this._listRef.setNativeProps(t)}}]),l(_,[{key:"componentDidUpdate",value:function(t){w(t.numColumns===this.props.numColumns,"Changing numColumns on the fly is not supported. Change the key prop on FlatList when changing the number of columns to force a fresh render of the component."),w(t.onViewableItemsChanged===this.props.onViewableItemsChanged,'Changing onViewableItemsChanged on the fly is not supported'),w(!h(t.viewabilityConfig,this.props.viewabilityConfig),'Changing viewabilityConfig on the fly is not supported'),w(t.viewabilityConfigCallbackPairs===this.props.viewabilityConfigCallbackPairs,'Changing viewabilityConfigCallbackPairs on the fly is not supported'),this._checkProps(this.props)}},{key:"_checkProps",value:function(t){var n=t.getItem,o=t.getItemCount,s=t.horizontal,l=t.numColumns,u=t.columnWrapperStyle,c=t.onViewableItemsChanged,f=t.viewabilityConfigCallbackPairs;w(!n&&!o,'FlatList does not support custom data formats.'),l>1?w(!s,'numColumns does not support horizontal.'):w(!u,'columnWrapperStyle not supported for single column lists'),w(!(c&&f),"FlatList does not support setting both onViewableItemsChanged and viewabilityConfigCallbackPairs.")}},{key:"_pushMultiColumnViewable",value:function(t,n){var o=this.props,s=o.numColumns,l=o.keyExtractor;n.item.forEach(function(o,u){w(null!=n.index,'Missing index!');var c=n.index*s+u;t.push(p({},n,{item:o,key:l(o,c),index:c}))})}},{key:"_createOnViewableItemsChanged",value:function(t){var n=this;return function(o){var s=n.props.numColumns;if(t)if(s>1){var l=[],u=[];o.viewableItems.forEach(function(t){return n._pushMultiColumnViewable(u,t)}),o.changed.forEach(function(t){return n._pushMultiColumnViewable(l,t)}),t({viewableItems:u,changed:l})}else t(o)}}},{key:"render",value:function(){return C.createElement(v,t({},this.props,{getItem:this._getItem,getItemCount:this._getItemCount,keyExtractor:this._keyExtractor,ref:this._captureRef,viewabilityConfigCallbackPairs:this._virtualizedListPairs},this._renderer()))}}]),_})(C.PureComponent);I.defaultProps=_;var k=b.create({row:{flexDirection:'row'}});m.exports=I},250,[15,4,6,9,5,10,51,53,160,12,82,251,59,17]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),s=r(d[1]),o=r(d[2]),n=r(d[3]),l=r(d[4]),h=r(d[5]),c=r(d[6]),p=r(d[7]);function u(t,s){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);s&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),o.push.apply(o,n)}return o}function f(t){for(var o=1;o<arguments.length;o++){var n=null!=arguments[o]?arguments[o]:{};o%2?u(Object(n),!0).forEach(function(o){s(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}var _=r(d[8]),v=r(d[9]),y=r(d[10]),C=r(d[11]),L=r(d[12]),b=r(d[13]),S=r(d[14]),M=r(d[15]),I=r(d[16]),x=r(d[17]),k=(r(d[18]),r(d[19])),R=r(d[20]),w=(r(d[21]),r(d[22]).computeWindowedRenderLimits),E=!1,O='',T=(function(u){function y(s,c){var p;o(this,y),(p=n(this,l(y).call(this,s,c)))._getScrollMetrics=function(){return p._scrollMetrics},p._getOutermostParentListRef=function(){return p._isNestedWithSameOrientation()?p.context.virtualizedList.getOutermostParentListRef():h(p)},p._getNestedChildState=function(t){var s=p._nestedChildLists.get(t);return s&&s.state},p._registerAsNestedChild=function(t){var s=p._cellKeysToChildListKeys.get(t.cellKey)||new Set;s.add(t.key),p._cellKeysToChildListKeys.set(t.cellKey,s);var o=p._nestedChildLists.get(t.key);o&&null!==o.ref&&console.error("A VirtualizedList contains a cell which itself contains more than one VirtualizedList of the same orientation as the parent list. You must pass a unique listKey prop to each sibling list."),p._nestedChildLists.set(t.key,{ref:t.ref,state:null}),p._hasInteracted&&t.ref.recordInteraction()},p._unregisterAsNestedChild=function(t){p._nestedChildLists.set(t.key,{ref:null,state:t.state})},p._onUpdateSeparators=function(t,s){t.forEach(function(t){var o=null!=t&&p._cellRefs[t];o&&o.updateSeparatorProps(s)})},p._averageCellLength=0,p._cellKeysToChildListKeys=new Map,p._cellRefs={},p._frames={},p._footerLength=0,p._hasDataChangedSinceEndReached=!0,p._hasDoneInitialScroll=!1,p._hasInteracted=!1,p._hasMore=!1,p._hasWarned={},p._headerLength=0,p._hiPriInProgress=!1,p._highestMeasuredFrameIndex=0,p._indicesToKeys=new Map,p._nestedChildLists=new Map,p._offsetFromParentVirtualizedList=0,p._prevParentOffset=0,p._scrollMetrics={contentLength:0,dOffset:0,dt:10,offset:0,timestamp:0,velocity:0,visibleLength:0},p._scrollRef=null,p._sentEndForContentLength=0,p._totalCellLength=0,p._totalCellsMeasured=0,p._viewabilityTuples=[],p._captureScrollRef=function(t){p._scrollRef=t},p._defaultRenderScrollComponent=function(s){var o=s.onRefresh;return p._isNestedWithSameOrientation()?C.createElement(I,s):o?(R('boolean'==typeof s.refreshing,'`refreshing` prop must be set as a boolean in order to use `onRefresh`, but got `'+JSON.stringify(s.refreshing)+'`'),C.createElement(S,t({},s,{refreshControl:null==s.refreshControl?C.createElement(b,{refreshing:s.refreshing,onRefresh:o,progressViewOffset:s.progressViewOffset}):s.refreshControl}))):C.createElement(S,s)},p._onCellUnmount=function(t){var s=p._frames[t];s&&(p._frames[t]=f({},s,{inLayout:!1}))},p._onLayout=function(t){p._isNestedWithSameOrientation()?p.measureLayoutRelativeToContainingList():p._scrollMetrics.visibleLength=p._selectLength(t.nativeEvent.layout),p.props.onLayout&&p.props.onLayout(t),p._scheduleCellsToRenderUpdate(),p._maybeCallOnEndReached()},p._onLayoutEmpty=function(t){p.props.onLayout&&p.props.onLayout(t)},p._onLayoutFooter=function(t){p._footerLength=p._selectLength(t.nativeEvent.layout)},p._onLayoutHeader=function(t){p._headerLength=p._selectLength(t.nativeEvent.layout)},p._onContentSizeChange=function(t,s){t>0&&s>0&&null!=p.props.initialScrollIndex&&p.props.initialScrollIndex>0&&!p._hasDoneInitialScroll&&(p.scrollToIndex({animated:!1,index:p.props.initialScrollIndex}),p._hasDoneInitialScroll=!0),p.props.onContentSizeChange&&p.props.onContentSizeChange(t,s),p._scrollMetrics.contentLength=p._selectLength({height:s,width:t}),p._scheduleCellsToRenderUpdate(),p._maybeCallOnEndReached()},p._convertParentScrollMetrics=function(t){var s=t.offset-p._offsetFromParentVirtualizedList,o=t.visibleLength,n=s-p._scrollMetrics.offset;return{visibleLength:o,contentLength:p._scrollMetrics.contentLength,offset:s,dOffset:n}},p._onScroll=function(t){p._nestedChildLists.forEach(function(s){s.ref&&s.ref._onScroll(t)}),p.props.onScroll&&p.props.onScroll(t);var s=t.timeStamp,o=p._selectLength(t.nativeEvent.layoutMeasurement),n=p._selectLength(t.nativeEvent.contentSize),l=p._selectOffset(t.nativeEvent.contentOffset),h=l-p._scrollMetrics.offset;if(p._isNestedWithSameOrientation()){if(0===p._scrollMetrics.contentLength)return;var c=p._convertParentScrollMetrics({visibleLength:o,offset:l});o=c.visibleLength,n=c.contentLength,l=c.offset,h=c.dOffset}var u=p._scrollMetrics.timestamp?Math.max(1,s-p._scrollMetrics.timestamp):1,f=h/u;u>500&&p._scrollMetrics.dt>500&&n>5*o&&!p._hasWarned.perf&&(k("VirtualizedList: You have a large list that is slow to update - make sure your renderItem function renders components that follow React performance best practices like PureComponent, shouldComponentUpdate, etc.",{dt:u,prevDt:p._scrollMetrics.dt,contentLength:n}),p._hasWarned.perf=!0),p._scrollMetrics={contentLength:n,dt:u,dOffset:h,offset:l,timestamp:s,velocity:f,visibleLength:o},p._updateViewableItems(p.props.data),p.props&&(p._maybeCallOnEndReached(),0!==f&&p._fillRateHelper.activate(),p._computeBlankness(),p._scheduleCellsToRenderUpdate())},p._onScrollBeginDrag=function(t){p._nestedChildLists.forEach(function(s){s.ref&&s.ref._onScrollBeginDrag(t)}),p._viewabilityTuples.forEach(function(t){t.viewabilityHelper.recordInteraction()}),p._hasInteracted=!0,p.props.onScrollBeginDrag&&p.props.onScrollBeginDrag(t)},p._onScrollEndDrag=function(t){var s=t.nativeEvent.velocity;s&&(p._scrollMetrics.velocity=p._selectOffset(s)),p._computeBlankness(),p.props.onScrollEndDrag&&p.props.onScrollEndDrag(t)},p._onMomentumScrollEnd=function(t){p._scrollMetrics.velocity=0,p._computeBlankness(),p.props.onMomentumScrollEnd&&p.props.onMomentumScrollEnd(t)},p._updateCellsToRender=function(){var t=p.props,s=t.data,o=t.getItemCount,n=t.onEndReachedThreshold,l=p._isVirtualizationDisabled();p._updateViewableItems(s),s&&p.setState(function(t){var h;if(l){var c=p._scrollMetrics,u=c.contentLength,f=c.offset,_=c.visibleLength,v=u-_-f<n*_?p.props.maxToRenderPerBatch:0;h={first:0,last:Math.min(t.last+v,o(s)-1)}}else p._scrollMetrics.visibleLength&&(p.props.initialScrollIndex&&!p._scrollMetrics.offset||(h=w(p.props,t,p._getFrameMetricsApprox,p._scrollMetrics)));if(h&&p._nestedChildLists.size>0)for(var y=h.first,C=h.last,L=y;L<=C;L++){var b=p._indicesToKeys.get(L),S=b&&p._cellKeysToChildListKeys.get(b);if(S){var M=!1,I=S,x=Array.isArray(I),k=0;for(I=x?I:I["function"==typeof Symbol&&"function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var R;if(x){if(k>=I.length)break;R=I[k++]}else{if((k=I.next()).done)break;R=k.value}var E=R,O=p._nestedChildLists.get(E);if(O&&O.ref&&O.ref.hasMore()){M=!0;break}}if(M){h.last=L;break}}}return h})},p._createViewToken=function(t,s){var o=p.props,n=o.data,l=o.getItem,h=o.keyExtractor,c=l(n,t);return{index:t,item:c,key:h(c,t),isViewable:s}},p._getFrameMetricsApprox=function(t){var s=p._getFrameMetrics(t);if(s&&s.index===t)return s;var o=p.props.getItemLayout;return R(!o,'Should not have to estimate frames when a measurement metrics function is provided'),{length:p._averageCellLength,offset:p._averageCellLength*t}},p._getFrameMetrics=function(t){var s=p.props,o=s.data,n=s.getItem,l=s.getItemCount,h=s.getItemLayout,c=s.keyExtractor;R(l(o)>t,'Tried to get frame for out of range index '+t);var u=n(o,t),f=u&&p._frames[c(u,t)];return f&&f.index===t||h&&(f=h(o,t)),f},R(!s.onScroll||!s.onScroll.__isNative,"Components based on VirtualizedList must be wrapped with Animated.createAnimatedComponent to support native onScroll events with useNativeDriver"),R(s.windowSize>0,'VirtualizedList: The windowSize prop must be present and set to a value greater than 0.'),p._fillRateHelper=new v(p._getFrameMetrics),p._updateCellsToRenderBatcher=new _(p._updateCellsToRender,p.props.updateCellsBatchingPeriod),p.props.viewabilityConfigCallbackPairs?p._viewabilityTuples=p.props.viewabilityConfigCallbackPairs.map(function(t){return{viewabilityHelper:new x(t.viewabilityConfig),onViewableItemsChanged:t.onViewableItemsChanged}}):p.props.onViewableItemsChanged&&p._viewabilityTuples.push({viewabilityHelper:new x(p.props.viewabilityConfig),onViewableItemsChanged:p.props.onViewableItemsChanged});var u={first:p.props.initialScrollIndex||0,last:Math.min(p.props.getItemCount(p.props.data),(p.props.initialScrollIndex||0)+p.props.initialNumToRender)-1};if(p._isNestedWithSameOrientation()){var L=p.context.virtualizedList.getNestedChildState(p.props.listKey||p._getCellKey());L&&(u=L,p.state=L,p._frames=L.frames)}return p.state=u,p}return p(y,u),c(y,[{key:"scrollToEnd",value:function(t){var s=!t||t.animated,o=this.props.getItemCount(this.props.data)-1,n=this._getFrameMetricsApprox(o),l=Math.max(0,n.offset+n.length+this._footerLength-this._scrollMetrics.visibleLength);this._scrollRef.scrollTo(this.props.horizontal?{x:l,animated:s}:{y:l,animated:s})}},{key:"scrollToIndex",value:function(t){var s=this.props,o=s.data,n=s.horizontal,l=s.getItemCount,h=s.getItemLayout,c=s.onScrollToIndexFailed,p=t.animated,u=t.index,f=t.viewOffset,_=t.viewPosition;if(R(u>=0&&u<l(o),"scrollToIndex out of range: requested index "+u+" but maximum is "+(l(o)-1)),!h&&u>this._highestMeasuredFrameIndex)return R(!!c,"scrollToIndex should be used in conjunction with getItemLayout or onScrollToIndexFailed, otherwise there is no way to know the location of offscreen indices or handle failures."),void c({averageItemLength:this._averageCellLength,highestMeasuredFrameIndex:this._highestMeasuredFrameIndex,index:u});var v=this._getFrameMetricsApprox(u),y=Math.max(0,v.offset-(_||0)*(this._scrollMetrics.visibleLength-v.length))-(f||0);this._scrollRef.scrollTo(n?{x:y,animated:p}:{y:y,animated:p})}},{key:"scrollToItem",value:function(t){for(var s=t.item,o=this.props,n=o.data,l=o.getItem,h=(0,o.getItemCount)(n),c=0;c<h;c++)if(l(n,c)===s){this.scrollToIndex(f({},t,{index:c}));break}}},{key:"scrollToOffset",value:function(t){var s=t.animated,o=t.offset;this._scrollRef.scrollTo(this.props.horizontal?{x:o,animated:s}:{y:o,animated:s})}},{key:"recordInteraction",value:function(){this._nestedChildLists.forEach(function(t){t.ref&&t.ref.recordInteraction()}),this._viewabilityTuples.forEach(function(t){t.viewabilityHelper.recordInteraction()}),this._updateViewableItems(this.props.data)}},{key:"flashScrollIndicators",value:function(){this._scrollRef.flashScrollIndicators()}},{key:"getScrollResponder",value:function(){if(this._scrollRef&&this._scrollRef.getScrollResponder)return this._scrollRef.getScrollResponder()}},{key:"getScrollableNode",value:function(){return this._scrollRef&&this._scrollRef.getScrollableNode?this._scrollRef.getScrollableNode():L.findNodeHandle(this._scrollRef)}},{key:"getScrollRef",value:function(){return this._scrollRef&&this._scrollRef.getScrollRef?this._scrollRef.getScrollRef():this._scrollRef}},{key:"setNativeProps",value:function(t){this._scrollRef&&this._scrollRef.setNativeProps(t)}},{key:"getChildContext",value:function(){return{virtualizedList:{getScrollMetrics:this._getScrollMetrics,horizontal:this.props.horizontal,getOutermostParentListRef:this._getOutermostParentListRef,getNestedChildState:this._getNestedChildState,registerAsNestedChild:this._registerAsNestedChild,unregisterAsNestedChild:this._unregisterAsNestedChild}}}},{key:"_getCellKey",value:function(){return this.context.virtualizedCell&&this.context.virtualizedCell.cellKey||'rootList'}},{key:"hasMore",value:function(){return this._hasMore}}]),c(y,[{key:"componentDidMount",value:function(){this._isNestedWithSameOrientation()&&this.context.virtualizedList.registerAsNestedChild({cellKey:this._getCellKey(),key:this.props.listKey||this._getCellKey(),ref:this})}},{key:"componentWillUnmount",value:function(){this._isNestedWithSameOrientation()&&this.context.virtualizedList.unregisterAsNestedChild({key:this.props.listKey||this._getCellKey(),state:{first:this.state.first,last:this.state.last,frames:this._frames}}),this._updateViewableItems(null),this._updateCellsToRenderBatcher.dispose({abort:!0}),this._viewabilityTuples.forEach(function(t){t.viewabilityHelper.dispose()}),this._fillRateHelper.deactivateAndFlush()}},{key:"_pushCells",value:function(t,s,o,n,l,h){var c,p=this,u=this.props,f=u.CellRendererComponent,_=u.ItemSeparatorComponent,v=u.data,y=u.getItem,L=u.getItemCount,b=u.horizontal,S=u.keyExtractor,M=this.props.ListHeaderComponent?1:0,I=L(v)-1;l=Math.min(I,l);for(var x=function(n){var l=y(v,n),u=S(l,n);p._indicesToKeys.set(n,u),o.has(n+M)&&s.push(t.length),t.push(C.createElement(z,{CellRendererComponent:f,ItemSeparatorComponent:n<I?_:void 0,cellKey:u,fillRateHelper:p._fillRateHelper,horizontal:b,index:n,inversionStyle:h,item:l,key:u,prevCellKey:c,onUpdateSeparators:p._onUpdateSeparators,onLayout:function(t){return p._onCellLayout(t,u,n)},onUnmount:p._onCellUnmount,parentProps:p.props,ref:function(t){p._cellRefs[u]=t}})),c=u},k=n;k<=l;k++)x(k)}},{key:"_isVirtualizationDisabled",value:function(){return this.props.disableVirtualization||!1}},{key:"_isNestedWithSameOrientation",value:function(){var t=this.context.virtualizedList;return!(!t||!!t.horizontal!=!!this.props.horizontal)}},{key:"render",value:function(){var t=this,o=this.props,n=o.ListEmptyComponent,l=o.ListFooterComponent,h=o.ListHeaderComponent,c=this.props,p=c.data,u=c.horizontal,_=this._isVirtualizationDisabled(),v=this.props.inverted?this.props.horizontal?F.horizontallyInverted:F.verticallyInverted:null,y=[],L=new Set(this.props.stickyHeaderIndices),b=[];if(h){L.has(0)&&b.push(0);var S=C.isValidElement(h)?h:C.createElement(h,null);y.push(C.createElement(P,{cellKey:this._getCellKey()+'-header',key:"$header"},C.createElement(I,{onLayout:this._onLayoutHeader,style:M.compose(v,this.props.ListHeaderComponentStyle)},S)))}var x=this.props.getItemCount(p);if(x>0){E=!1,O='';var k=u?'width':'height',R=this.props.initialScrollIndex?-1:this.props.initialNumToRender-1,w=this.state,T=w.first,z=w.last;this._pushCells(y,b,L,0,R,v);var K=Math.max(R+1,T);if(!_&&T>R+1){var N=!1;if(L.size>0)for(var V=h?1:0,D=K-1;D>R;D--)if(L.has(D+V)){var A=this._getFrameMetricsApprox(R),B=this._getFrameMetricsApprox(D),H=B.offset-A.offset-(this.props.initialScrollIndex?0:A.length);y.push(C.createElement(I,{key:"$sticky_lead",style:s({},k,H)})),this._pushCells(y,b,L,D,D,v);var U=this._getFrameMetricsApprox(T).offset-(B.offset+B.length);y.push(C.createElement(I,{key:"$sticky_trail",style:s({},k,U)})),N=!0;break}if(!N){var W=this._getFrameMetricsApprox(R),j=this._getFrameMetricsApprox(T).offset-(W.offset+W.length);y.push(C.createElement(I,{key:"$lead_spacer",style:s({},k,j)}))}}if(this._pushCells(y,b,L,K,z,v),!this._hasWarned.keys&&E&&(console.warn("VirtualizedList: missing keys for items, make sure to specify a key or id property on each item or provide a custom keyExtractor.",O),this._hasWarned.keys=!0),!_&&z<x-1){var $=this._getFrameMetricsApprox(z),q=this.props.getItemLayout?x-1:Math.min(x-1,this._highestMeasuredFrameIndex),Y=this._getFrameMetricsApprox(q),J=Y.offset+Y.length-($.offset+$.length);y.push(C.createElement(I,{key:"$tail_spacer",style:s({},k,J)}))}}else if(n){var X=C.isValidElement(n)?n:C.createElement(n,null);y.push(C.cloneElement(X,{key:'$empty',onLayout:function(s){t._onLayoutEmpty(s),X.props.onLayout&&X.props.onLayout(s)},style:M.compose(v,X.props.style)}))}if(l){var G=C.isValidElement(l)?l:C.createElement(l,null);y.push(C.createElement(P,{cellKey:this._getCellKey()+'-footer',key:"$footer"},C.createElement(I,{onLayout:this._onLayoutFooter,style:M.compose(v,this.props.ListFooterComponentStyle)},G)))}var Q=f({},this.props,{onContentSizeChange:this._onContentSizeChange,onLayout:this._onLayout,onScroll:this._onScroll,onScrollBeginDrag:this._onScrollBeginDrag,onScrollEndDrag:this._onScrollEndDrag,onMomentumScrollEnd:this._onMomentumScrollEnd,scrollEventThrottle:this.props.scrollEventThrottle,invertStickyHeaders:void 0!==this.props.invertStickyHeaders?this.props.invertStickyHeaders:this.props.inverted,stickyHeaderIndices:b});v&&(Q.style=[v,this.props.style]),this._hasMore=this.state.last<this.props.getItemCount(this.props.data)-1;var Z=C.cloneElement((this.props.renderScrollComponent||this._defaultRenderScrollComponent)(Q),{ref:this._captureScrollRef},y);return this.props.debug?C.createElement(I,{style:F.debug},Z,this._renderDebugOverlay()):Z}},{key:"componentDidUpdate",value:function(t){var s=this.props,o=s.data,n=s.extraData;o===t.data&&n===t.extraData||(this._hasDataChangedSinceEndReached=!0,this._viewabilityTuples.forEach(function(t){t.viewabilityHelper.resetViewableIndices()}));var l=this._hiPriInProgress;this._scheduleCellsToRenderUpdate(),l&&(this._hiPriInProgress=!1)}},{key:"_computeBlankness",value:function(){this._fillRateHelper.computeBlankness(this.props,this.state,this._scrollMetrics)}},{key:"_onCellLayout",value:function(t,s,o){var n=t.nativeEvent.layout,l={offset:this._selectOffset(n),length:this._selectLength(n),index:o,inLayout:!0},h=this._frames[s];h&&l.offset===h.offset&&l.length===h.length&&o===h.index?this._frames[s].inLayout=!0:(this._totalCellLength+=l.length-(h?h.length:0),this._totalCellsMeasured+=h?0:1,this._averageCellLength=this._totalCellLength/this._totalCellsMeasured,this._frames[s]=l,this._highestMeasuredFrameIndex=Math.max(this._highestMeasuredFrameIndex,o),this._scheduleCellsToRenderUpdate());var c=this._cellKeysToChildListKeys.get(s);if(c){var p=c,u=Array.isArray(p),f=0;for(p=u?p:p["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var _;if(u){if(f>=p.length)break;_=p[f++]}else{if((f=p.next()).done)break;_=f.value}var v=_,y=this._nestedChildLists.get(v);y&&y.ref&&y.ref.measureLayoutRelativeToContainingList()}}this._computeBlankness(),this._updateViewableItems(this.props.data)}},{key:"measureLayoutRelativeToContainingList",value:function(){var t=this;try{if(!this._scrollRef)return;this._scrollRef.measureLayout(this.context.virtualizedList.getOutermostParentListRef().getScrollRef().getNativeScrollRef(),function(s,o,n,l){t._offsetFromParentVirtualizedList=t._selectOffset({x:s,y:o}),t._scrollMetrics.contentLength=t._selectLength({width:n,height:l});var h=t._convertParentScrollMetrics(t.context.virtualizedList.getScrollMetrics());t._scrollMetrics.visibleLength=h.visibleLength,t._scrollMetrics.offset=h.offset},function(t){console.warn("VirtualizedList: Encountered an error while measuring a list's offset from its containing VirtualizedList.")})}catch(t){console.warn('measureLayoutRelativeToContainingList threw an error',t.stack)}}},{key:"_renderDebugOverlay",value:function(){for(var t=this._scrollMetrics.visibleLength/(this._scrollMetrics.contentLength||1),s=[],o=this.props.getItemCount(this.props.data),n=0;n<o;n++){var l=this._getFrameMetricsApprox(n);l.inLayout&&s.push(l)}var h=this._getFrameMetricsApprox(this.state.first).offset,c=this._getFrameMetricsApprox(this.state.last),p=c.offset+c.length-h,u=this._scrollMetrics.offset,f=this._scrollMetrics.visibleLength;return C.createElement(I,{style:[F.debugOverlayBase,F.debugOverlay]},s.map(function(s,o){return C.createElement(I,{key:'f'+o,style:[F.debugOverlayBase,F.debugOverlayFrame,{top:s.offset*t,height:s.length*t}]})}),C.createElement(I,{style:[F.debugOverlayBase,F.debugOverlayFrameLast,{top:h*t,height:p*t}]}),C.createElement(I,{style:[F.debugOverlayBase,F.debugOverlayFrameVis,{top:u*t,height:f*t}]}))}},{key:"_selectLength",value:function(t){return this.props.horizontal?t.width:t.height}},{key:"_selectOffset",value:function(t){return this.props.horizontal?t.x:t.y}},{key:"_maybeCallOnEndReached",value:function(){var t=this.props,s=t.data,o=t.getItemCount,n=t.onEndReached,l=t.onEndReachedThreshold,h=this._scrollMetrics,c=h.contentLength,p=h.visibleLength,u=c-p-h.offset;n&&this.state.last===o(s)-1&&u<l*p&&(this._hasDataChangedSinceEndReached||this._scrollMetrics.contentLength!==this._sentEndForContentLength)&&(this._hasDataChangedSinceEndReached=!1,this._sentEndForContentLength=this._scrollMetrics.contentLength,n({distanceFromEnd:u}))}},{key:"_scheduleCellsToRenderUpdate",value:function(){var t=this.state,s=t.first,o=t.last,n=this._scrollMetrics,l=n.offset,h=n.visibleLength,c=n.velocity,p=this.props.getItemCount(this.props.data),u=!1,f=this.props.onEndReachedThreshold*h/2;if(s>0){var _=l-this._getFrameMetricsApprox(s).offset;u=u||_<0||c<-2&&_<f}if(o<p-1){var v=this._getFrameMetricsApprox(o).offset-(l+h);u=u||v<0||c>2&&v<f}if(u&&(this._averageCellLength||this.props.getItemLayout)&&!this._hiPriInProgress)return this._hiPriInProgress=!0,this._updateCellsToRenderBatcher.dispose({abort:!0}),void this._updateCellsToRender();this._updateCellsToRenderBatcher.schedule()}},{key:"_updateViewableItems",value:function(t){var s=this,o=this.props.getItemCount;this._viewabilityTuples.forEach(function(n){n.viewabilityHelper.onUpdate(o(t),s._scrollMetrics.offset,s._scrollMetrics.visibleLength,s._getFrameMetrics,s._createViewToken,n.onViewableItemsChanged,s.state)})}}],[{key:"getDerivedStateFromProps",value:function(t,s){var o=t.data,n=t.getItemCount,l=t.maxToRenderPerBatch;return{first:Math.max(0,Math.min(s.first,n(o)-1-l)),last:Math.max(0,Math.min(s.last,n(o)-1))}}}]),y})(C.PureComponent);T.defaultProps={disableVirtualization:!1,horizontal:!1,initialNumToRender:10,keyExtractor:function(t,s){return null!=t.key?t.key:null!=t.id?t.id:(E=!0,t.type&&t.type.displayName&&(O=t.type.displayName),String(s))},maxToRenderPerBatch:10,onEndReachedThreshold:2,scrollEventThrottle:50,updateCellsBatchingPeriod:50,windowSize:21},T.contextTypes={virtualizedCell:y.shape({cellKey:y.string}),virtualizedList:y.shape({getScrollMetrics:y.func,horizontal:y.bool,getOutermostParentListRef:y.func,getNestedChildState:y.func,registerAsNestedChild:y.func,unregisterAsNestedChild:y.func})},T.childContextTypes={virtualizedList:y.shape({getScrollMetrics:y.func,horizontal:y.bool,getOutermostParentListRef:y.func,getNestedChildState:y.func,registerAsNestedChild:y.func,unregisterAsNestedChild:y.func})};var z=(function(s){function h(){var t,s;o(this,h);for(var c=arguments.length,p=new Array(c),u=0;u<c;u++)p[u]=arguments[u];return(s=n(this,(t=l(h)).call.apply(t,[this].concat(p)))).state={separatorProps:{highlighted:!1,leadingItem:s.props.item}},s._separators={highlight:function(){var t=s.props,o=t.cellKey,n=t.prevCellKey;s.props.onUpdateSeparators([o,n],{highlighted:!0})},unhighlight:function(){var t=s.props,o=t.cellKey,n=t.prevCellKey;s.props.onUpdateSeparators([o,n],{highlighted:!1})},updateProps:function(t,o){var n=s.props,l=n.cellKey,h=n.prevCellKey;s.props.onUpdateSeparators(['leading'===t?h:l],o)}},s}return p(h,s),c(h,[{key:"getChildContext",value:function(){return{virtualizedCell:{cellKey:this.props.cellKey}}}},{key:"updateSeparatorProps",value:function(t){this.setState(function(s){return{separatorProps:f({},s.separatorProps,{},t)}})}},{key:"componentWillUnmount",value:function(){this.props.onUnmount(this.props.cellKey)}},{key:"_renderElement",value:function(t,s,o,n){return t&&s&&console.warn("VirtualizedList: Both ListItemComponent and renderItem props are present. ListItemComponent will take precedence over renderItem."),s?C.createElement(s,{item:o,index:n,separators:this._separators}):t?t({item:o,index:n,separators:this._separators}):void R(!1,'VirtualizedList: Either ListItemComponent or renderItem props are required but none were found.')}},{key:"render",value:function(){var s=this.props,o=s.CellRendererComponent,n=s.ItemSeparatorComponent,l=s.fillRateHelper,h=s.horizontal,c=s.item,p=s.index,u=s.inversionStyle,f=s.parentProps,_=f.renderItem,v=f.getItemLayout,y=f.ListItemComponent,L=this._renderElement(_,y,c,p),b=!v||f.debug||l.enabled()?this.props.onLayout:void 0,S=n&&C.createElement(n,this.state.separatorProps),M=u?h?[F.rowReverse,u]:[F.columnReverse,u]:h?[F.row,u]:u;return o?C.createElement(o,t({},this.props,{style:M,onLayout:b}),L,S):C.createElement(I,{style:M,onLayout:b},L,S)}}],[{key:"getDerivedStateFromProps",value:function(t,s){return{separatorProps:f({},s.separatorProps,{leadingItem:t.item})}}}]),h})(C.Component);z.childContextTypes={virtualizedCell:y.shape({cellKey:y.string})};var P=(function(t){function s(){return o(this,s),n(this,l(s).apply(this,arguments))}return p(s,t),c(s,[{key:"getChildContext",value:function(){return{virtualizedCell:{cellKey:this.props.cellKey}}}},{key:"render",value:function(){return this.props.children}}]),s})(C.Component);P.childContextTypes={virtualizedCell:y.shape({cellKey:y.string})};var F=M.create({verticallyInverted:{transform:[{scaleY:-1}]},horizontallyInverted:{transform:[{scaleX:-1}]},row:{flexDirection:'row'},rowReverse:{flexDirection:'row-reverse'},columnReverse:{flexDirection:'column-reverse'},debug:{flex:1},debugOverlayBase:{position:'absolute',top:0,right:0},debugOverlay:{bottom:0,width:20,borderColor:'blue',borderWidth:1},debugOverlayFrame:{left:0,backgroundColor:'orange'},debugOverlayFrameLast:{left:0,borderColor:'green',borderWidth:2},debugOverlayFrameVis:{left:0,borderColor:'red',borderWidth:2}});m.exports=T},251,[15,51,4,6,9,8,5,10,252,253,68,12,84,254,257,59,82,268,81,150,17,19,269]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),l=r(d[2]),s=(function(){function s(n,l){t(this,s),this._delay=l,this._callback=n}return n(s,[{key:"dispose",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{abort:!1};this._taskHandle&&(this._taskHandle.cancel(),t.abort||this._callback(),this._taskHandle=null)}},{key:"schedule",value:function(){var t=this;if(!this._taskHandle){var n=setTimeout(function(){t._taskHandle=l.runAfterInteractions(function(){t._taskHandle=null,t._callback()})},this._delay);this._taskHandle={cancel:function(){return clearTimeout(n)}}}}}]),s})();m.exports=s},252,[4,5,227]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),s=r(d[2]);function l(t,n){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);n&&(l=l.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,l)}return s}function o(n){for(var s=1;s<arguments.length;s++){var o=null!=arguments[s]?arguments[s]:{};s%2?l(Object(o),!0).forEach(function(s){t(n,s,o[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):l(Object(o)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(o,t))})}return n}var _=r(d[3]),h=r(d[4]),u=function t(){s(this,t),this.any_blank_count=0,this.any_blank_ms=0,this.any_blank_speed_sum=0,this.mostly_blank_count=0,this.mostly_blank_ms=0,this.pixels_blank=0,this.pixels_sampled=0,this.pixels_scrolled=0,this.total_time_spent=0,this.sample_count=0},f=[],c=10,y=null,p=(function(){function t(n){s(this,t),this._anyBlankStartTime=null,this._enabled=!1,this._info=new u,this._mostlyBlankStartTime=null,this._samplesStartTime=null,this._getFrameMetrics=n,this._enabled=(y||0)>Math.random(),this._resetData()}return n(t,null,[{key:"addListener",value:function(t){return h(null!==y,'Call `FillRateHelper.setSampleRate` before `addListener`.'),f.push(t),{remove:function(){f=f.filter(function(n){return t!==n})}}}},{key:"setSampleRate",value:function(t){y=t}},{key:"setMinSampleCount",value:function(t){c=t}}]),n(t,[{key:"activate",value:function(){this._enabled&&null==this._samplesStartTime&&(this._samplesStartTime=_())}},{key:"deactivateAndFlush",value:function(){if(this._enabled){var t=this._samplesStartTime;if(null!=t)if(this._info.sample_count<c)this._resetData();else{var n=_()-t,s=o({},this._info,{total_time_spent:n});f.forEach(function(t){return t(s)}),this._resetData()}}}},{key:"computeBlankness",value:function(t,n,s){if(!this._enabled||0===t.getItemCount(t.data)||null==this._samplesStartTime)return 0;var l=s.dOffset,o=s.offset,h=s.velocity,u=s.visibleLength;this._info.sample_count++,this._info.pixels_sampled+=Math.round(u),this._info.pixels_scrolled+=Math.round(Math.abs(l));var f=Math.round(1e3*Math.abs(h)),c=_();null!=this._anyBlankStartTime&&(this._info.any_blank_ms+=c-this._anyBlankStartTime),this._anyBlankStartTime=null,null!=this._mostlyBlankStartTime&&(this._info.mostly_blank_ms+=c-this._mostlyBlankStartTime),this._mostlyBlankStartTime=null;for(var y=0,p=n.first,b=this._getFrameMetrics(p);p<=n.last&&(!b||!b.inLayout);)b=this._getFrameMetrics(p),p++;b&&p>0&&(y=Math.min(u,Math.max(0,b.offset-o)));for(var k=0,v=n.last,S=this._getFrameMetrics(v);v>=n.first&&(!S||!S.inLayout);)S=this._getFrameMetrics(v),v--;if(S&&v<t.getItemCount(t.data)-1){var M=S.offset+S.length;k=Math.min(u,Math.max(0,o+u-M))}var O=Math.round(y+k),T=O/u;return T>0?(this._anyBlankStartTime=c,this._info.any_blank_speed_sum+=f,this._info.any_blank_count++,this._info.pixels_blank+=O,T>.5&&(this._mostlyBlankStartTime=c,this._info.mostly_blank_count++)):(f<.01||Math.abs(l)<1)&&this.deactivateAndFlush(),T}},{key:"enabled",value:function(){return this._enabled}},{key:"_resetData",value:function(){this._anyBlankStartTime=null,this._info=new u,this._mostlyBlankStartTime=null,this._samplesStartTime=null}}]),t})();m.exports=p},253,[51,5,4,109,19]);
__d(function(g,r,i,a,m,e,d){'use strict';var t,s=r(d[0]),n=s(r(d[1])),o=s(r(d[2])),f=s(r(d[3])),h=s(r(d[4])),l=s(r(d[5])),p=s(r(d[6])),u=s(r(d[7])),v=s(r(d[8])),c=(s(r(d[9])),r(d[10]),r(d[11])),R=(r(d[12]),r(d[13]).getViewManagerConfig('AndroidSwipeRefreshLayout'));t=R?R.Constants:{SIZE:{}};var _=(function(t){function s(){var t,n;(0,f.default)(this,s);for(var o=arguments.length,h=new Array(o),u=0;u<o;u++)h[u]=arguments[u];return(n=(0,l.default)(this,(t=(0,p.default)(s)).call.apply(t,[this].concat(h))))._lastNativeRefreshing=!1,n._onRefresh=function(){n._lastNativeRefreshing=!0,n.props.onRefresh&&n.props.onRefresh(),n.forceUpdate()},n}return(0,u.default)(s,t),(0,h.default)(s,[{key:"componentDidMount",value:function(){this._lastNativeRefreshing=this.props.refreshing}},{key:"componentDidUpdate",value:function(t){this.props.refreshing!==t.refreshing?this._lastNativeRefreshing=this.props.refreshing:this.props.refreshing!==this._lastNativeRefreshing&&this._setNativePropsOnRef&&(this._setNativePropsOnRef({refreshing:this.props.refreshing}),this._lastNativeRefreshing=this.props.refreshing)}},{key:"render",value:function(){var t=this,s=this.props,f=(s.tintColor,s.titleColor,s.title,(0,o.default)(s,["tintColor","titleColor","title"]));return c.createElement(v.default,(0,n.default)({},f,{ref:function(s){return t._setNativePropsOnRef=s?s.setNativeProps.bind(s):null},onRefresh:this._onRefresh}))}}]),s})(c.Component);_.SIZE=t.SIZE,m.exports=_},254,[1,15,57,4,5,6,9,10,255,256,53,12,208,48]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=(0,t(r(d[1])).default)('AndroidSwipeRefreshLayout');e.default=u},255,[1,182]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=(0,t(r(d[1])).default)('PullToRefreshView',{paperComponentName:'RCTRefreshControl'});e.default=o},256,[1,182]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=r(d[2]),l=r(d[3]),s=r(d[4]),c=r(d[5]),p=r(d[6]),h=r(d[7]);function u(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);n&&(l=l.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,l)}return o}function f(t){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?u(Object(o),!0).forEach(function(n){h(t,n,o[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):u(Object(o)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(o,n))})}return t}var y,R,v,_=r(d[8]),S=(r(d[9]),r(d[10])),w=r(d[11]),H=r(d[12]),k=r(d[13]),V=r(d[14]),E=r(d[15]),A=r(d[16]),C=r(d[17]),T=r(d[18]),b=r(d[19]),x=r(d[20]),O=r(d[21]),M=r(d[22]);function z(t){var n=f({},H.Mixin);for(var o in n)'function'==typeof n[o]&&(n[o]=n[o].bind(t));return n}y=x('RCTScrollView'),v=x('AndroidHorizontalScrollView'),R=x('AndroidHorizontalScrollContentView');var I=S.createContext(null),D=Object.freeze({horizontal:!0}),j=Object.freeze({horizontal:!1}),L=(function(h){function u(t){var o;for(var p in n(this,u),(o=l(this,s(u).call(this,t)))._scrollResponder=z(c(o)),o._scrollAnimatedValue=new _.Value(0),o._scrollAnimatedValueAttachment=null,o._stickyHeaderRefs=new Map,o._headerLayoutYs=new Map,o.state=f({layoutHeight:null},H.Mixin.scrollResponderMixinGetInitialState()),o._handleScroll=function(t){'on-drag'===o.props.keyboardDismissMode&&o.state.isTouching&&A(),o._scrollResponder.scrollResponderHandleScroll(t)},o._handleLayout=function(t){!0===o.props.invertStickyHeaders&&o.setState({layoutHeight:t.nativeEvent.layout.height}),o.props.onLayout&&o.props.onLayout(t)},o._handleContentOnLayout=function(t){var n=t.nativeEvent.layout,l=n.width,s=n.height;o.props.onContentSizeChange&&o.props.onContentSizeChange(l,s)},o._scrollViewRef=null,o._setScrollViewRef=function(t){o._scrollViewRef=t},o._innerViewRef=null,o._setInnerViewRef=function(t){o._innerViewRef=t},H.Mixin)'function'==typeof H.Mixin[p]&&p.startsWith('scrollResponder')&&(c(o)[p]=H.Mixin[p].bind(c(o)));return Object.keys(H.Mixin).filter(function(t){return'function'!=typeof H.Mixin[t]}).forEach(function(t){c(o)[t]=H.Mixin[t]}),o}return p(u,h),o(u,[{key:"UNSAFE_componentWillMount",value:function(){this._scrollResponder.UNSAFE_componentWillMount(),this._scrollAnimatedValue=new _.Value(this.props.contentOffset?this.props.contentOffset.y:0),this._scrollAnimatedValue.setOffset(this.props.contentInset&&this.props.contentInset.top||0),this._stickyHeaderRefs=new Map,this._headerLayoutYs=new Map}},{key:"UNSAFE_componentWillReceiveProps",value:function(t){var n=this.props.contentInset?this.props.contentInset.top:0,o=t.contentInset?t.contentInset.top:0;n!==o&&this._scrollAnimatedValue.setOffset(o||0)}},{key:"componentDidMount",value:function(){this._updateAnimatedNodeAttachment()}},{key:"componentDidUpdate",value:function(){this._updateAnimatedNodeAttachment()}},{key:"componentWillUnmount",value:function(){this._scrollResponder.componentWillUnmount(),this._scrollAnimatedValueAttachment&&this._scrollAnimatedValueAttachment.detach()}},{key:"setNativeProps",value:function(t){this._scrollViewRef&&this._scrollViewRef.setNativeProps(t)}},{key:"getScrollResponder",value:function(){return this}},{key:"getScrollableNode",value:function(){return w.findNodeHandle(this._scrollViewRef)}},{key:"getInnerViewNode",value:function(){return w.findNodeHandle(this._innerViewRef)}},{key:"getNativeScrollRef",value:function(){return this._scrollViewRef}},{key:"scrollTo",value:function(t,n,o){var l,s,c;'number'==typeof t?(console.warn("`scrollTo(y, x, animated)` is deprecated. Use `scrollTo({x: 5, y: 5, animated: true})` instead."),s=t,l=n,c=o):t&&(s=t.y,l=t.x,c=t.animated),this._scrollResponder.scrollResponderScrollTo({x:l||0,y:s||0,animated:!1!==c})}},{key:"scrollToEnd",value:function(t){var n=!1!==(t&&t.animated);this._scrollResponder.scrollResponderScrollToEnd({animated:n})}},{key:"scrollWithoutAnimationTo",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;console.warn('`scrollWithoutAnimationTo` is deprecated. Use `scrollTo` instead'),this.scrollTo({x:n,y:t,animated:!1})}},{key:"flashScrollIndicators",value:function(){this._scrollResponder.scrollResponderFlashScrollIndicators()}},{key:"_getKeyForIndex",value:function(t,n){var o=n[t];return o&&o.key}},{key:"_updateAnimatedNodeAttachment",value:function(){this._scrollAnimatedValueAttachment&&this._scrollAnimatedValueAttachment.detach(),this.props.stickyHeaderIndices&&this.props.stickyHeaderIndices.length>0&&(this._scrollAnimatedValueAttachment=_.attachNativeEvent(this._scrollViewRef,'onScroll',[{nativeEvent:{contentOffset:{y:this._scrollAnimatedValue}}}]))}},{key:"_setStickyHeaderRef",value:function(t,n){n?this._stickyHeaderRefs.set(t,n):this._stickyHeaderRefs.delete(t)}},{key:"_onStickyHeaderLayout",value:function(t,n,o){var l=this.props.stickyHeaderIndices;if(l){var s=S.Children.toArray(this.props.children);if(o===this._getKeyForIndex(t,s)){var c=n.nativeEvent.layout.y;this._headerLayoutYs.set(o,c);var p=l[l.indexOf(t)-1];if(null!=p){var h=this._stickyHeaderRefs.get(this._getKeyForIndex(p,s));h&&h.setNextHeaderY&&h.setNextHeaderY(c)}}}}},{key:"render",value:function(){var n,o,l=this;!0===this.props.horizontal?(n=v,o=R):(n=y,o=E),T(void 0!==n,'ScrollViewClass must not be undefined'),T(void 0!==o,'ScrollContentContainerViewClass must not be undefined');var s=[!0===this.props.horizontal&&N.contentContainerHorizontal,this.props.contentContainerStyle],c={};this.props.onContentSizeChange&&(c={onLayout:this._handleContentOnLayout});var p=this.props.stickyHeaderIndices,h=this.props.children;if(null!=p&&p.length>0){var u=S.Children.toArray(this.props.children);h=u.map(function(t,n){var o=t?p.indexOf(n):-1;if(o>-1){var s=t.key,c=p[o+1],h=l.props.StickyHeaderComponent||k;return S.createElement(h,{key:s,ref:function(t){return l._setStickyHeaderRef(s,t)},nextHeaderLayoutY:l._headerLayoutYs.get(l._getKeyForIndex(c,u)),onLayout:function(t){return l._onStickyHeaderLayout(n,t,s)},scrollAnimatedValue:l._scrollAnimatedValue,inverted:l.props.invertStickyHeaders,scrollViewHeight:l.state.layoutHeight},t)}return t})}h=S.createElement(I.Provider,{value:!0===this.props.horizontal?D:j},h);var _=Array.isArray(p)&&p.length>0,w=S.createElement(o,t({},c,{ref:this._setInnerViewRef,style:s,removeClippedSubviews:!_&&this.props.removeClippedSubviews,collapsable:!1}),h),H=void 0!==this.props.alwaysBounceHorizontal?this.props.alwaysBounceHorizontal:this.props.horizontal,V=void 0!==this.props.alwaysBounceVertical?this.props.alwaysBounceVertical:!this.props.horizontal,A=!!this.props.DEPRECATED_sendUpdatedChildFrames,x=!0===this.props.horizontal?N.baseHorizontal:N.baseVertical,z=f({},this.props,{alwaysBounceHorizontal:H,alwaysBounceVertical:V,style:[x,this.props.style],onContentSizeChange:null,onLayout:this._handleLayout,onMomentumScrollBegin:this._scrollResponder.scrollResponderHandleMomentumScrollBegin,onMomentumScrollEnd:this._scrollResponder.scrollResponderHandleMomentumScrollEnd,onResponderGrant:this._scrollResponder.scrollResponderHandleResponderGrant,onResponderReject:this._scrollResponder.scrollResponderHandleResponderReject,onResponderRelease:this._scrollResponder.scrollResponderHandleResponderRelease,onResponderTerminate:this._scrollResponder.scrollResponderHandleTerminate,onResponderTerminationRequest:this._scrollResponder.scrollResponderHandleTerminationRequest,onScrollBeginDrag:this._scrollResponder.scrollResponderHandleScrollBeginDrag,onScrollEndDrag:this._scrollResponder.scrollResponderHandleScrollEndDrag,onScrollShouldSetResponder:this._scrollResponder.scrollResponderHandleScrollShouldSetResponder,onStartShouldSetResponder:this._scrollResponder.scrollResponderHandleStartShouldSetResponder,onStartShouldSetResponderCapture:this._scrollResponder.scrollResponderHandleStartShouldSetResponderCapture,onTouchEnd:this._scrollResponder.scrollResponderHandleTouchEnd,onTouchMove:this._scrollResponder.scrollResponderHandleTouchMove,onTouchStart:this._scrollResponder.scrollResponderHandleTouchStart,onTouchCancel:this._scrollResponder.scrollResponderHandleTouchCancel,onScroll:this._handleScroll,scrollBarThumbImage:O(this.props.scrollBarThumbImage),scrollEventThrottle:_?1:this.props.scrollEventThrottle,sendMomentumEvents:!(!this.props.onMomentumScrollBegin&&!this.props.onMomentumScrollEnd),DEPRECATED_sendUpdatedChildFrames:A,snapToStart:!1!==this.props.snapToStart,snapToEnd:!1!==this.props.snapToEnd,pagingEnabled:!0===this.props.pagingEnabled||null!=this.props.snapToInterval||null!=this.props.snapToOffsets}),L=this.props.decelerationRate;null!=L&&(z.decelerationRate=b(L));var P=this.props.refreshControl;if(P){var B=M(C(z.style)),F=B.outer,U=B.inner;return S.cloneElement(P,{style:[x,F]},S.createElement(n,t({},z,{style:[x,U],ref:this._setScrollViewRef}),w))}return S.createElement(n,t({},z,{ref:this._setScrollViewRef}),w)}}]),u})(S.Component);L.Context=I;var N=V.create({baseVertical:{flexGrow:1,flexShrink:1,flexDirection:'column',overflow:'scroll'},baseHorizontal:{flexGrow:1,flexShrink:1,flexDirection:'row',overflow:'scroll'},contentContainerHorizontal:{flexDirection:'row'}});m.exports=L},257,[15,4,5,6,9,8,10,51,229,53,12,84,258,265,59,82,264,81,17,266,178,173,267]);
__d(function(g,r,i,a,m,e,d){'use strict';var o=r(d[0]),s=r(d[1]),n=r(d[2]),l=r(d[3]),t=r(d[4]),c=r(d[5]),p=r(d[6]),h=r(d[7]),u=r(d[8]),S=r(d[9]),b=r(d[10]).ScrollViewManager,R={Mixin:{_subscriptionKeyboardWillShow:null,_subscriptionKeyboardWillHide:null,_subscriptionKeyboardDidShow:null,_subscriptionKeyboardDidHide:null,scrollResponderMixinGetInitialState:function(){return{isTouching:!1,lastMomentumScrollBeginTime:0,lastMomentumScrollEndTime:0,observedScrollSinceBecomingResponder:!1,becameResponderWhileAnimating:!1}},scrollResponderHandleScrollShouldSetResponder:function(){return!0!==this.props.disableScrollViewPanResponder&&this.state.isTouching},scrollResponderHandleStartShouldSetResponder:function(o){if(!0===this.props.disableScrollViewPanResponder)return!1;var s=t.currentlyFocusedField();return'handled'===this.props.keyboardShouldPersistTaps&&null!=s&&o.target!==s},scrollResponderHandleStartShouldSetResponderCapture:function(o){if(this.scrollResponderIsAnimating())return!0;if(!0===this.props.disableScrollViewPanResponder)return!1;var s=t.currentlyFocusedField(),n=this.props.keyboardShouldPersistTaps;return!(n&&'never'!==n||null==s||!o.target||t.isTextInput(o.target))},scrollResponderHandleResponderReject:function(){},scrollResponderHandleTerminationRequest:function(){return!this.state.observedScrollSinceBecomingResponder},scrollResponderHandleTouchEnd:function(o){var s=o.nativeEvent;this.state.isTouching=0!==s.touches.length,this.props.onTouchEnd&&this.props.onTouchEnd(o)},scrollResponderHandleTouchCancel:function(o){this.state.isTouching=!1,this.props.onTouchCancel&&this.props.onTouchCancel(o)},scrollResponderHandleResponderRelease:function(o){this.props.onResponderRelease&&this.props.onResponderRelease(o);var s=t.currentlyFocusedField();!0===this.props.keyboardShouldPersistTaps||'always'===this.props.keyboardShouldPersistTaps||null==s||o.target===s||this.state.observedScrollSinceBecomingResponder||this.state.becameResponderWhileAnimating||(this.props.onScrollResponderKeyboardDismissed&&this.props.onScrollResponderKeyboardDismissed(o),t.blurTextInput(s))},scrollResponderHandleScroll:function(o){this.state.observedScrollSinceBecomingResponder=!0,this.props.onScroll&&this.props.onScroll(o)},scrollResponderHandleResponderGrant:function(o){this.state.observedScrollSinceBecomingResponder=!1,this.props.onResponderGrant&&this.props.onResponderGrant(o),this.state.becameResponderWhileAnimating=this.scrollResponderIsAnimating()},scrollResponderHandleScrollBeginDrag:function(o){s.beginScroll(),this.props.onScrollBeginDrag&&this.props.onScrollBeginDrag(o)},scrollResponderHandleScrollEndDrag:function(o){var n=o.nativeEvent.velocity;this.scrollResponderIsAnimating()||n&&(0!==n.x||0!==n.y)||s.endScroll(),this.props.onScrollEndDrag&&this.props.onScrollEndDrag(o)},scrollResponderHandleMomentumScrollBegin:function(o){this.state.lastMomentumScrollBeginTime=u(),this.props.onMomentumScrollBegin&&this.props.onMomentumScrollBegin(o)},scrollResponderHandleMomentumScrollEnd:function(o){s.endScroll(),this.state.lastMomentumScrollEndTime=u(),this.props.onMomentumScrollEnd&&this.props.onMomentumScrollEnd(o)},scrollResponderHandleTouchStart:function(o){this.state.isTouching=!0,this.props.onTouchStart&&this.props.onTouchStart(o)},scrollResponderHandleTouchMove:function(o){this.props.onTouchMove&&this.props.onTouchMove(o)},scrollResponderIsAnimating:function(){return u()-this.state.lastMomentumScrollEndTime<16||this.state.lastMomentumScrollEndTime<this.state.lastMomentumScrollBeginTime},scrollResponderGetScrollableNode:function(){return this.getScrollableNode?this.getScrollableNode():l.findNodeHandle(this)},scrollResponderScrollTo:function(o,s,n){if('number'==typeof o)console.warn('`scrollResponderScrollTo(x, y, animated)` is deprecated. Use `scrollResponderScrollTo({x: 5, y: 5, animated: true})` instead.');else{var l=o||{};o=l.x,s=l.y,n=l.animated}c.dispatchViewManagerCommand(h(this.scrollResponderGetScrollableNode()),c.getViewManagerConfig('RCTScrollView').Commands.scrollTo,[o||0,s||0,!1!==n])},scrollResponderScrollToEnd:function(o){var s=!1!==(o&&o.animated);c.dispatchViewManagerCommand(this.scrollResponderGetScrollableNode(),c.getViewManagerConfig('RCTScrollView').Commands.scrollToEnd,[s])},scrollResponderScrollWithoutAnimationTo:function(o,s){console.warn('`scrollResponderScrollWithoutAnimationTo` is deprecated. Use `scrollResponderScrollTo` instead'),this.scrollResponderScrollTo({x:o,y:s,animated:!1})},scrollResponderZoomTo:function(o,s){p(b&&b.zoomToRect,'zoomToRect is not implemented'),'animated'in o?(s=o.animated,delete o.animated):void 0!==s&&console.warn('`scrollResponderZoomTo` `animated` argument is deprecated. Use `options.animated` instead'),b.zoomToRect(this.scrollResponderGetScrollableNode(),o,!1!==s)},scrollResponderFlashScrollIndicators:function(){c.dispatchViewManagerCommand(this.scrollResponderGetScrollableNode(),c.getViewManagerConfig('RCTScrollView').Commands.flashScrollIndicators,[])},scrollResponderScrollNativeHandleToKeyboard:function(o,s,n){this.additionalScrollOffset=s||0,this.preventNegativeScrollOffset=!!n,c.measureLayout(o,l.findNodeHandle(this.getInnerViewNode()),this.scrollResponderTextInputFocusError,this.scrollResponderInputMeasureAndScrollToKeyboard)},scrollResponderInputMeasureAndScrollToKeyboard:function(s,n,l,t){var c=o.get('window').height;this.keyboardWillOpenTo&&(c=this.keyboardWillOpenTo.endCoordinates.screenY);var p=n-c+t+this.additionalScrollOffset;this.preventNegativeScrollOffset&&(p=Math.max(0,p)),this.scrollResponderScrollTo({x:0,y:p,animated:!0}),this.additionalOffset=0,this.preventNegativeScrollOffset=!1},scrollResponderTextInputFocusError:function(o){console.error('Error measuring text field: ',o)},UNSAFE_componentWillMount:function(){var o=this.props.keyboardShouldPersistTaps;S('boolean'!=typeof o,"'keyboardShouldPersistTaps={"+o+"}' is deprecated. Use 'keyboardShouldPersistTaps=\""+(o?'always':'never')+"\"' instead"),this.keyboardWillOpenTo=null,this.additionalScrollOffset=0,this._subscriptionKeyboardWillShow=n.addListener('keyboardWillShow',this.scrollResponderKeyboardWillShow),this._subscriptionKeyboardWillHide=n.addListener('keyboardWillHide',this.scrollResponderKeyboardWillHide),this._subscriptionKeyboardDidShow=n.addListener('keyboardDidShow',this.scrollResponderKeyboardDidShow),this._subscriptionKeyboardDidHide=n.addListener('keyboardDidHide',this.scrollResponderKeyboardDidHide)},componentWillUnmount:function(){null!=this._subscriptionKeyboardWillShow&&this._subscriptionKeyboardWillShow.remove(),null!=this._subscriptionKeyboardWillHide&&this._subscriptionKeyboardWillHide.remove(),null!=this._subscriptionKeyboardDidShow&&this._subscriptionKeyboardDidShow.remove(),null!=this._subscriptionKeyboardDidHide&&this._subscriptionKeyboardDidHide.remove()},scrollResponderKeyboardWillShow:function(o){this.keyboardWillOpenTo=o,this.props.onKeyboardWillShow&&this.props.onKeyboardWillShow(o)},scrollResponderKeyboardWillHide:function(o){this.keyboardWillOpenTo=null,this.props.onKeyboardWillHide&&this.props.onKeyboardWillHide(o)},scrollResponderKeyboardDidShow:function(o){o&&(this.keyboardWillOpenTo=o),this.props.onKeyboardDidShow&&this.props.onKeyboardDidShow(o)},scrollResponderKeyboardDidHide:function(o){this.keyboardWillOpenTo=null,this.props.onKeyboardDidHide&&this.props.onKeyboardDidHide(o)}}};m.exports=R},258,[61,259,261,84,159,48,17,208,109,19,25]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])(r(d[1])),o=r(d[2]),l={setGlobalOptions:function(l){if(void 0!==l.debug&&o(t.default,'Trying to debug FrameRateLogger without the native module!'),t.default){var u={debug:!!l.debug,reportStackTraces:!!l.reportStackTraces};t.default.setGlobalOptions(u)}},setContext:function(o){t.default&&t.default.setContext(o)},beginScroll:function(){t.default&&t.default.beginScroll()},endScroll:function(){t.default&&t.default.endScroll()}};m.exports=l},259,[1,260,17]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=t(r(d[1])).get('FrameRateLogger');e.default=o},260,[23,24]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0])(r(d[1])),o=r(d[2]),t=r(d[3]),u=r(d[4]),s=r(d[5]),c={addListener:function(n,o){s(!1,'Dummy method used for documentation')},removeListener:function(n,o){s(!1,'Dummy method used for documentation')},removeAllListeners:function(n){s(!1,'Dummy method used for documentation')},dismiss:function(){s(!1,'Dummy method used for documentation')},scheduleLayoutAnimation:function(n){s(!1,'Dummy method used for documentation')}};(c=new t(n.default)).dismiss=u,c.scheduleLayoutAnimation=function(n){var t=n.duration,u=n.easing;null!=t&&0!==t&&o.configureNext({duration:t,update:{duration:t,type:null!=u&&o.Types[u]||'keyboard'}})},m.exports=c},261,[1,262,263,121,264,17]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])).get('KeyboardObserver');e.default=u},262,[23,24]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0])(r(d[1])),t=r(d[2]);function s(s,o){n.default.isTesting||t.configureNextLayoutAnimation(s,null!=o?o:function(){},function(){})}function o(n,t,s){return{duration:n,create:{type:t,property:s},update:{type:t},delete:{type:t,property:s}}}var p={easeInEaseOut:o(300,'easeInEaseOut','opacity'),linear:o(500,'linear','opacity'),spring:{duration:700,create:{type:'linear',property:'opacity'},update:{type:'spring',springDamping:.4},delete:{type:'linear',property:'opacity'}}},c={configureNext:s,create:o,Types:Object.freeze({spring:'spring',linear:'linear',easeInEaseOut:'easeInEaseOut',easeIn:'easeIn',easeOut:'easeOut',keyboard:'keyboard'}),Properties:Object.freeze({opacity:'opacity',scaleX:'scaleX',scaleY:'scaleY',scaleXY:'scaleXY'}),checkConfig:function(){console.error('LayoutAnimation.checkConfig(...) has been disabled.')},Presets:p,easeInEaseOut:s.bind(null,p.easeInEaseOut),linear:s.bind(null,p.linear),spring:s.bind(null,p.spring)};m.exports=c},263,[1,53,48]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);m.exports=function(){t.blurTextInput(t.currentlyFocusedField())}},264,[159]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=r(d[2]),u=r(d[3]),s=r(d[4]),l=r(d[5]),p=r(d[6]),h=r(d[7]),y=r(d[8]),c=l.createAnimatedComponent(y),v=(function(l){function h(){var n,s;t(this,h);for(var l=arguments.length,y=new Array(l),c=0;c<l;c++)y[c]=arguments[c];return(s=o(this,(n=u(h)).call.apply(n,[this].concat(y)))).state={measured:!1,layoutY:0,layoutHeight:0,nextHeaderLayoutY:s.props.nextHeaderLayoutY},s._onLayout=function(t){s.setState({measured:!0,layoutY:t.nativeEvent.layout.y,layoutHeight:t.nativeEvent.layout.height}),s.props.onLayout(t);var n=p.Children.only(s.props.children);n.props.onLayout&&n.props.onLayout(t)},s}return s(h,l),n(h,[{key:"setNextHeaderY",value:function(t){this.setState({nextHeaderLayoutY:t})}},{key:"render",value:function(){var t=this.props,n=t.inverted,o=t.scrollViewHeight,u=this.state,s=u.measured,l=u.layoutHeight,h=u.layoutY,y=u.nextHeaderLayoutY,v=[-1,0],L=[0,0];if(s)if(n){if(null!=o){var H=h+l-o;if(H>0){v.push(H),L.push(0),v.push(H+1),L.push(1);var Y=(y||0)-l-o;Y>H&&(v.push(Y,Y+1),L.push(Y-H,Y-H))}}}else{v.push(h),L.push(0);var x=(y||0)-l;x>=h?(v.push(x,x+1),L.push(x-h,x-h)):(v.push(h+1),L.push(1))}var C=this.props.scrollAnimatedValue.interpolate({inputRange:v,outputRange:L}),E=p.Children.only(this.props.children);return p.createElement(c,{collapsable:!1,onLayout:this._onLayout,style:[E.props.style,f.header,{transform:[{translateY:C}]}]},p.cloneElement(E,{style:f.fill,onLayout:void 0}))}}]),h})(p.Component),f=h.create({header:{zIndex:10},fill:{flex:1}});m.exports=v},265,[4,5,6,9,10,229,12,59,82]);
__d(function(g,r,i,a,m,e,d){'use strict';r(d[0]);m.exports=function(t){return'normal'===t?.985:'fast'===t?.9:t}},266,[53]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])(Object.create(null),{margin:!0,marginHorizontal:!0,marginVertical:!0,marginBottom:!0,marginTop:!0,marginLeft:!0,marginRight:!0,flex:!0,flexGrow:!0,flexShrink:!0,flexBasis:!0,alignSelf:!0,height:!0,minHeight:!0,maxHeight:!0,width:!0,minWidth:!0,maxWidth:!0,position:!0,left:!0,right:!0,bottom:!0,top:!0,transform:!0});m.exports=function(n){var o={},f={};return n&&Object.keys(n).forEach(function(h){var l=n[h];t[h]?f[h]=l:o[h]=l}),{outer:f,inner:o}}},267,[15]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=r(d[2]),s=r(d[3]);function c(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);n&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,s)}return o}function l(n){for(var o=1;o<arguments.length;o++){var s=null!=arguments[o]?arguments[o]:{};o%2?c(Object(s),!0).forEach(function(o){t(n,o,s[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):c(Object(s)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(s,t))})}return n}var u=r(d[4]),f=(function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{viewAreaCoveragePercentThreshold:0};o(this,t),this._hasInteracted=!1,this._timers=new Set,this._viewableIndices=[],this._viewableItems=new Map,this._config=n}return s(t,[{key:"dispose",value:function(){this._timers.forEach(clearTimeout)}},{key:"computeViewableItems",value:function(t,n,o,s,c){var l=this._config,f=l.itemVisiblePercentThreshold,v=l.viewAreaCoveragePercentThreshold,b=null!=v,y=b?v:f;u(null!=y&&null!=f!=(null!=v),'Must set exactly one of itemVisiblePercentThreshold or viewAreaCoveragePercentThreshold');var p=[];if(0===t)return p;var w=-1,_=c||{first:0,last:t-1},I=_.first,O=_.last;if(O>=t)return console.warn('Invalid render range computing viewability '+JSON.stringify({renderRange:c,itemCount:t})),[];for(var k=I;k<=O;k++){var P=s(k);if(P){var j=P.offset-n,S=j+P.length;if(j<o&&S>0)w=k,h(b,y,j,S,o,P.length)&&p.push(k);else if(w>=0)break}}return p}},{key:"onUpdate",value:function(t,n,o,s,c,l,u){var f=this;if((!this._config.waitForInteraction||this._hasInteracted)&&0!==t&&s(0)){var h=[];if(t&&(h=this.computeViewableItems(t,n,o,s,u)),this._viewableIndices.length!==h.length||!this._viewableIndices.every(function(t,n){return t===h[n]}))if(this._viewableIndices=h,this._config.minimumViewTime){var v=setTimeout(function(){f._timers.delete(v),f._onUpdateSync(h,l,c)},this._config.minimumViewTime);this._timers.add(v)}else this._onUpdateSync(h,l,c)}}},{key:"resetViewableIndices",value:function(){this._viewableIndices=[]}},{key:"recordInteraction",value:function(){this._hasInteracted=!0}},{key:"_onUpdateSync",value:function(t,o,s){var c=this;t=t.filter(function(t){return c._viewableIndices.includes(t)});var u=this._viewableItems,f=new Map(t.map(function(t){var n=s(t,!0);return[n.key,n]})),h=[],v=f,b=Array.isArray(v),y=0;for(v=b?v:v["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var p;if(b){if(y>=v.length)break;p=v[y++]}else{if((y=v.next()).done)break;p=y.value}var w=n(p,2),_=w[0],I=w[1];u.has(_)||h.push(I)}var O=u,k=Array.isArray(O),P=0;for(O=k?O:O["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var j;if(k){if(P>=O.length)break;j=O[P++]}else{if((P=O.next()).done)break;j=P.value}var S=n(j,2),T=S[0],A=S[1];f.has(T)||h.push(l({},A,{isViewable:!1}))}h.length>0&&(this._viewableItems=f,o({viewableItems:Array.from(f.values()),changed:h,viewabilityConfig:this._config}))}}]),t})();function h(t,n,o,s,c,l){if(b(o,s,c))return!0;var u=v(o,s,c);return 100*(t?u/c:u/l)>=n}function v(t,n,o){var s=Math.min(n,o)-Math.max(t,0);return Math.max(0,s)}function b(t,n,o){return t>=0&&n<=o&&n>t}m.exports=f},268,[51,26,4,5,17]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]);function s(t,s,f){for(var l=[],o=0,u=0;u<s;u++)for(var h=f(u),v=h.offset+h.length,c=0;c<t.length;c++)if(null==l[c]&&v>=t[c]&&(l[c]=u,o++,c===t.length-1))return n(o===t.length,'bad offsets input, should be in increasing order: %s',JSON.stringify(t)),l;return l}function f(t,n){return n.last-n.first+1-Math.max(0,1+Math.min(n.last,t.last)-Math.max(n.first,t.first))}var l={computeWindowedRenderLimits:function(n,l,o,u){var h=n.data,v=n.getItemCount,c=n.maxToRenderPerBatch,x=n.windowSize,M=v(h);if(0===M)return l;var w=u.offset,b=u.velocity,p=u.visibleLength,C=Math.max(0,w),O=C+p,y=(x-1)*p,L=b>1?'after':b<-1?'before':'none',R=Math.max(0,C-.5*y),S=Math.max(0,O+.5*y);if(o(M-1).offset<R)return{first:Math.max(0,M-1-c),last:M-1};var B=s([R,C,O,S],n.getItemCount(n.data),o),I=t(B,4),J=I[0],N=I[1],T=I[2],_=I[3];J=null==J?0:J,N=null==N?Math.max(0,J):N,_=null==_?M-1:_;for(var k={first:N,last:T=null==T?Math.min(_,N+c-1):T},z=f(l,k);!(N<=J&&T>=_);){var E=z>=c,F=N<=l.first||N>l.last,P=N>J&&(!E||!F),W=T>=l.last||T<l.first,j=T<_&&(!E||!W);if(E&&!P&&!j)break;!P||'after'===L&&j&&W||(F&&z++,N--),!j||'before'===L&&P&&F||(W&&z++,T++)}if(!(T>=N&&N>=0&&T<M&&N>=J&&T<=_&&N<=k.first&&T>=k.last))throw new Error('Bad window calculation '+JSON.stringify({first:N,last:T,itemCount:M,overscanFirst:J,overscanLast:_,visible:k}));return{first:N,last:T}},elementsThatOverlapOffsets:s,newRangeCount:f};m.exports=l},269,[26,17]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),s=r(d[1]);m.exports=s(t)},270,[271,248]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]);function o(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);n&&(c=c.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,c)}return o}var c=r(d[2]),u=r(d[3]),s=r(d[4]),l=r(d[5]),f=r(d[6]),h=r(d[7]),p=r(d[8]),b=(r(d[9]),r(d[10])),y=r(d[11]),w=r(d[12]),O=r(d[13]),v=r(d[14]),S=f.ImageLoader,I=r(d[15]),j=1;var E=(function(t){for(var c=1;c<arguments.length;c++){var u=null!=arguments[c]?arguments[c]:{};c%2?o(Object(u),!0).forEach(function(o){n(t,o,u[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(u)):o(Object(u)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(u,n))})}return t})({},s,{style:u(c),source:h.oneOfType([h.shape({uri:h.string,headers:h.objectOf(h.string)}),h.number,h.arrayOf(h.shape({uri:h.string,width:h.number,height:h.number,headers:h.objectOf(h.string)}))]),blurRadius:h.number,defaultSource:h.number,loadingIndicatorSource:h.oneOfType([h.shape({uri:h.string}),h.number]),progressiveRenderingEnabled:h.bool,fadeDuration:h.number,onLoadStart:h.func,onError:h.func,onLoad:h.func,onLoadEnd:h.func,testID:h.string,resizeMethod:h.oneOf(['auto','resize','scale']),resizeMode:h.oneOf(['cover','contain','stretch','repeat','center'])});var P=function(t,n){var o,c,u,s,f=v(t.source),h=v(t.defaultSource),b=v(t.loadingIndicatorSource);if(f&&''===f.uri&&console.warn('source.uri should not be an empty string'),t.src&&console.warn('The <Image> component requires a `source` property rather than `src`.'),t.children)throw new Error('The <Image> component cannot contain children. If you want to render content on top of the image, consider using the <ImageBackground> component or absolute positioning.');if(t.defaultSource&&t.loadingIndicatorSource)throw new Error('The <Image> component cannot have defaultSource and loadingIndicatorSource at the same time. Please use either defaultSource or loadingIndicatorSource.');if(!f||f.uri||Array.isArray(f)||(f=null),null!=(null==(o=f)?void 0:o.uri)){var S=f,j=S.width,E=S.height;u=w([{width:j,height:E},z.base,t.style]),s=[{uri:f.uri}]}else u=w([z.base,t.style]),s=f;var P=t.onLoadStart,L=t.onLoad,D=t.onLoadEnd,T=t.onError,q=O(t,{style:u,shouldNotifyLoadEvents:!!(P||L||D||T),src:s,headers:null==(c=f)?void 0:c.headers,defaultSrc:h?h.uri:null,loadingIndicatorSrc:b?b.uri:null,ref:n});return p.createElement(y.Consumer,null,function(t){return t?p.createElement(I,q):p.createElement(l,q)})};(P=p.forwardRef(P)).displayName='Image',P.getSize=function(t,n,o){return S.getSize(t).then(function(t){n(t.width,t.height)}).catch(o||function(){console.warn('Failed to get size for image: '+t)})},P.getSizeWithHeaders=function(t,n,o,c){return S.getSizeWithHeaders(t,n).then(function(t){o(t.width,t.height)}).catch(c||function(){console.warn('Failed to get size for image: '+t)})},P.prefetch=function(t,n){var o=j++;return n&&n(o),S.prefetchImage(t,o)},P.abortPrefetch=function(t){S.abortRequest(t)},P.queryCache=function(n){return t.async(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,t.awrap(S.queryCache(n));case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}})},P.resolveAssetSource=v,P.propTypes=E;var z=b.create({base:{overflow:'hidden'}});m.exports=P},271,[2,51,64,197,272,274,25,68,12,84,59,199,81,190,173,275]);
__d(function(g,r,i,a,m,e,d){'use strict';var o=r(d[0]);function t(o,t){var n=Object.keys(o);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(o);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable})),n.push.apply(n,s)}return n}var n=r(d[1]),s=r(d[2]),c=r(d[3]),l=r(d[4]),b=r(d[5]),p=r(d[6]),u=p.DeprecatedAccessibilityRoles,f=p.DeprecatedAccessibilityStates,y=s(c);m.exports=(function(n){for(var s=1;s<arguments.length;s++){var c=null!=arguments[s]?arguments[s]:{};s%2?t(Object(c),!0).forEach(function(t){o(n,t,c[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(c)):t(Object(c)).forEach(function(o){Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(c,o))})}return n})({accessible:b.bool,accessibilityLabel:b.node,accessibilityHint:b.string,accessibilityActions:b.arrayOf(b.string),accessibilityIgnoresInvertColors:b.bool,accessibilityRole:b.oneOf(u),accessibilityStates:b.arrayOf(b.oneOf(f)),accessibilityState:b.object,accessibilityLiveRegion:b.oneOf(['none','polite','assertive']),importantForAccessibility:b.oneOf(['auto','yes','no','no-hide-descendants']),accessibilityViewIsModal:b.bool,accessibilityElementsHidden:b.bool,onAccessibilityAction:b.func,onAccessibilityTap:b.func,onMagicTap:b.func,testID:b.string,nativeID:b.string,onResponderGrant:b.func,onResponderMove:b.func,onResponderReject:b.func,onResponderRelease:b.func,onResponderTerminate:b.func,onResponderTerminationRequest:b.func,onStartShouldSetResponder:b.func,onStartShouldSetResponderCapture:b.func,onMoveShouldSetResponder:b.func,onMoveShouldSetResponderCapture:b.func,hitSlop:n,onLayout:b.func,pointerEvents:b.oneOf(['box-none','none','box-only','auto']),style:y,removeClippedSubviews:b.bool,renderToHardwareTextureAndroid:b.bool,shouldRasterizeIOS:b.bool,collapsable:b.bool,needsOffscreenAlphaCompositing:b.bool},l)},272,[51,196,197,75,273,68,216]);
__d(function(g,r,i,a,m,e,d){'use strict'},273,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])('RCTImageView');m.exports=t},274,[178]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])('RCTTextInlineImage');m.exports=t},275,[178]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),o=r(d[1]);m.exports=o(t,{scrollEventThrottle:1e-4})},276,[257,248]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),o=r(d[1]);m.exports=o(t,{scrollEventThrottle:1e-4})},277,[278,248]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=r(d[2]),s=r(d[3]),c=r(d[4]),p=r(d[5]),f=r(d[6]);function l(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);n&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,s)}return o}r(d[7]);var u=r(d[8]),h=(r(d[9]),r(d[10])),v=(function(t){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?l(Object(o),!0).forEach(function(n){f(t,n,o[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):l(Object(o)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(o,n))})}return t})({},h.defaultProps,{stickySectionHeadersEnabled:!1}),R=(function(f){function l(){var t,o;n(this,l);for(var p=arguments.length,f=new Array(p),u=0;u<p;u++)f[u]=arguments[u];return(o=s(this,(t=c(l)).call.apply(t,[this].concat(f))))._captureRef=function(t){o._wrapperListRef=t},o}return p(l,f),o(l,[{key:"scrollToLocation",value:function(t){null!=this._wrapperListRef&&this._wrapperListRef.scrollToLocation(t)}},{key:"recordInteraction",value:function(){var t=this._wrapperListRef&&this._wrapperListRef.getListRef();t&&t.recordInteraction()}},{key:"flashScrollIndicators",value:function(){var t=this._wrapperListRef&&this._wrapperListRef.getListRef();t&&t.flashScrollIndicators()}},{key:"getScrollResponder",value:function(){var t=this._wrapperListRef&&this._wrapperListRef.getListRef();if(t)return t.getScrollResponder()}},{key:"getScrollableNode",value:function(){var t=this._wrapperListRef&&this._wrapperListRef.getListRef();if(t)return t.getScrollableNode()}},{key:"setNativeProps",value:function(t){var n=this._wrapperListRef&&this._wrapperListRef.getListRef();n&&n.setNativeProps(t)}},{key:"render",value:function(){return u.createElement(h,t({},this.props,{ref:this._captureRef,getItemCount:function(t){return t.length},getItem:function(t,n){return t[n]}}))}}]),l})(u.PureComponent);R.defaultProps=v,m.exports=R},278,[15,4,5,6,9,10,51,53,12,257,279]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=r(d[2]),s=r(d[3]),c=r(d[4]),p=r(d[5]),l=r(d[6]),u=r(d[7]);function f(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);n&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,s)}return o}function h(t){for(var o=1;o<arguments.length;o++){var s=null!=arguments[o]?arguments[o]:{};o%2?f(Object(s),!0).forEach(function(o){n(t,o,s[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):f(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}var S=r(d[8]),v=r(d[9]),I=r(d[10]),y=r(d[11]),_=(function(n){function f(t,n){var l;return o(this,f),(l=s(this,c(f).call(this,t,n)))._keyExtractor=function(t,n){var o=l._subExtractor(n);return o&&o.key||String(n)},l._convertViewable=function(t){y(null!=t.index,'Received a broken ViewToken');var n=l._subExtractor(t.index);if(!n)return null;var o=n.section.keyExtractor||l.props.keyExtractor;return h({},t,{index:n.index,key:o(t.item,n.index),section:n.section})},l._onViewableItemsChanged=function(t){var n=t.viewableItems,o=t.changed;l.props.onViewableItemsChanged&&l.props.onViewableItemsChanged({viewableItems:n.map(l._convertViewable,p(l)).filter(Boolean),changed:o.map(l._convertViewable,p(l)).filter(Boolean)})},l._renderItem=function(t){var n=t.item,o=t.index,s=l._subExtractor(o);if(!s)return null;var c=s.index;if(null==c){var p=s.section;if(!0===s.header){var u=l.props.renderSectionHeader;return u?u({section:p}):null}var f=l.props.renderSectionFooter;return f?f({section:p}):null}var h=s.section.renderItem||l.props.renderItem,v=l._getSeparatorComponent(o,s);return y(h,'no renderItem!'),S.createElement(x,{SeparatorComponent:v,LeadingSeparatorComponent:0===c?l.props.SectionSeparatorComponent:void 0,cellKey:s.key,index:c,item:n,leadingItem:s.leadingItem,leadingSection:s.leadingSection,onUpdateSeparator:l._onUpdateSeparator,prevCellKey:(l._subExtractor(o-1)||{}).key,ref:function(t){l._cellRefs[s.key]=t},renderItem:h,section:s.section,trailingItem:s.trailingItem,trailingSection:s.trailingSection})},l._onUpdateSeparator=function(t,n){var o=l._cellRefs[t];o&&o.updateSeparatorProps(n)},l._cellRefs={},l._captureRef=function(t){l._listRef=t},l.state=l._computeState(t),l}return u(f,n),l(f,[{key:"scrollToLocation",value:function(t){for(var n=t.itemIndex,o=0;o<t.sectionIndex;o++)n+=this.props.getItemCount(this.props.sections[o].data)+2;var s=t.viewOffset||0;t.itemIndex>0&&this.props.stickySectionHeadersEnabled&&(s+=this._listRef._getFrameMetricsApprox(n-t.itemIndex).length);var c=h({},t,{viewOffset:s,index:n});this._listRef.scrollToIndex(c)}},{key:"getListRef",value:function(){return this._listRef}}]),l(f,[{key:"UNSAFE_componentWillReceiveProps",value:function(t){this.setState(this._computeState(t))}},{key:"_computeState",value:function(t){var n=t.ListHeaderComponent?1:0,o=[],s=t.sections?t.sections.reduce(function(s,c){return o.push(s+n),s+t.getItemCount(c.data)+2},0):0;return{childProps:h({},t,{renderItem:this._renderItem,ItemSeparatorComponent:void 0,data:t.sections,getItemCount:function(){return s},getItem:function(n,o){return b(t,n,o)},keyExtractor:this._keyExtractor,onViewableItemsChanged:t.onViewableItemsChanged?this._onViewableItemsChanged:void 0,stickyHeaderIndices:t.stickySectionHeadersEnabled?o:void 0})}}},{key:"render",value:function(){return S.createElement(I,t({},this.state.childProps,{ref:this._captureRef}))}},{key:"_subExtractor",value:function(t){for(var n=t,o=this.props,s=o.getItem,c=o.getItemCount,p=o.keyExtractor,l=o.sections,u=0;u<l.length;u++){var f=l[u],h=f.data,S=f.key||String(u);if((n-=1)>=c(h)+1)n-=c(h)+1;else return-1===n?{section:f,key:S+':header',index:null,header:!0,trailingSection:l[u+1]}:n===c(h)?{section:f,key:S+':footer',index:null,header:!1,trailingSection:l[u+1]}:{section:f,key:S+':'+(f.keyExtractor||p)(s(h,n),n),index:n,leadingItem:s(h,n-1),leadingSection:l[u-1],trailingItem:s(h,n+1),trailingSection:l[u+1]}}}},{key:"_getSeparatorComponent",value:function(t,n){if(!(n=n||this._subExtractor(t)))return null;var o=n.section.ItemSeparatorComponent||this.props.ItemSeparatorComponent,s=this.props.SectionSeparatorComponent,c=t===this.state.childProps.getItemCount()-1,p=n.index===this.props.getItemCount(n.section.data)-1;return s&&p?s:!o||p||c?null:o}}]),f})(S.PureComponent);_.defaultProps=h({},I.defaultProps,{data:[]});var x=(function(t){function n(){var t,p;o(this,n);for(var l=arguments.length,u=new Array(l),f=0;f<l;f++)u[f]=arguments[f];return(p=s(this,(t=c(n)).call.apply(t,[this].concat(u)))).state={separatorProps:{highlighted:!1,leadingItem:p.props.item,leadingSection:p.props.leadingSection,section:p.props.section,trailingItem:p.props.trailingItem,trailingSection:p.props.trailingSection},leadingSeparatorProps:{highlighted:!1,leadingItem:p.props.leadingItem,leadingSection:p.props.leadingSection,section:p.props.section,trailingItem:p.props.item,trailingSection:p.props.trailingSection}},p._separators={highlight:function(){['leading','trailing'].forEach(function(t){return p._separators.updateProps(t,{highlighted:!0})})},unhighlight:function(){['leading','trailing'].forEach(function(t){return p._separators.updateProps(t,{highlighted:!1})})},updateProps:function(t,n){var o=p.props,s=o.LeadingSeparatorComponent,c=o.cellKey,l=o.prevCellKey;'leading'===t&&null!=s?p.setState(function(t){return{leadingSeparatorProps:h({},t.leadingSeparatorProps,{},n)}}):p.props.onUpdateSeparator('leading'===t&&l||c,n)}},p}return u(n,t),l(n,[{key:"updateSeparatorProps",value:function(t){this.setState(function(n){return{separatorProps:h({},n.separatorProps,{},t)}})}},{key:"render",value:function(){var t=this.props,n=t.LeadingSeparatorComponent,o=t.SeparatorComponent,s=t.item,c=t.index,p=t.section,l=this.props.renderItem({item:s,index:c,section:p,separators:this._separators}),u=n&&S.createElement(n,this.state.leadingSeparatorProps),f=o&&S.createElement(o,this.state.separatorProps);return u||f?S.createElement(v,null,u,l,f):l}}],[{key:"getDerivedStateFromProps",value:function(t,n){return{separatorProps:h({},n.separatorProps,{leadingItem:t.item,leadingSection:t.leadingSection,section:t.section,trailingItem:t.trailingItem,trailingSection:t.trailingSection}),leadingSeparatorProps:h({},n.leadingSeparatorProps,{leadingItem:t.leadingItem,leadingSection:t.leadingSection,section:t.section,trailingItem:t.item,trailingSection:t.trailingSection})}}}]),n})(S.Component);function b(t,n,o){if(!n)return null;for(var s=o-1,c=0;c<n.length;c++){var p=n[c],l=p.data,u=t.getItemCount(l);if(-1===s||s===u)return p;if(s<u)return t.getItem(l,s);s-=u+2}return null}m.exports=_},279,[15,51,4,6,9,8,5,10,12,82,251,17]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),s=r(d[1]);m.exports=s(t)},280,[194,248]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),s=r(d[1]);m.exports=s(t)},281,[82,248]);
__d(function(g,r,i,a,m,e,d){'use strict';var _=r(d[0]).__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.NativeMethodsMixin;m.exports=_},282,[84]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=r(d[2]),s=r(d[3]),u=r(d[4]),l=r(d[5]),c=r(d[6]),f=r(d[7]);function p(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);n&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,s)}return o}function h(t){for(var o=1;o<arguments.length;o++){var s=null!=arguments[o]?arguments[o]:{};o%2?p(Object(s),!0).forEach(function(o){n(t,o,s[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):p(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}var v=r(d[8]),b=r(d[9]),y=r(d[10]),O=r(d[11]),C=r(d[12]),R=r(d[13]),w=(function(n){function p(){var t,n;s(this,p);for(var o=arguments.length,u=new Array(o),f=0;f<o;f++)u[f]=arguments[f];return(n=l(this,(t=c(p)).call.apply(t,[this].concat(u))))._nativeRef=null,n._setNativeRef=R({getForwardedRef:function(){return n.props.forwardedRef},setLocalRef:function(t){n._nativeRef=t}}),n._onChange=function(t){var o,s=null!=(o=n.props.value)&&o;C(n._nativeRef).setNativeProps({value:s}),n.props.onChange&&n.props.onChange(t),n.props.onValueChange&&n.props.onValueChange(t.nativeEvent.value)},n}return f(p,n),u(p,[{key:"getTintColors",value:function(t){return t?{true:y(t.true),false:y(t.false)}:void 0}},{key:"render",value:function(){var n,s,u=this.props,l=(u.disabled,u.value,u.tintColors),c=u.style,f=(u.forwardedRef,h({},o(u,["disabled","value","tintColors","style","forwardedRef"]),{onStartShouldSetResponder:function(){return!0},onResponderTerminationRequest:function(){return!1},enabled:!(null!=(n=this.props.disabled)&&n),on:null!=(s=this.props.value)&&s,tintColors:this.getTintColors(l),style:[j.rctCheckBox,c]}));return v.createElement(O,t({},f,{ref:this._setNativeRef,onChange:this._onChange}))}}]),p})(v.Component),j=b.create({rctCheckBox:{height:32,width:32}}),P=v.forwardRef(function(n,o){return v.createElement(w,t({},n,{forwardedRef:o}))});m.exports=P},283,[15,51,57,4,5,6,9,10,12,59,76,284,208,285]);
__d(function(g,r,i,a,m,e,d){'use strict';var o=r(d[0]);m.exports=o('AndroidCheckBox')},284,[178]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(t){var n=t.getForwardedRef,o=t.setLocalRef;return function(t){var c=n();o(t),'function'==typeof c?c(t):'object'==typeof c&&null!=c&&(c.current=t)}}},285,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=r(d[2]),c=r(d[3]),s=r(d[4]),u=r(d[5]),l=r(d[6]),h=r(d[7]),p=r(d[8]),f=(function(l){function f(){return t(this,f),o(this,c(f).apply(this,arguments))}return s(f,l),n(f,[{key:"render",value:function(){return u.createElement(p,{style:[y.dummyDatePickerIOS,this.props.style]},u.createElement(h,{style:y.datePickerText},"DatePickerIOS is not supported on this platform!"))}}]),f})(u.Component),y=l.create({dummyDatePickerIOS:{height:100,width:300,backgroundColor:'#ffbcbc',borderWidth:1,borderColor:'red',alignItems:'center',justifyContent:'center',margin:10},datePickerText:{color:'#333333',margin:20}});m.exports=f},286,[4,5,6,9,10,12,59,194,82]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),o=r(d[1]),n=o(r(d[2])),s=o(r(d[3])),u=o(r(d[4])),l=o(r(d[5])),p=o(r(d[6])),c=o(r(d[7])),w=o(r(d[8])),h=t(r(d[9])),f=r(d[10]),v=r(d[11]),D=r(d[12]),C=r(d[13]),k=r(d[14]),y=r(d[15]),b=r(d[16]),S=['Idle','Dragging','Settling'],_=(function(t){function o(){var t,n;(0,u.default)(this,o);for(var s=arguments.length,l=new Array(s),w=0;w<s;w++)l[w]=arguments[w];return(n=(0,p.default)(this,(t=(0,c.default)(o)).call.apply(t,[this].concat(l))))._nativeRef=v.createRef(),n.state={statusBarBackgroundColor:null},n._onDrawerSlide=function(t){n.props.onDrawerSlide&&n.props.onDrawerSlide(t),'on-drag'===n.props.keyboardDismissMode&&b()},n._onDrawerOpen=function(){n.props.onDrawerOpen&&n.props.onDrawerOpen()},n._onDrawerClose=function(){n.props.onDrawerClose&&n.props.onDrawerClose()},n._onDrawerStateChanged=function(t){n.props.onDrawerStateChanged&&n.props.onDrawerStateChanged(S[t.nativeEvent.drawerState])},n}return(0,w.default)(o,t),(0,l.default)(o,[{key:"render",value:function(){var t=this.props,o=(t.onDrawerStateChanged,t.renderNavigationView),u=(t.onDrawerOpen,t.onDrawerClose,(0,s.default)(t,["onDrawerStateChanged","renderNavigationView","onDrawerOpen","onDrawerClose"])),l=f.Version>=21&&this.props.statusBarBackgroundColor,p=v.createElement(k,{style:[B.drawerSubview,{width:this.props.drawerWidth,backgroundColor:this.props.drawerBackgroundColor}],collapsable:!1},o(),l&&v.createElement(k,{style:B.drawerStatusBar})),c=v.createElement(k,{style:B.mainSubview,collapsable:!1},l&&v.createElement(D,{translucent:!0,backgroundColor:this.props.statusBarBackgroundColor}),l&&v.createElement(k,{style:[B.statusBar,{backgroundColor:this.props.statusBarBackgroundColor}]}),this.props.children);return v.createElement(h.default,(0,n.default)({},u,{ref:this._nativeRef,drawerWidth:this.props.drawerWidth,drawerPosition:this.props.drawerPosition,drawerLockMode:this.props.drawerLockMode,style:[B.base,this.props.style],onDrawerSlide:this._onDrawerSlide,onDrawerOpen:this._onDrawerOpen,onDrawerClose:this._onDrawerClose,onDrawerStateChanged:this._onDrawerStateChanged}),c,p)}},{key:"openDrawer",value:function(){h.Commands.openDrawer(y(this._nativeRef.current))}},{key:"closeDrawer",value:function(){h.Commands.closeDrawer(y(this._nativeRef.current))}},{key:"blur",value:function(){y(this._nativeRef.current).blur()}},{key:"focus",value:function(){y(this._nativeRef.current).focus()}},{key:"measure",value:function(t){y(this._nativeRef.current).measure(t)}},{key:"measureInWindow",value:function(t){y(this._nativeRef.current).measureInWindow(t)}},{key:"measureLayout",value:function(t,o,n){y(this._nativeRef.current).measureLayout(t,o,n)}},{key:"setNativeProps",value:function(t){y(this._nativeRef.current).setNativeProps(t)}}],[{key:"positions",get:function(){return console.warn('Setting DrawerLayoutAndroid drawerPosition using `DrawerLayoutAndroid.positions` is deprecated. Instead pass the string value "left" or "right"'),{Left:'left',Right:'right'}}}]),o})(v.Component);_.defaultProps={drawerBackgroundColor:'white'};var B=C.create({base:{flex:1,elevation:16},mainSubview:{position:'absolute',top:0,left:0,right:0,bottom:0},drawerSubview:{position:'absolute',top:0,bottom:0},statusBar:{height:D.currentHeight},drawerStatusBar:{position:'absolute',top:0,left:0,right:0,height:D.currentHeight,backgroundColor:'rgba(0, 0, 0, 0.251)'}});m.exports=_},287,[23,1,15,57,4,5,6,9,10,288,53,12,290,59,82,208,264]);
__d(function(g,r,i,a,m,e,d){'use strict';var o=r(d[0]),t=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Commands=void 0;var u=t(r(d[2])),n=t(r(d[3])),s=(o(r(d[4])),(0,u.default)({supportedCommands:['openDrawer','closeDrawer']}));e.Commands=s;var l=(0,n.default)('AndroidDrawerLayout');e.default=l},288,[23,1,289,182,12]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(d[0]);var t=function(t){var o={};return t.supportedCommands.forEach(function(t){o[t]=function(o){for(var u=arguments.length,f=new Array(u>1?u-1:0),c=1;c<u;c++)f[c-1]=arguments[c];(0,n.dispatchCommand)(o,t,f)}}),o};e.default=t},289,[84]);
__d(function(g,r,i,a,m,e,d){'use strict';var t,n=r(d[0]),l=n(r(d[1])),u=n(r(d[2])),o=n(r(d[3])),s=n(r(d[4])),c=n(r(d[5])),p=n(r(d[6])),k=n(r(d[7])),f=(r(d[8]),r(d[9])),v=r(d[10]);function y(t){return{backgroundColor:null!=t.backgroundColor?{value:t.backgroundColor,animated:t.animated}:null,barStyle:null!=t.barStyle?{value:t.barStyle,animated:t.animated}:null,translucent:t.translucent,hidden:null!=t.hidden?{value:t.hidden,animated:t.animated,transition:t.showHideTransition}:null,networkActivityIndicatorVisible:t.networkActivityIndicatorVisible}}var _=(function(t){function n(){var t,u;(0,l.default)(this,n);for(var c=arguments.length,p=new Array(c),k=0;k<c;k++)p[k]=arguments[k];return(u=(0,o.default)(this,(t=(0,s.default)(n)).call.apply(t,[this].concat(p))))._stackEntry=null,u}return(0,c.default)(n,t),(0,u.default)(n,[{key:"componentDidMount",value:function(){this._stackEntry=n.pushStackEntry(this.props)}},{key:"componentWillUnmount",value:function(){n.popStackEntry(this._stackEntry)}},{key:"componentDidUpdate",value:function(){this._stackEntry=n.replaceStackEntry(this._stackEntry,this.props)}},{key:"render",value:function(){return null}}],[{key:"setHidden",value:function(t,l){l=l||'none',n._defaultProps.hidden.value=t,k.default.setHidden(t)}},{key:"setBarStyle",value:function(t,l){l=l||!1,n._defaultProps.barStyle.value=t,k.default.setStyle(t)}},{key:"setNetworkActivityIndicatorVisible",value:function(t){console.warn('`setNetworkActivityIndicatorVisible` is only available on iOS')}},{key:"setBackgroundColor",value:function(t,l){l=l||!1,n._defaultProps.backgroundColor.value=t;var u=v(t);null!=u?k.default.setColor(u,l):console.warn("`StatusBar.setBackgroundColor`: Color "+t+" parsed to null or undefined")}},{key:"setTranslucent",value:function(t){n._defaultProps.translucent=t,k.default.setTranslucent(t)}},{key:"pushStackEntry",value:function(t){var l=y(t);return n._propsStack.push(l),n._updatePropsStack(),l}},{key:"popStackEntry",value:function(t){var l=n._propsStack.indexOf(t);-1!==l&&n._propsStack.splice(l,1),n._updatePropsStack()}},{key:"replaceStackEntry",value:function(t,l){var u=y(l),o=n._propsStack.indexOf(t);return-1!==o&&(n._propsStack[o]=u),n._updatePropsStack(),u}}]),n})(f.Component);_._propsStack=[],_._defaultProps=y({animated:!1,showHideTransition:'fade',backgroundColor:null!=(t=k.default.getConstants().DEFAULT_BACKGROUND_COLOR)?t:'black',barStyle:'default',translucent:!1,hidden:!1,networkActivityIndicatorVisible:!1}),_._updateImmediate=null,_._currentValues=null,_.currentHeight=k.default.getConstants().HEIGHT,_.defaultProps={animated:!1,showHideTransition:'fade'},_._updatePropsStack=function(){clearImmediate(_._updateImmediate),_._updateImmediate=setImmediate(function(){var t,n,l=_._currentValues,u=(t=_._propsStack,n=_._defaultProps,t.reduce(function(t,n){for(var l in n)null!=n[l]&&(t[l]=n[l]);return t},(0,p.default)({},n)));if(l&&l.barStyle.value===u.barStyle.value||k.default.setStyle(u.barStyle.value),!l||l.backgroundColor.value!==u.backgroundColor.value){var o=v(u.backgroundColor.value);null==o?console.warn("`StatusBar._updatePropsStack`: Color "+u.backgroundColor.value+" parsed to null or undefined"):k.default.setColor(o,u.backgroundColor.animated)}l&&l.hidden.value===u.hidden.value||k.default.setHidden(u.hidden.value),l&&l.translucent===u.translucent||k.default.setTranslucent(u.translucent),_._currentValues=u})},m.exports=_},290,[1,4,5,6,9,10,15,291,53,12,76]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])).getEnforcing('StatusBarManager');e.default=u},291,[23,24]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),l=r(d[2]),s=r(d[3]),c=r(d[4]),o=r(d[5]),f=r(d[6]),u=r(d[7]),h=r(d[8]),v=r(d[9]),y=r(d[10]),p=(function(p){function R(){var t,n;l(this,R);for(var s=arguments.length,f=new Array(s),u=0;u<s;u++)f[u]=arguments[u];return(n=c(this,(t=o(R)).call.apply(t,[this].concat(f))))._viewRef=null,n._captureRef=function(t){n._viewRef=t},n}return f(R,p),s(R,[{key:"setNativeProps",value:function(t){var n=this._viewRef;n&&n.setNativeProps(t)}},{key:"render",value:function(){var l=this.props,s=l.children,c=l.style,o=l.imageStyle,f=l.imageRef,p=n(l,["children","style","imageStyle","imageRef"]);return h.createElement(y,{accessibilityIgnoresInvertColors:!0,style:c,ref:this._captureRef},h.createElement(u,t({},p,{style:[v.absoluteFill,{width:c.width,height:c.height},o],ref:f})),s)}}]),R})(h.Component);m.exports=p},292,[15,57,4,5,6,9,10,271,12,59,82]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=t(r(d[1])),o=t(r(d[2])),s=t(r(d[3])),u=t(r(d[4])),l=t(r(d[5])),p=t(r(d[6])),c=(r(d[7]),r(d[8]),r(d[9])),h=r(d[10]),f=(function(t){function h(){return(0,n.default)(this,h),(0,s.default)(this,(0,u.default)(h).apply(this,arguments))}return(0,l.default)(h,t),(0,o.default)(h,[{key:"render",value:function(){return console.warn('<InputAccessoryView> is only supported on iOS.'),0===c.Children.count(this.props.children)?null:c.createElement(p.default,{style:[this.props.style,y.container],nativeID:this.props.nativeID,backgroundColor:this.props.backgroundColor},this.props.children)}}]),h})(c.Component),y=h.create({container:{position:'absolute'}});m.exports=f},293,[1,4,5,6,9,10,294,65,53,12,59]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=(0,t(r(d[1])).default)('RCTInputAccessoryView');e.default=u},294,[1,182]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),o=r(d[1]),n=r(d[2]),s=r(d[3]),l=r(d[4]),u=r(d[5]),h=r(d[6]),c=r(d[7]),f=r(d[8]),y=(r(d[9]),r(d[10])),b=r(d[11]),_=r(d[12]),v=(function(v){function p(t){var o;return n(this,p),(o=l(this,u(p).call(this,t)))._frame=null,o._subscriptions=[],o._initialFrameHeight=0,o._onKeyboardChange=function(t){if(null!=t){var n=t.duration,s=t.easing,l=t.endCoordinates,u=o._relativeKeyboardHeight(l);o.state.bottom!==u&&(n&&s&&f.configureNext({duration:n>10?n:10,update:{duration:n>10?n:10,type:f.Types[s]||'keyboard'}}),o.setState({bottom:u}))}else o.setState({bottom:0})},o._onLayout=function(t){o._frame=t.nativeEvent.layout,o._initialFrameHeight||(o._initialFrameHeight=o._frame.height)},o.state={bottom:0},o.viewRef=y.createRef(),o}return h(p,v),s(p,[{key:"_relativeKeyboardHeight",value:function(t){var o=this._frame;if(!o||!t)return 0;var n=t.screenY-this.props.keyboardVerticalOffset;return Math.max(o.y+o.height-n,0)}},{key:"componentDidMount",value:function(){this._subscriptions=[c.addListener('keyboardDidHide',this._onKeyboardChange),c.addListener('keyboardDidShow',this._onKeyboardChange)]}},{key:"componentWillUnmount",value:function(){this._subscriptions.forEach(function(t){t.remove()})}},{key:"render",value:function(){var n=this.props,s=n.behavior,l=n.children,u=n.contentContainerStyle,h=n.enabled,c=(n.keyboardVerticalOffset,n.style),f=o(n,["behavior","children","contentContainerStyle","enabled","keyboardVerticalOffset","style"]),v=h?this.state.bottom:0;switch(s){case'height':var p;return null!=this._frame&&this.state.bottom>0&&(p={height:this._initialFrameHeight-v,flex:0}),y.createElement(_,t({ref:this.viewRef,style:b.compose(c,p),onLayout:this._onLayout},f),l);case'position':return y.createElement(_,t({ref:this.viewRef,style:c,onLayout:this._onLayout},f),y.createElement(_,{style:b.compose(u,{bottom:v})},l));case'padding':return y.createElement(_,t({ref:this.viewRef,style:b.compose(c,{paddingBottom:v}),onLayout:this._onLayout},f),l);default:return y.createElement(_,t({ref:this.viewRef,onLayout:this._onLayout,style:c},f),l)}}}]),p})(y.Component);v.defaultProps={enabled:!0,keyboardVerticalOffset:0},m.exports=v},295,[15,57,4,5,6,9,10,261,263,53,12,59,82]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])},296,[297]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),s=r(d[2]),u=r(d[3]),p=r(d[4]),o=r(d[5]),c=r(d[6]),l=(function(c){function l(){return t(this,l),s(this,u(l).apply(this,arguments))}return p(l,c),n(l,[{key:"render",value:function(){var t=r(d[7]);return o.createElement(t,{style:[h.unimplementedView,this.props.style]},this.props.children)}}]),l})(o.Component),h=c.create({unimplementedView:{}});m.exports=l},297,[4,5,6,9,10,12,59,82]);
__d(function(g,r,i,a,m,e,d){'use strict';var t,n=r(d[0]),o=n(r(d[1])),s=n(r(d[2])),l=n(r(d[3])),p=n(r(d[4])),u=n(r(d[5])),c=n(r(d[6])),h=(n(r(d[7])),n(r(d[8]))),f=(r(d[9]),r(d[10])),v=(r(d[11]),r(d[12]),r(d[13])),y=r(d[14]),S=r(d[15]),_=r(d[16]),C=r(d[17]),b=0,k=(function(t){function n(t){var o;return(0,s.default)(this,n),o=(0,p.default)(this,(0,u.default)(n).call(this,t)),n._confirmProps(t),o._identifier=b++,o}return(0,c.default)(n,t),(0,l.default)(n,[{key:"getChildContext",value:function(){return{virtualizedList:null}}},{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){this._eventSubscription&&this._eventSubscription.remove()}},{key:"UNSAFE_componentWillReceiveProps",value:function(t){n._confirmProps(t)}},{key:"render",value:function(){if(!0!==this.props.visible)return null;var t={backgroundColor:this.props.transparent?'transparent':'white'},n=this.props.animationType;n||(n='none',this.props.animated&&(n='slide'));var o=this.props.presentationStyle;o||(o='fullScreen',this.props.transparent&&(o='overFullScreen'));var s=this.props.children;return v.createElement(h.default,{animationType:n,presentationStyle:o,transparent:this.props.transparent,hardwareAccelerated:this.props.hardwareAccelerated,onRequestClose:this.props.onRequestClose,onShow:this.props.onShow,identifier:this._identifier,style:R.modal,onStartShouldSetResponder:this._shouldSetResponder,supportedOrientations:this.props.supportedOrientations,onOrientationChange:this.props.onOrientationChange},v.createElement(S.Context.Provider,{value:null},v.createElement(C,{style:[R.container,t]},s)))}},{key:"_shouldSetResponder",value:function(){return!0}}],[{key:"_confirmProps",value:function(t){t.presentationStyle&&'overFullScreen'!==t.presentationStyle&&t.transparent&&console.warn("Modal with '"+t.presentationStyle+"' presentation style and 'transparent' value is not supported.")}}]),n})(v.Component);k.defaultProps={visible:!0,hardwareAccelerated:!1},k.contextTypes={rootTag:y.number},k.childContextTypes={virtualizedList:y.object};var w=f.getConstants().isRTL?'right':'left',R=_.create({modal:{position:'absolute'},container:(t={},(0,o.default)(t,w,0),(0,o.default)(t,"top",0),(0,o.default)(t,"flex",1),t)});m.exports=k},298,[1,51,4,5,6,9,10,299,300,301,303,121,53,12,68,257,59,82]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])).get('ModalManager');e.default=u},299,[23,24]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=(0,t(r(d[1])).default)('ModalHostView',{interfaceOnly:!0,paperComponentName:'RCTModalHostView'});e.default=o},300,[1,182]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=r(d[2]),s=r(d[3]),l=r(d[4]),p=(r(d[5]),r(d[6])),u=(r(d[7]),r(d[8])),c=(r(d[9]),r(d[10])),h=r(d[11]),v=r(d[12]),f=(function(p){function h(){var n,l;t(this,h);for(var p=arguments.length,u=new Array(p),c=0;c<p;c++)u[c]=arguments[c];return(l=o(this,(n=s(h)).call.apply(n,[this].concat(u)))).state={inspector:null,mainKey:1},l._subscription=null,l}return l(h,p),n(h,[{key:"getChildContext",value:function(){return{rootTag:this.props.rootTag}}},{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){null!=this._subscription&&this._subscription.remove()}},{key:"render",value:function(){var t=this,n=u.createElement(v,{collapsable:!this.state.inspector,key:this.state.mainKey,pointerEvents:"box-none",style:y.appContainer,ref:function(n){t._mainRef=n}},this.props.children),o=this.props.WrapperComponent;return null!=o&&(n=u.createElement(o,null,n)),u.createElement(c.Provider,{value:this.props.rootTag},u.createElement(v,{style:y.appContainer,pointerEvents:"box-none"},n,null,this.state.inspector))}}]),h})(u.Component);f.childContextTypes={rootTag:p.number};var y=h.create({appContainer:{flex:1}});m.exports=f},301,[4,5,6,9,10,45,68,41,12,84,302,59,82]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);m.exports=t.createContext(0)},302,[12]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])(r(d[1])),n=t.default?t.default.getConstants():{isRTL:!1,doLeftAndRightSwapInRTL:!0};m.exports={getConstants:function(){return n},allowRTL:function(n){t.default&&t.default.allowRTL(n)},forceRTL:function(n){t.default&&t.default.forceRTL(n)},swapLeftAndRightInRTL:function(n){t.default&&t.default.swapLeftAndRightInRTL(n)},isRTL:n.isRTL,doLeftAndRightSwapInRTL:n.doLeftAndRightSwapInRTL}},303,[1,304]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])).get('I18nManager');e.default=u},304,[23,24]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=r(d[2]),u=r(d[3]),s=r(d[4]),p=r(d[5]),l=(r(d[6]),r(d[7]),r(d[8])),c=(r(d[9]),(function(p){function l(){return t(this,l),o(this,u(l).apply(this,arguments))}return s(l,p),n(l,[{key:"render",value:function(){throw null}}]),l})(l.Component)),h=(function(c){function h(){return t(this,h),o(this,u(h).apply(this,arguments))}return s(h,c),n(h,[{key:"render",value:function(){return l.createElement(p,this.props,this.props.children)}}]),h})(l.Component);h.MODE_DIALOG="dialog",h.MODE_DROPDOWN='dropdown',h.Item=c,h.defaultProps={mode:"dialog"},m.exports=h},305,[4,5,6,9,10,306,309,53,12,297]);
__d(function(g,r,i,a,m,e,d){'use strict';var l=r(d[0]),t=r(d[1]),n=t(r(d[2])),u=t(r(d[3])),c=t(r(d[4])),o=l(r(d[5])),s=t(r(d[6])),f=t(r(d[7]));var p=s.default.create({pickerAndroid:{height:50}});m.exports=function(l){var t=o.useRef(null),v=o.useMemo(function(){var t=0;return[o.Children.map(l.children,function(n,u){if(null===n)return null;n.props.value===l.selectedValue&&(t=u);var c=n.props,o=c.color,s=c.label;return{color:null==o?null:(0,f.default)(o),label:s}}),t]},[l.children,l.selectedValue]),h=(0,n.default)(v,2),b=h[0],V=h[1],y=o.useCallback(function(n){var u=n.nativeEvent.position,c=l.onValueChange;if(null!=c)if(u>=0){var s=o.Children.toArray(l.children).filter(function(l){return null!=l})[u].props.value;l.selectedValue!==s&&c(s,u)}else c(null,u);var f=t.current;null!=f&&u!==V&&f.setNativeProps({selected:V})},[l.children,l.onValueChange,l.selectedValue,V]),C={accessibilityLabel:l.accessibilityLabel,enabled:l.enabled,items:b,onSelect:y,prompt:l.prompt,ref:t,selected:V,style:s.default.compose(p.pickerAndroid,l.style),testID:l.testID};return'dropdown'===l.mode?o.createElement(u.default,C):o.createElement(c.default,C)}},306,[23,1,26,307,308,12,59,76]);
__d(function(g,r,i,a,m,e,d){'use strict';var o=r(d[0]);m.exports=(0,o.requireNativeComponent)('AndroidDropdownPicker')},307,[16]);
__d(function(g,r,i,a,m,e,d){'use strict';var o=r(d[0]);m.exports=(0,o.requireNativeComponent)('AndroidDialogPicker')},308,[16]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])},309,[297]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=r(d[2]),s=r(d[3]),c=r(d[4]),u=r(d[5]),l=r(d[6]),f=r(d[7]),h=r(d[8]),p=(function(l){function p(){return t(this,p),o(this,s(p).apply(this,arguments))}return c(p,l),n(p,[{key:"render",value:function(){return u.createElement(h,{style:[y.dummy,this.props.style]},u.createElement(f,{style:y.text},"ProgressViewIOS is not supported on this platform!"))}}]),p})(u.Component),y=l.create({dummy:{width:120,height:20,backgroundColor:'#ffbcbc',borderWidth:1,borderColor:'red',alignItems:'center',justifyContent:'center'},text:{color:'#333333',margin:5,fontSize:10}});m.exports=p},310,[4,5,6,9,10,12,59,194,82]);
__d(function(g,r,i,a,m,e,d){var t,n=r(d[0]),u=r(d[1]),f=(r(d[2]),r(d[3])),l=r(d[4]),o=f.forwardRef(function(t,o){t.emulateUnlessSupported;var p=u(t,["emulateUnlessSupported"]);return f.createElement(l,n({},p,{ref:o}))});o.displayName='SafeAreaView',t=o,m.exports=t},311,[15,57,53,12,82]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=r(d[2]),s=r(d[3]),c=r(d[4]),u=r(d[5]),l=r(d[6]),f=r(d[7]),h=r(d[8]),p=(function(l){function p(){return t(this,p),o(this,s(p).apply(this,arguments))}return c(p,l),n(p,[{key:"render",value:function(){return u.createElement(h,{style:[y.dummy,this.props.style]},u.createElement(f,{style:y.text},"SegmentedControlIOS is not supported on this platform!"))}}]),p})(u.Component),y=l.create({dummy:{width:120,height:50,backgroundColor:'#ffbcbc',borderWidth:1,borderColor:'red',alignItems:'center',justifyContent:'center'},text:{color:'#333333',margin:5,fontSize:10}});m.exports=p},312,[4,5,6,9,10,12,59,194,82]);
__d(function(g,r,i,a,m,e,d){'use strict';var n,t=r(d[0]),l=t(r(d[1])),o=t(r(d[2])),u=t(r(d[3])),s=(r(d[4]),r(d[5])),f=(r(d[6]),r(d[7])),v=s.forwardRef(function(t,v){var c=f.compose(n.slider,t.style),p=t.onValueChange,C=t.onSlidingComplete,S=(0,o.default)(t,["onValueChange","onSlidingComplete"]),h=p?function(n){null!=n.nativeEvent.fromUser&&n.nativeEvent.fromUser&&p(n.nativeEvent.value)}:null,E=h,V=C?function(n){C(n.nativeEvent.value)}:null;return s.createElement(u.default,(0,l.default)({},S,{ref:v,style:c,onChange:E,onSlidingComplete:V,onValueChange:h,enabled:!t.disabled,onStartShouldSetResponder:function(){return!0},onResponderTerminationRequest:function(){return!1}}))});v.defaultProps={disabled:!1,value:0,minimumValue:0,maximumValue:1,step:0},n=f.create({slider:{}}),m.exports=v},313,[1,15,57,314,53,12,84,59]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l=(0,t(r(d[1])).default)('Slider',{interfaceOnly:!0,paperComponentName:'RCTSlider'});e.default=l},314,[1,182]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]),o=n(r(d[1])),t=n(r(d[2])),l=n(r(d[3])),u=n(r(d[4])),s=n(r(d[5])),h=n(r(d[6])),c=n(r(d[7])),C=(n(r(d[8])),r(d[9])),f=(r(d[10]),r(d[11])),p=(r(d[12]),(function(n){function p(){var n,o;(0,l.default)(this,p);for(var t=arguments.length,u=new Array(t),c=0;c<t;c++)u[c]=arguments[c];return(o=(0,s.default)(this,(n=(0,h.default)(p)).call.apply(n,[this].concat(u))))._handleChange=function(n){if(null!=o._nativeSwitchRef){var t=!0===o.props.value;o._nativeSwitchRef.setNativeProps({on:t}),null!=o.props.onChange&&o.props.onChange(n),null!=o.props.onValueChange&&o.props.onValueChange(n.nativeEvent.value)}},o._handleSwitchNativeComponentRef=function(n){o._nativeSwitchRef=n},o}return(0,c.default)(p,n),(0,u.default)(p,[{key:"render",value:function(){var n=this.props,l=n.disabled,u=(n.ios_backgroundColor,n.onChange,n.onValueChange,n.style),s=n.thumbColor,h=n.trackColor,c=n.value,p=(0,t.default)(n,["disabled","ios_backgroundColor","onChange","onValueChange","style","thumbColor","trackColor","value"]),_=s,R=null==h?void 0:h.false,k=null==h?void 0:h.true,y=p,S=y.thumbTintColor,w=y.tintColor,T=y.onTintColor;null!=S&&(_=S),null!=w&&(R=w),null!=T&&(k=T);var V,F={enabled:!0!==l,on:!0===c,style:u,thumbTintColor:_,trackColorForFalse:R,trackColorForTrue:k,trackTintColor:!0===c?k:R};return f.createElement(C,(0,o.default)({},p,F,{accessibilityRole:null!=(V=p.accessibilityRole)?V:'button',onChange:this._handleChange,onResponderTerminationRequest:v,onStartShouldSetResponder:b,ref:this._handleSwitchNativeComponentRef}))}}]),p})(f.Component)),v=function(){return!1},b=function(){return!0};m.exports=p},315,[1,15,57,4,5,6,9,10,316,317,53,12,59]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=(0,t(r(d[1])).default)('Switch',{paperComponentName:'RCTSwitch'});e.default=u},316,[1,182]);
__d(function(g,r,i,a,m,e,d){'use strict';r(d[0]).NativeComponent;var t=r(d[1]);m.exports=t('AndroidSwitch')},317,[84,178]);
__d(function(g,r,i,a,m,e,d){'use strict';var t,s=r(d[0]),n=r(d[1]),o=r(d[2]),l=r(d[3]),c=r(d[4]),p=r(d[5]),u=r(d[6]),h=(r(d[7]),r(d[8])),f=(r(d[9]),r(d[10])),_=r(d[11]),v=r(d[12]),S=r(d[13]),y=r(d[14]),b=r(d[15]),C=r(d[16]),I=(r(d[17]),r(d[18])),x=r(d[19]),T=r(d[20]);r(d[21]);t=T('AndroidTextInput');var R=function(){return!0},F=I({displayName:'TextInput',statics:{State:{currentlyFocusedField:b.currentlyFocusedField,focusTextInput:b.focusTextInput,blurTextInput:b.blurTextInput}},propTypes:u,getDefaultProps:function(){return{allowFontScaling:!0,rejectResponderTermination:!0,underlineColorAndroid:'transparent'}},mixins:[h],isFocused:function(){return b.currentlyFocusedField()===_.findNodeHandle(this._inputRef)},_inputRef:void 0,_focusSubscription:void 0,_lastNativeText:void 0,_lastNativeSelection:void 0,_rafId:null,componentDidMount:function(){this._lastNativeText=this.props.value;var t=_.findNodeHandle(this._inputRef);null!=t&&b.registerInput(t),this.props.autoFocus&&(this._rafId=requestAnimationFrame(this.focus))},componentWillUnmount:function(){this._focusSubscription&&this._focusSubscription.remove(),this.isFocused()&&this.blur();var t=_.findNodeHandle(this._inputRef);null!=t&&b.unregisterInput(t),null!=this._rafId&&cancelAnimationFrame(this._rafId)},clear:function(){this.setNativeProps({text:''})},render:function(){var t;return t=this._renderAndroid(),f.createElement(y.Provider,{value:!0},t)},_getText:function(){return'string'==typeof this.props.value?this.props.value:'string'==typeof this.props.defaultValue?this.props.defaultValue:''},_setNativeRef:function(t){this._inputRef=t},_renderIOSLegacy:function(){var t,s=p({},this.props);if(s.style=[this.props.style],s.selection&&null==s.selection.end&&(s.selection={start:s.selection.start,end:s.selection.start}),s.multiline){var n=s.children,o=0;f.Children.forEach(n,function(){return++o}),x(!(s.value&&o),'Cannot specify both value and children.'),o>=1&&(n=f.createElement(S,{style:s.style,allowFontScaling:s.allowFontScaling,maxFontSizeMultiplier:s.maxFontSizeMultiplier},n)),s.inputView&&(n=[n,s.inputView]),s.style.unshift(D.multilineInput),t=f.createElement(void 0,p({ref:this._setNativeRef},s,{children:n,onFocus:this._onFocus,onBlur:this._onBlur,onChange:this._onChange,onContentSizeChange:this.props.onContentSizeChange,onSelectionChange:this._onSelectionChange,onTextInput:this._onTextInput,onSelectionChangeShouldSetResponder:R,text:this._getText(),dataDetectorTypes:this.props.dataDetectorTypes,onScroll:this._onScroll}))}else t=f.createElement(void 0,p({ref:this._setNativeRef},s,{onFocus:this._onFocus,onBlur:this._onBlur,onChange:this._onChange,onSelectionChange:this._onSelectionChange,onSelectionChangeShouldSetResponder:R,text:this._getText()}));return f.createElement(C,{onLayout:s.onLayout,onPress:this._onPress,rejectResponderTermination:!0,accessible:s.accessible,accessibilityLabel:s.accessibilityLabel,accessibilityRole:s.accessibilityRole,accessibilityStates:s.accessibilityStates,accessibilityState:s.accessibilityState,nativeID:this.props.nativeID,testID:s.testID},t)},_renderIOS:function(){var t=p({},this.props);t.style=[this.props.style],t.selection&&null==t.selection.end&&(t.selection={start:t.selection.start,end:t.selection.start});var s=void t.multiline;t.multiline&&t.style.unshift(D.multilineInput);var n=f.createElement(s,p({ref:this._setNativeRef},t,{onFocus:this._onFocus,onBlur:this._onBlur,onChange:this._onChange,onContentSizeChange:this.props.onContentSizeChange,onSelectionChange:this._onSelectionChange,onTextInput:this._onTextInput,onSelectionChangeShouldSetResponder:R,text:this._getText(),dataDetectorTypes:this.props.dataDetectorTypes,onScroll:this._onScroll}));return f.createElement(C,{onLayout:t.onLayout,onPress:this._onPress,rejectResponderTermination:t.rejectResponderTermination,accessible:t.accessible,accessibilityLabel:t.accessibilityLabel,accessibilityRole:t.accessibilityRole,accessibilityStates:t.accessibilityStates,accessibilityState:t.accessibilityState,nativeID:this.props.nativeID,testID:t.testID},n)},_renderAndroid:function(){var s=p({},this.props);s.style=[this.props.style],s.autoCapitalize=s.autoCapitalize||'sentences';var n=this.props.children,o=0;f.Children.forEach(n,function(){return++o}),x(!(this.props.value&&o),'Cannot specify both value and children.'),o>1&&(n=f.createElement(S,null,n)),s.selection&&null==s.selection.end&&(s.selection={start:s.selection.start,end:s.selection.start});var l=f.createElement(t,p({ref:this._setNativeRef},s,{mostRecentEventCount:0,onFocus:this._onFocus,onBlur:this._onBlur,onChange:this._onChange,onSelectionChange:this._onSelectionChange,onTextInput:this._onTextInput,text:this._getText(),children:n,disableFullscreenUI:this.props.disableFullscreenUI,textBreakStrategy:this.props.textBreakStrategy,onScroll:this._onScroll}));return f.createElement(C,{onLayout:s.onLayout,onPress:this._onPress,accessible:this.props.accessible,accessibilityLabel:this.props.accessibilityLabel,accessibilityRole:this.props.accessibilityRole,accessibilityStates:this.props.accessibilityStates,accessibilityState:this.props.accessibilityState,nativeID:this.props.nativeID,testID:this.props.testID},l)},_onFocus:function(t){this.props.onFocus&&this.props.onFocus(t),this.props.selectionState&&this.props.selectionState.focus()},_onPress:function(t){(this.props.editable||void 0===this.props.editable)&&this.focus()},_onChange:function(t){this._inputRef&&this._inputRef.setNativeProps&&_.setNativeProps(this._inputRef,{mostRecentEventCount:t.nativeEvent.eventCount});var s=t.nativeEvent.text;this.props.onChange&&this.props.onChange(t),this.props.onChangeText&&this.props.onChangeText(s),this._inputRef&&(this._lastNativeText=s,this.forceUpdate())},_onSelectionChange:function(t){this.props.onSelectionChange&&this.props.onSelectionChange(t),this._inputRef&&(this._lastNativeSelection=t.nativeEvent.selection,(this.props.selection||this.props.selectionState)&&this.forceUpdate())},componentDidUpdate:function(){var t={};this._lastNativeText!==this.props.value&&'string'==typeof this.props.value&&(t.text=this.props.value);var s=this.props.selection;this._lastNativeSelection&&s&&(this._lastNativeSelection.start!==s.start||this._lastNativeSelection.end!==s.end)&&(t.selection=this.props.selection),Object.keys(t).length>0&&this._inputRef&&this._inputRef.setNativeProps&&_.setNativeProps(this._inputRef,t),this.props.selectionState&&s&&this.props.selectionState.update(s.start,s.end)},_onBlur:function(t){this.blur(),this.props.onBlur&&this.props.onBlur(t),this.props.selectionState&&this.props.selectionState.blur()},_onTextInput:function(t){this.props.onTextInput&&this.props.onTextInput(t)},_onScroll:function(t){this.props.onScroll&&this.props.onScroll(t)}}),N=((function(t){function p(){return s(this,p),o(this,l(p).apply(this,arguments))}c(p,t),n(p,[{key:"clear",value:function(){}},{key:"isFocused",value:function(){}}])})(_.NativeComponent),F),D=v.create({multilineInput:{paddingTop:5}});m.exports=N},318,[4,5,6,9,10,15,319,320,282,53,12,84,59,194,199,159,210,48,211,17,178,19]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]);function o(n,o){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);o&&(l=l.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,l)}return t}var t=r(d[1]),l=r(d[2]),s=r(d[3]),c=r(d[4]),u=r(d[5]),b=['phoneNumber','link','address','calendarEvent','none','all'];m.exports=(function(t){for(var l=1;l<arguments.length;l++){var s=null!=arguments[l]?arguments[l]:{};l%2?o(Object(s),!0).forEach(function(o){n(t,o,s[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t})({},s,{autoCapitalize:t.oneOf(['none','sentences','words','characters']),autoCompleteType:t.oneOf(['cc-csc','cc-exp','cc-exp-month','cc-exp-year','cc-number','email','name','password','postal-code','street-address','tel','username','off']),autoCorrect:t.bool,spellCheck:t.bool,autoFocus:t.bool,allowFontScaling:t.bool,maxFontSizeMultiplier:t.number,editable:t.bool,keyboardType:t.oneOf(['default','email-address','numeric','phone-pad','number-pad','ascii-capable','numbers-and-punctuation','url','name-phone-pad','decimal-pad','twitter','web-search','visible-password']),keyboardAppearance:t.oneOf(['default','light','dark']),returnKeyType:t.oneOf(['done','go','next','search','send','none','previous','default','emergency-call','google','join','route','yahoo']),returnKeyLabel:t.string,maxLength:t.number,numberOfLines:t.number,disableFullscreenUI:t.bool,enablesReturnKeyAutomatically:t.bool,multiline:t.bool,textBreakStrategy:t.oneOf(['simple','highQuality','balanced']),onBlur:t.func,onFocus:t.func,onChange:t.func,onChangeText:t.func,onContentSizeChange:t.func,onTextInput:t.func,onEndEditing:t.func,onSelectionChange:t.func,onSubmitEditing:t.func,onKeyPress:t.func,onLayout:t.func,onScroll:t.func,placeholder:t.string,placeholderTextColor:l,scrollEnabled:t.bool,secureTextEntry:t.bool,selectionColor:l,selectionState:t.instanceOf(c),selection:t.shape({start:t.number.isRequired,end:t.number}),value:t.string,defaultValue:t.string,clearButtonMode:t.oneOf(['never','while-editing','unless-editing','always']),clearTextOnFocus:t.bool,selectTextOnFocus:t.bool,blurOnSubmit:t.bool,style:u.propTypes.style,underlineColorAndroid:l,inlineImageLeft:t.string,inlineImagePadding:t.number,rejectResponderTermination:t.bool,dataDetectorTypes:t.oneOfType([t.oneOf(b),t.arrayOf(t.oneOf(b))]),caretHidden:t.bool,contextMenuHidden:t.bool,inputAccessoryViewID:t.string,textContentType:t.oneOf(['none','URL','addressCity','addressCityAndState','addressState','countryName','creditCardNumber','emailAddress','familyName','fullStreetAddress','givenName','jobTitle','location','middleName','name','namePrefix','nameSuffix','nickname','organizationName','postalCode','streetAddressLine1','streetAddressLine2','sublocality','telephoneNumber','username','password','newPassword','oneTimeCode']),showSoftInputOnFocus:t.bool})},319,[51,68,65,272,320,194]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),s=r(d[1]),f=r(d[2]),u=(function(){function f(s,u){t(this,f),this._anchorOffset=s,this._focusOffset=u,this._hasFocus=!1}return s(f,[{key:"update",value:function(t,s){this._anchorOffset===t&&this._focusOffset===s||(this._anchorOffset=t,this._focusOffset=s,this.emit('update'))}},{key:"constrainLength",value:function(t){this.update(Math.min(this._anchorOffset,t),Math.min(this._focusOffset,t))}},{key:"focus",value:function(){this._hasFocus||(this._hasFocus=!0,this.emit('focus'))}},{key:"blur",value:function(){this._hasFocus&&(this._hasFocus=!1,this.emit('blur'))}},{key:"hasFocus",value:function(){return this._hasFocus}},{key:"isCollapsed",value:function(){return this._anchorOffset===this._focusOffset}},{key:"isBackward",value:function(){return this._anchorOffset>this._focusOffset}},{key:"getAnchorOffset",value:function(){return this._hasFocus?this._anchorOffset:null}},{key:"getFocusOffset",value:function(){return this._hasFocus?this._focusOffset:null}},{key:"getStartOffset",value:function(){return this._hasFocus?Math.min(this._anchorOffset,this._focusOffset):null}},{key:"getEndOffset",value:function(){return this._hasFocus?Math.max(this._anchorOffset,this._focusOffset):null}},{key:"overlaps",value:function(t,s){return this.hasFocus()&&this.getStartOffset()<=s&&t<=this.getEndOffset()}}]),f})();f(u,{blur:!0,focus:!0,update:!0}),m.exports=u},320,[4,5,321]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),s=r(d[2]),_=r(d[3]),o=r(d[4]),v=r(d[5])({__types:!0});var E={emit:function(t,n,s,_,o,v,E){return this.__getEventEmitter().emit(t,n,s,_,o,v,E)},emitAndHold:function(t,n,s,_,o,v,E){return this.__getEventEmitter().emitAndHold(t,n,s,_,o,v,E)},addListener:function(t,n,s){return this.__getEventEmitter().addListener(t,n,s)},once:function(t,n,s){return this.__getEventEmitter().once(t,n,s)},addRetroactiveListener:function(t,n,s){return this.__getEventEmitter().addRetroactiveListener(t,n,s)},addListenerMap:function(t,n){return this.__getEventEmitter().addListenerMap(t,n)},addRetroactiveListenerMap:function(t,n){return this.__getEventEmitter().addListenerMap(t,n)},removeAllListeners:function(){this.__getEventEmitter().removeAllListeners()},removeCurrentListener:function(){this.__getEventEmitter().removeCurrentListener()},releaseHeldEventType:function(t){this.__getEventEmitter().releaseHeldEventType(t)},__getEventEmitter:function(){if(!this.__eventEmitter){var t=new n,o=new _;this.__eventEmitter=new s(t,o)}return this.__eventEmitter}};m.exports=function(n,s){o(s,'Must supply set of valid event types');var _=n.prototype||n;o(!_.__eventEmitter,'An active emitter is already mixed in');var u=n.constructor;u&&o(u===Object||u===Function,'Mix EventEmitter into a class, not an instance'),_.hasOwnProperty(v)?t(_.__types,s):_.__types?_.__types=t({},_.__types,s):_.__types=s,t(_,E)}},321,[15,44,322,323,17,324]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),s=(function(){function s(n,l){t(this,s),this._emitter=n,this._eventHolder=l,this._currentEventToken=null,this._emittingHeldEvents=!1}return n(s,[{key:"addListener",value:function(t,n,s){return this._emitter.addListener(t,n,s)}},{key:"once",value:function(t,n,s){return this._emitter.once(t,n,s)}},{key:"addRetroactiveListener",value:function(t,n,s){var l=this._emitter.addListener(t,n,s);return this._emittingHeldEvents=!0,this._eventHolder.emitToListener(t,n,s),this._emittingHeldEvents=!1,l}},{key:"removeAllListeners",value:function(t){this._emitter.removeAllListeners(t)}},{key:"removeCurrentListener",value:function(){this._emitter.removeCurrentListener()}},{key:"listeners",value:function(t){return this._emitter.listeners(t)}},{key:"emit",value:function(t){for(var n,s=arguments.length,l=new Array(s>1?s-1:0),o=1;o<s;o++)l[o-1]=arguments[o];(n=this._emitter).emit.apply(n,[t].concat(l))}},{key:"emitAndHold",value:function(t){for(var n,s,l=arguments.length,o=new Array(l>1?l-1:0),u=1;u<l;u++)o[u-1]=arguments[u];this._currentEventToken=(n=this._eventHolder).holdEvent.apply(n,[t].concat(o)),(s=this._emitter).emit.apply(s,[t].concat(o)),this._currentEventToken=null}},{key:"releaseCurrentEvent",value:function(){this._currentEventToken?this._eventHolder.releaseEvent(this._currentEventToken):this._emittingHeldEvents&&this._eventHolder.releaseCurrentEvent()}},{key:"releaseHeldEventType",value:function(t){this._eventHolder.releaseEventType(t)}}]),s})();m.exports=s},322,[4,5]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),s=r(d[2]),v=(function(){function v(){t(this,v),this._heldEvents={},this._currentEventKey=null}return n(v,[{key:"holdEvent",value:function(t){this._heldEvents[t]=this._heldEvents[t]||[];for(var n=this._heldEvents[t],s={eventType:t,index:n.length},v=arguments.length,h=new Array(v>1?v-1:0),u=1;u<v;u++)h[u-1]=arguments[u];return n.push(h),s}},{key:"emitToListener",value:function(t,n,s){var v=this,h=this._heldEvents[t];if(h){var u=this._currentEventKey;h.forEach(function(h,u){h&&(v._currentEventKey={eventType:t,index:u},n.apply(s,h))}),this._currentEventKey=u}}},{key:"releaseCurrentEvent",value:function(){s(null!==this._currentEventKey,'Not in an emitting cycle; there is no current event'),this._currentEventKey&&this.releaseEvent(this._currentEventKey)}},{key:"releaseEvent",value:function(t){delete this._heldEvents[t.eventType][t.index]}},{key:"releaseEventType",value:function(t){this._heldEvents[t]=[]}}]),v})();m.exports=v},323,[4,5,17]);
__d(function(g,r,i,a,m,e,d){"use strict";m.exports=function(n){var t;for(t in n)if(n.hasOwnProperty(t))return t;return null}},324,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);function s(t,s){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);s&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),o.push.apply(o,n)}return o}function o(o){for(var n=1;n<arguments.length;n++){var l=null!=arguments[n]?arguments[n]:{};n%2?s(Object(l),!0).forEach(function(s){t(o,s,l[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(l)):s(Object(l)).forEach(function(t){Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(l,t))})}return o}var n=r(d[1]),l=r(d[2]),p=r(d[3]),h=r(d[4]),c=r(d[5]),u=r(d[6]),y=r(d[7]),b=r(d[8]),f=r(d[9]),P=r(d[10]),S=r(d[11]),O=r(d[12]),x=r(d[13]),T={activeOpacity:.85,delayPressOut:100,underlayColor:'black'},_={top:20,left:20,right:20,bottom:30},F=O({displayName:'TouchableHighlight',propTypes:o({},P.propTypes,{activeOpacity:c.number,underlayColor:n,style:l.style,onShowUnderlay:c.func,onHideUnderlay:c.func,hasTVPreferredFocus:c.bool,nextFocusDown:c.number,nextFocusForward:c.number,nextFocusLeft:c.number,nextFocusRight:c.number,nextFocusUp:c.number,tvParallaxProperties:c.object,testOnly_pressed:c.bool}),mixins:[p,f.Mixin.withoutDefaultFocusAndBlur],getDefaultProps:function(){return T},getInitialState:function(){return this._isMounted=!1,this.props.testOnly_pressed?o({},this.touchableGetInitialState(),{extraChildStyle:{opacity:this.props.activeOpacity},extraUnderlayStyle:{backgroundColor:this.props.underlayColor}}):o({},this.touchableGetInitialState(),{extraChildStyle:null,extraUnderlayStyle:null})},componentDidMount:function(){this._isMounted=!0,x(this.props)},componentWillUnmount:function(){this._isMounted=!1,clearTimeout(this._hideTimeout)},UNSAFE_componentWillReceiveProps:function(t){x(t)},viewConfig:{uiViewClassName:'RCTView',validAttributes:y.RCTView},touchableHandleActivePressIn:function(t){clearTimeout(this._hideTimeout),this._hideTimeout=null,this._showUnderlay(),this.props.onPressIn&&this.props.onPressIn(t)},touchableHandleActivePressOut:function(t){this._hideTimeout||this._hideUnderlay(),this.props.onPressOut&&this.props.onPressOut(t)},touchableHandleFocus:function(t){h.isTV&&this._showUnderlay(),this.props.onFocus&&this.props.onFocus(t)},touchableHandleBlur:function(t){h.isTV&&this._hideUnderlay(),this.props.onBlur&&this.props.onBlur(t)},touchableHandlePress:function(t){clearTimeout(this._hideTimeout),h.isTV||(this._showUnderlay(),this._hideTimeout=setTimeout(this._hideUnderlay,this.props.delayPressOut)),this.props.onPress&&this.props.onPress(t)},touchableHandleLongPress:function(t){this.props.onLongPress&&this.props.onLongPress(t)},touchableGetPressRectOffset:function(){return this.props.pressRetentionOffset||_},touchableGetHitSlop:function(){return this.props.hitSlop},touchableGetHighlightDelayMS:function(){return this.props.delayPressIn},touchableGetLongPressDelayMS:function(){return this.props.delayLongPress},touchableGetPressOutDelayMS:function(){return this.props.delayPressOut},_showUnderlay:function(){this._isMounted&&this._hasPressHandler()&&(this.setState({extraChildStyle:{opacity:this.props.activeOpacity},extraUnderlayStyle:{backgroundColor:this.props.underlayColor}}),this.props.onShowUnderlay&&this.props.onShowUnderlay())},_hideUnderlay:function(){clearTimeout(this._hideTimeout),this._hideTimeout=null,this.props.testOnly_pressed||this._hasPressHandler()&&(this.setState({extraChildStyle:null,extraUnderlayStyle:null}),this.props.onHideUnderlay&&this.props.onHideUnderlay())},_hasPressHandler:function(){return!!(this.props.onPress||this.props.onPressIn||this.props.onPressOut||this.props.onLongPress)},render:function(){var t=u.Children.only(this.props.children);return u.createElement(S,{accessible:!1!==this.props.accessible,accessibilityLabel:this.props.accessibilityLabel,accessibilityHint:this.props.accessibilityHint,accessibilityRole:this.props.accessibilityRole,accessibilityStates:this.props.accessibilityStates,accessibilityState:this.props.accessibilityState,accessibilityActions:this.props.accessibilityActions,onAccessibilityAction:this.props.onAccessibilityAction,style:b.compose(this.props.style,this.state.extraUnderlayStyle),onLayout:this.props.onLayout,hitSlop:this.props.hitSlop,isTVSelectable:!0,tvParallaxProperties:this.props.tvParallaxProperties,hasTVPreferredFocus:this.props.hasTVPreferredFocus,nextFocusDown:this.props.nextFocusDown,nextFocusForward:this.props.nextFocusForward,nextFocusLeft:this.props.nextFocusLeft,nextFocusRight:this.props.nextFocusRight,nextFocusUp:this.props.nextFocusUp,focusable:!1!==this.props.focusable&&void 0!==this.props.onPress,onClick:this.touchableHandlePress,onStartShouldSetResponder:this.touchableHandleStartShouldSetResponder,onResponderTerminationRequest:this.touchableHandleResponderTerminationRequest,onResponderGrant:this.touchableHandleResponderGrant,onResponderMove:this.touchableHandleResponderMove,onResponderRelease:this.touchableHandleResponderRelease,onResponderTerminate:this.touchableHandleResponderTerminate,nativeID:this.props.nativeID,testID:this.props.testID},u.cloneElement(t,{style:b.compose(t.props.style,this.state.extraChildStyle)}),f.renderDebugView({color:'green',hitSlop:this.props.hitSlop}))}});m.exports=F},325,[51,65,272,282,53,68,12,189,59,200,210,82,211,215]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),o=t(r(d[1])),n=t(r(d[2])),c=t(r(d[3]));function s(t,o){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);o&&(c=c.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,c)}return n}function l(t){for(var n=1;n<arguments.length;n++){var c=null!=arguments[n]?arguments[n]:{};n%2?s(Object(c),!0).forEach(function(n){(0,o.default)(t,n,c[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(c)):s(Object(c)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(c,o))})}return t}var u=r(d[4]),f=r(d[5]),p={showActionSheetWithOptions:function(t,o){u('object'==typeof t&&null!==t,'Options must be a valid object'),u('function'==typeof o,'Must provide a valid callback'),u(c.default,"ActionSheetManager does't exist");var s=t.tintColor,p=(0,n.default)(t,["tintColor"]);c.default.showActionSheetWithOptions(l({},p,{tintColor:f(s)}),o)},showShareActionSheetWithOptions:function(t,o,n){u('object'==typeof t&&null!==t,'Options must be a valid object'),u('function'==typeof o,'Must provide a valid failureCallback'),u('function'==typeof n,'Must provide a valid successCallback'),u(c.default,"ActionSheetManager does't exist"),c.default.showShareActionSheetWithOptions(l({},t,{tintColor:f(t.tintColor)}),o,n)}};m.exports=p},326,[1,51,57,327,17,76]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])).get('ActionSheetManager');e.default=u},327,[23,24]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]),t=n(r(d[1])),o=n(r(d[2])),s=n(r(d[3]));function c(n,t){var o=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})),o.push.apply(o,s)}return o}function u(n){for(var o=1;o<arguments.length;o++){var s=null!=arguments[o]?arguments[o]:{};o%2?c(Object(s),!0).forEach(function(o){(0,t.default)(n,o,s[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):c(Object(s)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(s,t))})}return n}var f,l=r(d[4]),p=r(d[5]),y=r(d[6]),b=r(d[7]),h=r(d[8]),k=r(d[9]),O=r(d[10]),v=r(d[11]),C={},w=1,j={},T=new Map,A=new Map,P=function(n){return n()},R=!1,S={setWrapperComponentProvider:function(n){f=n},enableFabricIndicator:function(n){R=n},registerConfig:function(n){n.forEach(function(n){n.run?S.registerRunnable(n.appKey,n.run):(k(null!=n.component,"AppRegistry.registerConfig(...): Every config is expected to set either `run` or `component`, but `%s` has neither.",n.appKey),S.registerComponent(n.appKey,n.component,n.section))})},registerComponent:function(n,t,o){var s=v();return C[n]={componentProvider:t,run:function(n){O(P(t,s),n.initialProps,n.rootTag,f&&f(n),n.fabric,R,s)}},o&&(j[n]=C[n]),n},registerRunnable:function(n,t){return C[n]={run:t},n},registerSection:function(n,t){S.registerComponent(n,t,!0)},getAppKeys:function(){return Object.keys(C)},getSectionKeys:function(){return Object.keys(j)},getSections:function(){return u({},j)},getRunnable:function(n){return C[n]},getRegistry:function(){return{sections:S.getSectionKeys(),runnables:u({},C)}},setComponentProviderInstrumentationHook:function(n){P=n},runApplication:function(n,t){var o='Running "'+n+'" with '+JSON.stringify(t);h(o),p.addSource('AppRegistry.runApplication'+w++,function(){return o}),k(C[n]&&C[n].run,"\""+n+"\" has not been registered. This can happen if:\n* Metro (the local dev server) is run from the wrong folder. Check if Metro is running, stop it and restart it in the current project.\n* A module failed to load due to an error and `AppRegistry.registerComponent` wasn't called."),b.setActiveScene({name:n}),C[n].run(t)},unmountApplicationComponentAtRootTag:function(n){y.unmountComponentAtNodeAndRemoveContainer(n)},registerHeadlessTask:function(n,t){this.registerCancellableHeadlessTask(n,t,function(){return function(){}})},registerCancellableHeadlessTask:function(n,t,o){T.has(n)&&console.warn("registerHeadlessTask or registerCancellableHeadlessTask called multiple times for same key '"+n+"'"),T.set(n,t),A.set(n,o)},startHeadlessTask:function(n,t,c){var u=T.get(t);if(!u)return console.warn("No task registered for key "+t),void(o.default&&o.default.notifyTaskFinished(n));u()(c).then(function(){o.default&&o.default.notifyTaskFinished(n)}).catch(function(t){console.error(t),o.default&&t instanceof s.default&&o.default.notifyTaskRetry(n).then(function(t){t||o.default.notifyTaskFinished(n)})})},cancelHeadlessTask:function(n,t){var o=A.get(t);if(!o)throw new Error("No task canceller registered for key '"+t+"'");o()()}};l.registerCallableModule('AppRegistry',S),m.exports=S},328,[1,51,329,330,30,331,84,335,150,17,336,149]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=t(r(d[1])).get('HeadlessJsTaskSupport');e.default=s},329,[23,24]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])),f=t(r(d[2])),l=t(r(d[3])),n=t(r(d[4])),o=(function(t){function o(){return(0,u.default)(this,o),(0,f.default)(this,(0,l.default)(o).apply(this,arguments))}return(0,n.default)(o,t),o})((0,t(r(d[5])).default)(Error));e.default=o},330,[1,4,6,9,10,92]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),u=t(r(d[1])),l=t(r(d[2])),n=t(r(d[3])),o=t(r(d[4])),c=t(r(d[5])),s=r(d[6]),f=r(d[7]);function x(){_.addFileSource('react_hierarchy.txt',function(){return r(d[8])()})}var _=(function(){function t(){(0,l.default)(this,t)}return(0,n.default)(t,null,[{key:"_maybeInit",value:function(){t._subscription||(t._subscription=s.addListener('collectBugExtraData',t.collectExtraData,null),x()),t._redboxSubscription||(t._redboxSubscription=s.addListener('collectRedBoxExtraData',t.collectExtraData,null))}},{key:"addSource",value:function(u,l){return this._addSource(u,l,t._extraSources)}},{key:"addFileSource",value:function(u,l){return this._addSource(u,l,t._fileSources)}},{key:"_addSource",value:function(u,l,n){return t._maybeInit(),n.has(u)&&console.warn("BugReporting.add* called multiple times for same key '"+u+"'"),n.set(u,l),{remove:function(){n.delete(u)}}}},{key:"collectExtraData",value:function(){var l={},n=t._extraSources,s=Array.isArray(n),x=0;for(n=s?n:n["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var _;if(s){if(x>=n.length)break;_=n[x++]}else{if((x=n.next()).done)break;_=x.value}var b=_,y=(0,u.default)(b,2),S=y[0],v=y[1];l[S]=v()}var p={},k=t._fileSources,D=Array.isArray(k),E=0;for(k=D?k:k["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var h;if(D){if(E>=k.length)break;h=k[E++]}else{if((E=k.next()).done)break;h=E.value}var B=h,A=(0,u.default)(B,2),R=A[0],w=A[1];p[R]=w()}return f('BugReporting extraData:',l),null!=o.default&&null!=o.default.setExtraData&&o.default.setExtraData(l,p),null!=c.default&&null!=c.default.setExtraData&&c.default.setExtraData(l,'From BugReporting.js'),{extras:l,files:p}}}]),t})();_._extraSources=new Map,_._fileSources=new Map,_._subscription=null,_._redboxSubscription=null,m.exports=_},331,[1,26,4,5,332,333,41,150,334]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])).get('BugReporting');e.default=u},332,[23,24]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])).get('RedBox');e.default=u},333,[23,24]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(){try{return"React tree dumps have been temporarily disabled while React is upgraded to Fiber."}catch(t){return'Failed to dump react tree: '+t}}},334,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=[],t={name:'default'},c={setActiveScene:function(c){t=c,n.forEach(function(n){return n(t)})},getActiveScene:function(){return t},addActiveSceneChangedListener:function(t){return n.push(t),{remove:function(){n=n.filter(function(n){return t!==n})}}}};m.exports=c},335,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=t(r(d[1])),l=t(r(d[2])),o=t(r(d[3])),c=r(d[4]),p=r(d[5]),u=r(d[6]),s=r(d[7]);r(d[8]),m.exports=function(t,f,v,_,E,T,x){s(v,'Expect to have a valid rootTag, instead got ',v);var A=p.createElement(o.default.Provider,{value:null!=x?x:l.default},p.createElement(c,{rootTag:v,WrapperComponent:_},p.createElement(t,(0,n.default)({},f,{rootTag:v})),!0===E&&!0===T?p.createElement(u,null):null));l.default.startTimespan('renderApplication_React_render'),E?r(d[9]).render(A,v):r(d[10]).render(A,v),l.default.stopTimespan('renderApplication_React_render')}},336,[1,15,148,337,301,12,338,17,339,341,84]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),c=r(d[1])(r(d[2])),n=t(r(d[3])),o=c.createContext(n.default);m.exports=o},337,[1,23,12,148]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=r(d[2]),c=r(d[3]);var f=n.create({container:{alignItems:'center',justifyContent:'center',backgroundColor:'rgba(0,0,0, 0.25)',position:'absolute',top:0,right:0,padding:2},text:{fontSize:6,color:'#ffffff'}});m.exports=function(){return t.createElement(c,{style:f.container},t.createElement(o,{style:f.text},"FABRIC"))}},338,[12,59,194,82]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]),t=n(r(d[1])),f=[];n(r(d[2])).default.addListener('hardwareBackPress',function(){for(var n=f.length-1;n>=0;n--)if(f[n]())return;u.exitApp()});var u={exitApp:function(){t.default&&t.default.invokeDefaultBackPressHandler()},addEventListener:function(n,t){return-1===f.indexOf(t)&&f.push(t),{remove:function(){return u.removeEventListener(n,t)}}},removeEventListener:function(n,t){-1!==f.indexOf(t)&&f.splice(f.indexOf(t),1)}};m.exports=u},339,[1,340,41]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])).get('DeviceEventManager');e.default=u},340,[23,24]);
__d(function(g,r,i,a,m,e,d){'use strict';var t,c=r(d[0]);t=r(d[1]),c.BatchedBridge.registerCallableModule('ReactFabric',t),m.exports=t},341,[156,342]);
__d(function(e,t,n,r,i,l,a){"use strict";var o=t(a[0]);t(a[1]);var u=t(a[2]),c=t(a[3]),s=t(a[4]);function f(e){return e.name="Invariant Violation",e}var d=null,p={};function h(){if(d)for(var e in p){var t=p[e],n=d.indexOf(e);if(!(-1<n))throw f(Error("EventPluginRegistry: Cannot inject event plugins that do not exist in the plugin ordering, `"+e+"`."));if(!g[n]){if(!t.extractEvents)throw f(Error("EventPluginRegistry: Event plugins must implement an `extractEvents` method, but `"+e+"` does not."));for(var r in g[n]=t,n=t.eventTypes){var i=void 0,l=n[r],a=t,o=r;if(y.hasOwnProperty(o))throw f(Error("EventPluginHub: More than one plugin attempted to publish the same event name, `"+o+"`."));y[o]=l;var u=l.phasedRegistrationNames;if(u){for(i in u)u.hasOwnProperty(i)&&m(u[i],a);i=!0}else l.registrationName?(m(l.registrationName,a),i=!0):i=!1;if(!i)throw f(Error("EventPluginRegistry: Failed to publish event `"+r+"` for plugin `"+e+"`."))}}}}function m(e,t){if(v[e])throw f(Error("EventPluginHub: More than one plugin attempted to publish the same registration name, `"+e+"`."));v[e]=t}var g=[],y={},v={};function b(e,t,n,r,i,l,a,o,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}var T=!1,E=null,x=!1,S=null,w={onError:function(e){T=!0,E=e}};function k(e,t,n,r,i,l,a,o,u){T=!1,E=null,b.apply(w,arguments)}function P(e,t,n,r,i,l,a,o,u){if(k.apply(this,arguments),T){if(!T)throw f(Error("clearCaughtError was called but no error was captured. This error is likely caused by a bug in React. Please file an issue."));var c=E;T=!1,E=null,x||(x=!0,S=c)}}var C=null,_=null,R=null;function N(e,t,n){var r=e.type||"unknown-event";e.currentTarget=R(n),P(r,t,void 0,e),e.currentTarget=null}function I(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))throw f(Error("executeDirectDispatch(...): Invalid `event`."));return e.currentTarget=t?R(n):null,t=t?t(e):null,e.currentTarget=null,e._dispatchListeners=null,e._dispatchInstances=null,t}function z(e,t){if(null==t)throw f(Error("accumulateInto(...): Accumulated items must not be null or undefined."));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function U(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var M=null;function A(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)N(e,t[r],n[r]);else t&&N(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}var D=function(e){if(d)throw f(Error("EventPluginRegistry: Cannot inject event plugin ordering more than once. You are likely trying to load more than one copy of React."));d=Array.prototype.slice.call(e),h()},F=function(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!p.hasOwnProperty(t)||p[t]!==r){if(p[t])throw f(Error("EventPluginRegistry: Cannot inject two different event plugins using the same name, `"+t+"`."));p[t]=r,n=!0}}n&&h()};function j(e,t){var n=e.stateNode;if(!n)return null;var r=C(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw f(Error("Expected `"+t+"` listener to be a function, instead got a value of `"+typeof n+"` type."));return n}function O(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function W(e,t,n){for(var r=[];e;)r.push(e),e=O(e);for(e=r.length;0<e--;)t(r[e],"captured",n);for(e=0;e<r.length;e++)t(r[e],"bubbled",n)}function H(e,t,n){(t=j(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=z(n._dispatchListeners,t),n._dispatchInstances=z(n._dispatchInstances,e))}function B(e){e&&e.dispatchConfig.phasedRegistrationNames&&W(e._targetInst,H,e)}function Q(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var t=e._targetInst;W(t=t?O(t):null,H,e)}}function L(e){if(e&&e.dispatchConfig.registrationName){var t=e._targetInst;if(t&&e&&e.dispatchConfig.registrationName){var n=j(t,e.dispatchConfig.registrationName);n&&(e._dispatchListeners=z(e._dispatchListeners,n),e._dispatchInstances=z(e._dispatchInstances,t))}}}function Y(){return!0}function V(){return!1}function X(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Y:V,this.isPropagationStopped=V,this}function q(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function $(e){if(!(e instanceof this))throw f(Error("Trying to release an event instance into a pool of a different type."));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function G(e){e.eventPool=[],e.getPooled=q,e.release=$}o(X.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Y)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Y)},persist:function(){this.isPersistent=Y},isPersistent:V,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=V,this._dispatchInstances=this._dispatchListeners=null}}),X.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},X.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var i=new t;return o(i,n.prototype),n.prototype=i,n.prototype.constructor=n,n.Interface=o({},r.Interface,e),n.extend=r.extend,G(n),n},G(X);var J=X.extend({touchHistory:function(){return null}});function K(e){return"topTouchStart"===e}function Z(e){return"topTouchMove"===e}var ee=["topTouchStart"],te=["topTouchMove"],ne=["topTouchCancel","topTouchEnd"],re=[],ie={touchBank:re,numberActiveTouches:0,indexOfSingleActiveTouch:-1,mostRecentTimeStamp:0};function le(e){return e.timeStamp||e.timestamp}function ae(e){if(null==(e=e.identifier))throw f(Error("Touch object is missing identifier."));return e}function oe(e){var t=ae(e),n=re[t];n?(n.touchActive=!0,n.startPageX=e.pageX,n.startPageY=e.pageY,n.startTimeStamp=le(e),n.currentPageX=e.pageX,n.currentPageY=e.pageY,n.currentTimeStamp=le(e),n.previousPageX=e.pageX,n.previousPageY=e.pageY,n.previousTimeStamp=le(e)):(n={touchActive:!0,startPageX:e.pageX,startPageY:e.pageY,startTimeStamp:le(e),currentPageX:e.pageX,currentPageY:e.pageY,currentTimeStamp:le(e),previousPageX:e.pageX,previousPageY:e.pageY,previousTimeStamp:le(e)},re[t]=n),ie.mostRecentTimeStamp=le(e)}function ue(e){var t=re[ae(e)];t?(t.touchActive=!0,t.previousPageX=t.currentPageX,t.previousPageY=t.currentPageY,t.previousTimeStamp=t.currentTimeStamp,t.currentPageX=e.pageX,t.currentPageY=e.pageY,t.currentTimeStamp=le(e),ie.mostRecentTimeStamp=le(e)):console.warn("Cannot record touch move without a touch start.\nTouch Move: %s\n","Touch Bank: %s",se(e),fe())}function ce(e){var t=re[ae(e)];t?(t.touchActive=!1,t.previousPageX=t.currentPageX,t.previousPageY=t.currentPageY,t.previousTimeStamp=t.currentTimeStamp,t.currentPageX=e.pageX,t.currentPageY=e.pageY,t.currentTimeStamp=le(e),ie.mostRecentTimeStamp=le(e)):console.warn("Cannot record touch end without a touch start.\nTouch End: %s\n","Touch Bank: %s",se(e),fe())}function se(e){return JSON.stringify({identifier:e.identifier,pageX:e.pageX,pageY:e.pageY,timestamp:le(e)})}function fe(){var e=JSON.stringify(re.slice(0,20));return 20<re.length&&(e+=" (original size: "+re.length+")"),e}var de={recordTouchTrack:function(e,t){if(Z(e))t.changedTouches.forEach(ue);else if(K(e))t.changedTouches.forEach(oe),ie.numberActiveTouches=t.touches.length,1===ie.numberActiveTouches&&(ie.indexOfSingleActiveTouch=t.touches[0].identifier);else if(("topTouchEnd"===e||"topTouchCancel"===e)&&(t.changedTouches.forEach(ce),ie.numberActiveTouches=t.touches.length,1===ie.numberActiveTouches))for(e=0;e<re.length;e++)if(null!=(t=re[e])&&t.touchActive){ie.indexOfSingleActiveTouch=e;break}},touchHistory:ie};function pe(e,t){if(null==t)throw f(Error("accumulate(...): Accumulated items must not be null or undefined."));return null==e?t:Array.isArray(e)?e.concat(t):Array.isArray(t)?[e].concat(t):[e,t]}var he=null,me=0;function ge(e,t){var n=he;he=e,null!==ve.GlobalResponderHandler&&ve.GlobalResponderHandler.onChange(n,e,t)}var ye={startShouldSetResponder:{phasedRegistrationNames:{bubbled:"onStartShouldSetResponder",captured:"onStartShouldSetResponderCapture"},dependencies:ee},scrollShouldSetResponder:{phasedRegistrationNames:{bubbled:"onScrollShouldSetResponder",captured:"onScrollShouldSetResponderCapture"},dependencies:["topScroll"]},selectionChangeShouldSetResponder:{phasedRegistrationNames:{bubbled:"onSelectionChangeShouldSetResponder",captured:"onSelectionChangeShouldSetResponderCapture"},dependencies:["topSelectionChange"]},moveShouldSetResponder:{phasedRegistrationNames:{bubbled:"onMoveShouldSetResponder",captured:"onMoveShouldSetResponderCapture"},dependencies:te},responderStart:{registrationName:"onResponderStart",dependencies:ee},responderMove:{registrationName:"onResponderMove",dependencies:te},responderEnd:{registrationName:"onResponderEnd",dependencies:ne},responderRelease:{registrationName:"onResponderRelease",dependencies:ne},responderTerminationRequest:{registrationName:"onResponderTerminationRequest",dependencies:[]},responderGrant:{registrationName:"onResponderGrant",dependencies:[]},responderReject:{registrationName:"onResponderReject",dependencies:[]},responderTerminate:{registrationName:"onResponderTerminate",dependencies:[]}},ve={_getResponder:function(){return he},eventTypes:ye,extractEvents:function(e,t,n,r){if(K(e))me+=1;else if("topTouchEnd"===e||"topTouchCancel"===e){if(!(0<=me))return console.error("Ended a touch event which was not counted in `trackedTouchCount`."),null;--me}if(de.recordTouchTrack(e,n),t&&("topScroll"===e&&!n.responderIgnoreScroll||0<me&&"topSelectionChange"===e||K(e)||Z(e))){var i=K(e)?ye.startShouldSetResponder:Z(e)?ye.moveShouldSetResponder:"topSelectionChange"===e?ye.selectionChangeShouldSetResponder:ye.scrollShouldSetResponder;if(he)e:{for(var l=he,a=0,o=l;o;o=O(o))a++;o=0;for(var u=t;u;u=O(u))o++;for(;0<a-o;)l=O(l),a--;for(;0<o-a;)t=O(t),o--;for(;a--;){if(l===t||l===t.alternate)break e;l=O(l),t=O(t)}l=null}else l=t;t=l===he,(l=J.getPooled(i,l,n,r)).touchHistory=de.touchHistory,U(l,t?Q:B);e:{if(i=l._dispatchListeners,t=l._dispatchInstances,Array.isArray(i)){for(a=0;a<i.length&&!l.isPropagationStopped();a++)if(i[a](l,t[a])){i=t[a];break e}}else if(i&&i(l,t)){i=t;break e}i=null}l._dispatchInstances=null,l._dispatchListeners=null,l.isPersistent()||l.constructor.release(l),i&&i!==he?(l=void 0,(t=J.getPooled(ye.responderGrant,i,n,r)).touchHistory=de.touchHistory,U(t,L),a=!0===I(t),he?((o=J.getPooled(ye.responderTerminationRequest,he,n,r)).touchHistory=de.touchHistory,U(o,L),u=!o._dispatchListeners||I(o),o.isPersistent()||o.constructor.release(o),u?((o=J.getPooled(ye.responderTerminate,he,n,r)).touchHistory=de.touchHistory,U(o,L),l=pe(l,[t,o]),ge(i,a)):((i=J.getPooled(ye.responderReject,i,n,r)).touchHistory=de.touchHistory,U(i,L),l=pe(l,i))):(l=pe(l,t),ge(i,a)),i=l):i=null}else i=null;if(l=he&&K(e),t=he&&Z(e),a=he&&("topTouchEnd"===e||"topTouchCancel"===e),(l=l?ye.responderStart:t?ye.responderMove:a?ye.responderEnd:null)&&((l=J.getPooled(l,he,n,r)).touchHistory=de.touchHistory,U(l,L),i=pe(i,l)),l=he&&"topTouchCancel"===e,e=he&&!l&&("topTouchEnd"===e||"topTouchCancel"===e))e:{if((e=n.touches)&&0!==e.length)for(t=0;t<e.length;t++)if(null!==(a=e[t].target)&&void 0!==a&&0!==a){o=_(a);t:{for(a=he;o;){if(a===o||a===o.alternate){a=!0;break t}o=O(o)}a=!1}if(a){e=!1;break e}}e=!0}return(e=l?ye.responderTerminate:e?ye.responderRelease:null)&&((n=J.getPooled(e,he,n,r)).touchHistory=de.touchHistory,U(n,L),i=pe(i,n),ge(null)),i},GlobalResponderHandler:null,injection:{injectGlobalResponderHandler:function(e){ve.GlobalResponderHandler=e}}},be=u.ReactNativeViewConfigRegistry.customBubblingEventTypes,Te=u.ReactNativeViewConfigRegistry.customDirectEventTypes;function Ee(e){return e}D(["ResponderEventPlugin","ReactNativeBridgeEventPlugin"]),F({ResponderEventPlugin:ve,ReactNativeBridgeEventPlugin:{eventTypes:{},extractEvents:function(e,t,n,r){if(null==t)return null;var i=be[e],l=Te[e];if(!i&&!l)throw f(Error('Unsupported top level event type "'+e+'" dispatched'));if(e=X.getPooled(i||l,t,n,r),i)U(e,B);else{if(!l)return null;U(e,L)}return e}}}),C=function(e){return e.canonical.currentProps},_=Ee,R=function(e){if(!(e=e.stateNode.canonical._nativeTag))throw f(Error("All native instances should have a tag."));return e},ve.injection.injectGlobalResponderHandler({onChange:function(e,t,n){null!==t?u.UIManager.setJSResponder(t.stateNode.canonical._nativeTag,n):u.UIManager.clearJSResponder()}});var xe=c.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;xe.hasOwnProperty("ReactCurrentDispatcher")||(xe.ReactCurrentDispatcher={current:null}),xe.hasOwnProperty("ReactCurrentBatchConfig")||(xe.ReactCurrentBatchConfig={suspense:null});var Se="function"==typeof Symbol&&("function"==typeof Symbol?Symbol.for:"@@for"),we=Se?("function"==typeof Symbol?Symbol.for:"@@for")("react.element"):60103,ke=Se?("function"==typeof Symbol?Symbol.for:"@@for")("react.portal"):60106,Pe=Se?("function"==typeof Symbol?Symbol.for:"@@for")("react.fragment"):60107,Ce=Se?("function"==typeof Symbol?Symbol.for:"@@for")("react.strict_mode"):60108,_e=Se?("function"==typeof Symbol?Symbol.for:"@@for")("react.profiler"):60114,Re=Se?("function"==typeof Symbol?Symbol.for:"@@for")("react.provider"):60109,Ne=Se?("function"==typeof Symbol?Symbol.for:"@@for")("react.context"):60110,Ie=Se?("function"==typeof Symbol?Symbol.for:"@@for")("react.concurrent_mode"):60111,ze=Se?("function"==typeof Symbol?Symbol.for:"@@for")("react.forward_ref"):60112,Ue=Se?("function"==typeof Symbol?Symbol.for:"@@for")("react.suspense"):60113,Me=Se?("function"==typeof Symbol?Symbol.for:"@@for")("react.suspense_list"):60120,Ae=Se?("function"==typeof Symbol?Symbol.for:"@@for")("react.memo"):60115,De=Se?("function"==typeof Symbol?Symbol.for:"@@for")("react.lazy"):60116;Se&&("function"==typeof Symbol?Symbol.for:"@@for")("react.fundamental"),Se&&("function"==typeof Symbol?Symbol.for:"@@for")("react.responder");var Fe="function"==typeof Symbol&&("function"==typeof Symbol?Symbol.iterator:"@@iterator");function je(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=Fe&&e[Fe]||e["@@iterator"])?e:null}function Oe(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case Pe:return"Fragment";case ke:return"Portal";case _e:return"Profiler";case Ce:return"StrictMode";case Ue:return"Suspense";case Me:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case Ne:return"Context.Consumer";case Re:return"Context.Provider";case ze:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case Ae:return Oe(e.type);case De:if(e=1===e._status?e._result:null)return Oe(e)}return null}function We(e){var t=e;if(e.alternate)for(;t.return;)t=t.return;else{if(0!=(2&t.effectTag))return 1;for(;t.return;)if(0!=(2&(t=t.return).effectTag))return 1}return 3===t.tag?2:3}function He(e){if(2!==We(e))throw f(Error("Unable to find node on an unmounted component."))}function Be(e){var t=e.alternate;if(!t){if(3===(t=We(e)))throw f(Error("Unable to find node on an unmounted component."));return 1===t?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var l=i.alternate;if(null===l){if(null!==(r=i.return)){n=r;continue}break}if(i.child===l.child){for(l=i.child;l;){if(l===n)return He(i),e;if(l===r)return He(i),t;l=l.sibling}throw f(Error("Unable to find node on an unmounted component."))}if(n.return!==r.return)n=i,r=l;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=l;break}if(o===r){a=!0,r=i,n=l;break}o=o.sibling}if(!a){for(o=l.child;o;){if(o===n){a=!0,n=l,r=i;break}if(o===r){a=!0,r=l,n=i;break}o=o.sibling}if(!a)throw f(Error("Child was not found in either parent set. This indicates a bug in React related to the return pointer. Please file an issue."))}}if(n.alternate!==r)throw f(Error("Return fibers should always be each others' alternates. This error is likely caused by a bug in React. Please file an issue."))}if(3!==n.tag)throw f(Error("Unable to find node on an unmounted component."));return n.stateNode.current===n?e:t}function Qe(e){if(!(e=Be(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Le(e,t){return function(){if(t&&("boolean"!=typeof e.__isMounted||e.__isMounted))return t.apply(e,arguments)}}var Ye={},Ve=null,Xe=0;function qe(e,t,n){if(Array.isArray(t))for(var r=t.length;r--&&0<Xe;)qe(e,t[r],n);else if(t&&0<Xe)for(r in Ve)if(Ve[r]){var i=t[r];if(void 0!==i){var l=n[r];l&&("function"==typeof i&&(i=!0),void 0===i&&(i=null),"object"!=typeof l?e[r]=i:"function"!=typeof l.diff&&"function"!=typeof l.process||(i="function"==typeof l.process?l.process(i):i,e[r]=i),Ve[r]=!1,Xe--)}}}function $e(e,t,n,r){if(!e&&t===n)return e;if(!t||!n)return n?Ge(e,n,r):t?Je(e,t,r):e;if(!Array.isArray(t)&&!Array.isArray(n))return Ke(e,t,n,r);if(Array.isArray(t)&&Array.isArray(n)){var i,l=t.length<n.length?t.length:n.length;for(i=0;i<l;i++)e=$e(e,t[i],n[i],r);for(;i<t.length;i++)e=Je(e,t[i],r);for(;i<n.length;i++)e=Ge(e,n[i],r);return e}return Array.isArray(t)?Ke(e,u.flattenStyle(t),n,r):Ke(e,t,u.flattenStyle(n),r)}function Ge(e,t,n){if(!t)return e;if(!Array.isArray(t))return Ke(e,Ye,t,n);for(var r=0;r<t.length;r++)e=Ge(e,t[r],n);return e}function Je(e,t,n){if(!t)return e;if(!Array.isArray(t))return Ke(e,t,Ye,n);for(var r=0;r<t.length;r++)e=Je(e,t[r],n);return e}function Ke(e,t,n,r){var i,l;for(l in n)if(i=r[l]){var a=t[l],o=n[l];"function"==typeof o&&(o=!0,"function"==typeof a&&(a=!0)),void 0===o&&(o=null,void 0===a&&(a=null)),Ve&&(Ve[l]=!1),e&&void 0!==e[l]?"object"!=typeof i?e[l]=o:"function"!=typeof i.diff&&"function"!=typeof i.process||(i="function"==typeof i.process?i.process(o):o,e[l]=i):a!==o&&("object"!=typeof i?("object"!=typeof o||null===o||u.deepDiffer(a,o))&&((e||(e={}))[l]=o):"function"==typeof i.diff||"function"==typeof i.process?(void 0===a||("function"==typeof i.diff?i.diff(a,o):"object"!=typeof o||null===o||u.deepDiffer(a,o)))&&(i="function"==typeof i.process?i.process(o):o,(e||(e={}))[l]=i):(Ve=null,Xe=0,e=$e(e,a,o,i),0<Xe&&e&&(qe(e,o,i),Ve=null)))}for(var c in t)void 0===n[c]&&(!(i=r[c])||e&&void 0!==e[c]||void 0!==(a=t[c])&&("object"!=typeof i||"function"==typeof i.diff||"function"==typeof i.process?((e||(e={}))[c]=null,Ve||(Ve={}),Ve[c]||(Ve[c]=!0,Xe++)):e=Je(e,a,i)));return e}var Ze=null,et=null;function tt(e){if(_(e))throw f(Error("setRestoreImplementation() needs to be called to handle a target for controlled events. This error is likely caused by a bug in React. Please file an issue."))}function nt(e,t){return e(t)}function rt(){}var it=!1;function lt(e,t){if(it)return e(t);it=!0;try{return nt(e,t)}finally{if(it=!1,(null!==Ze||null!==et)&&(rt(),Ze&&(t=Ze,e=et,et=Ze=null,tt(t),e)))for(t=0;t<e.length;t++)tt(e[t])}}function at(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function ot(){throw f(Error("The current renderer does not support hydration. This error is likely caused by a bug in React. Please file an issue."))}!(function(e){function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");var n=e.apply(this,arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?this:n}at(t,e),t.prototype.blur=function(){},t.prototype.focus=function(){},t.prototype.measure=function(){},t.prototype.measureInWindow=function(){},t.prototype.measureLayout=function(){},t.prototype.setNativeProps=function(){}})(c.Component),new Map,new Map,new Set,new Map;var ut=nativeFabricUIManager,ct=ut.createNode,st=ut.cloneNode,ft=ut.cloneNodeWithNewChildren,dt=ut.cloneNodeWithNewChildrenAndProps,pt=ut.cloneNodeWithNewProps,ht=ut.createChildSet,mt=ut.appendChild,gt=ut.appendChildToSet,yt=ut.completeRoot,vt=ut.registerEventHandler,bt=ut.measure,Tt=ut.measureInWindow,Et=ut.measureLayout,xt=u.ReactNativeViewConfigRegistry.get,St=2;vt&&vt(function(e,t,n){lt(function(){for(var r=n.target,i=null,l=0;l<g.length;l++){var a=g[l];a&&(a=a.extractEvents(t,e,n,r))&&(i=z(i,a))}if(null!==(r=i)&&(M=z(M,r)),r=M,M=null,r){if(U(r,A),M)throw f(Error("processEventQueue(): Additional events were enqueued while processing an event queue. Support for this has not yet been implemented."));if(x)throw r=S,x=!1,S=null,r}})});var wt=(function(){function e(t,n,r,i){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this._nativeTag=t,this.viewConfig=n,this.currentProps=r,this._internalInstanceHandle=i}return e.prototype.blur=function(){u.TextInputState.blurTextInput(this._nativeTag)},e.prototype.focus=function(){u.TextInputState.focusTextInput(this._nativeTag)},e.prototype.measure=function(e){bt(this._internalInstanceHandle.stateNode.node,Le(this,e))},e.prototype.measureInWindow=function(e){Tt(this._internalInstanceHandle.stateNode.node,Le(this,e))},e.prototype.measureLayout=function(t,n,r){"number"!=typeof t&&t instanceof e&&Et(this._internalInstanceHandle.stateNode.node,t._internalInstanceHandle.stateNode.node,Le(this,r),Le(this,n))},e.prototype.setNativeProps=function(){},e})();function kt(e,t,n,r){if(!n.isInAParentText)throw f(Error("Text strings must be rendered within a <Text> component."));return n=St,St+=2,{node:ct(n,"RCTRawText",t,{text:e},r)}}var Pt=setTimeout,Ct=clearTimeout;function _t(e){var t=e.node,n=Ke(null,Ye,{style:{display:"none"}},e.canonical.viewConfig.validAttributes);return{node:pt(t,n),canonical:e.canonical}}var Rt=/^(.*)[\\\/]/;function Nt(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,l=Oe(e.type);n=null,r&&(n=Oe(r.type)),r=l,l="",i?l=" (at "+i.fileName.replace(Rt,"")+":"+i.lineNumber+")":n&&(l=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+l}t+=n,e=e.return}while(e);return t}new Set;var It=[],zt=-1;function Ut(e){0>zt||(e.current=It[zt],It[zt]=null,zt--)}function Mt(e,t){It[++zt]=e.current,e.current=t}var At={},Dt={current:At},Ft={current:!1},jt=At;function Ot(e,t){var n=e.type.contextTypes;if(!n)return At;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,l={};for(i in n)l[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Wt(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ht(e){Ut(Ft),Ut(Dt)}function Bt(e){Ut(Ft),Ut(Dt)}function Qt(e,t,n){if(Dt.current!==At)throw f(Error("Unexpected context found on stack. This error is likely caused by a bug in React. Please file an issue."));Mt(Dt,t),Mt(Ft,n)}function Lt(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in e))throw f(Error((Oe(t)||"Unknown")+'.getChildContext(): key "'+i+'" is not defined in childContextTypes.'));return o({},n,r)}function Yt(e){var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||At,jt=Dt.current,Mt(Dt,t),Mt(Ft,Ft.current),!0}function Vt(e,t,n){var r=e.stateNode;if(!r)throw f(Error("Expected to have an instance by this point. This error is likely caused by a bug in React. Please file an issue."));n?(t=Lt(e,t,jt),r.__reactInternalMemoizedMergedChildContext=t,Ut(Ft),Ut(Dt),Mt(Dt,t)):Ut(Ft),Mt(Ft,n)}var Xt=s.unstable_runWithPriority,qt=s.unstable_scheduleCallback,$t=s.unstable_cancelCallback,Gt=s.unstable_shouldYield,Jt=s.unstable_requestPaint,Kt=s.unstable_now,Zt=s.unstable_getCurrentPriorityLevel,en=s.unstable_ImmediatePriority,tn=s.unstable_UserBlockingPriority,nn=s.unstable_NormalPriority,rn=s.unstable_LowPriority,ln=s.unstable_IdlePriority,an={},on=void 0!==Jt?Jt:function(){},un=null,cn=null,sn=!1,fn=Kt(),dn=1e4>fn?Kt:function(){return Kt()-fn};function pn(){switch(Zt()){case en:return 99;case tn:return 98;case nn:return 97;case rn:return 96;case ln:return 95;default:throw f(Error("Unknown priority level."))}}function hn(e){switch(e){case 99:return en;case 98:return tn;case 97:return nn;case 96:return rn;case 95:return ln;default:throw f(Error("Unknown priority level."))}}function mn(e,t){return e=hn(e),Xt(e,t)}function gn(e,t,n){return e=hn(e),qt(e,t,n)}function yn(e){return null===un?(un=[e],cn=qt(en,bn)):un.push(e),an}function vn(){null!==cn&&$t(cn),bn()}function bn(){if(!sn&&null!==un){sn=!0;var e=0;try{var t=un;mn(99,function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}}),un=null}catch(t){throw null!==un&&(un=un.slice(e+1)),qt(en,vn),t}finally{sn=!1}}}function Tn(e,t){return 1073741823===t?99:1===t?95:0>=(e=10*(1073741821-t)-10*(1073741821-e))?99:250>=e?98:5250>=e?97:95}function En(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t}var xn=Object.prototype.hasOwnProperty;function Sn(e,t){if(En(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!xn.call(t,n[r])||!En(e[n[r]],t[n[r]]))return!1;return!0}function wn(e,t){if(e&&e.defaultProps)for(var n in t=o({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}function kn(e){var t=e._result;switch(e._status){case 1:return t;case 2:case 0:throw t;default:switch(e._status=0,(t=(t=e._ctor)()).then(function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)},function(t){0===e._status&&(e._status=2,e._result=t)}),e._status){case 1:return e._result;case 2:throw e._result}throw e._result=t,t}}var Pn={current:null},Cn=null,_n=null,Rn=null;function Nn(){Rn=_n=Cn=null}function In(e,t){var n=e.type._context;Mt(Pn,n._currentValue2),n._currentValue2=t}function zn(e){var t=Pn.current;Ut(Pn),e.type._context._currentValue2=t}function Un(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function Mn(e,t){Cn=e,Rn=_n=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(hi=!0),e.firstContext=null)}function An(e,t){if(Rn!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(Rn=e,t=1073741823),t={context:e,observedBits:t,next:null},null===_n){if(null===Cn)throw f(Error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo()."));_n=t,Cn.dependencies={expirationTime:0,firstContext:t,responders:null}}else _n=_n.next=t;return e._currentValue2}var Dn=!1;function Fn(e){return{baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function jn(e){return{baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function On(e,t){return{expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function Wn(e,t){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t)}function Hn(e,t){var n=e.alternate;if(null===n){var r=e.updateQueue,i=null;null===r&&(r=e.updateQueue=Fn(e.memoizedState))}else r=e.updateQueue,i=n.updateQueue,null===r?null===i?(r=e.updateQueue=Fn(e.memoizedState),i=n.updateQueue=Fn(n.memoizedState)):r=e.updateQueue=jn(i):null===i&&(i=n.updateQueue=jn(r));null===i||r===i?Wn(r,t):null===r.lastUpdate||null===i.lastUpdate?(Wn(r,t),Wn(i,t)):(Wn(r,t),i.lastUpdate=t)}function Bn(e,t){var n=e.updateQueue;null===(n=null===n?e.updateQueue=Fn(e.memoizedState):Qn(e,n)).lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=t:(n.lastCapturedUpdate.next=t,n.lastCapturedUpdate=t)}function Qn(e,t){var n=e.alternate;return null!==n&&t===n.updateQueue&&(t=e.updateQueue=jn(t)),t}function Ln(e,t,n,r,i,l){switch(n.tag){case 1:return"function"==typeof(e=n.payload)?e.call(l,r,i):e;case 3:e.effectTag=-2049&e.effectTag|64;case 0:if(null===(i="function"==typeof(e=n.payload)?e.call(l,r,i):e)||void 0===i)break;return o({},r,i);case 2:Dn=!0}return r}function Yn(e,t,n,r,i){Dn=!1;for(var l=(t=Qn(e,t)).baseState,a=null,o=0,u=t.firstUpdate,c=l;null!==u;){var s=u.expirationTime;s<i?(null===a&&(a=u,l=c),o<s&&(o=s)):(Wl(s,u.suspenseConfig),c=Ln(e,0,u,c,n,r),null!==u.callback&&(e.effectTag|=32,u.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=u:(t.lastEffect.nextEffect=u,t.lastEffect=u))),u=u.next}for(s=null,u=t.firstCapturedUpdate;null!==u;){var f=u.expirationTime;f<i?(null===s&&(s=u,null===a&&(l=c)),o<f&&(o=f)):(c=Ln(e,0,u,c,n,r),null!==u.callback&&(e.effectTag|=32,u.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=u:(t.lastCapturedEffect.nextEffect=u,t.lastCapturedEffect=u))),u=u.next}null===a&&(t.lastUpdate=null),null===s?t.lastCapturedUpdate=null:e.effectTag|=32,null===a&&null===s&&(l=c),t.baseState=l,t.firstUpdate=a,t.firstCapturedUpdate=s,e.expirationTime=o,e.memoizedState=c}function Vn(e,t,n){null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),Xn(t.firstEffect,n),t.firstEffect=t.lastEffect=null,Xn(t.firstCapturedEffect,n),t.firstCapturedEffect=t.lastCapturedEffect=null}function Xn(e,t){for(;null!==e;){var n=e.callback;if(null!==n){e.callback=null;var r=t;if("function"!=typeof n)throw f(Error("Invalid argument passed as callback. Expected a function. Instead received: "+n));n.call(r)}e=e.nextEffect}}var qn=xe.ReactCurrentBatchConfig,$n=(new c.Component).refs;function Gn(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:o({},t,n),e.memoizedState=n,null!==(r=e.updateQueue)&&0===e.expirationTime&&(r.baseState=n)}var Jn={isMounted:function(e){return!!(e=e._reactInternalFiber)&&2===We(e)},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=Nl(),i=qn.suspense;(i=On(r=Il(r,e,i),i)).payload=t,void 0!==n&&null!==n&&(i.callback=n),Hn(e,i),zl(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=Nl(),i=qn.suspense;(i=On(r=Il(r,e,i),i)).tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),Hn(e,i),zl(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=Nl(),r=qn.suspense;(r=On(n=Il(n,e,r),r)).tag=2,void 0!==t&&null!==t&&(r.callback=t),Hn(e,r),zl(e,n)}};function Kn(e,t,n,r,i,l,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,l,a):!t.prototype||!t.prototype.isPureReactComponent||(!Sn(n,r)||!Sn(i,l))}function Zn(e,t,n){var r=!1,i=At,l=t.contextType;return"object"==typeof l&&null!==l?l=An(l):(i=Wt(t)?jt:Dt.current,l=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ot(e,i):At),t=new t(n,l),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Jn,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=l),t}function er(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Jn.enqueueReplaceState(t,t.state,null)}function tr(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=$n;var l=t.contextType;"object"==typeof l&&null!==l?i.context=An(l):(l=Wt(t)?jt:Dt.current,i.context=Ot(e,l)),null!==(l=e.updateQueue)&&(Yn(e,l,n,i,r),i.state=e.memoizedState),"function"==typeof(l=t.getDerivedStateFromProps)&&(Gn(e,t,l,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Jn.enqueueReplaceState(i,i.state,null),null!==(l=e.updateQueue)&&(Yn(e,l,n,i,r),i.state=e.memoizedState)),"function"==typeof i.componentDidMount&&(e.effectTag|=4)}var nr=Array.isArray;function rr(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){var r=void 0;if(n=n._owner){if(1!==n.tag)throw f(Error("Function components cannot have refs. Did you mean to use React.forwardRef()?"));r=n.stateNode}if(!r)throw f(Error("Missing owner for string ref "+e+". This error is likely caused by a bug in React. Please file an issue."));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===$n&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!=typeof e)throw f(Error("Expected ref to be a function, a string, an object returned by React.createRef(), or null."));if(!n._owner)throw f(Error("Element ref was specified as a string ("+e+") but no owner was set. This could happen for one of the following reasons:\n1. You may be adding a ref to a function component\n2. You may be adding a ref to a component that was not created inside a component's render method\n3. You have multiple copies of React loaded\nSee https://fb.me/react-refs-must-have-owner for more information."))}return e}function ir(e,t){if("textarea"!==e.type)throw f(Error("Objects are not valid as a React child (found: "+("[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t)+")."))}function lr(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t,n){return(e=la(e,t)).index=0,e.sibling=null,e}function l(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function a(t){return e&&null===t.alternate&&(t.effectTag=2),t}function o(e,t,n,r){return null===t||6!==t.tag?((t=ua(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=rr(e,t,n),r.return=e,r):((r=aa(n.type,n.key,n.props,null,e.mode,r)).ref=rr(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=ca(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function s(e,t,n,r,l){return null===t||7!==t.tag?((t=oa(n,e.mode,r,l)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=ua(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case we:return(n=aa(t.type,t.key,t.props,null,e.mode,n)).ref=rr(e,null,t),n.return=e,n;case ke:return(t=ca(t,e.mode,n)).return=e,t}if(nr(t)||je(t))return(t=oa(t,e.mode,n,null)).return=e,t;ir(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:o(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case we:return n.key===i?n.type===Pe?s(e,t,n.props.children,r,i):u(e,t,n,r):null;case ke:return n.key===i?c(e,t,n,r):null}if(nr(n)||je(n))return null!==i?null:s(e,t,n,r,null);ir(e,n)}return null}function h(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return o(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case we:return e=e.get(null===r.key?n:r.key)||null,r.type===Pe?s(t,e,r.props.children,i,r.key):u(t,e,r,i);case ke:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(nr(r)||je(r))return s(t,e=e.get(n)||null,r,i,null);ir(t,r)}return null}function m(i,a,o,u){for(var c=null,s=null,f=a,m=a=0,g=null;null!==f&&m<o.length;m++){f.index>m?(g=f,f=null):g=f.sibling;var y=p(i,f,o[m],u);if(null===y){null===f&&(f=g);break}e&&f&&null===y.alternate&&t(i,f),a=l(y,a,m),null===s?c=y:s.sibling=y,s=y,f=g}if(m===o.length)return n(i,f),c;if(null===f){for(;m<o.length;m++)null!==(f=d(i,o[m],u))&&(a=l(f,a,m),null===s?c=f:s.sibling=f,s=f);return c}for(f=r(i,f);m<o.length;m++)null!==(g=h(f,i,m,o[m],u))&&(e&&null!==g.alternate&&f.delete(null===g.key?m:g.key),a=l(g,a,m),null===s?c=g:s.sibling=g,s=g);return e&&f.forEach(function(e){return t(i,e)}),c}function g(i,a,o,u){var c=je(o);if("function"!=typeof c)throw f(Error("An object is not an iterable. This error is likely caused by a bug in React. Please file an issue."));if(null==(o=c.call(o)))throw f(Error("An iterable object provided no iterator."));for(var s=c=null,m=a,g=a=0,y=null,v=o.next();null!==m&&!v.done;g++,v=o.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=p(i,m,v.value,u);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(i,m),a=l(b,a,g),null===s?c=b:s.sibling=b,s=b,m=y}if(v.done)return n(i,m),c;if(null===m){for(;!v.done;g++,v=o.next())null!==(v=d(i,v.value,u))&&(a=l(v,a,g),null===s?c=v:s.sibling=v,s=v);return c}for(m=r(i,m);!v.done;g++,v=o.next())null!==(v=h(m,i,g,v.value,u))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),a=l(v,a,g),null===s?c=v:s.sibling=v,s=v);return e&&m.forEach(function(e){return t(i,e)}),c}return function(e,r,l,o){var u="object"==typeof l&&null!==l&&l.type===Pe&&null===l.key;u&&(l=l.props.children);var c="object"==typeof l&&null!==l;if(c)switch(l.$$typeof){case we:e:{for(c=l.key,u=r;null!==u;){if(u.key===c){if(7===u.tag?l.type===Pe:u.elementType===l.type){n(e,u.sibling),(r=i(u,l.type===Pe?l.props.children:l.props)).ref=rr(e,u,l),r.return=e,e=r;break e}n(e,u);break}t(e,u),u=u.sibling}l.type===Pe?((r=oa(l.props.children,e.mode,o,l.key)).return=e,e=r):((o=aa(l.type,l.key,l.props,null,e.mode,o)).ref=rr(e,r,l),o.return=e,e=o)}return a(e);case ke:e:{for(u=l.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===l.containerInfo&&r.stateNode.implementation===l.implementation){n(e,r.sibling),(r=i(r,l.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=ca(l,e.mode,o)).return=e,e=r}return a(e)}if("string"==typeof l||"number"==typeof l)return l=""+l,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,l)).return=e,e=r):(n(e,r),(r=ua(l,e.mode,o)).return=e,e=r),a(e);if(nr(l))return m(e,r,l,o);if(je(l))return g(e,r,l,o);if(c&&ir(e,l),void 0===l&&!u)switch(e.tag){case 1:case 0:throw e=e.type,f(Error((e.displayName||e.name||"Component")+"(...): Nothing was returned from render. This usually means a return statement is missing. Or, to render nothing, return null."))}return n(e,r)}}var ar=lr(!0),or=lr(!1),ur={},cr={current:ur},sr={current:ur},fr={current:ur};function dr(e){if(e===ur)throw f(Error("Expected host context to exist. This error is likely caused by a bug in React. Please file an issue."));return e}function pr(e,t){Mt(fr,t),Mt(sr,e),Mt(cr,ur),Ut(cr),Mt(cr,{isInAParentText:!1})}function hr(e){Ut(cr),Ut(sr),Ut(fr)}function mr(e){dr(fr.current);var t=dr(cr.current),n=e.type;n="AndroidTextInput"===n||"RCTMultilineTextInputView"===n||"RCTSinglelineTextInputView"===n||"RCTText"===n||"RCTVirtualText"===n,t!==(n=t.isInAParentText!==n?{isInAParentText:n}:t)&&(Mt(sr,e),Mt(cr,n))}function gr(e){sr.current===e&&(Ut(cr),Ut(sr))}var yr=1,vr=1,br=2,Tr={current:0};function Er(e){for(var t=e;null!==t;){if(13===t.tag){if(null!==t.memoizedState)return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function xr(e,t){return{responder:e,props:t}}var Sr=0,wr=2,kr=4,Pr=8,Cr=16,_r=32,Rr=64,Nr=128,Ir=xe.ReactCurrentDispatcher,zr=0,Ur=null,Mr=null,Ar=null,Dr=null,Fr=null,jr=null,Or=0,Wr=null,Hr=0,Br=!1,Qr=null,Lr=0;function Yr(){throw f(Error("Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:\n1. You might have mismatching versions of React and the renderer (such as React DOM)\n2. You might be breaking the Rules of Hooks\n3. You might have more than one copy of React in the same app\nSee https://fb.me/react-invalid-hook-call for tips about how to debug and fix this problem."))}function Vr(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!En(e[n],t[n]))return!1;return!0}function Xr(e,t,n,r,i,l){if(zr=l,Ur=t,Ar=null!==e?e.memoizedState:null,Ir.current=null===Ar?ai:oi,t=n(r,i),Br){do{Br=!1,Lr+=1,Ar=null!==e?e.memoizedState:null,jr=Dr,Wr=Fr=Mr=null,Ir.current=oi,t=n(r,i)}while(Br);Qr=null,Lr=0}if(Ir.current=li,(e=Ur).memoizedState=Dr,e.expirationTime=Or,e.updateQueue=Wr,e.effectTag|=Hr,e=null!==Mr&&null!==Mr.next,zr=0,jr=Fr=Dr=Ar=Mr=Ur=null,Or=0,Wr=null,Hr=0,e)throw f(Error("Rendered fewer hooks than expected. This may be caused by an accidental early return statement."));return t}function qr(){Ir.current=li,zr=0,jr=Fr=Dr=Ar=Mr=Ur=null,Or=0,Wr=null,Hr=0,Br=!1,Qr=null,Lr=0}function $r(){var e={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===Fr?Dr=Fr=e:Fr=Fr.next=e,Fr}function Gr(){if(null!==jr)jr=(Fr=jr).next,Ar=null!==(Mr=Ar)?Mr.next:null;else{if(null===Ar)throw f(Error("Rendered more hooks than during the previous render."));var e={memoizedState:(Mr=Ar).memoizedState,baseState:Mr.baseState,queue:Mr.queue,baseUpdate:Mr.baseUpdate,next:null};Fr=null===Fr?Dr=e:Fr.next=e,Ar=Mr.next}return Fr}function Jr(e,t){return"function"==typeof t?t(e):t}function Kr(e){var t=Gr(),n=t.queue;if(null===n)throw f(Error("Should have a queue. This is likely a bug in React. Please file an issue."));if(n.lastRenderedReducer=e,0<Lr){var r=n.dispatch;if(null!==Qr){var i=Qr.get(n);if(void 0!==i){Qr.delete(n);var l=t.memoizedState;do{l=e(l,i.action),i=i.next}while(null!==i);return En(l,t.memoizedState)||(hi=!0),t.memoizedState=l,t.baseUpdate===n.last&&(t.baseState=l),n.lastRenderedState=l,[l,r]}}return[t.memoizedState,r]}r=n.last;var a=t.baseUpdate;if(l=t.baseState,null!==a?(null!==r&&(r.next=null),r=a.next):r=null!==r?r.next:null,null!==r){var o=i=null,u=r,c=!1;do{var s=u.expirationTime;s<zr?(c||(c=!0,o=a,i=l),s>Or&&(Or=s)):(Wl(s,u.suspenseConfig),l=u.eagerReducer===e?u.eagerState:e(l,u.action)),a=u,u=u.next}while(null!==u&&u!==r);c||(o=a,i=l),En(l,t.memoizedState)||(hi=!0),t.memoizedState=l,t.baseUpdate=o,t.baseState=i,n.lastRenderedState=l}return[t.memoizedState,n.dispatch]}function Zr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===Wr?(Wr={lastEffect:null}).lastEffect=e.next=e:null===(t=Wr.lastEffect)?Wr.lastEffect=e.next=e:(n=t.next,t.next=e,e.next=n,Wr.lastEffect=e),e}function ei(e,t,n,r){var i=$r();Hr|=e,i.memoizedState=Zr(t,n,void 0,void 0===r?null:r)}function ti(e,t,n,r){var i=Gr();r=void 0===r?null:r;var l=void 0;if(null!==Mr){var a=Mr.memoizedState;if(l=a.destroy,null!==r&&Vr(r,a.deps))return void Zr(Sr,n,l,r)}Hr|=e,i.memoizedState=Zr(t,n,l,r)}function ni(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ri(){}function ii(e,t,n){if(!(25>Lr))throw f(Error("Too many re-renders. React limits the number of renders to prevent an infinite loop."));var r=e.alternate;if(e===Ur||null!==r&&r===Ur)if(Br=!0,e={expirationTime:zr,suspenseConfig:null,action:n,eagerReducer:null,eagerState:null,next:null},null===Qr&&(Qr=new Map),void 0===(n=Qr.get(t)))Qr.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}else{var i=Nl(),l=qn.suspense;l={expirationTime:i=Il(i,e,l),suspenseConfig:l,action:n,eagerReducer:null,eagerState:null,next:null};var a=t.last;if(null===a)l.next=l;else{var o=a.next;null!==o&&(l.next=o),a.next=l}if(t.last=l,0===e.expirationTime&&(null===r||0===r.expirationTime)&&null!==(r=t.lastRenderedReducer))try{var u=t.lastRenderedState,c=r(u,n);if(l.eagerReducer=r,l.eagerState=c,En(c,u))return}catch(e){}zl(e,i)}}var li={readContext:An,useCallback:Yr,useContext:Yr,useEffect:Yr,useImperativeHandle:Yr,useLayoutEffect:Yr,useMemo:Yr,useReducer:Yr,useRef:Yr,useState:Yr,useDebugValue:Yr,useResponder:Yr},ai={readContext:An,useCallback:function(e,t){return $r().memoizedState=[e,void 0===t?null:t],e},useContext:An,useEffect:function(e,t){return ei(516,192,e,t)},useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ei(4,36,ni.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ei(4,36,e,t)},useMemo:function(e,t){var n=$r();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=$r();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={last:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=ii.bind(null,Ur,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},$r().memoizedState=e},useState:function(e){var t=$r();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={last:null,dispatch:null,lastRenderedReducer:Jr,lastRenderedState:e}).dispatch=ii.bind(null,Ur,e),[t.memoizedState,e]},useDebugValue:ri,useResponder:xr},oi={readContext:An,useCallback:function(e,t){var n=Gr();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Vr(t,r[1])?r[0]:(n.memoizedState=[e,t],e)},useContext:An,useEffect:function(e,t){return ti(516,192,e,t)},useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ti(4,36,ni.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ti(4,36,e,t)},useMemo:function(e,t){var n=Gr();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Vr(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)},useReducer:Kr,useRef:function(){return Gr().memoizedState},useState:function(e){return Kr(Jr)},useDebugValue:ri,useResponder:xr},ui=null,ci=null,si=!1;function fi(e,t){switch(e.tag){case 5:return null!==(t=ot(e.type,e.pendingProps))&&(e.stateNode=t,!0);case 6:return null!==(t=ot(e.pendingProps))&&(e.stateNode=t,!0);case 13:default:return!1}}function di(e){if(si){var t=ci;if(t){var n=t;if(!fi(e,t)){if(!(t=ot())||!fi(e,t))return e.effectTag|=2,si=!1,void(ui=e);var r=ui,i=na(5,null,null,0);i.elementType="DELETED",i.type="DELETED",i.stateNode=n,i.return=r,i.effectTag=8,null!==r.lastEffect?(r.lastEffect.nextEffect=i,r.lastEffect=i):r.firstEffect=r.lastEffect=i}ui=e,ci=ot()}else e.effectTag|=2,si=!1,ui=e}}var pi=xe.ReactCurrentOwner,hi=!1;function mi(e,t,n,r){t.child=null===e?or(t,null,n,r):ar(t,e.child,n,r)}function gi(e,t,n,r,i){n=n.render;var l=t.ref;return Mn(t,i),r=Xr(e,t,n,r,l,i),null===e||hi?(t.effectTag|=1,mi(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),_i(e,t,i))}function yi(e,t,n,r,i,l){if(null===e){var a=n.type;return"function"!=typeof a||ra(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=aa(n.type,null,r,null,t.mode,l)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,vi(e,t,a,r,i,l))}return a=e.child,i<l&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:Sn)(i,r)&&e.ref===t.ref)?_i(e,t,l):(t.effectTag|=1,(e=la(a,r)).ref=t.ref,e.return=t,t.child=e)}function vi(e,t,n,r,i,l){return null!==e&&Sn(e.memoizedProps,r)&&e.ref===t.ref&&(hi=!1,i<l)?_i(e,t,l):Ti(e,t,n,r,l)}function bi(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Ti(e,t,n,r,i){var l=Wt(n)?jt:Dt.current;return l=Ot(t,l),Mn(t,i),n=Xr(e,t,n,r,l,i),null===e||hi?(t.effectTag|=1,mi(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),_i(e,t,i))}function Ei(e,t,n,r,i){if(Wt(n)){var l=!0;Yt(t)}else l=!1;if(Mn(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),Zn(t,n,r),tr(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var u=a.context,c=n.contextType;"object"==typeof c&&null!==c?c=An(c):c=Ot(t,c=Wt(n)?jt:Dt.current);var s=n.getDerivedStateFromProps,f="function"==typeof s||"function"==typeof a.getSnapshotBeforeUpdate;f||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(o!==r||u!==c)&&er(t,a,r,c),Dn=!1;var d=t.memoizedState;u=a.state=d;var p=t.updateQueue;null!==p&&(Yn(t,p,r,a,i),u=t.memoizedState),o!==r||d!==u||Ft.current||Dn?("function"==typeof s&&(Gn(t,n,s,r),u=t.memoizedState),(o=Dn||Kn(t,n,o,r,d,u,c))?(f||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.effectTag|=4)):("function"==typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=o):("function"==typeof a.componentDidMount&&(t.effectTag|=4),r=!1)}else a=t.stateNode,o=t.memoizedProps,a.props=t.type===t.elementType?o:wn(t.type,o),u=a.context,"object"==typeof(c=n.contextType)&&null!==c?c=An(c):c=Ot(t,c=Wt(n)?jt:Dt.current),(f="function"==typeof(s=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(o!==r||u!==c)&&er(t,a,r,c),Dn=!1,u=t.memoizedState,d=a.state=u,null!==(p=t.updateQueue)&&(Yn(t,p,r,a,i),d=t.memoizedState),o!==r||u!==d||Ft.current||Dn?("function"==typeof s&&(Gn(t,n,s,r),d=t.memoizedState),(s=Dn||Kn(t,n,o,r,u,d,c))?(f||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,d,c),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,d,c)),"function"==typeof a.componentDidUpdate&&(t.effectTag|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof a.componentDidUpdate||o===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=d),a.props=r,a.state=d,a.context=c,r=s):("function"!=typeof a.componentDidUpdate||o===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),r=!1);return xi(e,t,n,r,l,i)}function xi(e,t,n,r,i,l){bi(e,t);var a=0!=(64&t.effectTag);if(!r&&!a)return i&&Vt(t,n,!1),_i(e,t,l);r=t.stateNode,pi.current=t;var o=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&a?(t.child=ar(t,e.child,null,l),t.child=ar(t,null,o,l)):mi(e,t,o,l),t.memoizedState=r.state,i&&Vt(t,n,!0),t.child}function Si(e){var t=e.stateNode;t.pendingContext?Qt(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Qt(0,t.context,!1),pr(e,t.containerInfo)}var wi={};function ki(e,t,n){var r,i=t.mode,l=t.pendingProps,a=Tr.current,o=null,u=!1;if((r=0!=(64&t.effectTag))||(r=0!=(a&br)&&(null===e||null!==e.memoizedState)),r?(o=wi,u=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===l.fallback||!0===l.unstable_avoidThisFallback||(a|=vr),Mt(Tr,a&=yr),null===e)if(u){if(l=l.fallback,(e=oa(null,i,0,null)).return=t,0==(2&t.mode))for(u=null!==t.memoizedState?t.child.child:t.child,e.child=u;null!==u;)u.return=e,u=u.sibling;(n=oa(l,i,n,null)).return=t,e.sibling=n,i=e}else i=n=or(t,null,l.children,n);else{if(null!==e.memoizedState)if(i=(a=e.child).sibling,u){if(l=l.fallback,(n=la(a,a.pendingProps)).return=t,0==(2&t.mode)&&(u=null!==t.memoizedState?t.child.child:t.child)!==a.child)for(n.child=u;null!==u;)u.return=n,u=u.sibling;(l=la(i,l,i.expirationTime)).return=t,n.sibling=l,i=n,n.childExpirationTime=0,n=l}else i=n=ar(t,a.child,l.children,n);else if(a=e.child,u){if(u=l.fallback,(l=oa(null,i,0,null)).return=t,l.child=a,null!==a&&(a.return=l),0==(2&t.mode))for(a=null!==t.memoizedState?t.child.child:t.child,l.child=a;null!==a;)a.return=l,a=a.sibling;(n=oa(u,i,n,null)).return=t,l.sibling=n,n.effectTag|=2,i=l,l.childExpirationTime=0}else n=i=ar(t,a,l.children,n);t.stateNode=e.stateNode}return t.memoizedState=o,t.child=i,n}function Pi(e,t,n,r,i){var l=e.memoizedState;null===l?e.memoizedState={isBackwards:t,rendering:null,last:r,tail:n,tailExpiration:0,tailMode:i}:(l.isBackwards=t,l.rendering=null,l.last=r,l.tail=n,l.tailExpiration=0,l.tailMode=i)}function Ci(e,t,n){var r=t.pendingProps,i=r.revealOrder,l=r.tail;if(mi(e,t,r.children,n),0!=((r=Tr.current)&br))r=r&yr|br,t.effectTag|=64;else{if(null!==e&&0!=(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag){if(null!==e.memoizedState){e.expirationTime<n&&(e.expirationTime=n);var a=e.alternate;null!==a&&a.expirationTime<n&&(a.expirationTime=n),Un(e.return,n)}}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=yr}if(Mt(Tr,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(r=n.alternate)&&null===Er(r)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Pi(t,!1,i,n,l);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(r=i.alternate)&&null===Er(r)){t.child=i;break}r=i.sibling,i.sibling=n,n=i,i=r}Pi(t,!0,n,null,l);break;case"together":Pi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function _i(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw f(Error("Resuming work not yet implemented."));if(null!==t.child){for(n=la(e=t.child,e.pendingProps,e.expirationTime),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=la(e,e.pendingProps,e.expirationTime)).return=t;n.sibling=null}return t.child}var Ri=void 0,Ni=void 0,Ii=void 0,zi=void 0;function Ui(e,t,n,r){for(var i=t.child;null!==i;){if(5===i.tag){var l=i.stateNode;n&&r&&(l=_t(l,i.type,i.memoizedProps)),gt(e,l.node)}else if(6===i.tag){if(l=i.stateNode,n&&r)throw Error("Not yet implemented.");gt(e,l.node)}else if(4!==i.tag){if(13===i.tag&&0!=(4&i.effectTag)&&(l=null!==i.memoizedState)){var a=i.child;if(null!==a&&(null!==a.child&&(a.child.return=a,Ui(e,a,!0,l)),null!==(l=a.sibling))){l.return=i,i=l;continue}}if(null!==i.child){i.child.return=i,i=i.child;continue}}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}}function Mi(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ai(e){switch(e.tag){case 1:Wt(e.type)&&Ht();var t=e.effectTag;return 2048&t?(e.effectTag=-2049&t|64,e):null;case 3:if(hr(),Bt(),0!=(64&(t=e.effectTag)))throw f(Error("The root failed to unmount after an error. This is likely a bug in React. Please file an issue."));return e.effectTag=-2049&t|64,e;case 5:return gr(e),null;case 13:return Ut(Tr),2048&(t=e.effectTag)?(e.effectTag=-2049&t|64,e):null;case 18:return null;case 19:return Ut(Tr),null;case 4:return hr(),null;case 10:return zn(e),null;default:return null}}function Di(e,t){return{value:e,source:t,stack:Nt(t)}}if(Ri=function(e,t,n,r){for(var i=t.child;null!==i;){if(5===i.tag){var l=i.stateNode;n&&r&&(l=_t(l,i.type,i.memoizedProps)),mt(e.node,l.node)}else if(6===i.tag){if(l=i.stateNode,n&&r)throw Error("Not yet implemented.");mt(e.node,l.node)}else if(4!==i.tag){if(13===i.tag&&0!=(4&i.effectTag)&&(l=null!==i.memoizedState)){var a=i.child;if(null!==a&&(null!==a.child&&(a.child.return=a,Ri(e,a,!0,l)),null!==(l=a.sibling))){l.return=i,i=l;continue}}if(null!==i.child){i.child.return=i,i=i.child;continue}}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Ni=function(e){var t=e.stateNode;if(null!==e.firstEffect){var n=t.containerInfo,r=ht(n);Ui(r,e,!1,!1),t.pendingChildren=r,e.effectTag|=4,yt(n,r)}},Ii=function(e,t,n,r){n=e.stateNode;var i=e.memoizedProps;if((e=null===t.firstEffect)&&i===r)t.stateNode=n;else{var l=t.stateNode;dr(cr.current);var a=null;i!==r&&(i=Ke(null,i,r,l.canonical.viewConfig.validAttributes),l.canonical.currentProps=r,a=i),e&&null===a?t.stateNode=n:(r=a,l=n.node,n={node:e?null!==r?pt(l,r):st(l):null!==r?dt(l,r):ft(l),canonical:n.canonical},t.stateNode=n,e?t.effectTag|=4:Ri(n,t,!1,!1))}},zi=function(e,t,n,r){n!==r&&(e=dr(fr.current),n=dr(cr.current),t.stateNode=kt(r,e,n,t),t.effectTag|=4)},"function"!=typeof u.ReactFiberErrorDialog.showErrorDialog)throw f(Error("Expected ReactFiberErrorDialog.showErrorDialog to be a function."));var Fi="function"==typeof WeakSet?WeakSet:Set;function ji(e,t){var n,r=t.source,i=t.stack;null===i&&null!==r&&(i=Nt(r)),t={componentName:null!==r?Oe(r.type):null,componentStack:null!==i?i:"",error:t.value,errorBoundary:null,errorBoundaryName:null,errorBoundaryFound:!1,willRetry:!1},null!==e&&1===e.tag&&(t.errorBoundary=e.stateNode,t.errorBoundaryName=Oe(e.type),t.errorBoundaryFound=!0,t.willRetry=!0);try{n=t,!1!==u.ReactFiberErrorDialog.showErrorDialog(n)&&console.error(n.error)}catch(e){setTimeout(function(){throw e})}}function Oi(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){ql(e,t)}}function Wi(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){ql(e,t)}else t.current=null}function Hi(e,t,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var r=n=n.next;do{if((r.tag&e)!==Sr){var i=r.destroy;r.destroy=void 0,void 0!==i&&i()}(r.tag&t)!==Sr&&(i=r.create,r.destroy=i()),r=r.next}while(r!==n)}}function Bi(e,t){switch("function"==typeof Zl&&Zl(e),e.tag){case 0:case 11:case 14:case 15:var n=e.updateQueue;if(null!==n&&null!==(n=n.lastEffect)){var r=n.next;mn(97<t?97:t,function(){var t=r;do{var n=t.destroy;if(void 0!==n){var i=e;try{n()}catch(e){ql(i,e)}}t=t.next}while(t!==r)})}break;case 1:Wi(e),"function"==typeof(t=e.stateNode).componentWillUnmount&&Oi(e,t);break;case 5:Wi(e);break;case 4:ht(e.stateNode.containerInfo)}}function Qi(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,null!==t&&Qi(t)}function Li(e,t){switch(t.tag){case 0:case 11:case 14:case 15:return void Hi(kr,Pr,t);case 12:return;case 13:return null!==t.memoizedState&&(gl=dn()),void Yi(t);case 19:return void Yi(t)}switch(t.tag){case 1:case 5:case 6:case 20:break;case 3:case 4:break;default:throw f(Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue."))}}function Yi(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Fi),t.forEach(function(t){var r=Gl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}var Vi="function"==typeof WeakMap?WeakMap:Map;function Xi(e,t,n){(n=On(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){bl||(bl=!0,Tl=r),ji(e,t)},n}function qi(e,t,n){(n=On(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return ji(e,t),r(i)}}var l=e.stateNode;return null!==l&&"function"==typeof l.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===El?El=new Set([this]):El.add(this),ji(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var $i=Math.ceil,Gi=xe.ReactCurrentDispatcher,Ji=xe.ReactCurrentOwner,Ki=0,Zi=8,el=16,tl=32,nl=0,rl=1,il=2,ll=3,al=4,ol=Ki,ul=null,cl=null,sl=0,fl=nl,dl=1073741823,pl=1073741823,hl=null,ml=!1,gl=0,yl=500,vl=null,bl=!1,Tl=null,El=null,xl=!1,Sl=null,wl=90,kl=0,Pl=null,Cl=0,_l=null,Rl=0;function Nl(){return(48&ol)!==Ki?1073741821-(dn()/10|0):0!==Rl?Rl:Rl=1073741821-(dn()/10|0)}function Il(e,t,n){if(0==(2&(t=t.mode)))return 1073741823;var r=pn();if(0==(4&t))return 99===r?1073741823:1073741822;if((ol&el)!==Ki)return sl;if(null!==n)e=1073741821-25*(1+((1073741821-e+(0|n.timeoutMs||5e3)/10)/25|0));else switch(r){case 99:e=1073741823;break;case 98:e=1073741821-10*(1+((1073741821-e+15)/10|0));break;case 97:case 96:e=1073741821-25*(1+((1073741821-e+500)/25|0));break;case 95:e=1;break;default:throw f(Error("Expected a valid priority level"))}return null!==ul&&e===sl&&--e,e}function zl(e,t){if(50<Cl)throw Cl=0,_l=null,f(Error("Maximum update depth exceeded. This can happen when a component repeatedly calls setState inside componentWillUpdate or componentDidUpdate. React limits the number of nested updates to prevent infinite loops."));if(null!==(e=Ul(e,t))){e.pingTime=0;var n=pn();if(1073741823===t)if((ol&Zi)!==Ki&&(48&ol)===Ki)for(var r=Ol(e,1073741823,!0);null!==r;)r=r(!0);else Ml(e,99,1073741823),ol===Ki&&vn();else Ml(e,n,t);(4&ol)===Ki||98!==n&&99!==n||(null===Pl?Pl=new Map([[e,t]]):(void 0===(n=Pl.get(e))||n>t)&&Pl.set(e,t))}}function Ul(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(t>i.firstPendingTime&&(i.firstPendingTime=t),0===(e=i.lastPendingTime)||t<e)&&(i.lastPendingTime=t),i}function Ml(e,t,n){if(e.callbackExpirationTime<n){var r=e.callbackNode;null!==r&&r!==an&&$t(r),e.callbackExpirationTime=n,1073741823===n?e.callbackNode=yn(Al.bind(null,e,Ol.bind(null,e,n))):(r=null,1!==n&&(r={timeout:10*(1073741821-n)-dn()}),e.callbackNode=gn(t,Al.bind(null,e,Ol.bind(null,e,n)),r))}}function Al(e,t,n){var r=e.callbackNode,i=null;try{return null!==(i=t(n))?Al.bind(null,e,i):null}finally{null===i&&r===e.callbackNode&&(e.callbackNode=null,e.callbackExpirationTime=0)}}function Dl(e,t){var n=e.firstBatch;return!!(null!==n&&n._defer&&n._expirationTime>=t)&&(gn(97,function(){return n._onComplete(),null}),!0)}function Fl(){if(null!==Pl){var e=Pl;Pl=null,e.forEach(function(e,t){yn(Ol.bind(null,t,e))}),vn()}}function jl(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Ct(n)),null!==cl)for(n=cl.return;null!==n;){var r=n;switch(r.tag){case 1:var i=r.type.childContextTypes;null!==i&&void 0!==i&&Ht();break;case 3:hr(),Bt();break;case 5:gr(r);break;case 4:hr();break;case 13:case 19:Ut(Tr);break;case 10:zn(r)}n=n.return}ul=e,cl=la(e.current,null),sl=t,fl=nl,pl=dl=1073741823,hl=null,ml=!1}function Ol(e,t,n){if((48&ol)!==Ki)throw f(Error("Should not already be working."));if(e.firstPendingTime<t)return null;if(n&&e.finishedExpirationTime===t)return Ql.bind(null,e);if(Yl(),e!==ul||t!==sl)jl(e,t);else if(fl===ll)if(ml)jl(e,t);else{var r=e.lastPendingTime;if(r<t)return Ol.bind(null,e,r)}if(null!==cl){r=ol,ol|=el;var i=Gi.current;if(null===i&&(i=li),Gi.current=li,n){if(1073741823!==t){var l=Nl();if(l<t)return ol=r,Nn(),Gi.current=i,Ol.bind(null,e,l)}}else Rl=0;for(;;)try{if(n)for(;null!==cl;)cl=Hl(cl);else for(;null!==cl&&!Gt();)cl=Hl(cl);break}catch(n){if(Nn(),qr(),null===(l=cl)||null===l.return)throw jl(e,t),ol=r,n;e:{var a=e,o=l.return,u=l,c=n,s=sl;if(u.effectTag|=1024,u.firstEffect=u.lastEffect=null,null!==c&&"object"==typeof c&&"function"==typeof c.then){var d=c,p=0!=(Tr.current&vr);c=o;do{var h;if((h=13===c.tag)&&(null!==c.memoizedState?h=!1:h=void 0!==(h=c.memoizedProps).fallback&&(!0!==h.unstable_avoidThisFallback||!p)),h){if(null===(o=c.updateQueue)?((o=new Set).add(d),c.updateQueue=o):o.add(d),0==(2&c.mode)){c.effectTag|=64,u.effectTag&=-1957,1===u.tag&&(null===u.alternate?u.tag=17:((s=On(1073741823,null)).tag=2,Hn(u,s))),u.expirationTime=1073741823;break e}u=a,a=s,null===(p=u.pingCache)?(p=u.pingCache=new Vi,o=new Set,p.set(d,o)):void 0===(o=p.get(d))&&(o=new Set,p.set(d,o)),o.has(a)||(o.add(a),u=$l.bind(null,u,d,a),d.then(u,u)),c.effectTag|=2048,c.expirationTime=s;break e}c=c.return}while(null!==c);c=Error((Oe(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+Nt(u))}fl!==al&&(fl=rl),c=Di(c,u),u=o;do{switch(u.tag){case 3:u.effectTag|=2048,u.expirationTime=s,Bn(u,s=Xi(u,c,s));break e;case 1:if(d=c,a=u.type,o=u.stateNode,0==(64&u.effectTag)&&("function"==typeof a.getDerivedStateFromError||null!==o&&"function"==typeof o.componentDidCatch&&(null===El||!El.has(o)))){u.effectTag|=2048,u.expirationTime=s,Bn(u,s=qi(u,d,s));break e}}u=u.return}while(null!==u)}cl=Bl(l)}if(ol=r,Nn(),Gi.current=i,null!==cl)return Ol.bind(null,e,t)}if(e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Dl(e,t))return null;switch(ul=null,fl){case nl:throw f(Error("Should have a work-in-progress."));case rl:return(r=e.lastPendingTime)<t?Ol.bind(null,e,r):n?Ql.bind(null,e):(jl(e,t),yn(Ol.bind(null,e,t)),null);case il:return 1073741823===dl&&!n&&10<(n=gl+yl-dn())?ml?(jl(e,t),Ol.bind(null,e,t)):(r=e.lastPendingTime)<t?Ol.bind(null,e,r):(e.timeoutHandle=Pt(Ql.bind(null,e),n),null):Ql.bind(null,e);case ll:if(!n){if(ml)return jl(e,t),Ol.bind(null,e,t);if((n=e.lastPendingTime)<t)return Ol.bind(null,e,n);if(1073741823!==pl?n=10*(1073741821-pl)-dn():1073741823===dl?n=0:(n=10*(1073741821-dl)-5e3,t=10*(1073741821-t)-(r=dn()),0>(n=r-n)&&(n=0),t<(n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*$i(n/1960))-n)&&(n=t)),10<n)return e.timeoutHandle=Pt(Ql.bind(null,e),n),null}return Ql.bind(null,e);case al:return!n&&1073741823!==dl&&null!==hl&&(r=dl,0>=(t=0|(i=hl).busyMinDurationMs)?t=0:(n=0|i.busyDelayMs,t=(r=dn()-(10*(1073741821-r)-(0|i.timeoutMs||5e3)))<=n?0:n+t-r),10<t)?(e.timeoutHandle=Pt(Ql.bind(null,e),t),null):Ql.bind(null,e);default:throw f(Error("Unknown root exit status."))}}function Wl(e,t){e<dl&&1<e&&(dl=e),null!==t&&e<pl&&1<e&&(pl=e,hl=t)}function Hl(e){var t=Jl(e.alternate,e,sl);return e.memoizedProps=e.pendingProps,null===t&&(t=Bl(e)),Ji.current=null,t}function Bl(e){cl=e;do{var t=cl.alternate;if(e=cl.return,0==(1024&cl.effectTag)){e:{var n=t,r=sl,i=(t=cl).pendingProps;switch(t.tag){case 2:case 16:break;case 15:case 0:break;case 1:Wt(t.type)&&Ht();break;case 3:hr(),Bt(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==n&&null!==n.child||(t.effectTag&=-3),Ni(t);break;case 5:gr(t),r=dr(fr.current);var l=t.type;if(null!==n&&null!=t.stateNode)Ii(n,t,l,i,r),n.ref!==t.ref&&(t.effectTag|=128);else if(i){dr(cr.current),n=i;var a=r;r=t,i=St,St+=2,l=xt(l);var o=Ke(null,Ye,n,l.validAttributes);a=ct(i,l.uiViewClassName,a,o,r),n=new wt(i,l,n,r),Ri(n={node:a,canonical:n},t,!1,!1),t.stateNode=n,null!==t.ref&&(t.effectTag|=128)}else if(null===t.stateNode)throw f(Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue."));break;case 6:if(n&&null!=t.stateNode)zi(n,t,n.memoizedProps,i);else{if("string"!=typeof i&&null===t.stateNode)throw f(Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue."));n=dr(fr.current),r=dr(cr.current),t.stateNode=kt(i,n,r,t)}break;case 11:break;case 13:if(Ut(Tr),i=t.memoizedState,0!=(64&t.effectTag)){t.expirationTime=r;break e}r=null!==i,i=!1,null!==n&&(i=null!==(l=n.memoizedState),r||null===l||null!==(l=n.child.sibling)&&(null!==(a=t.firstEffect)?(t.firstEffect=l,l.nextEffect=a):(t.firstEffect=t.lastEffect=l,l.nextEffect=null),l.effectTag=8)),r&&!i&&0!=(2&t.mode)&&(null===n&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(Tr.current&vr)?fl===nl&&(fl=il):fl!==nl&&fl!==il||(fl=ll)),r&&(t.effectTag|=4);break;case 7:case 8:case 12:break;case 4:hr(),Ni(t);break;case 10:zn(t);break;case 9:case 14:break;case 17:Wt(t.type)&&Ht();break;case 18:break;case 19:if(Ut(Tr),null===(i=t.memoizedState))break;if(l=0!=(64&t.effectTag),null===(a=i.rendering)){if(l)Mi(i,!1);else if(fl!==nl||null!==n&&0!=(64&n.effectTag))for(n=t.child;null!==n;){if(null!==(a=Er(n))){for(t.effectTag|=64,Mi(i,!1),null!==(n=a.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),t.firstEffect=t.lastEffect=null,n=r,r=t.child;null!==r;)l=n,(i=r).effectTag&=2,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null,null===(a=i.alternate)?(i.childExpirationTime=0,i.expirationTime=l,i.child=null,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null):(i.childExpirationTime=a.childExpirationTime,i.expirationTime=a.expirationTime,i.child=a.child,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,l=a.dependencies,i.dependencies=null===l?null:{expirationTime:l.expirationTime,firstContext:l.firstContext,responders:l.responders}),r=r.sibling;Mt(Tr,Tr.current&yr|br),t=t.child;break e}n=n.sibling}}else{if(!l)if(null!==(n=Er(a))){if(t.effectTag|=64,l=!0,Mi(i,!0),null===i.tail&&"hidden"===i.tailMode){null!==(n=n.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),null!==(t=t.lastEffect=i.lastEffect)&&(t.nextEffect=null);break}}else dn()>i.tailExpiration&&1<r&&(t.effectTag|=64,l=!0,Mi(i,!1),t.expirationTime=t.childExpirationTime=r-1);i.isBackwards?(a.sibling=t.child,t.child=a):(null!==(n=i.last)?n.sibling=a:t.child=a,i.last=a)}if(null!==i.tail){0===i.tailExpiration&&(i.tailExpiration=dn()+500),n=i.tail,i.rendering=n,i.tail=n.sibling,i.lastEffect=t.lastEffect,n.sibling=null,r=Tr.current,Mt(Tr,r=l?r&yr|br:r&yr),t=n;break e}break;case 20:break;default:throw f(Error("Unknown unit of work tag. This error is likely caused by a bug in React. Please file an issue."))}t=null}if(n=cl,1===sl||1!==n.childExpirationTime){for(r=0,i=n.child;null!==i;)l=i.expirationTime,a=i.childExpirationTime,l>r&&(r=l),a>r&&(r=a),i=i.sibling;n.childExpirationTime=r}if(null!==t)return t;null!==e&&0==(1024&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=cl.firstEffect),null!==cl.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=cl.firstEffect),e.lastEffect=cl.lastEffect),1<cl.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=cl:e.firstEffect=cl,e.lastEffect=cl))}else{if(null!==(t=Ai(cl)))return t.effectTag&=1023,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=1024)}if(null!==(t=cl.sibling))return t;cl=e}while(null!==cl);return fl===nl&&(fl=al),null}function Ql(e){var t=pn();return mn(99,Ll.bind(null,e,t)),null!==Sl&&gn(97,function(){return Yl(),null}),null}function Ll(e,t){if(Yl(),(48&ol)!==Ki)throw f(Error("Should not already be working."));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw f(Error("Cannot commit the same tree as before. This error is likely caused by a bug in React. Please file an issue."));e.callbackNode=null,e.callbackExpirationTime=0;var i=n.expirationTime,l=n.childExpirationTime;if(i=l>i?l:i,e.firstPendingTime=i,i<e.lastPendingTime&&(e.lastPendingTime=i),e===ul&&(cl=ul=null,sl=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){l=ol,ol|=tl,Ji.current=null,vl=i;do{try{for(;null!==vl;){if(0!=(256&vl.effectTag)){var a=vl.alternate,o=vl;switch(o.tag){case 0:case 11:case 15:Hi(wr,Sr,o);break;case 1:if(256&o.effectTag&&null!==a){var u=a.memoizedProps,c=a.memoizedState,s=o.stateNode,d=s.getSnapshotBeforeUpdate(o.elementType===o.type?u:wn(o.type,u),c);s.__reactInternalSnapshotBeforeUpdate=d}break;case 3:case 5:case 6:case 4:case 17:break;default:throw f(Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue."))}}vl=vl.nextEffect}}catch(e){if(null===vl)throw f(Error("Should be working on an effect."));ql(vl,e),vl=vl.nextEffect}}while(null!==vl);vl=i;do{try{for(a=t;null!==vl;){var p=vl.effectTag;if(128&p){var h=vl.alternate;if(null!==h){var m=h.ref;null!==m&&("function"==typeof m?m(null):m.current=null)}}switch(14&p){case 2:vl.effectTag&=-3;break;case 6:vl.effectTag&=-3,Li(vl.alternate,vl);break;case 4:Li(vl.alternate,vl);break;case 8:e:for(c=u=vl,s=a,d=c;;)if(Bi(d,s),null!==d.child)d.child.return=d,d=d.child;else{if(d===c)break;for(;null===d.sibling;){if(null===d.return||d.return===c)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}Qi(u)}vl=vl.nextEffect}}catch(e){if(null===vl)throw f(Error("Should be working on an effect."));ql(vl,e),vl=vl.nextEffect}}while(null!==vl);e.current=n,vl=i;do{try{for(p=r;null!==vl;){var g=vl.effectTag;if(36&g){var y=vl.alternate;switch(m=p,(h=vl).tag){case 0:case 11:case 15:Hi(Cr,_r,h);break;case 1:var v=h.stateNode;if(4&h.effectTag)if(null===y)v.componentDidMount();else{var b=h.elementType===h.type?y.memoizedProps:wn(h.type,y.memoizedProps);v.componentDidUpdate(b,y.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var T=h.updateQueue;null!==T&&Vn(0,T,v);break;case 3:var E=h.updateQueue;if(null!==E){if(a=null,null!==h.child)switch(h.child.tag){case 5:a=h.child.stateNode.canonical;break;case 1:a=h.child.stateNode}Vn(0,E,a)}break;case 5:if(null===y&&4&h.effectTag)throw f(Error("The current renderer does not support mutation. This error is likely caused by a bug in React. Please file an issue."));break;case 6:case 4:case 12:break;case 13:case 19:case 17:case 20:break;default:throw f(Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue."))}}if(128&g){var x=vl.ref;if(null!==x){var S=vl.stateNode;switch(vl.tag){case 5:var w=S.canonical;break;default:w=S}"function"==typeof x?x(w):x.current=w}}512&g&&(xl=!0),vl=vl.nextEffect}}catch(e){if(null===vl)throw f(Error("Should be working on an effect."));ql(vl,e),vl=vl.nextEffect}}while(null!==vl);vl=null,on(),ol=l}else e.current=n;if(xl)xl=!1,Sl=e,kl=r,wl=t;else for(vl=i;null!==vl;)t=vl.nextEffect,vl.nextEffect=null,vl=t;if(0!==(t=e.firstPendingTime)?Ml(e,g=Tn(g=Nl(),t),t):El=null,"function"==typeof Kl&&Kl(n.stateNode,r),1073741823===t?e===_l?Cl++:(Cl=0,_l=e):Cl=0,bl)throw bl=!1,e=Tl,Tl=null,e;return(ol&Zi)!==Ki?null:(vn(),null)}function Yl(){if(null===Sl)return!1;var e=Sl,t=kl,n=wl;return Sl=null,kl=0,wl=90,mn(97<n?97:n,Vl.bind(null,e,t))}function Vl(e){if((48&ol)!==Ki)throw f(Error("Cannot flush passive effects while already rendering."));var t=ol;for(ol|=tl,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!=(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:Hi(Nr,Sr,n),Hi(Sr,Rr,n)}}catch(t){if(null===e)throw f(Error("Should be working on an effect."));ql(e,t)}n=e.nextEffect,e.nextEffect=null,e=n}return ol=t,vn(),!0}function Xl(e,t,n){Hn(e,t=Xi(e,t=Di(n,t),1073741823)),null!==(e=Ul(e,1073741823))&&Ml(e,99,1073741823)}function ql(e,t){if(3===e.tag)Xl(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Xl(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===El||!El.has(r))){Hn(n,e=qi(n,e=Di(t,e),1073741823)),null!==(n=Ul(n,1073741823))&&Ml(n,99,1073741823);break}}n=n.return}}function $l(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),ul===e&&sl===n?fl===ll||fl===il&&1073741823===dl&&dn()-gl<yl?jl(e,sl):ml=!0:e.lastPendingTime<n||(0!==(t=e.pingTime)&&t<n||(e.pingTime=n,e.finishedExpirationTime===n&&(e.finishedExpirationTime=0,e.finishedWork=null),Ml(e,t=Tn(t=Nl(),n),n)))}function Gl(e,t){var n=e.stateNode;null!==n&&n.delete(t),n=Tn(n=Nl(),t=Il(n,e,null)),null!==(e=Ul(e,t))&&Ml(e,n,t)}var Jl=void 0;Jl=function(e,t,n){var r=t.expirationTime;if(null!==e){if(e.memoizedProps!==t.pendingProps||Ft.current)hi=!0;else if(r<n){switch(hi=!1,t.tag){case 3:Si(t);break;case 5:mr(t);break;case 1:Wt(t.type)&&Yt(t);break;case 4:pr(t,t.stateNode.containerInfo);break;case 10:In(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?ki(e,t,n):(Mt(Tr,Tr.current&yr),null!==(t=_i(e,t,n))?t.sibling:null);Mt(Tr,Tr.current&yr);break;case 19:if(r=t.childExpirationTime>=n,0!=(64&e.effectTag)){if(r)return Ci(e,t,n);t.effectTag|=64}var i=t.memoizedState;if(null!==i&&(i.rendering=null,i.tail=null),Mt(Tr,Tr.current),!r)return null}return _i(e,t,n)}}else hi=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=Ot(t,Dt.current),Mn(t,n),i=Xr(null,t,r,e,i,n),t.effectTag|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,qr(),Wt(r)){var l=!0;Yt(t)}else l=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null;var a=r.getDerivedStateFromProps;"function"==typeof a&&Gn(t,r,a,e),i.updater=Jn,t.stateNode=i,i._reactInternalFiber=t,tr(t,r,e,n),t=xi(null,t,r,!0,l,n)}else t.tag=0,mi(null,t,i,n),t=t.child;return t;case 16:switch(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=kn(i),t.type=i,l=t.tag=ia(i),e=wn(i,e),l){case 0:t=Ti(null,t,i,e,n);break;case 1:t=Ei(null,t,i,e,n);break;case 11:t=gi(null,t,i,e,n);break;case 14:t=yi(null,t,i,wn(i.type,e),r,n);break;default:throw f(Error("Element type is invalid. Received a promise that resolves to: "+i+". Lazy element type must resolve to a class or function."))}return t;case 0:return r=t.type,i=t.pendingProps,Ti(e,t,r,i=t.elementType===r?i:wn(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ei(e,t,r,i=t.elementType===r?i:wn(r,i),n);case 3:if(Si(t),null===(r=t.updateQueue))throw f(Error("If the root does not have an updateQueue, we should have already bailed out. This error is likely caused by a bug in React. Please file an issue."));return i=null!==(i=t.memoizedState)?i.element:null,Yn(t,r,t.pendingProps,null,n),(r=t.memoizedState.element)===i?t=_i(e,t,n):(mi(e,t,r,n),t=t.child),t;case 5:return mr(t),null===e&&di(t),r=t.pendingProps.children,bi(e,t),mi(e,t,r,n),t.child;case 6:return null===e&&di(t),null;case 13:return ki(e,t,n);case 4:return pr(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ar(t,null,r,n):mi(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,gi(e,t,r,i=t.elementType===r?i:wn(r,i),n);case 7:return mi(e,t,t.pendingProps,n),t.child;case 8:case 12:return mi(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,In(t,l=i.value),null!==a){var o=a.value;if(0===(l=En(o,l)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(o,l):1073741823))){if(a.children===i.children&&!Ft.current){t=_i(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){a=o.child;for(var c=u.firstContext;null!==c;){if(c.context===r&&0!=(c.observedBits&l)){1===o.tag&&((c=On(n,null)).tag=2,Hn(o,c)),o.expirationTime<n&&(o.expirationTime=n),null!==(c=o.alternate)&&c.expirationTime<n&&(c.expirationTime=n),Un(o.return,n),u.expirationTime<n&&(u.expirationTime=n);break}c=c.next}}else a=10===o.tag&&o.type===t.type?null:o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}}mi(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(l=t.pendingProps).children,Mn(t,n),r=r(i=An(i,l.unstable_observedBits)),t.effectTag|=1,mi(e,t,r,n),t.child;case 14:return l=wn(i=t.type,t.pendingProps),yi(e,t,i,l=wn(i.type,l),r,n);case 15:return vi(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:wn(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,Wt(r)?(e=!0,Yt(t)):e=!1,Mn(t,n),Zn(t,r,i),tr(t,r,i,n),xi(null,t,r,!0,e,n);case 19:return Ci(e,t,n)}throw f(Error("Unknown unit of work tag. This error is likely caused by a bug in React. Please file an issue."))};var Kl=null,Zl=null;function ea(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Kl=function(e){try{t.onCommitFiberRoot(n,e,void 0,64==(64&e.current.effectTag))}catch(e){}},Zl=function(e){try{t.onCommitFiberUnmount(n,e)}catch(e){}}}catch(e){}return!0}function ta(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function na(e,t,n,r){return new ta(e,t,n,r)}function ra(e){return!(!(e=e.prototype)||!e.isReactComponent)}function ia(e){if("function"==typeof e)return ra(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===ze)return 11;if(e===Ae)return 14}return 2}function la(e,t){var n=e.alternate;return null===n?((n=na(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function aa(e,t,n,r,i,l){var a=2;if(r=e,"function"==typeof e)ra(e)&&(a=1);else if("string"==typeof e)a=5;else e:switch(e){case Pe:return oa(n.children,i,l,t);case Ie:a=8,i|=7;break;case Ce:a=8,i|=1;break;case _e:return(e=na(12,n,t,8|i)).elementType=_e,e.type=_e,e.expirationTime=l,e;case Ue:return(e=na(13,n,t,i)).type=Ue,e.elementType=Ue,e.expirationTime=l,e;case Me:return(e=na(19,n,t,i)).elementType=Me,e.expirationTime=l,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case Re:a=10;break e;case Ne:a=9;break e;case ze:a=11;break e;case Ae:a=14;break e;case De:a=16,r=null;break e}throw f(Error("Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: "+(null==e?e:typeof e)+"."))}return(t=na(a,n,t,i)).elementType=e,t.type=r,t.expirationTime=l,t}function oa(e,t,n,r){return(e=na(7,e,r,t)).expirationTime=n,e}function ua(e,t,n){return(e=na(6,e,null,t)).expirationTime=n,e}function ca(e,t,n){return(t=na(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function sa(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=this.firstBatch=null,this.pingTime=this.lastPendingTime=this.firstPendingTime=this.callbackExpirationTime=0}function fa(e){var t=e._reactInternalFiber;if(void 0===t){if("function"==typeof e.render)throw f(Error("Unable to find node on an unmounted component."));throw f(Error("Argument appears to not be a ReactComponent. Keys: "+Object.keys(e)))}return null===(e=Qe(t))?null:e.stateNode}function da(e,t,n,r){var i=t.current,l=Nl(),a=qn.suspense;i=Il(l,i,a),l=t.current;e:if(n){n=n._reactInternalFiber;t:{if(2!==We(n)||1!==n.tag)throw f(Error("Expected subtree parent to be a mounted class component. This error is likely caused by a bug in React. Please file an issue."));var o=n;do{switch(o.tag){case 3:o=o.stateNode.context;break t;case 1:if(Wt(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break t}}o=o.return}while(null!==o);throw f(Error("Found unexpected detached subtree parent. This error is likely caused by a bug in React. Please file an issue."))}if(1===n.tag){var u=n.type;if(Wt(u)){n=Lt(n,u,o);break e}}n=o}else n=At;return null===t.context?t.context=n:t.pendingContext=n,t=r,(a=On(i,a)).payload={element:e},null!==(t=void 0===t?null:t)&&(a.callback=t),Hn(l,a),zl(l,i),i}function pa(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:ke,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ha(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var ma;ma=function(){throw f(Error("getInspectorDataForViewTag() is not available in production"))};var ga=nativeFabricUIManager.dispatchCommand;function ya(e){return null==e?null:"number"==typeof e?e:e._nativeTag?e._nativeTag:e.canonical&&e.canonical._nativeTag?e.canonical._nativeTag:null==(e=fa(e))?e:e.canonical?e.canonical._nativeTag:e._nativeTag}nt=function(e,t){var n=ol;ol|=1;try{return e(t)}finally{(ol=n)===Ki&&vn()}},rt=function(){(49&ol)===Ki&&(Fl(),Yl())};var va,ba,Ta=new Map,Ea={NativeComponent:(function(e,t){return(function(n){function r(){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");var e=n.apply(this,arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?this:e}return ha(r,n),r.prototype.blur=function(){u.TextInputState.blurTextInput(e(this))},r.prototype.focus=function(){u.TextInputState.focusTextInput(e(this))},r.prototype.measure=function(n){var r=void 0;try{r=t(this)}catch(e){}null!=r&&(r.canonical?nativeFabricUIManager.measure(r.node,Le(this,n)):u.UIManager.measure(e(this),Le(this,n)))},r.prototype.measureInWindow=function(n){var r=void 0;try{r=t(this)}catch(e){}null!=r&&(r.canonical?nativeFabricUIManager.measureInWindow(r.node,Le(this,n)):u.UIManager.measureInWindow(e(this),Le(this,n)))},r.prototype.measureLayout=function(n,r,i){var l=void 0;try{l=t(this)}catch(e){}null==l||l.canonical||(l=void 0,"number"==typeof n?l=n:n._nativeTag&&(l=n._nativeTag),null!=l&&u.UIManager.measureLayout(e(this),l,Le(this,i),Le(this,r)))},r.prototype.setNativeProps=function(e){var n=void 0;try{n=t(this)}catch(e){}if(null!=n&&!n.canonical){var r=n._nativeTag||n.canonical._nativeTag;n=n.viewConfig||n.canonical.viewConfig,null!=(e=Ke(null,Ye,e,n.validAttributes))&&u.UIManager.updateView(r,n.uiViewClassName,e)}},r})(c.Component)})(ya,fa),findNodeHandle:ya,setNativeProps:function(){},dispatchCommand:function(e,t,n){null!=e._nativeTag&&null!=e._internalInstanceHandle&&ga(e._internalInstanceHandle.stateNode.node,t,n)},render:function(e,t,n){var r=Ta.get(t);if(!r){r=new sa(t,0,!1);var i=na(3,null,null,0);r.current=i,i.stateNode=r,Ta.set(t,r)}da(e,r,null,n);e:if(e=r.current,e.child)switch(e.child.tag){case 5:e=e.child.stateNode.canonical;break e;default:e=e.child.stateNode}else e=null;return e},unmountComponentAtNode:function(e){var t=Ta.get(e);t&&da(null,t,null,function(){Ta.delete(e)})},createPortal:function(e,t){return pa(e,t,null,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{NativeMethodsMixin:(function(e,t){return{measure:function(n){var r=void 0;try{r=t(this)}catch(e){}null!=r&&(r.canonical?nativeFabricUIManager.measure(r.node,Le(this,n)):u.UIManager.measure(e(this),Le(this,n)))},measureInWindow:function(n){var r=void 0;try{r=t(this)}catch(e){}null!=r&&(r.canonical?nativeFabricUIManager.measureInWindow(r.node,Le(this,n)):u.UIManager.measureInWindow(e(this),Le(this,n)))},measureLayout:function(n,r,i){var l=void 0;try{l=t(this)}catch(e){}null==l||l.canonical||(l=void 0,"number"==typeof n?l=n:n._nativeTag&&(l=n._nativeTag),null!=l&&u.UIManager.measureLayout(e(this),l,Le(this,i),Le(this,r)))},setNativeProps:function(e){var n=void 0;try{n=t(this)}catch(e){}if(null!=n&&!n.canonical){var r=n._nativeTag||n.canonical._nativeTag;n=n.viewConfig||n.canonical.viewConfig,null!=(e=Ke(null,Ye,e,n.validAttributes))&&u.UIManager.updateView(r,n.uiViewClassName,e)}},focus:function(){u.TextInputState.focusTextInput(e(this))},blur:function(){u.TextInputState.blurTextInput(e(this))}}})(ya,fa)}};ba=(va={findFiberByHostInstance:Ee,getInspectorDataForViewTag:ma,bundleType:0,version:"16.8.6",rendererPackageName:"react-native-renderer"}).findFiberByHostInstance,ea(o({},va,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xe.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Qe(e))?null:e.stateNode},findFiberByHostInstance:function(e){return ba?ba(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}));var xa={default:Ea},Sa=xa&&Ea||xa;i.exports=Sa.default||Sa},342,[15,86,156,12,162]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=t(r(d[1])),s=t(r(d[2])),u=t(r(d[3])),l=t(r(d[4])),o=t(r(d[5])),c=t(r(d[6])),f=r(d[7]),v=r(d[8]),p=r(d[9]),h=r(d[10]),_=(function(t){function f(){var t;(0,n.default)(this,f),(t=(0,u.default)(this,(0,l.default)(f).call(this,c.default)))._supportedEvents=['change','memoryWarning','blur','focus'],t.isAvailable=!0,t._eventHandlers=t._supportedEvents.reduce(function(t,n){return t[n]=new Map,t},{}),t.currentState=c.default.getConstants().initialAppState;var s=!1;return t.addListener('appStateDidChange',function(n){s=!0,t.currentState=n.app_state}),c.default.getCurrentAppState(function(n){s||t.currentState===n.app_state||(t.currentState=n.app_state,t.emit('appStateDidChange',n))},p),t}return(0,o.default)(f,t),(0,s.default)(f,[{key:"addEventListener",value:function(t,n){switch(h(-1!==this._supportedEvents.indexOf(t),'Trying to subscribe to unknown event: "%s"',t),t){case'change':this._eventHandlers[t].set(n,this.addListener('appStateDidChange',function(t){n(t.app_state)}));break;case'memoryWarning':this._eventHandlers[t].set(n,this.addListener('memoryWarning',n));break;case'blur':case'focus':this._eventHandlers[t].set(n,this.addListener('appStateFocusChange',function(s){'blur'!==t||s||n(),'focus'===t&&s&&n()}))}}},{key:"removeEventListener",value:function(t,n){h(-1!==this._supportedEvents.indexOf(t),'Trying to remove listener for unknown event: "%s"',t),this._eventHandlers[t].has(n)&&(this._eventHandlers[t].get(n).remove(),this._eventHandlers[t].delete(n))}}]),f})(v);function y(){h(!1,"Cannot use AppState module when native RCTAppState is not included in the build.\nEither include it, or check AppState.isAvailable before calling any methods.")}var S=(function(t){function c(){var t,s;(0,n.default)(this,c);for(var o=arguments.length,f=new Array(o),v=0;v<o;v++)f[v]=arguments[v];return(s=(0,u.default)(this,(t=(0,l.default)(c)).call.apply(t,[this].concat(f)))).isAvailable=!1,s.currentState=null,s}return(0,o.default)(c,t),(0,s.default)(c,[{key:"addEventListener",value:function(){y()}},{key:"removeEventListener",value:function(){y()}},{key:"addListener",value:function(){y()}},{key:"removeAllListeners",value:function(){y()}},{key:"removeSubscription",value:function(){y()}}]),c})(f);_=c.default?new _:new S,m.exports=_},343,[1,4,5,6,9,10,344,44,121,345,17]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])).getEnforcing('AppState');e.default=u},344,[23,24]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(){for(var o=arguments.length,n=new Array(o),s=0;s<o;s++)n[s]=arguments[s];if(1===n.length&&n[0]instanceof Error){var t=n[0];console.error('Error: "'+t.message+'".  Stack:\n'+t.stack)}else console.error.apply(console,n)}},345,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=t(r(d[1])),u=t(r(d[2])),l=t(r(d[3])),o=u.default,s={_getRequests:[],_getKeys:[],_immediate:null,getItem:function(t,n){return(0,l.default)(o,'RCTAsyncStorage not available'),new Promise(function(u,l){o.multiGet([t],function(t,o){var s=o&&o[0]&&o[0][1]?o[0][1]:null,f=c(t);n&&n(f&&f[0],s),f?l(f[0]):u(s)})})},setItem:function(t,n,u){return(0,l.default)(o,'RCTAsyncStorage not available'),new Promise(function(l,s){o.multiSet([[t,n]],function(t){var n=c(t);u&&u(n&&n[0]),n?s(n[0]):l(null)})})},removeItem:function(t,n){return(0,l.default)(o,'RCTAsyncStorage not available'),new Promise(function(u,l){o.multiRemove([t],function(t){var o=c(t);n&&n(o&&o[0]),o?l(o[0]):u(null)})})},mergeItem:function(t,n,u){return(0,l.default)(o,'RCTAsyncStorage not available'),new Promise(function(l,s){o.multiMerge([[t,n]],function(t){var n=c(t);u&&u(n&&n[0]),n?s(n[0]):l(null)})})},clear:function(t){return(0,l.default)(o,'RCTAsyncStorage not available'),new Promise(function(n,u){o.clear(function(l){t&&t(f(l)),l&&f(l)?u(f(l)):n(null)})})},getAllKeys:function(t){return(0,l.default)(o,'RCTAsyncStorage not available'),new Promise(function(n,u){o.getAllKeys(function(l,o){t&&t(f(l),o),l?u(f(l)):n(o)})})},flushGetRequests:function(){var t=this._getRequests,u=this._getKeys;this._getRequests=[],this._getKeys=[],(0,l.default)(o,'RCTAsyncStorage not available'),o.multiGet(u,function(u,l){var o={};l&&l.forEach(function(t){var u=(0,n.default)(t,2),l=u[0],s=u[1];return o[l]=s,s});for(var s=t.length,c=0;c<s;c++){var f=t[c],v=f.keys.map(function(t){return[t,o[t]]});f.callback&&f.callback(null,v),f.resolve&&f.resolve(v)}})},multiGet:function(t,n){var u=this;this._immediate||(this._immediate=setImmediate(function(){u._immediate=null,u.flushGetRequests()}));var l={keys:t,callback:n,keyIndex:this._getKeys.length,resolve:null,reject:null},o=new Promise(function(t,n){l.resolve=t,l.reject=n});return this._getRequests.push(l),t.forEach(function(t){-1===u._getKeys.indexOf(t)&&u._getKeys.push(t)}),o},multiSet:function(t,n){return(0,l.default)(o,'RCTAsyncStorage not available'),new Promise(function(u,l){o.multiSet(t,function(t){var o=c(t);n&&n(o),o?l(o):u(null)})})},multiRemove:function(t,n){return(0,l.default)(o,'RCTAsyncStorage not available'),new Promise(function(u,l){o.multiRemove(t,function(t){var o=c(t);n&&n(o),o?l(o):u(null)})})},multiMerge:function(t,n){return(0,l.default)(o,'RCTAsyncStorage not available'),new Promise(function(u,l){o.multiMerge(t,function(t){var o=c(t);n&&n(o),o?l(o):u(null)})})}};function c(t){return t?(Array.isArray(t)?t:[t]).map(function(t){return f(t)}):null}function f(t){if(!t)return null;var n=new Error(t.message);return n.key=t.key,n}o.multiMerge||(delete s.mergeItem,delete s.multiMerge),m.exports=s},346,[1,26,347,17]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=t(r(d[1])),c=o.get('AsyncSQLiteDBStorage')||o.get('AsyncLocalStorage');e.default=c},347,[23,24]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])(r(d[1]));m.exports={getString:function(){return t.default.getString()},setString:function(n){t.default.setString(n)}}},348,[1,349]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=t(r(d[1])).getEnforcing('Clipboard');e.default=o},349,[23,24]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=t(r(d[1])),u=t(r(d[2])),o=t(r(d[3])),c=t(r(d[4]));function s(t,n){var u=t[n];'object'==typeof u&&'function'==typeof u.getMonth&&(t[n]=u.getTime())}var f=(function(){function t(){(0,u.default)(this,t)}return(0,o.default)(t,null,[{key:"open",value:function(t){var u;return n.default.async(function(n){for(;;)switch(n.prev=n.next){case 0:return null!=(u=t)&&(s(u,'date'),s(u,'minDate'),s(u,'maxDate')),n.abrupt("return",c.default.open(t));case 3:case"end":return n.stop()}})}}]),t})();f.dateSetAction='dateSetAction',f.dismissedAction='dismissedAction',m.exports=f},350,[1,2,4,5,351]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])).getEnforcing('DatePickerAndroid');e.default=n},351,[23,24]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])(r(d[1]));m.exports=t.default},352,[1,62]);
__d(function(g,r,i,a,m,e,d){'use strict';var o=r(d[0]),n=o(r(d[1])),l=o(r(d[2])),t={canRecordVideos:function(o){return(0,l.default)(n.default,'ImagePickerIOS is not available'),n.default.canRecordVideos(o)},canUseCamera:function(o){return(0,l.default)(n.default,'ImagePickerIOS is not available'),n.default.canUseCamera(o)},openCameraDialog:function(o,t,u){(0,l.default)(n.default,'ImagePickerIOS is not available');var s={videoMode:!0,unmirrorFrontFacingCamera:!1};return null!=o.videoMode&&(s.videoMode=o.videoMode),null!=o.unmirrorFrontFacingCamera&&(s.unmirrorFrontFacingCamera=o.unmirrorFrontFacingCamera),n.default.openCameraDialog(s,t,u)},openSelectDialog:function(o,t,u){(0,l.default)(n.default,'ImagePickerIOS is not available');var s={showImages:!0,showVideos:!1};return null!=o.showImages&&(s.showImages=o.showImages),null!=o.showVideos&&(s.showVideos=o.showVideos),n.default.openSelectDialog(s,t,u)},removePendingVideo:function(o){(0,l.default)(n.default,'ImagePickerIOS is not available'),n.default.removePendingVideo(o)},clearAllPendingVideos:function(){(0,l.default)(n.default,'ImagePickerIOS is not available'),n.default.clearAllPendingVideos()}};m.exports=t},353,[1,354,17]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])).get('ImagePickerIOS');e.default=u},354,[23,24]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=t(r(d[1])),u=t(r(d[2])),l=t(r(d[3])),f=t(r(d[4])),o=t(r(d[5])),s=t(r(d[6])),c=r(d[7]),v=r(d[8]),L=(r(d[9]),r(d[10])),R=(function(t){function v(){return(0,n.default)(this,v),(0,l.default)(this,(0,f.default)(v).call(this,s.default))}return(0,o.default)(v,t),(0,u.default)(v,[{key:"addEventListener",value:function(t,n){this.addListener(t,n)}},{key:"removeEventListener",value:function(t,n){this.removeListener(t,n)}},{key:"openURL",value:function(t){return this._validateURL(t),s.default.openURL(t)}},{key:"canOpenURL",value:function(t){return this._validateURL(t),s.default.canOpenURL(t)}},{key:"openSettings",value:function(){return s.default.openSettings()}},{key:"getInitialURL",value:function(){return c.runAfterInteractions().then(function(){return s.default.getInitialURL()})}},{key:"sendIntent",value:function(t,n){return s.default.sendIntent(t,n)}},{key:"_validateURL",value:function(t){L('string'==typeof t,'Invalid URL: should be a string. Was: '+t),L(t,'Invalid URL: cannot be empty')}}]),v})(v);m.exports=new R},355,[1,4,5,6,9,10,356,227,121,53,17]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]),t=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=t(r(d[2])),f='android'===n(r(d[3])).default.OS?o.getEnforcing('IntentAndroid'):o.getEnforcing('LinkingManager');e.default=f},356,[1,23,24,53]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]),o=r(d[1]),t=o.currentCentroidXOfTouchesChangedAfter,u=o.currentCentroidYOfTouchesChangedAfter,s=o.previousCentroidXOfTouchesChangedAfter,c=o.previousCentroidYOfTouchesChangedAfter,p=o.currentCentroidX,v=o.currentCentroidY,h={_initializeGestureState:function(n){n.moveX=0,n.moveY=0,n.x0=0,n.y0=0,n.dx=0,n.dy=0,n.vx=0,n.vy=0,n.numberActiveTouches=0,n._accountsForMovesUpTo=0},_updateGestureStateOnMove:function(n,o){n.numberActiveTouches=o.numberActiveTouches,n.moveX=t(o,n._accountsForMovesUpTo),n.moveY=u(o,n._accountsForMovesUpTo);var p=n._accountsForMovesUpTo,v=s(o,p),h=t(o,p),l=c(o,p),S=u(o,p),R=n.dx+(h-v),T=n.dy+(S-l),f=o.mostRecentTimeStamp-n._accountsForMovesUpTo;n.vx=(R-n.dx)/f,n.vy=(T-n.dy)/f,n.dx=R,n.dy=T,n._accountsForMovesUpTo=o.mostRecentTimeStamp},create:function(o){var t={handle:null},u={stateID:Math.random(),moveX:0,moveY:0,x0:0,y0:0,dx:0,dy:0,vx:0,vy:0,numberActiveTouches:0,_accountsForMovesUpTo:0};return{panHandlers:{onStartShouldSetResponder:function(n){return null!=o.onStartShouldSetPanResponder&&o.onStartShouldSetPanResponder(n,u)},onMoveShouldSetResponder:function(n){return null!=o.onMoveShouldSetPanResponder&&o.onMoveShouldSetPanResponder(n,u)},onStartShouldSetResponderCapture:function(n){return 1===n.nativeEvent.touches.length&&h._initializeGestureState(u),u.numberActiveTouches=n.touchHistory.numberActiveTouches,null!=o.onStartShouldSetPanResponderCapture&&o.onStartShouldSetPanResponderCapture(n,u)},onMoveShouldSetResponderCapture:function(n){var t=n.touchHistory;return u._accountsForMovesUpTo!==t.mostRecentTimeStamp&&(h._updateGestureStateOnMove(u,t),!!o.onMoveShouldSetPanResponderCapture&&o.onMoveShouldSetPanResponderCapture(n,u))},onResponderGrant:function(s){return t.handle||(t.handle=n.createInteractionHandle()),u.x0=p(s.touchHistory),u.y0=v(s.touchHistory),u.dx=0,u.dy=0,o.onPanResponderGrant&&o.onPanResponderGrant(s,u),null==o.onShouldBlockNativeResponder||o.onShouldBlockNativeResponder(s,u)},onResponderReject:function(n){l(t,o.onPanResponderReject,n,u)},onResponderRelease:function(n){l(t,o.onPanResponderRelease,n,u),h._initializeGestureState(u)},onResponderStart:function(n){var t=n.touchHistory;u.numberActiveTouches=t.numberActiveTouches,o.onPanResponderStart&&o.onPanResponderStart(n,u)},onResponderMove:function(n){var t=n.touchHistory;u._accountsForMovesUpTo!==t.mostRecentTimeStamp&&(h._updateGestureStateOnMove(u,t),o.onPanResponderMove&&o.onPanResponderMove(n,u))},onResponderEnd:function(n){var s=n.touchHistory;u.numberActiveTouches=s.numberActiveTouches,l(t,o.onPanResponderEnd,n,u)},onResponderTerminate:function(n){l(t,o.onPanResponderTerminate,n,u),h._initializeGestureState(u)},onResponderTerminationRequest:function(n){return null==o.onPanResponderTerminationRequest||o.onPanResponderTerminationRequest(n,u)}},getInteractionHandle:function(){return t.handle}}}};function l(o,t,u,s){o.handle&&(n.clearInteractionHandle(o.handle),o.handle=null),t&&t(u,s)}m.exports=h},357,[227,358]);
__d(function(g,r,i,a,m,e,d){var n={centroidDimension:function(t,o,u,c){var f=t.touchBank,s=0,h=0,v=1===t.numberActiveTouches?t.touchBank[t.indexOfSingleActiveTouch]:null;if(null!==v)v.touchActive&&v.currentTimeStamp>o&&(s+=c&&u?v.currentPageX:c&&!u?v.currentPageY:!c&&u?v.previousPageX:v.previousPageY,h=1);else for(var C=0;C<f.length;C++){var l=f[C];if(null!==l&&void 0!==l&&l.touchActive&&l.currentTimeStamp>=o){s+=c&&u?l.currentPageX:c&&!u?l.currentPageY:!c&&u?l.previousPageX:l.previousPageY,h++}}return h>0?s/h:n.noCentroid},currentCentroidXOfTouchesChangedAfter:function(t,o){return n.centroidDimension(t,o,!0,!0)},currentCentroidYOfTouchesChangedAfter:function(t,o){return n.centroidDimension(t,o,!1,!0)},previousCentroidXOfTouchesChangedAfter:function(t,o){return n.centroidDimension(t,o,!0,!1)},previousCentroidYOfTouchesChangedAfter:function(t,o){return n.centroidDimension(t,o,!1,!1)},currentCentroidX:function(t){return n.centroidDimension(t,0,!0,!0)},currentCentroidY:function(t){return n.centroidDimension(t,0,!1,!0)},noCentroid:-1};m.exports=n},358,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]),s=n(r(d[1])),t=n(r(d[2])),o=n(r(d[3])),E=n(r(d[4])),u=n(r(d[5])),A=n(r(d[6])),c=n(r(d[7]));function _(n,s){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);s&&(o=o.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,o)}return t}function S(n){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?_(Object(o),!0).forEach(function(t){(0,s.default)(n,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):_(Object(o)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(o,s))})}return n}r(d[8]);var O=Object.freeze({GRANTED:'granted',DENIED:'denied',NEVER_ASK_AGAIN:'never_ask_again'}),l=Object.freeze({READ_CALENDAR:'android.permission.READ_CALENDAR',WRITE_CALENDAR:'android.permission.WRITE_CALENDAR',CAMERA:'android.permission.CAMERA',READ_CONTACTS:'android.permission.READ_CONTACTS',WRITE_CONTACTS:'android.permission.WRITE_CONTACTS',GET_ACCOUNTS:'android.permission.GET_ACCOUNTS',ACCESS_FINE_LOCATION:'android.permission.ACCESS_FINE_LOCATION',ACCESS_COARSE_LOCATION:'android.permission.ACCESS_COARSE_LOCATION',RECORD_AUDIO:'android.permission.RECORD_AUDIO',READ_PHONE_STATE:'android.permission.READ_PHONE_STATE',CALL_PHONE:'android.permission.CALL_PHONE',READ_CALL_LOG:'android.permission.READ_CALL_LOG',WRITE_CALL_LOG:'android.permission.WRITE_CALL_LOG',ADD_VOICEMAIL:'com.android.voicemail.permission.ADD_VOICEMAIL',USE_SIP:'android.permission.USE_SIP',PROCESS_OUTGOING_CALLS:'android.permission.PROCESS_OUTGOING_CALLS',BODY_SENSORS:'android.permission.BODY_SENSORS',SEND_SMS:'android.permission.SEND_SMS',RECEIVE_SMS:'android.permission.RECEIVE_SMS',READ_SMS:'android.permission.READ_SMS',RECEIVE_WAP_PUSH:'android.permission.RECEIVE_WAP_PUSH',RECEIVE_MMS:'android.permission.RECEIVE_MMS',READ_EXTERNAL_STORAGE:'android.permission.READ_EXTERNAL_STORAGE',WRITE_EXTERNAL_STORAGE:'android.permission.WRITE_EXTERNAL_STORAGE'}),R=(function(){function n(){(0,o.default)(this,n),this.PERMISSIONS=l,this.RESULTS=O}return(0,E.default)(n,[{key:"checkPermission",value:function(n){return console.warn('"PermissionsAndroid.checkPermission" is deprecated. Use "PermissionsAndroid.check" instead'),(0,c.default)(A.default,'PermissionsAndroid is not installed correctly.'),A.default.checkPermission(n)}},{key:"check",value:function(n){return(0,c.default)(A.default,'PermissionsAndroid is not installed correctly.'),A.default.checkPermission(n)}},{key:"requestPermission",value:function(n,s){var o;return t.default.async(function(E){for(;;)switch(E.prev=E.next){case 0:console.warn('"PermissionsAndroid.requestPermission" is deprecated. Use "PermissionsAndroid.request" instead'),E.next=4;break;case 4:return E.next=6,t.default.awrap(this.request(n,s));case 6:return o=E.sent,E.abrupt("return",o===this.RESULTS.GRANTED);case 8:case"end":return E.stop()}},null,this)}},{key:"request",value:function(n,s){return t.default.async(function(o){for(;;)switch(o.prev=o.next){case 0:o.next=3;break;case 3:if((0,c.default)(A.default,'PermissionsAndroid is not installed correctly.'),!s){o.next=10;break}return o.next=7,t.default.awrap(A.default.shouldShowRequestPermissionRationale(n));case 7:if(!o.sent||!u.default){o.next=10;break}return o.abrupt("return",new Promise(function(t,o){var E=S({},s);u.default.showAlert(E,function(){return o(new Error('Error showing rationale'))},function(){return t(A.default.requestPermission(n))})}));case 10:return o.abrupt("return",A.default.requestPermission(n));case 11:case"end":return o.stop()}},null,this)}},{key:"requestMultiple",value:function(n){return(0,c.default)(A.default,'PermissionsAndroid is not installed correctly.'),A.default.requestMultiplePermissions(n)}}]),n})();R=new R,m.exports=R},359,[1,51,2,4,5,138,360,17,53]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=t(r(d[1])).get('PermissionsAndroid');e.default=o},360,[23,24]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),o=t(r(d[1])),n=t(r(d[2])),l=t(r(d[3])),u=r(d[4]),c=r(d[5]),s=new u(l.default),f=new Map,v=(function(){function t(n){var l=this;(0,o.default)(this,t),this._data={},this._remoteNotificationCompleteCallbackCalled=!1,this._isRemote=n.remote,this._isRemote&&(this._notificationId=n.notificationId),n.remote?Object.keys(n).forEach(function(t){var o=n[t];'aps'===t?(l._alert=o.alert,l._sound=o.sound,l._badgeCount=o.badge,l._category=o.category,l._contentAvailable=o['content-available'],l._threadID=o['thread-id']):l._data[t]=o}):(this._badgeCount=n.applicationIconBadgeNumber,this._sound=n.soundName,this._alert=n.alertBody,this._data=n.userInfo,this._category=n.category)}return(0,n.default)(t,null,[{key:"presentLocalNotification",value:function(t){c(l.default,'PushNotificationManager is not available.'),l.default.presentLocalNotification(t)}},{key:"scheduleLocalNotification",value:function(t){c(l.default,'PushNotificationManager is not available.'),l.default.scheduleLocalNotification(t)}},{key:"cancelAllLocalNotifications",value:function(){c(l.default,'PushNotificationManager is not available.'),l.default.cancelAllLocalNotifications()}},{key:"removeAllDeliveredNotifications",value:function(){c(l.default,'PushNotificationManager is not available.'),l.default.removeAllDeliveredNotifications()}},{key:"getDeliveredNotifications",value:function(t){c(l.default,'PushNotificationManager is not available.'),l.default.getDeliveredNotifications(t)}},{key:"removeDeliveredNotifications",value:function(t){c(l.default,'PushNotificationManager is not available.'),l.default.removeDeliveredNotifications(t)}},{key:"setApplicationIconBadgeNumber",value:function(t){c(l.default,'PushNotificationManager is not available.'),l.default.setApplicationIconBadgeNumber(t)}},{key:"getApplicationIconBadgeNumber",value:function(t){c(l.default,'PushNotificationManager is not available.'),l.default.getApplicationIconBadgeNumber(t)}},{key:"cancelLocalNotifications",value:function(t){c(l.default,'PushNotificationManager is not available.'),l.default.cancelLocalNotifications(t)}},{key:"getScheduledLocalNotifications",value:function(t){c(l.default,'PushNotificationManager is not available.'),l.default.getScheduledLocalNotifications(t)}},{key:"addEventListener",value:function(o,n){var l;c('notification'===o||'register'===o||'registrationError'===o||'localNotification'===o,'PushNotificationIOS only supports `notification`, `register`, `registrationError`, and `localNotification` events'),'notification'===o?l=s.addListener("remoteNotificationReceived",function(o){n(new t(o))}):'localNotification'===o?l=s.addListener("localNotificationReceived",function(o){n(new t(o))}):'register'===o?l=s.addListener("remoteNotificationsRegistered",function(t){n(t.deviceToken)}):'registrationError'===o&&(l=s.addListener("remoteNotificationRegistrationError",function(t){n(t)})),f.set(o,l)}},{key:"removeEventListener",value:function(t,o){c('notification'===t||'register'===t||'registrationError'===t||'localNotification'===t,'PushNotificationIOS only supports `notification`, `register`, `registrationError`, and `localNotification` events');var n=f.get(t);n&&(n.remove(),f.delete(t))}},{key:"requestPermissions",value:function(t){var o={};return o=t?{alert:!!t.alert,badge:!!t.badge,sound:!!t.sound}:{alert:!0,badge:!0,sound:!0},c(l.default,'PushNotificationManager is not available.'),l.default.requestPermissions(o)}},{key:"abandonPermissions",value:function(){c(l.default,'PushNotificationManager is not available.'),l.default.abandonPermissions()}},{key:"checkPermissions",value:function(t){c('function'==typeof t,'Must provide a valid callback'),c(l.default,'PushNotificationManager is not available.'),l.default.checkPermissions(t)}},{key:"getInitialNotification",value:function(){return c(l.default,'PushNotificationManager is not available.'),l.default.getInitialNotification().then(function(o){return o&&new t(o)})}}]),(0,n.default)(t,[{key:"finish",value:function(t){this._isRemote&&this._notificationId&&!this._remoteNotificationCompleteCallbackCalled&&(this._remoteNotificationCompleteCallbackCalled=!0,c(l.default,'PushNotificationManager is not available.'),l.default.onFinishRemoteNotification(this._notificationId,t))}},{key:"getMessage",value:function(){return this._alert}},{key:"getSound",value:function(){return this._sound}},{key:"getCategory",value:function(){return this._category}},{key:"getAlert",value:function(){return this._alert}},{key:"getContentAvailable",value:function(){return this._contentAvailable}},{key:"getBadgeCount",value:function(){return this._badgeCount}},{key:"getData",value:function(){return this._data}},{key:"getThreadID",value:function(){return this._threadID}}]),t})();v.FetchResult={NewData:'UIBackgroundFetchResultNewData',NoData:'UIBackgroundFetchResultNoData',ResultFailed:'UIBackgroundFetchResultFailed'},m.exports=v},361,[1,4,5,362,121,17]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=t(r(d[1])).get('PushNotificationManager');e.default=o},362,[23,24]);
__d(function(g,r,i,a,m,e,d){'use strict';var n={get:function(n){return console.warn('Settings is not yet supported on Android'),null},set:function(n){console.warn('Settings is not yet supported on Android')},watchKeys:function(n,t){return console.warn('Settings is not yet supported on Android'),-1},clearWatch:function(n){console.warn('Settings is not yet supported on Android')}};m.exports=n},363,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),s=t(r(d[1])),o=t(r(d[2])),n=(t(r(d[3])),t(r(d[4]))),l=(r(d[5]),r(d[6])),u=(r(d[7]),(function(){function t(){(0,s.default)(this,t)}return(0,o.default)(t,null,[{key:"share",value:function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};l('object'==typeof t&&null!==t,'Content to share must be a valid object'),l('string'==typeof t.url||'string'==typeof t.message,'At least one of URL and message is required'),l('object'==typeof s&&null!==s,'Options must be a valid object'),l(n.default,'ShareModule should be registered on Android.'),l(!t.title||'string'==typeof t.title,'Invalid title: title should be a string.');var o={title:t.title,message:'string'==typeof t.message?t.message:void 0};return n.default.share(o,s.dialogTitle)}}]),t})());u.sharedAction='sharedAction',u.dismissedAction='dismissedAction',m.exports=u},364,[1,4,5,327,365,53,17,76]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])).get('ShareModule');e.default=u},365,[23,24]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);m.exports=new t('StatusBarManager')},366,[121]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=t(r(d[1])),s=t(r(d[2])),u=t(r(d[3])),o=t(r(d[4])),c=(function(){function t(){(0,s.default)(this,t)}return(0,u.default)(t,null,[{key:"open",value:function(t){return n.default.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!o.default){n.next=4;break}return n.abrupt("return",o.default.open(t));case 4:return n.abrupt("return",Promise.reject({message:'TimePickerAndroid is not supported on this platform.'}));case 5:case"end":return n.stop()}})}}]),t})();c.timeSetAction='timeSetAction',c.dismissedAction='dismissedAction',m.exports=c},367,[1,2,4,5,368]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])).get('TimePickerAndroid');e.default=u},368,[23,24]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])(r(d[1])),s={SHORT:t.default.getConstants().SHORT,LONG:t.default.getConstants().LONG,TOP:t.default.getConstants().TOP,BOTTOM:t.default.getConstants().BOTTOM,CENTER:t.default.getConstants().CENTER,show:function(s,n){t.default.show(s,n)},showWithGravity:function(s,n,f){t.default.showWithGravity(s,n,f)},showWithGravityAndOffset:function(s,n,f,o,u){t.default.showWithGravityAndOffset(s,n,f,o,u)}};m.exports=s},369,[1,370]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=t(r(d[1])).getEnforcing('ToastAndroid');e.default=o},370,[23,24]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=u.default.get('window'),n=f.useState(!1)[1].bind(null,function(t){return!t}),c=f.useState(t)[0];return f.useEffect(function(){return u.default.addEventListener('change',n),u.default.get('window')!==c&&n(),function(){u.default.removeEventListener('change',n)}},[n,c]),t};var u=n(r(d[2])),f=t(r(d[3]))},371,[23,1,61,12]);
__d(function(g,r,i,a,m,e,d){'use strict';var A=r(d[0])({BOM:"\ufeff",BULLET:"\u2022",BULLET_SP:"\xa0\u2022\xa0",MIDDOT:"\xb7",MIDDOT_SP:"\xa0\xb7\xa0",MIDDOT_KATAKANA:"\u30fb",MDASH:"\u2014",MDASH_SP:"\xa0\u2014\xa0",NDASH:"\u2013",NDASH_SP:"\xa0\u2013\xa0",NBSP:"\xa0",PIZZA:"\ud83c\udf55",TRIANGLE_LEFT:"\u25c0",TRIANGLE_RIGHT:"\u25b6"});m.exports=A},372,[38]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])(r(d[1]));r(d[2]);var n={vibrate:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:400,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if('number'==typeof n)t.default.vibrate(n);else{if(!Array.isArray(n))throw new Error('Vibration pattern should be a number or array');t.default.vibrateByPattern(n,o?0:-1)}},cancel:function(){t.default.cancel()}};m.exports=n},373,[1,374,53]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])).getEnforcing('Vibration');e.default=n},374,[23,24]);
__d(function(g,r,i,a,m,e,d){'use strict';var n,t=r(d[0]),u=r(d[1]),l=r(d[2]),o=r(d[3]),s=r(d[4]);n=(function(n){function c(){return t(this,c),l(this,o(c).apply(this,arguments))}return s(c,n),u(c,[{key:"render",value:function(){return null}}],[{key:"ignoreWarnings",value:function(n){}},{key:"install",value:function(){}},{key:"uninstall",value:function(){}}]),c})(r(d[5]).Component),m.exports=n},375,[4,5,6,9,10,12]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]),s=n.shape({x:n.number,y:n.number});m.exports=s},376,[68]);
__d(function(g,r,i,a,m,e,d){var o=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r(d[1]);r(d[2]);var l=o(r(d[3]));r(d[4]);console.ignoredYellowBox=!0;var t=l.default;e.default=t},377,[1,378,16,379,505]);
__d(function(g,r,i,a,m,e,d){var _;void 0===(_=g||window||this).__filename&&(_.__filename='__filename')},378,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),o=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(r(d[2])),u=o(r(d[3])),s=o(r(d[4])),l=o(r(d[5])),p=o(r(d[6])),f=t(r(d[7])),h=o(r(d[8])),c=o(r(d[9])),C=r(d[10]),v=r(d[11]),E=r(d[12]),A=o(r(d[13])),y=o(r(d[14])),B=o(r(d[15])),M=(o(r(d[16])),o(r(d[17]))),O=new E.NativeEventEmitter(B.default),R=(function(t){function o(t){var u;(0,n.default)(this,o),u=(0,s.default)(this,(0,l.default)(o).call(this,t));var p=(0,C.combineReducers)(c.default);return u.storeObj=(0,C.createStore)(p),A.default.setCallObject(u.props.RTCUser,u.props.RTCReceiver,u.props.RTCInitiator,u.props.isInitiator),A.default.setRegion(u.props.REGION),A.default.setAudioOnly(u.props.isAudioOnly),u}return(0,p.default)(o,t),(0,u.default)(o,[{key:"componentDidMount",value:function(){var t=this;this.eventListener=new E.NativeEventEmitter(B.default),this.eventListener.addListener('CallEvent',function(o){y.default.log("CallEvent received : ",o),"EndCall"==o.type&&t.props.onEndCall(),"EndCallButtonPressed"==o.type&&t.props.onCallEndButtonPressed()})}},{key:"render",value:function(){return f.default.createElement(v.Provider,{store:this.storeObj},f.default.createElement(h.default,{sessionid:this.props.sessionId,enableDefaultLayout:this.props.enableDefaultLayout,hideAudioMuteButton:this.props.hideAudioMuteButton,hideEndCallButton:this.props.hideEndCallButton,hidePauseVideoButton:this.props.hidePauseVideoButton,hideVideoSwitchButton:this.props.hideVideoSwitchButton,hideAudioModeButton:this.props.hideAudioModeButton,isAudioOnly:this.props.isAudioOnly,isConference:this.props.isConference,uid:this.props.uid,RTCUser:this.props.RTCUser,isSingleMode:this.props.isSingleMode,mode:this.props.mode,REGION:this.props.REGION}))}}]),o})(f.Component);e.default=R,R.endCallSession=function(){O.emit('CallEvent',{type:'NativeEndCall'}),M.default.endCall()},R.switchCameraSource=function(){M.default.switchCamera()},R.muteAudio=function(){M.default.muteAudio()},R.unMuteAudio=function(){M.default.unMuteAudio()},R.pauseVideo=function(){M.default.pauseVideo()},R.unPauseVideo=function(){M.default.unPauseVideo()},R.setAudioModeToSpeaker=function(){},R.setAudioModeToEarPiece=function(){}},379,[23,1,4,5,6,9,10,12,380,502,456,443,16,382,441,440,492,496]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),o=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(r(d[2])),u=o(r(d[3])),s=o(r(d[4])),l=o(r(d[5])),h=o(r(d[6])),p=t(r(d[7])),f=r(d[8]),c=(o(r(d[9])),o(r(d[10]))),y=(o(r(d[11])),(function(t){function o(){return(0,n.default)(this,o),(0,s.default)(this,(0,l.default)(o).apply(this,arguments))}return(0,h.default)(o,t),(0,u.default)(o,[{key:"renderConferenceScreen",value:function(t){return p.default.createElement(c.default,{sessionID:t.toLowerCase(),username:this.props.RTCUser.name,RTCUser:this.props.RTCUser,isSingleMode:this.props.isSingleMode,mode:this.props.mode,REGION:this.props.REGION,isAudioOnly:this.props.isAudioOnly,enableDefaultLayout:this.props.enableDefaultLayout,hideAudioMuteButton:this.props.hideAudioMuteButton,hideEndCallButton:this.props.hideEndCallButton,hidePauseVideoButton:this.props.hidePauseVideoButton,hideVideoSwitchButton:this.props.hideVideoSwitchButton,hideAudioModeButton:this.props.hideAudioModeButton,enableDefaultLayout:this.props.enableDefaultLayout})}},{key:"render",value:function(){return p.default.createElement(f.View,{style:{height:'100%',width:'100%',backgroundColor:"#000"}},this.renderConferenceScreen(this.props.sessionid))}}]),o})(p.Component));e.default=y},380,[23,1,4,5,6,9,10,12,16,381,492,441]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o,l,u=n(r(d[2])),s=n(r(d[3])),c=n(r(d[4])),f=n(r(d[5])),h=n(r(d[6])),p=n(r(d[7])),v=t(r(d[8])),y=r(d[9]),E=n(r(d[10])),b=r(d[11]),C=n(r(d[12])),w=n(r(d[13])),B=n(r(d[14])),S=n(r(d[15])),L=n(r(d[16])),k=!1,A=(function(t){function n(t){var s;return(0,u.default)(this,n),(s=(0,c.default)(this,(0,f.default)(n).call(this,t))).style={lt_container:{flexDirection:'column-reverse',alignItems:'flex-end',position:'absolute',right:0,bottom:0},button_container:{position:'absolute',bottom:0,display:'flex',width:'100%',height:100,alignItems:'center'},avatarContainer:{position:'absolute',alignSelf:"center",margin:150,flexDirection:"column",justifyContent:'center'},callerName:{color:"#FFF",fontSize:25,fontWeight:'bold',alignSelf:'center',justifyContent:'center'},avatar:{height:150,width:150,borderRadius:500}},E.default.receiverObject?E.default.isInitiator?(o=E.default.receiverObject.name,l=E.default.receiverObject.avatar):(o=E.default.initiatorObject.name,l=E.default.initiatorObject.avatar):o="",s.addEventListener=s.addEventListener.bind((0,h.default)(s)),s.state={showConnectionState:!0},k=!!E.default.isAudioOnly&&(!E.default.receiverObject||!!s.props.isConference),s}return(0,p.default)(n,t),(0,s.default)(n,[{key:"componentDidMount",value:function(){this.props.init(this.props.room.toLowerCase()),S.default.log("Default layout enabled ? ",this.props.enableDefaultLayout),E.default.makeConnection(),E.default.addEventListener(),this.props.createLocalTracks(),this.addEventListener()}},{key:"addEventListener",value:function(){var t=this;this.eventListener=new y.NativeEventEmitter(L.default),this.eventListener.addListener('CallEvent',function(n){"onConnectionSuccess"==n.type&&(S.default.log("OnConnectionSuccess received"),t.setState({showConnectionState:!1}))})}},{key:"renderConferenceScreen",value:function(t){return v.default.createElement(y.View,{style:{height:'100%',width:'100%',position:'absolute'}},v.default.createElement(w.default,null),v.default.createElement(B.default,null),t?v.default.createElement(C.default,{hideAudioMuteButton:this.props.hideAudioMuteButton,hideEndCallButton:this.props.hideEndCallButton,hidePauseVideoButton:this.props.hidePauseVideoButton,hideVideoSwitchButton:this.props.hideVideoSwitchButton,hideAudioModeButton:this.props.hideAudioModeButton}):null)}},{key:"renderAudioConfrenceScreen",value:function(t){return v.default.createElement(y.View,{style:{height:'100%',width:'100%',position:'relative',backgroundColor:'#000000',zIndex:2}},k?v.default.createElement(B.default,null):null,v.default.createElement(y.View,{style:this.style.avatarContainer},l?v.default.createElement(y.Image,{style:this.style.avatar,resizeMode:"cover",source:{uri:l}}):v.default.createElement(y.Image,{style:this.style.avatar,resizeMode:"cover",source:r(d[17])}),v.default.createElement(y.Text,{style:this.style.callerName},o)),v.default.createElement(y.View,{style:{width:'100%',bottom:0,position:'absolute'}},this.state.showConnectionState?v.default.createElement(y.Text,{style:{color:"#FFF",bottom:120,alignSelf:"center"}},"Connecting .... "):null,t?v.default.createElement(C.default,{hideAudioMuteButton:this.props.hideAudioMuteButton,hideEndCallButton:this.props.hideEndCallButton,hidePauseVideoButton:!0,hideVideoSwitchButton:!0,hideAudioModeButton:this.props.hideAudioModeButton}):null))}},{key:"render",value:function(){var t=this.props.enableDefaultLayout,n=this.props.isAudioOnly||!1;return v.default.createElement(y.View,{style:{height:'100%',width:'100%'}},n?this.renderAudioConfrenceScreen(t):this.renderConferenceScreen(t))}}]),n})(v.Component);var M=(0,b.connect)(function(t){return{remoteTracks:t.tracks.remoteTracks}},function(t){return{init:function(t){return E.default.init(t)},createLocalTracks:function(){return E.default.createLocalTracks(t)}}})(A);e.default=M},381,[23,1,4,5,6,9,8,10,12,16,382,443,472,488,489,441,440,491]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(r(d[1])),t=n(r(d[2])),c=n(r(d[3])),l=n(r(d[4])),s=n(r(d[5]));r(d[6]);var u=r(d[7]),f=r(d[8]),v=n(r(d[9])),E=n(r(d[10])),T=n(r(d[11])),C=n(r(d[12]));!(function(n){if(void 0===n.$){var o=r(d[13]);o(n),n.$=o}})(g||window||this);var h='JitsiManager',k=(function(n){function u(){return(0,o.default)(this,u),(0,c.default)(this,(0,l.default)(u).apply(this,arguments))}return(0,s.default)(u,n),(0,t.default)(u,null,[{key:"onMuteAudio",value:function(){u.localTracks[0].mute()}},{key:"onUnmuteAudio",value:function(){u.localTracks[0].unmute()}},{key:"onMuteVideo",value:function(){u.localTracks[1].mute()}},{key:"onUnmuteVideo",value:function(){u.localTracks[1].unmute()}},{key:"setAudioModeSpeaker",value:function(){T.default.setAudoSourceSpeaker()}},{key:"setAudioModeEarpiece",value:function(){T.default.setAudoSourceEarPiece()}},{key:"getDomain",value:function(){var n="rtc-"+u.region+".cometchat.io";return C.default.log("RTC Domain = ",n),n}},{key:"getMUC",value:function(){var n="conference.rtc-"+u.region+".cometchat.io";return C.default.log("RTC MUC = ",n),n}},{key:"getBosh",value:function(){var n="https://rtc-"+u.region+".cometchat.io/http-bind";return C.default.log("RTC Bosh = ",n),n}},{key:"setCallObject",value:function(n,o,t,c){u.isInitiator=c,u.receiverObject=o,u.userObject=n,u.initiatorObject=t}},{key:"setRegion",value:function(n){u.region=n}},{key:"setAudioOnly",value:function(n){u.isAudioOnly=n}},{key:"onConnectionSuccess",value:function(){C.default.log("onConnectionSuccess Called"),u.room=u.connection.initJitsiConference(u.roomName,u.confOptions),C.default.log("Jitsi room User ID: ",u.room.myUserId()),u.room.on(v.default.events.conference.TRACK_ADDED,u.onRemoteTrack),u.room.on(v.default.events.conference.TRACK_REMOVED,u.onTrackRemoved),u.room.on(v.default.events.conference.CONFERENCE_JOINED,u.onConferenceJoined),u.room.on(v.default.events.conference.USER_JOINED,u.onUserJoined),u.room.on(v.default.events.conference.USER_LEFT,u.onUserLeft),u.room.on(v.default.events.conference.TRACK_MUTE_CHANGED,function(n){console.info('track')}),u.room.on(v.default.events.conference.DISPLAY_NAME_CHANGED,function(n,o){console.info('displayName')}),u.room.on(v.default.events.conference.TRACK_AUDIO_LEVEL_CHANGED,function(n,o){console.info('audioLevel')}),u.room.on(v.default.events.conference.LAST_N_ENDPOINTS_CHANGED,u.onLastNEndPointChanged),u.room.on(v.default.events.conference.DOMINANT_SPEAKER_CHANGED,u.onDominantSpeakerChanged),u.room.addCommandListener("RTCUserUid",function(n){var o,t=!1;for(o=0;o<u.users.length;o++)n.attributes.trackid==u.users[o].trackid&&(t=!0);t||u.users.push(n.attributes)}),u.room.setDisplayName(u.userObject.name),u.room.join()}},{key:"onLastNEndPointChanged",value:function(n,o){C.default.log(h,"LastN leavingIds ",n),C.default.log(h,"LastN enteringIds ",o)}},{key:"onDominantSpeakerChanged",value:function(n){C.default.log(h,"onDominantSpeakerChanged ",n),u.dispatch(E.default.updateDominantVideoId(n))}},{key:"onUserJoined",value:function(n,o){u.eventEmitter.emit('CallEvent',{type:'onConnectionSuccess'}),u.room.sendCommand("RTCUserUid",{attributes:{uid:u.userObject.uid,name:u.userObject.name,avatar:u.userObject.avatar,trackid:u.room.myUserId()}});var t={id:o.getId(),name:o.getDisplayName(),status:o._connectionStatus,isAudioMuted:void 0,isVideoMuted:void 0,videoTrack:void 0,audioTrack:void 0};C.default.log(h,"onUserJoined UserObject = ",t),u.dispatch(E.default.addUser(t))}}]),u})(u.Component);e.default=k,k.localVideoUrl='',k.roomName=null,k.dispatch=null,k.region=null,k.isAudioOnly=null,k.connection=null,k.room=null,k.localTracks=[],k.isJoined=!0,k.users=[],k.removedTracks=[],k.MAX_VIDEO_STREAM_LIMIT=1,k.remoteTracks={},k.confOptions={openBridgeChannel:!0,channelLastN:k.MAX_VIDEO_STREAM_LIMIT},k.initOptions={disableAudioLevels:!0,desktopSharingChromeExtId:'mbocklcggfhnbahlnepmldehdhpjfcjp',desktopSharingChromeDisabled:!1,desktopSharingChromeSources:['screen','window'],desktopSharingChromeMinExtVersion:'0.1',desktopSharingFirefoxDisabled:!0},k.eventEmitter=new f.NativeEventEmitter(T.default),k.onUserLeft=function(n){C.default.log("onUserLeft id lol : ",n),k.dispatch(E.default.removeUser(n)),k.remoteTracks[n]&&k.dispatch(E.default.removeRemoteTrack(n))},k.onLocalTracks=function(n){k.localTracks=n,k.dispatch(E.default.addLocalTracks(k.localTracks));for(var o=0;o<k.localTracks.length;o++)k.localTracks[o].addEventListener(v.default.events.track.TRACK_AUDIO_LEVEL_CHANGED,function(n){return console.info('audioLevel')}),k.localTracks[o].addEventListener(v.default.events.track.TRACK_MUTE_CHANGED,function(){console.info('local track muted')}),k.localTracks[o].addEventListener(v.default.events.track.LOCAL_TRACK_STOPPED,function(){console.info('track stopped')}),k.localTracks[o].addEventListener(v.default.events.track.TRACK_AUDIO_OUTPUT_CHANGED,function(n){return console.info('deviceId')}),'video'===k.localTracks[o].getType()&&(k.dispatch(E.default.addLocalUrl(k.localTracks[o].getOriginalStream().toURL())),k.dispatch(E.default.addLocalTrackId(k.localTracks[o].ownerEndpointId)),C.default.log("Local tracks ownerEndpointId ",k.localTracks[o].ownerEndpointId))},k.onTrackRemoved=function(n){var o=n.ownerEndpointId;n.isLocal()||(k.removedTracks.push(o),k.dispatch(E.default.removeRemoteTrack(o)))},k.onRemoteTrack=function(n){if(!n.isLocal()){C.default.log(h,"onRemoteTrack Called..... ",n),k.dispatch(E.default.addRemoteTracks(n));var o=n.getParticipantId();k.remoteTracks[o]||(k.remoteTracks[o]=[]);var t=k.remoteTracks[o].push(n);n.addEventListener(v.default.events.track.TRACK_AUDIO_LEVEL_CHANGED,function(n){return console.info('audioLevel')}),n.addEventListener(v.default.events.track.TRACK_MUTE_CHANGED,function(){console.info('')}),n.addEventListener(v.default.events.track.LOCAL_TRACK_STOPPED,function(){console.info('')}),n.addEventListener(v.default.events.track.TRACK_AUDIO_OUTPUT_CHANGED,function(n){return console.info('deviceId')});n.getType();'video'===n.getType()&&k.dispatch(E.default.addRemoteUrl(n.getOriginalStream().toURL()))}},k.onConferenceJoined=function(){k.isJoined=!0,C.default.log(h,"Local Track to be published = ",k.localTracks);for(var n=0;n<k.localTracks.length;n++)k.room.addTrack(k.localTracks[n])},k.onConnectionFailed=function(){f.Alert.alert('Connection Failed','There was a problem reaching our server. Please Try Again Later.',[{text:'OK',onPress:function(){k.dispatch(E.default.connectionFailed(1))}}],{cancelable:!1})},k.init=function(n){C.default.log("Init called"),k.users=[],k.roomName=n,v.default.init(k.initOptions),v.default.setLogLevel(v.default.logLevels.ERROR)},k.makeConnection=function(){var n={hosts:{domain:k.getDomain(),muc:k.getMUC()},p2p:{enabled:!1,stunServers:[{urls:'stun:stun.l.google.com:19302'},{urls:'stun:stun1.l.google.com:19302'},{urls:'stun:stun2.l.google.com:19302'}],preferH264:!0},bosh:k.getBosh(),clientNode:'http://jitsi.org/jitsimeet'};k.connection=new v.default.JitsiConnection(null,null,n),k.connection.connect()},k.disconnect=function(){this.connection.removeEventListener(v.default.events.connection.CONNECTION_ESTABLISHED,k.onConnectionSuccess),this.connection.removeEventListener(v.default.events.connection.CONNECTION_FAILED,k.onConnectionFailed),this.connection.removeEventListener(v.default.events.connection.CONNECTION_DISCONNECTED,k.disconnect)},k.addEventListener=function(){this.connection.addEventListener(v.default.events.connection.CONNECTION_ESTABLISHED,k.onConnectionSuccess),this.connection.addEventListener(v.default.events.connection.CONNECTION_FAILED,k.onConnectionFailed),this.connection.addEventListener(v.default.events.connection.CONNECTION_DISCONNECTED,k.disconnect)},k.createLocalTracks=function(n){C.default.log("Create Local track called"),k.dispatch=n,k.isAudioOnly?v.default.createLocalTracks({devices:['audio']}).then(k.onLocalTracks).catch(function(n){throw C.default.log("Create Local Track called.."),n}):v.default.createLocalTracks({devices:['audio','video'],facingMode:'user'}).then(k.onLocalTracks).catch(function(n){throw C.default.log("Create Local Track called.."),n})},k.onSwitchCamera=function(){for(var n=0;n<k.localTracks.length;n++)'video'===k.localTracks[n].getType()&&k.localTracks[n]._switchCamera()},k.unMount=function(){k.room&&this.room.leave().catch(function(n){})},k.reMount=function(){C.default.log(h,"Remount function called",""),C.default.log(h,"Connection object = ",k.connection)},k.onHangUp=function(){if(C.default.log("onHangup Called"),k.room&&(this.room.off(v.default.events.conference.TRACK_ADDED,k.onRemoteTrack),this.room.off(v.default.events.conference.TRACK_REMOVED,function(n){console.info('track')}),this.room.off(v.default.events.conference.CONFERENCE_JOINED,k.onConferenceJoined),this.room.off(v.default.events.conference.USER_JOINED,function(n){k.remoteTracks[n]=[]}),this.room.off(v.default.events.conference.USER_LEFT,k.onUserLeft),this.room.off(v.default.events.conference.TRACK_MUTE_CHANGED,function(n){console.info('track')}),this.room.off(v.default.events.conference.DISPLAY_NAME_CHANGED,function(n,o){console.info('displayName')}),this.room.off(v.default.events.conference.TRACK_AUDIO_LEVEL_CHANGED,function(n,o){console.info('audioLevel')}),this.room.leave().catch(function(n){}),this.room=null),this.connection&&(this.connection.removeEventListener(v.default.events.connection.CONNECTION_ESTABLISHED,k.onConnectionSuccess),this.connection.removeEventListener(v.default.events.connection.CONNECTION_FAILED,k.onConnectionFailed),this.connection.removeEventListener(v.default.events.connection.CONNECTION_DISCONNECTED,k.disconnect),this.connection.disconnect(),this.connection=null),null!==this.dispatch&&(this.dispatch(E.default.removeLocalTracks()),this.dispatch(E.default.removeRemoteTracks()),this.dispatch(E.default.addLocalUrl('')),this.dispatch(E.default.addRemoteUrl(''))),k.localTracks)for(var n=0;n<k.localTracks.length;n++)k.localTracks[n].dispose();k.dispatch&&k.dispatch(E.default.clearAllUsers()),k.eventEmitter&&k.eventEmitter.emit('CallEvent',{type:'EndCall'})}},382,[1,4,5,6,9,10,383,12,16,438,439,440,441,442]);
__d(function(g,r,i,a,m,e,d){r(d[0]),r(d[1])},383,[384,431]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0])(r(d[1]));r(d[2]);var n=r(d[3]);function o(t,n){return t===n?t:(l=Object.getPrototypeOf(t))&&(l=o(n,l))||(l=Object.getPrototypeOf(n))&&(l=o(t,l))?l:void 0;var l}function l(t,n){var o=null;return t&&f(t,function(t){return 1===t.nodeType&&t.nodeName===n&&(o=t,!0)}),o}function f(t,n){if(n(t))return!0;if(t=t.firstChild)do{if(f(t,n))return!0}while(t=t.nextSibling);return!1}!(function(f){var u=r(d[4]).DOMParser;if(f.DOMParser=u,void 0===f.addEventListener&&(f.addEventListener=function(){}),void 0===f.removeEventListener&&(f.removeEventListener=function(){}),void 0===f.document){var c=(new u).parseFromString('<html><head></head><body></body></html>','text/xml');void 0===c.addEventListener&&(c.addEventListener=function(){}),void 0===c.cookie&&(c.cookie=''),void 0===c.implementation.createHTMLDocument&&(c.implementation.createHTMLDocument=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:'',n=(new u).parseFromString("<html>\n                            <head><title>"+t+"</title></head>\n                            <body></body>\n                        </html>",'text/xml');return Object.defineProperty(n,'body',{get:function(){return n.getElementsByTagName('body')[0]}}),n});var s=Object.getPrototypeOf(c.documentElement);s&&(void 0===s.querySelector&&(s.querySelector=function(t){return l(this,t)}),void 0===s.remove&&(s.remove=function(){null!==this.parentNode&&this.parentNode.removeChild(this)}),s.hasOwnProperty('innerHTML')||Object.defineProperty(s,'innerHTML',{get:function(){return this.childNodes.toString()},set:function(t){this.textContent='';for(var n,o=(new u).parseFromString("<div>"+t+"</div>",'text/xml').documentElement;n=o.firstChild;)this.appendChild(n)}}),s.hasOwnProperty('children')||Object.defineProperty(s,'children',{get:function(){for(var t=this.childNodes,n=[],o=0,l=t[o];l;)1===l.nodeType&&n.push(l),l=t[o+=1];return n}}));var v=o(Object.getPrototypeOf(c),s);if(v&&v!==Object.getPrototypeOf({})){var h=f.console;if(h){var p=r(d[5]).levels;Object.keys(p).forEach(function(t){var n=p[t],o=h[n];'function'==typeof o&&(h[n]=function(){if(!h.disableYellowBox||'error'!==n){for(var t=arguments.length,l=new Array(t),f=0;f<t;f++)l[f]=arguments[f];for(var u=l.length,c=0;c<u;++c){var s=l[c];if(s&&'string'!=typeof s&&v.isPrototypeOf(s)){var p=s.toString;p&&(s=p.call(s))}l[c]=s}o.apply(this,l)}})})}}f.document=c}void 0===f.location&&(f.location={href:'',search:''});var y=f.navigator;if(y){var O=y.userAgent||'',b=r(d[6]),P=b.name,x=b.version,L=P||'react-native';x&&(L+="/"+x),-1===O.indexOf(L)&&(O=O?L+" "+O:L);var w="("+n.Platform.OS+" "+n.Platform.Version+")";-1===O.indexOf(w)&&(O=O?O+" "+w:w),y.userAgent=O}if(r(d[7]),r(d[8]),f.callstats=r(d[9]),f.XMLHttpRequest){var T=f.XMLHttpRequest.prototype;T&&!T.hasOwnProperty('responseXML')&&Object.defineProperty(T,'responseXML',{get:function(){var t=this.responseText;return t&&(new u).parseFromString(t,'text/xml')}})}f.clearTimeout=t.default.clearTimeout.bind(t.default),f.clearInterval=t.default.clearInterval.bind(t.default),f.setInterval=t.default.setInterval.bind(t.default),f.setTimeout=function(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.default.setTimeout(n,o)}})(g||window||this)},384,[1,385,386,387,389,392,395,396,427,430]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),u=t(r(d[2])),c=r(d[3]),l=c.NativeModules.RNBackgroundTimer,o=new c.NativeEventEmitter(l),s=new((function(){function t(){var u=this;(0,n.default)(this,t),this.uniqueId=0,this.callbacks={},o.addListener('backgroundTimer.timeout',function(t){if(u.callbacks[t]){var n=u.callbacks[t].callback;u.callbacks[t].interval?l.setTimeout(t,u.callbacks[t].timeout):delete u.callbacks[t],n()}})}return(0,u.default)(t,[{key:"start",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return l.start(t)}},{key:"stop",value:function(){return l.stop()}},{key:"runBackgroundTimer",value:function(t,n){var u=this,l=c.Platform.select({ios:function(){return c.NativeAppEventEmitter},android:function(){return c.DeviceEventEmitter}})();this.start(0),this.backgroundListener=l.addListener('backgroundTimer',function(){u.backgroundListener.remove(),u.backgroundClockMethod(t,n)})}},{key:"backgroundClockMethod",value:function(t,n){var u=this;this.backgroundTimer=this.setTimeout(function(){t(),u.backgroundClockMethod(t,n)},n)}},{key:"stopBackgroundTimer",value:function(){this.stop(),this.clearTimeout(this.backgroundTimer)}},{key:"setTimeout",value:function(t,n){this.uniqueId+=1;var u=this.uniqueId;return this.callbacks[u]={callback:t,interval:!1,timeout:n},l.setTimeout(u,n),u}},{key:"clearTimeout",value:function(t){this.callbacks[t]&&delete this.callbacks[t]}},{key:"setInterval",value:function(t,n){this.uniqueId+=1;var u=this.uniqueId;return this.callbacks[u]={callback:t,interval:!0,timeout:n},l.setTimeout(u,n),u}},{key:"clearInterval",value:function(t){this.callbacks[t]&&delete this.callbacks[t]}}]),t})());e.default=s},385,[1,4,5,16]);
__d(function(g,r,i,a,m,e,d){!(function(t){'use strict';var s=!1;if(!t.forceJURL)try{var h=new URL('b','http://a');h.pathname='c%20d',s='http://a/c%20d'===h.href}catch(t){}if(!s){var n=Object.create(null);n.ftp=21,n.file=0,n.gopher=70,n.http=80,n.https=443,n.ws=80,n.wss=443;var o=Object.create(null);o['%2e']='.',o['.%2e']='..',o['%2e.']='..',o['%2e%2e']='..';var l=void 0,_=/[a-zA-Z]/,c=/[a-zA-Z0-9\+\-\.]/;I.prototype={toString:function(){return this.href},get href(){if(this._isInvalid)return this._url;var t='';return''==this._username&&null==this._password||(t=this._username+(null!=this._password?':'+this._password:'')+'@'),this.protocol+(this._isRelative?'//'+t+this.host:'')+this.pathname+this._query+this._fragment},set href(t){k.call(this),b.call(this,t)},get protocol(){return this._scheme+':'},set protocol(t){this._isInvalid||b.call(this,t+':','scheme start')},get host(){return this._isInvalid?'':this._port?this._host+':'+this._port:this._host},set host(t){!this._isInvalid&&this._isRelative&&b.call(this,t,'host')},get hostname(){return this._host},set hostname(t){!this._isInvalid&&this._isRelative&&b.call(this,t,'hostname')},get port(){return this._port},set port(t){!this._isInvalid&&this._isRelative&&b.call(this,t,'port')},get pathname(){return this._isInvalid?'':this._isRelative?'/'+this._path.join('/'):this._schemeData},set pathname(t){!this._isInvalid&&this._isRelative&&(this._path=[],b.call(this,t,'relative path start'))},get search(){return this._isInvalid||!this._query||'?'==this._query?'':this._query},set search(t){!this._isInvalid&&this._isRelative&&(this._query='?','?'==t[0]&&(t=t.slice(1)),b.call(this,t,'query'))},get hash(){return this._isInvalid||!this._fragment||'#'==this._fragment?'':this._fragment},set hash(t){this._isInvalid||(this._fragment='#','#'==t[0]&&(t=t.slice(1)),b.call(this,t,'fragment'))},get origin(){var t;if(this._isInvalid||!this._scheme)return'';switch(this._scheme){case'data':case'file':case'javascript':case'mailto':return'null'}return(t=this.host)?this._scheme+'://'+t:''}};var p=t.URL;p&&(I.createObjectURL=function(t){return p.createObjectURL.apply(p,arguments)},I.revokeObjectURL=function(t){p.revokeObjectURL(t)}),t.URL=I}function u(t){return void 0!==n[t]}function f(){k.call(this),this._isInvalid=!0}function v(t){return''==t&&f.call(this),t.toLowerCase()}function y(t){var s=t.charCodeAt(0);return s>32&&s<127&&-1==[34,35,60,62,63,96].indexOf(s)?t:encodeURIComponent(t)}function w(t){var s=t.charCodeAt(0);return s>32&&s<127&&-1==[34,35,60,62,96].indexOf(s)?t:encodeURIComponent(t)}function b(t,s,h){function p(t){L.push(t)}var b=s||'scheme start',k=0,I='',R=!1,q=!1,L=[];t:for(;(t[k-1]!=l||0==k)&&!this._isInvalid;){var U=t[k];switch(b){case'scheme start':if(!U||!_.test(U)){if(s){p('Invalid scheme.');break t}I='',b='no scheme';continue}I+=U.toLowerCase(),b='scheme';break;case'scheme':if(U&&c.test(U))I+=U.toLowerCase();else{if(':'!=U){if(s){if(l==U)break t;p('Code point not allowed in scheme: '+U);break t}I='',k=0,b='no scheme';continue}if(this._scheme=I,I='',s)break t;u(this._scheme)&&(this._isRelative=!0),b='file'==this._scheme?'relative':this._isRelative&&h&&h._scheme==this._scheme?'relative or authority':this._isRelative?'authority first slash':'scheme data'}break;case'scheme data':'?'==U?(this._query='?',b='query'):'#'==U?(this._fragment='#',b='fragment'):l!=U&&'\t'!=U&&'\n'!=U&&'\r'!=U&&(this._schemeData+=y(U));break;case'no scheme':if(h&&u(h._scheme)){b='relative';continue}p('Missing scheme.'),f.call(this);break;case'relative or authority':if('/'!=U||'/'!=t[k+1]){p('Expected /, got: '+U),b='relative';continue}b='authority ignore slashes';break;case'relative':if(this._isRelative=!0,'file'!=this._scheme&&(this._scheme=h._scheme),l==U){this._host=h._host,this._port=h._port,this._path=h._path.slice(),this._query=h._query,this._username=h._username,this._password=h._password;break t}if('/'==U||'\\'==U)'\\'==U&&p('\\ is an invalid code point.'),b='relative slash';else if('?'==U)this._host=h._host,this._port=h._port,this._path=h._path.slice(),this._query='?',this._username=h._username,this._password=h._password,b='query';else{if('#'!=U){var C=t[k+1],j=t[k+2];('file'!=this._scheme||!_.test(U)||':'!=C&&'|'!=C||l!=j&&'/'!=j&&'\\'!=j&&'?'!=j&&'#'!=j)&&(this._host=h._host,this._port=h._port,this._username=h._username,this._password=h._password,this._path=h._path.slice(),this._path.pop()),b='relative path';continue}this._host=h._host,this._port=h._port,this._path=h._path.slice(),this._query=h._query,this._fragment='#',this._username=h._username,this._password=h._password,b='fragment'}break;case'relative slash':if('/'!=U&&'\\'!=U){'file'!=this._scheme&&(this._host=h._host,this._port=h._port,this._username=h._username,this._password=h._password),b='relative path';continue}'\\'==U&&p('\\ is an invalid code point.'),b='file'==this._scheme?'file host':'authority ignore slashes';break;case'authority first slash':if('/'!=U){p("Expected '/', got: "+U),b='authority ignore slashes';continue}b='authority second slash';break;case'authority second slash':if(b='authority ignore slashes','/'!=U){p("Expected '/', got: "+U);continue}break;case'authority ignore slashes':if('/'!=U&&'\\'!=U){b='authority';continue}p('Expected authority, got: '+U);break;case'authority':if('@'==U){R&&(p('@ already seen.'),I+='%40'),R=!0;for(var O=0;O<I.length;O++){var x=I[O];if('\t'!=x&&'\n'!=x&&'\r'!=x)if(':'!=x||null!==this._password){var A=y(x);null!==this._password?this._password+=A:this._username+=A}else this._password='';else p('Invalid whitespace in authority.')}I=''}else{if(l==U||'/'==U||'\\'==U||'?'==U||'#'==U){k-=I.length,I='',b='host';continue}I+=U}break;case'file host':if(l==U||'/'==U||'\\'==U||'?'==U||'#'==U){2!=I.length||!_.test(I[0])||':'!=I[1]&&'|'!=I[1]?0==I.length?b='relative path start':(this._host=v.call(this,I),I='',b='relative path start'):b='relative path';continue}'\t'==U||'\n'==U||'\r'==U?p('Invalid whitespace in file host.'):I+=U;break;case'host':case'hostname':if(':'!=U||q){if(l==U||'/'==U||'\\'==U||'?'==U||'#'==U){if(this._host=v.call(this,I),I='',b='relative path start',s)break t;continue}'\t'!=U&&'\n'!=U&&'\r'!=U?('['==U?q=!0:']'==U&&(q=!1),I+=U):p('Invalid code point in host/hostname: '+U)}else if(this._host=v.call(this,I),I='',b='port','hostname'==s)break t;break;case'port':if(/[0-9]/.test(U))I+=U;else{if(l==U||'/'==U||'\\'==U||'?'==U||'#'==U||s){if(''!=I){var E=parseInt(I,10);E!=n[this._scheme]&&(this._port=E+''),I=''}if(s)break t;b='relative path start';continue}'\t'==U||'\n'==U||'\r'==U?p('Invalid code point in port: '+U):f.call(this)}break;case'relative path start':if('\\'==U&&p("'\\' not allowed in path."),b='relative path','/'!=U&&'\\'!=U)continue;break;case'relative path':var D;if(l!=U&&'/'!=U&&'\\'!=U&&(s||'?'!=U&&'#'!=U))'\t'!=U&&'\n'!=U&&'\r'!=U&&(I+=y(U));else'\\'==U&&p('\\ not allowed in relative path.'),(D=o[I.toLowerCase()])&&(I=D),'..'==I?(this._path.pop(),'/'!=U&&'\\'!=U&&this._path.push('')):'.'==I&&'/'!=U&&'\\'!=U?this._path.push(''):'.'!=I&&('file'==this._scheme&&0==this._path.length&&2==I.length&&_.test(I[0])&&'|'==I[1]&&(I=I[0]+':'),this._path.push(I)),I='','?'==U?(this._query='?',b='query'):'#'==U&&(this._fragment='#',b='fragment');break;case'query':s||'#'!=U?l!=U&&'\t'!=U&&'\n'!=U&&'\r'!=U&&(this._query+=w(U)):(this._fragment='#',b='fragment');break;case'fragment':l!=U&&'\t'!=U&&'\n'!=U&&'\r'!=U&&(this._fragment+=U)}k++}}function k(){this._scheme='',this._schemeData='',this._username='',this._password=null,this._host='',this._port='',this._path=[],this._query='',this._fragment='',this._isInvalid=!1,this._isRelative=!1}function I(t,s){void 0===s||s instanceof I||(s=new I(String(s))),this._url=t,k.call(this);var h=t.replace(/^[ \t\r\n\f]+|[ \t\r\n\f]+$/g,'');b.call(this,h,null,s)}})(window)},386,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Platform",{enumerable:!0,get:function(){return n.default}});var n=t(r(d[1]))},387,[1,388]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(d[0]).Platform;e.default=t},388,[16]);
__d(function(g,r,i,a,m,e,d){function t(t){this.options=t||{locator:{}}}function n(t,n,c){if(!t){if(n instanceof o)return n;t=n}var s={},u=t instanceof Function;function h(n){var o=t[n];!o&&u&&(o=2==t.length?function(o){t(n,o)}:t),s[n]=o&&function(t){o('[xmldom '+n+']\t'+t+l(c))}||function(){}}return c=c||{},h('warning'),h('error'),h('fatalError'),s}function o(){this.cdata=!1}function c(t,n){n.lineNumber=t.lineNumber,n.columnNumber=t.columnNumber}function l(t){if(t)return'\n@'+(t.systemId||'')+'#[line:'+t.lineNumber+',col:'+t.columnNumber+']'}function s(t,n,o){return'string'==typeof t?t.substr(n,o):t.length>=n+o||n?new java.lang.String(t,n,o)+'':t}function u(t,n){t.currentElement?t.currentElement.appendChild(n):t.doc.appendChild(n)}t.prototype.parseFromString=function(t,c){var l=this.options,s=new h,u=l.domBuilder||new o,f=l.errorHandler,p=l.locator,D=l.xmlns||{},E={lt:'<',gt:'>',amp:'&',quot:'"',apos:"'"};return p&&u.setDocumentLocator(p),s.errorHandler=n(f,u,p),s.domBuilder=l.domBuilder||u,/\/x?html?$/.test(c)&&(E.nbsp='\xa0',E.copy='\xa9',D['']='http://www.w3.org/1999/xhtml'),D.xml=D.xml||'http://www.w3.org/XML/1998/namespace',t?s.parse(t,D,E):s.errorHandler.error("invalid doc source"),u.doc},o.prototype={startDocument:function(){this.doc=(new f).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,n,o,l){var s=this.doc,h=s.createElementNS(t,o||n),f=l.length;u(this,h),this.currentElement=h,this.locator&&c(this.locator,h);for(var p=0;p<f;p++){t=l.getURI(p);var D=l.getValue(p),E=(o=l.getQName(p),s.createAttributeNS(t,o));this.locator&&c(l.getLocator(p),E),E.value=E.nodeValue=D,h.setAttributeNode(E)}},endElement:function(t,n,o){var c=this.currentElement;c.tagName;this.currentElement=c.parentNode},startPrefixMapping:function(t,n){},endPrefixMapping:function(t){},processingInstruction:function(t,n){var o=this.doc.createProcessingInstruction(t,n);this.locator&&c(this.locator,o),u(this,o)},ignorableWhitespace:function(t,n,o){},characters:function(t,n,o){if(t=s.apply(this,arguments)){if(this.cdata)var l=this.doc.createCDATASection(t);else l=this.doc.createTextNode(t);this.currentElement?this.currentElement.appendChild(l):/^\s*$/.test(t)&&this.doc.appendChild(l),this.locator&&c(this.locator,l)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,n,o){t=s.apply(this,arguments);var l=this.doc.createComment(t);this.locator&&c(this.locator,l),u(this,l)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,n,o){var l=this.doc.implementation;if(l&&l.createDocumentType){var s=l.createDocumentType(t,n,o);this.locator&&c(this.locator,s),u(this,s)}},warning:function(t){console.warn('[xmldom warning]\t'+t,l(this.locator))},error:function(t){console.error('[xmldom error]\t'+t,l(this.locator))},fatalError:function(t){throw console.error('[xmldom fatalError]\t'+t,l(this.locator)),t}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(t){o.prototype[t]=function(){return null}});var h=r(d[0]).XMLReader,f=e.DOMImplementation=r(d[1]).DOMImplementation;e.XMLSerializer=r(d[1]).XMLSerializer,e.DOMParser=t},389,[390,391]);
__d(function(g,r,i,a,m,e,d){var t=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,n=new RegExp("[\\-\\.0-9"+t.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),s=new RegExp('^'+t.source+n.source+'*(?::'+t.source+n.source+'*)?$'),c=0,u=1,o=2,l=3,f=4,h=5,p=6,w=7;function b(){}function x(t,n,s,c,u){function o(t){if(t>65535){var n=55296+((t-=65536)>>10),s=56320+(1023&t);return String.fromCharCode(n,s)}return String.fromCharCode(t)}function l(t){var n=t.slice(1,-1);return n in s?s[n]:'#'===n.charAt(0)?o(parseInt(n.substr(1).replace('x','0x'))):(u.error('entity not found:'+t),t)}function f(n){if(n>O){var s=t.substring(O,n).replace(/&#?\w+;/g,l);x&&h(O),c.characters(s,0,n-O),O=n}}function h(n,s){for(;n>=w&&(s=b.exec(t));)p=s.index,w=p+s[0].length,x.lineNumber++;x.columnNumber=n-p+1}for(var p=0,w=0,b=/.*(?:\r\n?|\n)|.*$/g,x=c.locator,E=[{currentNSMap:n}],M={},O=0;;){try{var T=t.indexOf('<',O);if(T<0){if(!t.substr(O).match(/^\s*$/)){var S=c.doc,q=S.createTextNode(t.substr(O));S.appendChild(q),c.currentElement=q}return}switch(T>O&&f(T),t.charAt(T+1)){case'/':var y=t.indexOf('>',T+3),_=t.substring(T+2,y),I=E.pop();y<0?(_=t.substring(T+2).replace(/[\s<].*/,''),u.error("end tag name: "+_+' is not complete:'+I.tagName),y=T+1+_.length):_.match(/\s</)&&(_=_.replace(/[\s<].*/,''),u.error("end tag name: "+_+' maybe not complete'),y=T+1+_.length);var L=I.localNSMap,R=I.tagName==_;if(R||I.tagName&&I.tagName.toLowerCase()==_.toLowerCase()){if(c.endElement(I.uri,I.localName,_),L)for(var P in L)c.endPrefixMapping(P);R||u.fatalError("end tag name: "+_+' is not match the current start tagName:'+I.tagName)}else E.push(I);y++;break;case'?':x&&h(T),y=$(t,T,c);break;case'!':x&&h(T),y=C(t,T,c,u);break;default:x&&h(T);var B=new A,U=E[E.length-1].currentNSMap,X=(y=N(t,T,B,U,l,u),B.length);if(!B.closed&&k(t,y,B.tagName,M)&&(B.closed=!0,s.nbsp||u.warning('unclosed xml attribute')),x&&X){for(var z=v(x,{}),H=0;H<X;H++){var Q=B[H];h(Q.offset),Q.locator=v(x,{})}c.locator=z,F(B,c,U)&&E.push(B),c.locator=x}else F(B,c,U)&&E.push(B);'http://www.w3.org/1999/xhtml'!==B.uri||B.closed?y++:y=D(t,y,B.tagName,l,c)}}catch(t){u.error('element parse error: '+t),y=-1}y>O?O=y:f(Math.max(T,O)+1)}}function v(t,n){return n.lineNumber=t.lineNumber,n.columnNumber=t.columnNumber,n}function N(t,n,s,b,x,v){for(var N,F=++n,D=c;;){var k=t.charAt(F);switch(k){case'=':if(D===u)N=t.slice(n,F),D=l;else{if(D!==o)throw new Error('attribute equal must after attrName');D=l}break;case'\'':case'"':if(D===l||D===u){if(D===u&&(v.warning('attribute value must after "="'),N=t.slice(n,F)),n=F+1,!((F=t.indexOf(k,n))>0))throw new Error('attribute value no end \''+k+'\' match');E=t.slice(n,F).replace(/&#?\w+;/g,x),s.add(N,E,n-1),D=h}else{if(D!=f)throw new Error('attribute value must after "="');E=t.slice(n,F).replace(/&#?\w+;/g,x),s.add(N,E,n),v.warning('attribute "'+N+'" missed start quot('+k+')!!'),n=F+1,D=h}break;case'/':switch(D){case c:s.setTagName(t.slice(n,F));case h:case p:case w:D=w,s.closed=!0;case f:case u:case o:break;default:throw new Error("attribute invalid close char('/')")}break;case'':return v.error('unexpected end of input'),D==c&&s.setTagName(t.slice(n,F)),F;case'>':switch(D){case c:s.setTagName(t.slice(n,F));case h:case p:case w:break;case f:case u:'/'===(E=t.slice(n,F)).slice(-1)&&(s.closed=!0,E=E.slice(0,-1));case o:D===o&&(E=N),D==f?(v.warning('attribute "'+E+'" missed quot(")!!'),s.add(N,E.replace(/&#?\w+;/g,x),n)):('http://www.w3.org/1999/xhtml'===b['']&&E.match(/^(?:disabled|checked|selected)$/i)||v.warning('attribute "'+E+'" missed value!! "'+E+'" instead!!'),s.add(E,E,n));break;case l:throw new Error('attribute value missed!!')}return F;case"\x80":k=' ';default:if(k<=' ')switch(D){case c:s.setTagName(t.slice(n,F)),D=p;break;case u:N=t.slice(n,F),D=o;break;case f:var E=t.slice(n,F).replace(/&#?\w+;/g,x);v.warning('attribute "'+E+'" missed quot(")!!'),s.add(N,E,n);case h:D=p}else switch(D){case o:s.tagName;'http://www.w3.org/1999/xhtml'===b['']&&N.match(/^(?:disabled|checked|selected)$/i)||v.warning('attribute "'+N+'" missed value!! "'+N+'" instead2!!'),s.add(N,N,n),n=F,D=u;break;case h:v.warning('attribute space is required"'+N+'"!!');case p:D=u,n=F;break;case l:D=f,n=F;break;case w:throw new Error("elements closed character '/' and '>' must be connected to")}}F++}}function F(t,n,s){for(var c=t.tagName,u=null,o=t.length;o--;){var l=t[o],f=l.qName,h=l.value;if((x=f.indexOf(':'))>0)var p=l.prefix=f.slice(0,x),w=f.slice(x+1),b='xmlns'===p&&w;else w=f,p=null,b='xmlns'===f&&'';l.localName=w,!1!==b&&(null==u&&(u={},E(s,s={})),s[b]=u[b]=h,l.uri='http://www.w3.org/2000/xmlns/',n.startPrefixMapping(b,h))}for(o=t.length;o--;){(p=(l=t[o]).prefix)&&('xml'===p&&(l.uri='http://www.w3.org/XML/1998/namespace'),'xmlns'!==p&&(l.uri=s[p||'']))}var x;(x=c.indexOf(':'))>0?(p=t.prefix=c.slice(0,x),w=t.localName=c.slice(x+1)):(p=null,w=t.localName=c);var v=t.uri=s[p||''];if(n.startElement(v,w,c,t),!t.closed)return t.currentNSMap=s,t.localNSMap=u,!0;if(n.endElement(v,w,c),u)for(p in u)n.endPrefixMapping(p)}function D(t,n,s,c,u){if(/^(?:script|textarea)$/i.test(s)){var o=t.indexOf('</'+s+'>',n),l=t.substring(n+1,o);if(/[&<]/.test(l))return/^script$/i.test(s)?(u.characters(l,0,l.length),o):(l=l.replace(/&#?\w+;/g,c),u.characters(l,0,l.length),o)}return n+1}function k(t,n,s,c){var u=c[s];return null==u&&((u=t.lastIndexOf('</'+s+'>'))<n&&(u=t.lastIndexOf('</'+s)),c[s]=u),u<n}function E(t,n){for(var s in t)n[s]=t[s]}function C(t,n,s,c){switch(t.charAt(n+2)){case'-':return'-'===t.charAt(n+3)?(u=t.indexOf('--\x3e',n+4))>n?(s.comment(t,n+4,u-n-4),u+3):(c.error("Unclosed comment"),-1):-1;default:if('CDATA['==t.substr(n+3,6)){var u=t.indexOf(']]>',n+9);return s.startCDATA(),s.characters(t,n+9,u-n-9),s.endCDATA(),u+3}var o=O(t,n),l=o.length;if(l>1&&/!doctype/i.test(o[0][0])){var f=o[1][0],h=l>3&&/^public$/i.test(o[2][0])&&o[3][0],p=l>4&&o[4][0],w=o[l-1];return s.startDTD(f,h&&h.replace(/^(['"])(.*?)\1$/,'$2'),p&&p.replace(/^(['"])(.*?)\1$/,'$2')),s.endDTD(),w.index+w[0].length}}return-1}function $(t,n,s){var c=t.indexOf('?>',n);if(c){var u=t.substring(n,c).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(u){u[0].length;return s.processingInstruction(u[1],u[2]),c+2}return-1}return-1}function A(t){}function M(t,n){return t.__proto__=n,t}function O(t,n){var s,c=[],u=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(u.lastIndex=n,u.exec(t);s=u.exec(t);)if(c.push(s),s[1])return c}b.prototype={parse:function(t,n,s){var c=this.domBuilder;c.startDocument(),E(n,n={}),x(t,n,s,c,this.errorHandler),c.endDocument()}},A.prototype={setTagName:function(t){if(!s.test(t))throw new Error('invalid tagName:'+t);this.tagName=t},add:function(t,n,c){if(!s.test(t))throw new Error('invalid attribute:'+t);this[this.length++]={qName:t,value:n,offset:c}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}},M({},M.prototype)instanceof M||(M=function(t,n){function s(){}for(n in s.prototype=n,s=new s,t)s[n]=t[n];return s}),e.XMLReader=b},390,[]);
__d(function(g,r,i,a,m,e,d){function t(t,n){for(var o in t)n[o]=t[o]}function n(n,o){var u=n.prototype;if(Object.create){var s=Object.create(o.prototype);u.__proto__=s}if(!(u instanceof o)){function l(){}l.prototype=o.prototype,t(u,l=new l),n.prototype=u=l}u.constructor!=n&&('function'!=typeof n&&console.error("unknow Class:"+n),u.constructor=n)}var o='http://www.w3.org/1999/xhtml',u={},s=u.ELEMENT_NODE=1,l=u.ATTRIBUTE_NODE=2,c=u.TEXT_NODE=3,h=u.CDATA_SECTION_NODE=4,p=u.ENTITY_REFERENCE_NODE=5,f=u.ENTITY_NODE=6,N=u.PROCESSING_INSTRUCTION_NODE=7,v=u.COMMENT_NODE=8,w=u.DOCUMENT_NODE=9,E=u.DOCUMENT_TYPE_NODE=10,y=u.DOCUMENT_FRAGMENT_NODE=11,b=u.NOTATION_NODE=12,T={},_={},D=(T.INDEX_SIZE_ERR=(_[1]="Index size error",1),T.DOMSTRING_SIZE_ERR=(_[2]="DOMString size error",2),T.HIERARCHY_REQUEST_ERR=(_[3]="Hierarchy request error",3)),S=(T.WRONG_DOCUMENT_ERR=(_[4]="Wrong document",4),T.INVALID_CHARACTER_ERR=(_[5]="Invalid character",5),T.NO_DATA_ALLOWED_ERR=(_[6]="No data allowed",6),T.NO_MODIFICATION_ALLOWED_ERR=(_[7]="No modification allowed",7),T.NOT_FOUND_ERR=(_[8]="Not found",8)),C=(T.NOT_SUPPORTED_ERR=(_[9]="Not supported",9),T.INUSE_ATTRIBUTE_ERR=(_[10]="Attribute in use",10));T.INVALID_STATE_ERR=(_[11]="Invalid state",11),T.SYNTAX_ERR=(_[12]="Syntax error",12),T.INVALID_MODIFICATION_ERR=(_[13]="Invalid modification",13),T.NAMESPACE_ERR=(_[14]="Invalid namespace",14),T.INVALID_ACCESS_ERR=(_[15]="Invalid access",15);function I(t,n){if(n instanceof Error)var o=n;else o=this,Error.call(this,_[t]),this.message=_[t],Error.captureStackTrace&&Error.captureStackTrace(this,I);return o.code=t,n&&(this.message=this.message+": "+n),o}function A(){}function R(t,n){this._node=t,this._refresh=n,x(this)}function x(n){var o=n._node._inc||n._node.ownerDocument._inc;if(n._inc!=o){var u=n._refresh(n._node);he(n,'length',u.length),t(u,n),n._inc=o}}function O(){}function U(t,n){for(var o=t.length;o--;)if(t[o]===n)return o}function M(t,n,o,u){if(u?n[U(n,u)]=o:n[n.length++]=o,t){o.ownerElement=t;var s=t.ownerDocument;s&&(u&&Y(s,t,u),F(s,t,o))}}function B(t,n,o){var u=U(n,o);if(!(u>=0))throw I(S,new Error(t.tagName+'@'+o));for(var s=n.length-1;u<s;)n[u]=n[++u];if(n.length=s,t){var l=t.ownerDocument;l&&(Y(l,t,o),o.ownerElement=null)}}function P(t){if(this._features={},t)for(var n in t)this._features=t[n]}function L(){}function V(t){return('<'==t?'&lt;':'>'==t&&'&gt;')||'&'==t&&'&amp;'||'"'==t&&'&quot;'||'&#'+t.charCodeAt()+';'}function k(t,n){if(n(t))return!0;if(t=t.firstChild)do{if(k(t,n))return!0}while(t=t.nextSibling)}function j(){}function F(t,n,o){t&&t._inc++,'http://www.w3.org/2000/xmlns/'==o.namespaceURI&&(n._nsMap[o.prefix?o.localName:'']=o.value)}function Y(t,n,o,u){t&&t._inc++,'http://www.w3.org/2000/xmlns/'==o.namespaceURI&&delete n._nsMap[o.prefix?o.localName:'']}function z(t,n,o){if(t&&t._inc){t._inc++;var u=n.childNodes;if(o)u[u.length++]=o;else{for(var s=n.firstChild,l=0;s;)u[l++]=s,s=s.nextSibling;u.length=l}}}function $(t,n){var o=n.previousSibling,u=n.nextSibling;return o?o.nextSibling=u:t.firstChild=u,u?u.previousSibling=o:t.lastChild=o,z(t.ownerDocument,t),n}function X(t,n,o){var u=n.parentNode;if(u&&u.removeChild(n),n.nodeType===y){var s=n.firstChild;if(null==s)return n;var l=n.lastChild}else s=l=n;var c=o?o.previousSibling:t.lastChild;s.previousSibling=c,l.nextSibling=o,c?c.nextSibling=s:t.firstChild=s,null==o?t.lastChild=l:o.previousSibling=l;do{s.parentNode=t}while(s!==l&&(s=s.nextSibling));return z(t.ownerDocument||t,t),n.nodeType==y&&(n.firstChild=n.lastChild=null),n}function G(t,n){var o=n.parentNode;if(o){var u=t.lastChild;o.removeChild(n);u=t.lastChild}u=t.lastChild;return n.parentNode=t,n.previousSibling=u,n.nextSibling=null,u?u.nextSibling=n:t.firstChild=n,t.lastChild=n,z(t.ownerDocument,t,n),n}function H(){this._nsMap={}}function W(){}function q(){}function Z(){}function Q(){}function J(){}function K(){}function ee(){}function te(){}function ne(){}function re(){}function ie(){}function oe(){}function ae(t,n){var o=[],u=9==this.nodeType?this.documentElement:this,s=u.prefix,l=u.namespaceURI;if(l&&null==s&&null==(s=u.lookupPrefix(l)))var c=[{namespace:l,prefix:null}];return se(this,o,t,n,c),o.join('')}function ue(t,n,o){var u=t.prefix||'',s=t.namespaceURI;if(!u&&!s)return!1;if("xml"===u&&"http://www.w3.org/XML/1998/namespace"===s||'http://www.w3.org/2000/xmlns/'==s)return!1;for(var l=o.length;l--;){var c=o[l];if(c.prefix==u)return c.namespace!=s}return!0}function se(t,n,u,f,b){if(f){if(!(t=f(t)))return;if('string'==typeof t)return void n.push(t)}switch(t.nodeType){case s:b||(b=[]);b.length;var T=t.attributes,_=T.length,D=t.firstChild,S=t.tagName;u=o===t.namespaceURI||u,n.push('<',S);for(var C=0;C<_;C++){'xmlns'==(I=T.item(C)).prefix?b.push({prefix:I.localName,namespace:I.value}):'xmlns'==I.nodeName&&b.push({prefix:'',namespace:I.value})}for(C=0;C<_;C++){var I;if(ue(I=T.item(C),0,b)){var A=I.prefix||'',R=I.namespaceURI,x=A?' xmlns:'+A:" xmlns";n.push(x,'="',R,'"'),b.push({prefix:A,namespace:R})}se(I,n,u,f,b)}if(ue(t,0,b)){A=t.prefix||'',R=t.namespaceURI,x=A?' xmlns:'+A:" xmlns";n.push(x,'="',R,'"'),b.push({prefix:A,namespace:R})}if(D||u&&!/^(?:meta|link|img|br|hr|input)$/i.test(S)){if(n.push('>'),u&&/^script$/i.test(S))for(;D;)D.data?n.push(D.data):se(D,n,u,f,b),D=D.nextSibling;else for(;D;)se(D,n,u,f,b),D=D.nextSibling;n.push('</',S,'>')}else n.push('/>');return;case w:case y:for(D=t.firstChild;D;)se(D,n,u,f,b),D=D.nextSibling;return;case l:return n.push(' ',t.name,'="',t.value.replace(/[<&"]/g,V),'"');case c:return n.push(t.data.replace(/[<&]/g,V));case h:return n.push('<![CDATA[',t.data,']]>');case v:return n.push("\x3c!--",t.data,"--\x3e");case E:var O=t.publicId,U=t.systemId;if(n.push('<!DOCTYPE ',t.name),O)n.push(' PUBLIC "',O),U&&'.'!=U&&n.push('" "',U),n.push('">');else if(U&&'.'!=U)n.push(' SYSTEM "',U,'">');else{var M=t.internalSubset;M&&n.push(" [",M,"]"),n.push(">")}return;case N:return n.push("<?",t.target," ",t.data,"?>");case p:return n.push('&',t.nodeName,';');default:n.push('??',t.nodeName)}}function le(t,n,o){var u;switch(n.nodeType){case s:(u=n.cloneNode(!1)).ownerDocument=t;case y:break;case l:o=!0}if(u||(u=n.cloneNode(!1)),u.ownerDocument=t,u.parentNode=null,o)for(var c=n.firstChild;c;)u.appendChild(le(t,c,o)),c=c.nextSibling;return u}function ce(t,n,o){var u=new n.constructor;for(var c in n){var h=n[c];'object'!=typeof h&&h!=u[c]&&(u[c]=h)}switch(n.childNodes&&(u.childNodes=new A),u.ownerDocument=t,u.nodeType){case s:var p=n.attributes,f=u.attributes=new O,N=p.length;f._ownerElement=u;for(var v=0;v<N;v++)u.setAttributeNode(ce(t,p.item(v),!0));break;case l:o=!0}if(o)for(var w=n.firstChild;w;)u.appendChild(ce(t,w,o)),w=w.nextSibling;return u}function he(t,n,o){t[n]=o}I.prototype=Error.prototype,t(T,I),A.prototype={length:0,item:function(t){return this[t]||null},toString:function(t,n){for(var o=[],u=0;u<this.length;u++)se(this[u],o,t,n);return o.join('')}},R.prototype.item=function(t){return x(this),this[t]},n(R,A),O.prototype={length:0,item:A.prototype.item,getNamedItem:function(t){for(var n=this.length;n--;){var o=this[n];if(o.nodeName==t)return o}},setNamedItem:function(t){var n=t.ownerElement;if(n&&n!=this._ownerElement)throw new I(C);var o=this.getNamedItem(t.nodeName);return M(this._ownerElement,this,t,o),o},setNamedItemNS:function(t){var n,o=t.ownerElement;if(o&&o!=this._ownerElement)throw new I(C);return n=this.getNamedItemNS(t.namespaceURI,t.localName),M(this._ownerElement,this,t,n),n},removeNamedItem:function(t){var n=this.getNamedItem(t);return B(this._ownerElement,this,n),n},removeNamedItemNS:function(t,n){var o=this.getNamedItemNS(t,n);return B(this._ownerElement,this,o),o},getNamedItemNS:function(t,n){for(var o=this.length;o--;){var u=this[o];if(u.localName==n&&u.namespaceURI==t)return u}return null}},P.prototype={hasFeature:function(t,n){var o=this._features[t.toLowerCase()];return!(!o||n&&!(n in o))},createDocument:function(t,n,o){var u=new j;if(u.implementation=this,u.childNodes=new A,u.doctype=o,o&&u.appendChild(o),n){var s=u.createElementNS(t,n);u.appendChild(s)}return u},createDocumentType:function(t,n,o){var u=new K;return u.name=t,u.nodeName=t,u.publicId=n,u.systemId=o,u}},L.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,n){return X(this,t,n)},replaceChild:function(t,n){this.insertBefore(t,n),n&&this.removeChild(n)},removeChild:function(t){return $(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(t){return ce(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var n=t.nextSibling;n&&n.nodeType==c&&t.nodeType==c?(this.removeChild(n),t.appendData(n.data)):(t.normalize(),t=n)}},isSupported:function(t,n){return this.ownerDocument.implementation.hasFeature(t,n)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){for(var n=this;n;){var o=n._nsMap;if(o)for(var u in o)if(o[u]==t)return u;n=n.nodeType==l?n.ownerDocument:n.parentNode}return null},lookupNamespaceURI:function(t){for(var n=this;n;){var o=n._nsMap;if(o&&t in o)return o[t];n=n.nodeType==l?n.ownerDocument:n.parentNode}return null},isDefaultNamespace:function(t){return null==this.lookupPrefix(t)}},t(u,L),t(u,L.prototype),j.prototype={nodeName:'#document',nodeType:w,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,n){if(t.nodeType==y){for(var o=t.firstChild;o;){var u=o.nextSibling;this.insertBefore(o,n),o=u}return t}return null==this.documentElement&&t.nodeType==s&&(this.documentElement=t),X(this,t,n),t.ownerDocument=this,t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),$(this,t)},importNode:function(t,n){return le(this,t,n)},getElementById:function(t){var n=null;return k(this.documentElement,function(o){if(o.nodeType==s&&o.getAttribute('id')==t)return n=o,!0}),n},createElement:function(t){var n=new H;return n.ownerDocument=this,n.nodeName=t,n.tagName=t,n.childNodes=new A,(n.attributes=new O)._ownerElement=n,n},createDocumentFragment:function(){var t=new re;return t.ownerDocument=this,t.childNodes=new A,t},createTextNode:function(t){var n=new Z;return n.ownerDocument=this,n.appendData(t),n},createComment:function(t){var n=new Q;return n.ownerDocument=this,n.appendData(t),n},createCDATASection:function(t){var n=new J;return n.ownerDocument=this,n.appendData(t),n},createProcessingInstruction:function(t,n){var o=new ie;return o.ownerDocument=this,o.tagName=o.target=t,o.nodeValue=o.data=n,o},createAttribute:function(t){var n=new W;return n.ownerDocument=this,n.name=t,n.nodeName=t,n.localName=t,n.specified=!0,n},createEntityReference:function(t){var n=new ne;return n.ownerDocument=this,n.nodeName=t,n},createElementNS:function(t,n){var o=new H,u=n.split(':'),s=o.attributes=new O;return o.childNodes=new A,o.ownerDocument=this,o.nodeName=n,o.tagName=n,o.namespaceURI=t,2==u.length?(o.prefix=u[0],o.localName=u[1]):o.localName=n,s._ownerElement=o,o},createAttributeNS:function(t,n){var o=new W,u=n.split(':');return o.ownerDocument=this,o.nodeName=n,o.name=n,o.namespaceURI=t,o.specified=!0,2==u.length?(o.prefix=u[0],o.localName=u[1]):o.localName=n,o}},n(j,L),H.prototype={nodeType:s,hasAttribute:function(t){return null!=this.getAttributeNode(t)},getAttribute:function(t){var n=this.getAttributeNode(t);return n&&n.value||''},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,n){var o=this.ownerDocument.createAttribute(t);o.value=o.nodeValue=""+n,this.setAttributeNode(o)},removeAttribute:function(t){var n=this.getAttributeNode(t);n&&this.removeAttributeNode(n)},appendChild:function(t){return t.nodeType===y?this.insertBefore(t,null):G(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,n){var o=this.getAttributeNodeNS(t,n);o&&this.removeAttributeNode(o)},hasAttributeNS:function(t,n){return null!=this.getAttributeNodeNS(t,n)},getAttributeNS:function(t,n){var o=this.getAttributeNodeNS(t,n);return o&&o.value||''},setAttributeNS:function(t,n,o){var u=this.ownerDocument.createAttributeNS(t,n);u.value=u.nodeValue=""+o,this.setAttributeNode(u)},getAttributeNodeNS:function(t,n){return this.attributes.getNamedItemNS(t,n)},getElementsByTagName:function(t){return new R(this,function(n){var o=[];return k(n,function(u){u===n||u.nodeType!=s||'*'!==t&&u.tagName!=t||o.push(u)}),o})},getElementsByTagNameNS:function(t,n){return new R(this,function(o){var u=[];return k(o,function(l){l===o||l.nodeType!==s||'*'!==t&&l.namespaceURI!==t||'*'!==n&&l.localName!=n||u.push(l)}),u})}},j.prototype.getElementsByTagName=H.prototype.getElementsByTagName,j.prototype.getElementsByTagNameNS=H.prototype.getElementsByTagNameNS,n(H,L),W.prototype.nodeType=l,n(W,L),q.prototype={data:'',substringData:function(t,n){return this.data.substring(t,t+n)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,n){this.replaceData(t,0,n)},appendChild:function(t){throw new Error(_[D])},deleteData:function(t,n){this.replaceData(t,n,"")},replaceData:function(t,n,o){o=this.data.substring(0,t)+o+this.data.substring(t+n),this.nodeValue=this.data=o,this.length=o.length}},n(q,L),Z.prototype={nodeName:"#text",nodeType:c,splitText:function(t){var n=this.data,o=n.substring(t);n=n.substring(0,t),this.data=this.nodeValue=n,this.length=n.length;var u=this.ownerDocument.createTextNode(o);return this.parentNode&&this.parentNode.insertBefore(u,this.nextSibling),u}},n(Z,q),Q.prototype={nodeName:"#comment",nodeType:v},n(Q,q),J.prototype={nodeName:"#cdata-section",nodeType:h},n(J,q),K.prototype.nodeType=E,n(K,L),ee.prototype.nodeType=b,n(ee,L),te.prototype.nodeType=f,n(te,L),ne.prototype.nodeType=p,n(ne,L),re.prototype.nodeName="#document-fragment",re.prototype.nodeType=y,n(re,L),ie.prototype.nodeType=N,n(ie,L),oe.prototype.serializeToString=function(t,n,o){return ae.call(t,n,o)},L.prototype.toString=ae;try{if(Object.defineProperty){function pe(t){switch(t.nodeType){case s:case y:var n=[];for(t=t.firstChild;t;)7!==t.nodeType&&8!==t.nodeType&&n.push(pe(t)),t=t.nextSibling;return n.join('');default:return t.nodeValue}}Object.defineProperty(R.prototype,'length',{get:function(){return x(this),this.$$length}}),Object.defineProperty(L.prototype,'textContent',{get:function(){return pe(this)},set:function(t){switch(this.nodeType){case s:case y:for(;this.firstChild;)this.removeChild(this.firstChild);(t||String(t))&&this.appendChild(this.ownerDocument.createTextNode(t));break;default:this.data=t,this.value=t,this.nodeValue=t}}}),he=function(t,n,o){t['$$'+n]=o}}}catch(t){}e.DOMImplementation=P,e.XMLSerializer=oe},391,[]);
__d(function(g,r,i,a,m,e,d){var o=r(d[0]),l=r(d[1]),t={},n=[],s=o.levels.TRACE;m.exports={addGlobalTransport:function(l){o.addGlobalTransport(l)},removeGlobalTransport:function(l){o.removeGlobalTransport(l)},setGlobalOptions:function(l){o.setGlobalOptions(l)},getLogger:function(l,v,f){var u=new o(s,l,v,f);return l?(t[l]=t[l]||[],t[l].push(u)):n.push(u),u},setLogLevelById:function(o,l){for(var s=l?t[l]||[]:n,v=0;v<s.length;v++)s[v].setLevel(o)},setLogLevel:function(o){s=o;for(var l=0;l<n.length;l++)n[l].setLevel(o);for(var v in t){var f=t[v]||[];for(l=0;l<f.length;l++)f[l].setLevel(o)}},levels:o.levels,LogCollector:l}},392,[393,394]);
__d(function(g,r,i,a,m,e,d){var t={trace:0,debug:1,info:2,log:3,warn:4,error:5};c.consoleTransport=console;var n=[c.consoleTransport];c.addGlobalTransport=function(t){-1===n.indexOf(t)&&n.push(t)},c.removeGlobalTransport=function(t){var o=n.indexOf(t);-1!==o&&n.splice(o,1)};var o={};function l(){var t={methodName:"",fileLocation:"",line:null,column:null},n=new Error,o=n.stack?n.stack.split("\n"):[];if(!o||o.length<1)return t;var l=null;return o[3]&&(l=o[3].match(/\s*at\s*(.+?)\s*\((\S*)\s*:(\d*)\s*:(\d*)\)/)),!l||l.length<=4?(0===o[2].indexOf("log@")?t.methodName=o[3].substr(0,o[3].indexOf("@")):t.methodName=o[2].substr(0,o[2].indexOf("@")),t):(t.methodName=l[1],t.fileLocation=l[2],t.line=l[3],t.column=l[4],t)}function s(){var s=arguments[0],c=arguments[1],f=Array.prototype.slice.call(arguments,2);if(!(t[c]<s.level))for(var h=!(s.options.disableCallerInfo||o.disableCallerInfo)&&l(),p=n.concat(s.transports),u=0;u<p.length;u++){var v=p[u],b=v[c];if(b&&"function"==typeof b){var O=[];s.id&&O.push("["+s.id+"]"),h&&h.methodName.length>1&&O.push("<"+h.methodName+">: ");var N=O.concat(f);b.bind(v).apply(v,N)}}}function c(n,o,l,c){this.id=o,this.options=c||{},this.transports=l,this.transports||(this.transports=[]),this.level=t[n];for(var f=Object.keys(t),h=0;h<f.length;h++)this[f[h]]=s.bind(null,this,f[h])}c.setGlobalOptions=function(t){o=t||{}},c.prototype.setLevel=function(n){this.level=t[n]},m.exports=c,c.levels={TRACE:"trace",DEBUG:"debug",INFO:"info",LOG:"log",WARN:"warn",ERROR:"error"}},393,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);function s(s,o){this.logStorage=s,this.stringifyObjects=!(!o||!o.stringifyObjects)&&o.stringifyObjects,this.storeInterval=o&&o.storeInterval?o.storeInterval:3e4,this.maxEntryLength=o&&o.maxEntryLength?o.maxEntryLength:1e4,Object.keys(t.levels).forEach(function(s){this[t.levels[s]]=function(t){this._log.apply(this,arguments)}.bind(this,s)}.bind(this)),this.storeLogsIntervalID=null,this.queue=[],this.totalLen=0,this.outputCache=[]}s.prototype.stringify=function(t){try{return JSON.stringify(t)}catch(t){return"[object with circular refs?]"}},s.prototype.formatLogMessage=function(s){for(var o='',h=1,n=arguments.length;h<n;h++){var u=arguments[h];!this.stringifyObjects&&s!==t.levels.ERROR||'object'!=typeof u||(u=this.stringify(u)),o+=u,h!=n-1&&(o+=' ')}return o.length?o:null},s.prototype._log=function(){var t=this.formatLogMessage.apply(this,arguments);if(t){var s=this.queue.length?this.queue[this.queue.length-1]:void 0;('object'==typeof s?s.text:s)==t?'object'==typeof s?s.count+=1:this.queue[this.queue.length-1]={text:t,count:2}:(this.queue.push(t),this.totalLen+=t.length)}this.totalLen>=this.maxEntryLength&&this._flush(!0,!0)},s.prototype.start=function(){this._reschedulePublishInterval()},s.prototype._reschedulePublishInterval=function(){this.storeLogsIntervalID&&(window.clearTimeout(this.storeLogsIntervalID),this.storeLogsIntervalID=null),this.storeLogsIntervalID=window.setTimeout(this._flush.bind(this,!1,!0),this.storeInterval)},s.prototype.flush=function(){this._flush(!1,!0)},s.prototype._flush=function(t,s){this.totalLen>0&&(this.logStorage.isReady()||t)&&(this.logStorage.isReady()?(this.outputCache.length&&(this.outputCache.forEach(function(t){this.logStorage.storeLogs(t)}.bind(this)),this.outputCache=[]),this.logStorage.storeLogs(this.queue)):this.outputCache.push(this.queue),this.queue=[],this.totalLen=0),s&&this._reschedulePublishInterval()},s.prototype.stop=function(){this._flush(!1,!1)},m.exports=s},394,[393]);
__d(function(e,t,r,i,s,a,n){s.exports={_args:[["react-native@0.61.3","/Users/jitvar/Documents/CometChat Pro/cometchat-pro-webrtc-component/Android-Calling-Libary/cometchatRTCLibary"]],_from:"react-native@0.61.3",_id:"react-native@0.61.3",_inBundle:!1,_integrity:"sha512-7p89m62+Wsc93tYEy010LZMZtQMOQjUC8nOiVF+XPBn4Fa3WUt7IlQjKs9tO9rcByZ4ilzeMp+W2kr1/U2lPLw==",_location:"/react-native",_phantomChildren:{"@hapi/joi":"15.1.1","@react-native-community/cli-debugger-ui":"3.0.0","@react-native-community/cli-tools":"3.0.0","@react-native-community/cli-types":"3.0.0","@types/color-name":"1.1.1","@types/istanbul-lib-coverage":"2.0.1","@types/istanbul-reports":"1.1.1","@types/yargs-parser":"15.0.0",chalk:"2.4.2","command-exists":"1.2.8",commander:"2.20.3",compression:"1.7.4",connect:"3.7.0",cosmiconfig:"5.2.1",deepmerge:"3.3.0",didyoumean:"1.2.1",envinfo:"7.5.0",errorhandler:"1.5.1",execa:"1.0.0","find-up":"4.1.0","fs-extra":"7.0.1",glob:"7.1.6","graceful-fs":"4.2.3",inquirer:"3.3.0",lodash:"4.17.15",metro:"0.56.4","metro-config":"0.56.4","metro-core":"0.56.4","metro-react-native-babel-transformer":"0.56.4",minimist:"1.2.0",mkdirp:"0.5.1",morgan:"1.9.1","node-notifier":"5.4.3",open:"6.4.0",ora:"3.4.0",plist:"3.0.1","react-is":"16.12.0",semver:"6.3.0","serve-static":"1.14.1","shell-quote":"1.6.1","strip-ansi":"5.2.0","sudo-prompt":"9.1.1",wcwidth:"1.0.1",ws:"1.1.5"},_requested:{type:"version",registry:!0,raw:"react-native@0.61.3",name:"react-native",escapedName:"react-native",rawSpec:"0.61.3",saveSpec:null,fetchSpec:"0.61.3"},_requiredBy:["/"],_resolved:"https://registry.npmjs.org/react-native/-/react-native-0.61.3.tgz",_spec:"0.61.3",_where:"/Users/jitvar/Documents/CometChat Pro/cometchat-pro-webrtc-component/Android-Calling-Libary/cometchatRTCLibary",bin:{"react-native":"./cli.js"},bugs:{url:"https://github.com/facebook/react-native/issues"},dependencies:{"@babel/runtime":"^7.0.0","@react-native-community/cli":"^3.0.0-alpha.1","@react-native-community/cli-platform-android":"^3.0.0-alpha.1","@react-native-community/cli-platform-ios":"^3.0.0-alpha.1","abort-controller":"^3.0.0",art:"^0.10.0","base64-js":"^1.1.2",connect:"^3.6.5","create-react-class":"^15.6.3","escape-string-regexp":"^1.0.5","event-target-shim":"^5.0.1",fbjs:"^1.0.0","fbjs-scripts":"^1.1.0","hermes-engine":"^0.2.1",invariant:"^2.2.4","jsc-android":"^245459.0.0","metro-babel-register":"^0.56.0","metro-react-native-babel-transformer":"^0.56.0","metro-source-map":"^0.56.0",nullthrows:"^1.1.0","pretty-format":"^24.7.0",promise:"^7.1.1","prop-types":"^15.7.2","react-devtools-core":"^3.6.3","react-refresh":"^0.4.0","regenerator-runtime":"^0.13.2",scheduler:"0.15.0","stacktrace-parser":"^0.1.3","whatwg-fetch":"^3.0.0"},description:"A framework for building native apps using React",detox:{"test-runner":"jest","runner-config":"RNTester/e2e/config.json",specs:"",configurations:{"ios.sim.release":{binaryPath:"RNTester/build/Build/Products/Release-iphonesimulator/RNTester.app/",build:"xcodebuild -workspace RNTester/RNTesterPods.xcworkspace -scheme RNTester -configuration Release -sdk iphonesimulator -derivedDataPath RNTester/build -UseModernBuildSystem=NO -quiet",type:"ios.simulator",name:"iPhone 6s"},"ios.sim.debug":{binaryPath:"RNTester/build/Build/Products/Debug-iphonesimulator/RNTester.app/",build:"xcodebuild -workspace RNTester/RNTesterPods.xcworkspace -scheme RNTester -configuration Debug -sdk iphonesimulator -derivedDataPath RNTester/build -UseModernBuildSystem=NO -quiet",type:"ios.simulator",name:"iPhone 6s"}}},devDependencies:{"@babel/core":"^7.0.0","@babel/generator":"^7.0.0","@react-native-community/eslint-plugin":"1.0.0","@reactions/component":"^2.0.2",async:"^2.4.0","babel-eslint":"10.0.1","clang-format":"^1.2.4",coveralls:"^3.0.2",detox:"12.2.0",eslint:"5.1.0","eslint-config-fb-strict":"24.3.0","eslint-config-fbjs":"2.1.0","eslint-config-prettier":"^6.0.0","eslint-plugin-babel":"^5.3.0","eslint-plugin-eslint-comments":"^3.1.1","eslint-plugin-flowtype":"2.50.3","eslint-plugin-jest":"22.4.1","eslint-plugin-jsx-a11y":"6.2.1","eslint-plugin-prettier":"2.6.2","eslint-plugin-react":"7.12.4","eslint-plugin-react-hooks":"^1.5.1","eslint-plugin-react-native":"3.6.0","eslint-plugin-relay":"1.3.0","flow-bin":"^0.105.0","flow-remove-types":"1.2.3",jest:"^24.8.0","jest-junit":"^6.3.0",jscodeshift:"^0.6.2",mkdirp:"^0.5.1",prettier:"1.17.0",react:"16.9.0","react-test-renderer":"16.9.0",shelljs:"^0.7.8",ws:"^6.1.4",yargs:"^9.0.0"},engines:{node:">=8.3"},files:[".flowconfig","android","cli.js","flow","init.sh","scripts/compose-source-maps.js","scripts/ios-configure-glog.sh","scripts/ios-install-third-party.sh","scripts/launchPackager.bat","scripts/launchPackager.command","scripts/node-binary.sh","scripts/packager.sh","scripts/react-native-xcode.sh","jest-preset.js","jest","lib","rn-get-polyfills.js","Libraries","LICENSE","packager","react-native.config.js","react.gradle","React.podspec","React-Core.podspec","React","ReactAndroid","ReactCommon","README.md","third-party-podspecs","template","local-cli","template.config.js","!template/node_modules","!template/yarn.lock","!template/package-lock.json"],homepage:"https://github.com/facebook/react-native#readme","jest-junit":{outputDirectory:"reports/junit",outputName:"js-test-results.xml"},license:"MIT",main:"Libraries/react-native/react-native-implementation.js",name:"react-native",peerDependencies:{react:"16.9.0"},repository:{type:"git",url:"git+ssh://git@github.com/facebook/react-native.git"},scripts:{"build-ios-e2e":"detox build -c ios.sim.release","clang-format":"clang-format -i --glob=*/**/*.{h,cpp,m,mm}","docker-build-android":"docker build -t reactnativeci/android -f .circleci/Dockerfiles/Dockerfile.android .","docker-setup-android":"docker pull reactnativecommunity/react-native-android",flow:"flow","flow-check-android":"flow check --flowconfig-name .flowconfig.android","flow-check-ios":"flow check",format:"npm run prettier && npm run clang-format","format-check":"prettier --list-different \"./**/*.{js,md,yml}\"",lint:"eslint .","lint-ci":"./scripts/circleci/analyze_code.sh && yarn shellcheck",prettier:"prettier --write \"./**/*.{js,md,yml}\"",shellcheck:"./scripts/circleci/analyze_scripts.sh",start:"react-native start",test:"jest","test-android-all":"yarn run docker-build-android && yarn run test-android-run-unit && yarn run test-android-run-instrumentation && yarn run test-android-run-e2e","test-android-e2e":"yarn run docker-build-android && yarn run test-android-run-e2e","test-android-instrumentation":"yarn run docker-build-android && yarn run test-android-run-instrumentation","test-android-run-e2e":"docker run --privileged -it reactnativeci/android bash .circleci/Dockerfiles/scripts/run-ci-e2e-tests.sh --android --js","test-android-run-instrumentation":"docker run --cap-add=SYS_ADMIN -it reactnativeci/android bash .circleci/Dockerfiles/scripts/run-android-docker-instrumentation-tests.sh","test-android-run-unit":"docker run --cap-add=SYS_ADMIN -it reactnativeci/android bash .circleci/Dockerfiles/scripts/run-android-docker-unit-tests.sh","test-android-unit":"yarn run docker-build-android && yarn run test-android-run-unit","test-ci":"jest --maxWorkers=2 --ci --reporters=\"default\" --reporters=\"jest-junit\"","test-ios":"./scripts/objc-test.sh test","test-ios-e2e":"detox test -c ios.sim.release RNTester/e2e"},version:"0.61.3"}},395,[]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]),o=r(d[1]),t=n(r(d[2]));!(function(n){void 0===n.MediaStream&&(n.MediaStream=o.MediaStream),void 0===n.MediaStreamTrack&&(n.MediaStreamTrack=o.MediaStreamTrack),void 0===n.RTCIceCandidate&&(n.RTCIceCandidate=o.RTCIceCandidate),void 0===n.RTCPeerConnection&&(n.RTCPeerConnection=t.default),void 0===n.RTCPeerConnection&&(n.webkitRTCPeerConnection=t.default),void 0===n.RTCSessionDescription&&(n.RTCSessionDescription=o.RTCSessionDescription);var s=n.navigator;s&&(void 0===s.mediaDevices&&(s.mediaDevices=o.mediaDevices),void 0===s.permissions&&(s.permissions=o.permissions))})(g||window||this)},396,[1,397,426]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.registerGlobals=function(){if('object'!=typeof navigator)throw new Error('navigator is not an object');navigator.mediaDevices||(navigator.mediaDevices={});navigator.mediaDevices.getUserMedia=s.default.getUserMedia.bind(s.default),navigator.mediaDevices.enumerateDevices=s.default.enumerateDevices.bind(s.default),g.RTCPeerConnection=n.default,g.RTCIceCandidate=u.default,g.RTCSessionDescription=o.default,g.MediaStream=c.default,g.MediaStreamTrack=l.default},Object.defineProperty(e,"RTCPeerConnection",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"RTCIceCandidate",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"RTCSessionDescription",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"RTCView",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e,"MediaStream",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"MediaStreamTrack",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"mediaDevices",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"permissions",{enumerable:!0,get:function(){return b.default}});var n=t(r(d[1])),u=t(r(d[2])),o=t(r(d[3])),f=t(r(d[4])),c=t(r(d[5])),l=t(r(d[6])),s=t(r(d[7])),b=t(r(d[8]))},397,[1,398,417,416,421,403,409,422,425]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]),t=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=t(r(d[2])),c=t(r(d[3])),s=t(r(d[4])),u=t(r(d[5])),f=t(r(d[6])),l=t(r(d[7])),v=t(r(d[8])),h=r(d[9]),p=t(r(d[10])),C=t(r(d[11])),_=(t(r(d[12])),t(r(d[13]))),S=t(r(d[14])),E=t(r(d[15])),I=t(r(d[16])),w=t(r(d[17])),k=t(r(d[18])),y=t(r(d[19])),D=n(r(d[20])),O=h.NativeModules.WebRTCModule,L=0,b=(function(n){function t(n){var o;return(0,c.default)(this,t),(o=(0,u.default)(this,(0,f.default)(t).call(this))).signalingState='stable',o.iceGatheringState='new',o.iceConnectionState='new',o._localStreams=[],o._remoteStreams=[],o._dataChannelIds=new Set,o._peerConnectionId=L++,O.peerConnectionInit(n,o._peerConnectionId),o._registerEvents(),o}return(0,l.default)(t,n),(0,s.default)(t,[{key:"addStream",value:function(n){-1===this._localStreams.indexOf(n)&&(O.peerConnectionAddStream(n._reactTag,this._peerConnectionId),this._localStreams.push(n))}},{key:"removeStream",value:function(n){var t=this._localStreams.indexOf(n);-1!==t&&(this._localStreams.splice(t,1),O.peerConnectionRemoveStream(n._reactTag,this._peerConnectionId))}},{key:"createOffer",value:function(n){var t=this;return new Promise(function(o,c){O.peerConnectionCreateOffer(t._peerConnectionId,D.normalizeOfferAnswerOptions(n),function(n,t){n?o(new I.default(t)):c(t)})})}},{key:"createAnswer",value:function(){var n=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(o,c){O.peerConnectionCreateAnswer(n._peerConnectionId,D.normalizeOfferAnswerOptions(t),function(n,t){n?o(new I.default(t)):c(t)})})}},{key:"setConfiguration",value:function(n){O.peerConnectionSetConfiguration(n,this._peerConnectionId)}},{key:"setLocalDescription",value:function(n){var t=this;return new Promise(function(o,c){O.peerConnectionSetLocalDescription(n.toJSON?n.toJSON():n,t._peerConnectionId,function(s,u){s?(t.localDescription=n,o()):c(u)})})}},{key:"setRemoteDescription",value:function(n){var t=this;return new Promise(function(o,c){O.peerConnectionSetRemoteDescription(n.toJSON?n.toJSON():n,t._peerConnectionId,function(s,u){s?(t.remoteDescription=n,o()):c(u)})})}},{key:"addIceCandidate",value:function(n){var t=this;return new Promise(function(o,c){O.peerConnectionAddICECandidate(n.toJSON?n.toJSON():n,t._peerConnectionId,function(n){n?o():c(new Error('Failed to add ICE candidate'))})})}},{key:"getStats",value:function(n){var t=this;return new Promise(function(o,c){O.peerConnectionGetStats(n&&n.id||'',t._peerConnectionId,function(n,t){if(n)try{var s=JSON.parse(t);o(s)}catch(n){c(n)}else c(new Error(t))})})}},{key:"getLocalStreams",value:function(){return this._localStreams.slice()}},{key:"getRemoteStreams",value:function(){return this._remoteStreams.slice()}},{key:"close",value:function(){O.peerConnectionClose(this._peerConnectionId)}},{key:"_getTrack",value:function(n,t){var o=this._remoteStreams.find(function(t){return t._reactTag===n});return o&&o._tracks.find(function(n){return n.id===t})}},{key:"_unregisterEvents",value:function(){this._subscriptions.forEach(function(n){return n.remove()}),this._subscriptions=[]}},{key:"_registerEvents",value:function(){var n=this;this._subscriptions=[h.DeviceEventEmitter.addListener('peerConnectionOnRenegotiationNeeded',function(t){t.id===n._peerConnectionId&&n.dispatchEvent(new y.default('negotiationneeded'))}),h.DeviceEventEmitter.addListener('peerConnectionIceConnectionChanged',function(t){t.id===n._peerConnectionId&&(n.iceConnectionState=t.iceConnectionState,n.dispatchEvent(new y.default('iceconnectionstatechange')),'closed'===t.iceConnectionState&&n._unregisterEvents())}),h.DeviceEventEmitter.addListener('peerConnectionSignalingStateChanged',function(t){t.id===n._peerConnectionId&&(n.signalingState=t.signalingState,n.dispatchEvent(new y.default('signalingstatechange')))}),h.DeviceEventEmitter.addListener('peerConnectionAddedStream',function(t){if(t.id===n._peerConnectionId){var o=new p.default(t);n._remoteStreams.push(o),n.dispatchEvent(new C.default('addstream',{stream:o}))}}),h.DeviceEventEmitter.addListener('peerConnectionRemovedStream',function(t){if(t.id===n._peerConnectionId){var o=n._remoteStreams.find(function(n){return n._reactTag===t.streamId});if(o){var c=n._remoteStreams.indexOf(o);-1!==c&&n._remoteStreams.splice(c,1)}n.dispatchEvent(new C.default('removestream',{stream:o}))}}),h.DeviceEventEmitter.addListener('mediaStreamTrackMuteChanged',function(t){if(t.peerConnectionId===n._peerConnectionId){var o=n._getTrack(t.streamReactTag,t.trackId);if(o){o.muted=t.muted;var c=t.muted?'mute':'unmute';o.dispatchEvent(new _.default(c,{track:o}))}}}),h.DeviceEventEmitter.addListener('peerConnectionGotICECandidate',function(t){if(t.id===n._peerConnectionId){var o=new w.default(t.candidate),c=new k.default('icecandidate',{candidate:o});n.dispatchEvent(c)}}),h.DeviceEventEmitter.addListener('peerConnectionIceGatheringChanged',function(t){t.id===n._peerConnectionId&&(n.iceGatheringState=t.iceGatheringState,'complete'===n.iceGatheringState&&n.dispatchEvent(new k.default('icecandidate',null)),n.dispatchEvent(new y.default('icegatheringstatechange')))}),h.DeviceEventEmitter.addListener('peerConnectionDidOpenDataChannel',function(t){if(t.id===n._peerConnectionId){var o=t.dataChannel,c=o.id;if('number'==typeof c&&-1!==c){var s=new S.default(n._peerConnectionId,o.label,o);n._dataChannelIds.add(c),n.dispatchEvent(new E.default('datachannel',{channel:s}))}}})]}},{key:"createDataChannel",value:function(n,t){var c,s=this._dataChannelIds;if(t&&'id'in t){if('number'!=typeof(c=t.id))throw new TypeError('DataChannel id must be a number: '+c);if(s.has(c))throw new ResourceInUse('DataChannel id already in use: '+c)}else{for(c=1;c<65535&&s.has(c);++c);t=(0,o.default)({id:c},t)}return O.createDataChannel(this._peerConnectionId,n,t),s.add(c),new S.default(this._peerConnectionId,n,t)}}]),t})((0,v.default)(['connectionstatechange','icecandidate','icecandidateerror','iceconnectionstatechange','icegatheringstatechange','negotiationneeded','signalingstatechange','datachannel','addstream','removestream']));e.default=b},398,[23,1,15,4,5,6,9,10,399,16,403,411,409,412,413,415,416,417,418,419,420]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]),n=r(d[1]),l=r(d[2]),o=t.LISTENERS,u=t.CAPTURE,f=t.BUBBLE,c=t.ATTRIBUTE,s=t.newNode,v=n.defineCustomEventTarget,h=l.createEventWrapper,E=l.STOP_IMMEDIATE_PROPAGATION_FLAG,p="undefined"!=typeof window&&void 0!==window.EventTarget,w=m.exports=function t(){if(!(this instanceof t)){if(1===arguments.length&&Array.isArray(arguments[0]))return v(t,arguments[0]);if(arguments.length>0){for(var n=Array(arguments.length),l=0;l<arguments.length;++l)n[l]=arguments[l];return v(t,n)}throw new TypeError("Cannot call a class as a function")}Object.defineProperty(this,o,{value:Object.create(null)})};w.prototype=Object.create((p?window.EventTarget:Object).prototype,{constructor:{value:w,writable:!0,configurable:!0},addEventListener:{value:function(t,n,l){if(null==n)return!1;if("function"!=typeof n&&"object"!=typeof n)throw new TypeError("\"listener\" is not an object.");var c=l?u:f,v=this[o][t];if(null==v)return this[o][t]=s(n,c),!0;for(var h=null;null!=v;){if(v.listener===n&&v.kind===c)return!1;h=v,v=v.next}return h.next=s(n,c),!0},configurable:!0,writable:!0},removeEventListener:{value:function(t,n,l){if(null==n)return!1;for(var c=l?u:f,s=null,v=this[o][t];null!=v;){if(v.listener===n&&v.kind===c)return null==s?this[o][t]=v.next:s.next=v.next,!0;s=v,v=v.next}return!1},configurable:!0,writable:!0},dispatchEvent:{value:function(t){var n=this[o][t.type];if(null==n)return!0;for(var l=h(t,this);null!=n&&("function"==typeof n.listener?n.listener.call(this,l):n.kind!==c&&"function"==typeof n.listener.handleEvent&&n.listener.handleEvent(l),!l[E]);)n=n.next;return!l.defaultPrevented},configurable:!0,writable:!0}})},399,[400,401,402]);
__d(function(g,r,i,a,m,e,d){"use strict";var n=e.createUniqueKey="undefined"!=typeof Symbol?Symbol:function(n){return"[["+n+"_"+Math.random().toFixed(8).slice(2)+"]]"};e.LISTENERS=n("listeners"),e.CAPTURE=1,e.BUBBLE=2,e.ATTRIBUTE=3,e.newNode=function(n,t){return{listener:n,kind:t,next:null}}},400,[]);
__d(function(g,r,i,a,m,e,d){"use strict";var n=r(d[0]),t=n.LISTENERS,u=n.ATTRIBUTE,o=n.newNode;function l(n,o){for(var l=n[t][o];null!=l;){if(l.kind===u)return l.listener;l=l.next}return null}function c(n,l,c){"function"!=typeof c&&"object"!=typeof c&&(c=null);for(var f=null,s=n[t][l];null!=s;)s.kind===u?null==f?n[t][l]=s.next:f.next=s.next:f=s,s=s.next;null!=c&&(null==f?n[t][l]=o(c,u):f.next=o(c,u))}e.defineCustomEventTarget=function(n,t){function u(){n.call(this)}var o={constructor:{value:u,configurable:!0,writable:!0}};return t.forEach(function(n){o["on"+n]={get:function(){return l(this,n)},set:function(t){c(this,n,t)},configurable:!0,enumerable:!0}}),u.prototype=Object.create(n.prototype,o),u}},401,[400]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).createUniqueKey,n=t("stop_immediate_propagation_flag"),l=t("canceled_flag"),u=t("original_event"),o=Object.freeze({stopPropagation:Object.freeze({value:function(){var t=this[u];"function"==typeof t.stopPropagation&&t.stopPropagation()},writable:!0,configurable:!0}),stopImmediatePropagation:Object.freeze({value:function(){this[n]=!0;var t=this[u];"function"==typeof t.stopImmediatePropagation&&t.stopImmediatePropagation()},writable:!0,configurable:!0}),preventDefault:Object.freeze({value:function(){!0===this.cancelable&&(this[l]=!0);var t=this[u];"function"==typeof t.preventDefault&&t.preventDefault()},writable:!0,configurable:!0}),defaultPrevented:Object.freeze({get:function(){return this[l]},enumerable:!0,configurable:!0})});e.STOP_IMMEDIATE_PROPAGATION_FLAG=n,e.createEventWrapper=function(t,b){var c="number"==typeof t.timeStamp?t.timeStamp:Date.now(),p={type:{value:t.type,enumerable:!0},target:{value:b,enumerable:!0},currentTarget:{value:b,enumerable:!0},eventPhase:{value:2,enumerable:!0},bubbles:{value:Boolean(t.bubbles),enumerable:!0},cancelable:{value:Boolean(t.cancelable),enumerable:!0},timeStamp:{value:c,enumerable:!0},isTrusted:{value:!1,enumerable:!0}};return p[n]={value:!1,writable:!0},p[l]={value:!1,writable:!0},p[u]={value:t},void 0!==t.detail&&(p.detail={value:t.detail,enumerable:!0}),Object.create(Object.create(t,o),p)}},402,[400]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),o=t(r(d[2])),c=t(r(d[3])),u=t(r(d[4])),f=t(r(d[5])),s=r(d[6]),l=t(r(d[7])),k=t(r(d[8])),v=t(r(d[9])),y=s.NativeModules.WebRTCModule,h=(function(t){function s(t){var o;if((0,n.default)(this,s),(o=(0,c.default)(this,(0,u.default)(s).call(this))).active=!0,o._tracks=[],o.id=k.default.v4(),o._reactTag=o.id,void 0===t)y.mediaStreamCreate(o.id);else if(t instanceof s){y.mediaStreamCreate(o.id);var f=t.getTracks(),l=Array.isArray(f),h=0;for(f=l?f:f["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var T;if(l){if(h>=f.length)break;T=f[h++]}else{if((h=f.next()).done)break;T=h.value}var _=T;o.addTrack(_)}}else if(Array.isArray(t)){y.mediaStreamCreate(o.id);var b=t,p=Array.isArray(b),S=0;for(b=p?b:b["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var A;if(p){if(S>=b.length)break;A=b[S++]}else{if((S=b.next()).done)break;A=S.value}var R=A;o.addTrack(R)}}else{if(!('object'==typeof t&&t.streamId&&t.streamReactTag&&t.tracks))throw new TypeError("invalid type: "+typeof t);o.id=t.streamId,o._reactTag=t.streamReactTag;var w=t.tracks,x=Array.isArray(w),C=0;for(w=x?w:w["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var I;if(x){if(C>=w.length)break;I=w[C++]}else{if((C=w.next()).done)break;I=C.value}var M=I;o._tracks.push(new v.default(M))}}return o}return(0,f.default)(s,t),(0,o.default)(s,[{key:"addTrack",value:function(t){-1===this._tracks.indexOf(t)&&(this._tracks.push(t),y.mediaStreamAddTrack(this._reactTag,t.id))}},{key:"removeTrack",value:function(t){var n=this._tracks.indexOf(t);-1!==n&&(this._tracks.splice(n,1),y.mediaStreamRemoveTrack(this._reactTag,t.id))}},{key:"getTracks",value:function(){return this._tracks.slice()}},{key:"getTrackById",value:function(t){return this._tracks.find(function(n){return n.id===t})}},{key:"getAudioTracks",value:function(){return this._tracks.filter(function(t){return'audio'===t.kind})}},{key:"getVideoTracks",value:function(){return this._tracks.filter(function(t){return'video'===t.kind})}},{key:"clone",value:function(){throw new Error('Not implemented.')}},{key:"toURL",value:function(){return this._reactTag}},{key:"release",value:function(){y.mediaStreamRelease(this._reactTag)}}]),s})((0,l.default)(['active','inactive','addtrack','removetrack']));e.default=h},403,[1,4,5,6,9,10,16,399,404,409]);
__d(function(g,r,i,a,m,e,d){var v=r(d[0]),n=r(d[1]),o=n;o.v1=v,o.v4=n,m.exports=o},404,[405,408]);
__d(function(g,r,i,a,m,e,d){var n,o,s=r(d[0]),c=r(d[1]),v=0,l=0;m.exports=function(u,t,f){var k=t&&f||0,q=t||[],w=(u=u||{}).node||n,h=void 0!==u.clockseq?u.clockseq:o;if(null==w||null==h){var _=s();null==w&&(w=n=[1|_[0],_[1],_[2],_[3],_[4],_[5]]),null==h&&(h=o=16383&(_[6]<<8|_[7]))}var p=void 0!==u.msecs?u.msecs:(new Date).getTime(),x=void 0!==u.nsecs?u.nsecs:l+1,C=p-v+(x-l)/1e4;if(C<0&&void 0===u.clockseq&&(h=h+1&16383),(C<0||p>v)&&void 0===u.nsecs&&(x=0),x>=1e4)throw new Error('uuid.v1(): Can\'t create more than 10M uuids/sec');v=p,l=x,o=h;var D=(1e4*(268435455&(p+=122192928e5))+x)%4294967296;q[k++]=D>>>24&255,q[k++]=D>>>16&255,q[k++]=D>>>8&255,q[k++]=255&D;var E=p/4294967296*1e4&268435455;q[k++]=E>>>8&255,q[k++]=255&E,q[k++]=E>>>24&15|16,q[k++]=E>>>16&255,q[k++]=h>>>8|128,q[k++]=255&h;for(var M=0;M<6;++M)q[k+M]=w[M];return t||c(q)}},405,[406,407]);
__d(function(g,r,i,a,m,e,d){var n='undefined'!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||'undefined'!=typeof msCrypto&&'function'==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var t=new Uint8Array(16);m.exports=function(){return n(t),t}}else{var o=new Array(16);m.exports=function(){for(var n,t=0;t<16;t++)0==(3&t)&&(n=4294967296*Math.random()),o[t]=n>>>((3&t)<<3)&255;return o}}},406,[]);
__d(function(g,r,i,a,m,e,d){for(var n=[],t=0;t<256;++t)n[t]=(t+256).toString(16).substr(1);m.exports=function(t,o){var u=o||0,f=n;return[f[t[u++]],f[t[u++]],f[t[u++]],f[t[u++]],'-',f[t[u++]],f[t[u++]],'-',f[t[u++]],f[t[u++]],'-',f[t[u++]],f[t[u++]],'-',f[t[u++]],f[t[u++]],f[t[u++]],f[t[u++]],f[t[u++]],f[t[u++]]].join('')}},407,[]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]),o=r(d[1]);m.exports=function(t,f,u){var l=f&&u||0;'string'==typeof t&&(f='binary'===t?new Array(16):null,t=null);var v=(t=t||{}).random||(t.rng||n)();if(v[6]=15&v[6]|64,v[8]=63&v[8]|128,f)for(var y=0;y<16;++y)f[l+y]=v[y];return f||o(v)}},408,[406,407]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),o=t(r(d[2])),l=t(r(d[3])),u=t(r(d[4])),s=t(r(d[5])),c=r(d[6]),f=t(r(d[7])),h=(t(r(d[8])),c.NativeModules.WebRTCModule),v=(function(t){function c(t){var o;(0,n.default)(this,c),o=(0,l.default)(this,(0,u.default)(c).call(this));var s=t.readyState.toLowerCase();return o._enabled=t.enabled,o.id=t.id,o.kind=t.kind,o.label=t.label,o.muted=!1,o.readonly=!0,o.remote=t.remote,o.readyState="initializing"===s||"live"===s?"live":"ended",o}return(0,s.default)(c,t),(0,o.default)(c,[{key:"stop",value:function(){h.mediaStreamTrackSetEnabled(this.id,!1),this.readyState='ended'}},{key:"_switchCamera",value:function(){if(this.remote)throw new Error('Not implemented for remote tracks');if('video'!==this.kind)throw new Error('Only implemented for video tracks');h.mediaStreamTrackSwitchCamera(this.id)}},{key:"applyConstraints",value:function(){throw new Error('Not implemented.')}},{key:"clone",value:function(){throw new Error('Not implemented.')}},{key:"getCapabilities",value:function(){throw new Error('Not implemented.')}},{key:"getConstraints",value:function(){throw new Error('Not implemented.')}},{key:"getSettings",value:function(){throw new Error('Not implemented.')}},{key:"release",value:function(){h.mediaStreamTrackRelease(this.id)}},{key:"enabled",get:function(){return this._enabled},set:function(t){t!==this._enabled&&(h.mediaStreamTrackSetEnabled(this.id,!this._enabled),this._enabled=!this._enabled,this.muted=!this._enabled)}}]),c})((0,f.default)(['ended','mute','unmute','overconstrained']));e.default=v},409,[1,4,5,6,9,10,16,399,410]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])),f=t(r(d[2]));e.default=function t(l,n){(0,f.default)(this,t),this.type=l.toString(),(0,u.default)(this,n)}},410,[1,15,4]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])),f=t(r(d[2]));e.default=function t(l,n){(0,f.default)(this,t),this.type=l.toString(),(0,u.default)(this,n)}},411,[1,15,4]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])),f=t(r(d[2]));e.default=function t(l,n){(0,f.default)(this,t),this.type=l.toString(),(0,u.default)(this,n)}},412,[1,15,4]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),o=t(r(d[2])),s=t(r(d[3])),f=t(r(d[4])),u=t(r(d[5])),l=t(r(d[6])),c=r(d[7]),h=t(r(d[8])),y=t(r(d[9])),p=t(r(d[10])),v=t(r(d[11])),b=c.NativeModules.WebRTCModule,_=((function(t){function n(){return(0,o.default)(this,n),(0,s.default)(this,(0,f.default)(n).apply(this,arguments))}(0,u.default)(n,t)})((0,l.default)(Error)),(function(t){function l(t,n,u){var c;return(0,o.default)(this,l),(c=(0,s.default)(this,(0,f.default)(l).call(this))).binaryType='arraybuffer',c.bufferedAmount=0,c.bufferedAmountLowThreshold=0,c.maxPacketLifeTime=null,c.maxRetransmits=null,c.negotiated=!1,c.ordered=!0,c.protocol='',c.readyState='connecting',c._peerConnectionId=t,c.label=n,c.id='id'in u?u.id:-1,c.ordered=!!u.ordered,c.maxPacketLifeTime=u.maxPacketLifeTime,c.maxRetransmits=u.maxRetransmits,c.protocol=u.protocol||'',c.negotiated=!!u.negotiated,c._registerEvents(),c}return(0,u.default)(l,t),(0,n.default)(l,[{key:"send",value:function(t){if('string'!=typeof t){if(ArrayBuffer.isView(t))t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);else{if(!(t instanceof ArrayBuffer))throw new TypeError('Data must be either string, ArrayBuffer, or ArrayBufferView');t=new Uint8Array(t)}b.dataChannelSend(this._peerConnectionId,this.id,h.default.fromByteArray(t),'binary')}else b.dataChannelSend(this._peerConnectionId,this.id,t,'text')}},{key:"close",value:function(){'closing'!==this.readyState&&'closed'!==this.readyState&&(this.readyState='closing',b.dataChannelClose(this._peerConnectionId,this.id))}},{key:"_unregisterEvents",value:function(){this._subscriptions.forEach(function(t){return t.remove()}),this._subscriptions=[]}},{key:"_registerEvents",value:function(){var t=this;this._subscriptions=[c.DeviceEventEmitter.addListener('dataChannelStateChanged',function(n){n.peerConnectionId===t._peerConnectionId&&n.id===t.id&&(t.readyState=n.state,'open'===t.readyState?t.dispatchEvent(new v.default('open',{channel:t})):'close'===t.readyState&&(t.dispatchEvent(new v.default('close',{channel:t})),t._unregisterEvents()))}),c.DeviceEventEmitter.addListener('dataChannelReceiveMessage',function(n){if(n.peerConnectionId===t._peerConnectionId&&n.id===t.id){var o=n.data;'binary'===n.type&&(o=h.default.toByteArray(n.data).buffer),t.dispatchEvent(new p.default('message',{data:o}))}})]}}]),l})((0,y.default)(['open','message','bufferedamountlow','close','error'])));e.default=_},413,[1,5,4,6,9,10,92,16,124,399,414,415]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])),f=t(r(d[2]));e.default=function t(l,n){(0,f.default)(this,t),this.type=l.toString(),(0,u.default)(this,n)}},414,[1,15,4]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])),f=t(r(d[2]));e.default=function t(l,n){(0,f.default)(this,t),this.type=l.toString(),(0,u.default)(this,n)}},415,[1,15,4]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])),s=t(r(d[2])),n=(function(){function t(s){(0,u.default)(this,t),this.sdp=s.sdp,this.type=s.type}return(0,s.default)(t,[{key:"toJSON",value:function(){return{sdp:this.sdp,type:this.type}}}]),t})();e.default=n},416,[1,4,5]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),s=t(r(d[2])),u=(function(){function t(s){(0,n.default)(this,t),this.candidate=s.candidate,this.sdpMLineIndex=s.sdpMLineIndex,this.sdpMid=s.sdpMid}return(0,s.default)(t,[{key:"toJSON",value:function(){return{candidate:this.candidate,sdpMLineIndex:this.sdpMLineIndex,sdpMid:this.sdpMid}}}]),t})();e.default=u},417,[1,4,5]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1]));e.default=function t(u,c){(0,n.default)(this,t),this.type=u.toString(),this.candidate=null,c&&c.candidate&&(this.candidate=c.candidate)}},418,[1,4]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])),f=t(r(d[2]));e.default=function t(l,n){(0,f.default)(this,t),this.type=l.toString(),(0,u.default)(this,n)}},419,[1,15,4]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.normalizeOfferAnswerOptions=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o={};if(!t)return o;t.mandatory&&(t=t.mandatory);for(var f=0,c=Object.entries(t);f<c.length;f++){var u=c[f],v=(0,n.default)(u,2),s=v[0],l=v[1],w=h[s.toLowerCase()];w&&(o[w]=String(Boolean(l)))}return o},e.normalizeConstraints=function(t){for(var n=(s=t,JSON.parse(JSON.stringify(s))),o=0,f=['audio','video'];o<f.length;o++){var c=f[o],h=n[c],v=typeof h;if('undefined'!==v)if('boolean'===v)h&&(n[c]=u(c));else{if('object'!==v)throw new TypeError("constraints."+c+" is neither a boolean nor a dictionary");n[c]=l(h,c)}}var s;return n};var n=t(r(d[1])),o={},f={facingMode:'user',frameRate:30,height:720,width:1280},c=1.7777777777777777,h={icerestart:'IceRestart',offertoreceiveaudio:'OfferToReceiveAudio',offertoreceivevideo:'OfferToReceiveVideo',voiceactivitydetection:'VoiceActivityDetection'};function u(t){switch(t){case'audio':return o;case'video':return f;default:throw new TypeError("Invalid media type: "+t)}}function v(t,n){var o=t[n],f=typeof o;if('object'===f)for(var c=0,h=['exact','ideal'];c<h.length;c++){var u=h[c];if(o[u])return o[u]}else if('string'===f)return o}function s(t,n){var o=t[n],f=typeof o;if('number'===f)return Number.parseInt(o);if('object'===f)for(var c=0,h=['exact','ideal','min','max'];c<h.length;c++){var u=h[c];if(o[u])return Number.parseInt(o[u])}}function l(t,n){switch(n){case'audio':return t;case'video':var o;return(o=t.mandatory?{deviceId:v(t.optional||{},'sourceId'),facingMode:v(t,'facingMode'),frameRate:s(t.mandatory,'minFrameRate'),height:s(t.mandatory,'minHeight'),width:s(t.mandatory,'minWidth')}:{deviceId:v(t,'deviceId'),facingMode:v(t,'facingMode'),frameRate:s(t,'frameRate'),height:s(t,'height'),width:s(t,'width')}).deviceId||delete o.deviceId,(!o.facingMode||'user'!==o.facingMode&&'environment'!==o.facingMode)&&(o.facingMode=f.facingMode),o.frameRate||(o.frameRate=f.frameRate),o.height||o.width?o.height?o.width||(o.width=Math.round(o.height*c)):o.height=Math.round(o.width/c):(o.height=f.height,o.width=f.width),o;default:throw new TypeError("Invalid media type: "+n)}}},420,[1,26]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(d[1]),n=t(r(d[2])),l=(o.NativeModules.WebRTCModule,{name:'RTCVideoView',propTypes:{mirror:n.default.bool,objectFit:n.default.oneOf(['contain','cover']),streamURL:n.default.string,zOrder:n.default.number}}),s=(0,o.requireNativeComponent)('RTCVideoView',l,{nativeOnly:{testID:!0,accessibilityComponentType:!0,renderToHardwareTextureAndroid:!0,accessibilityLabel:!0,accessibilityLiveRegion:!0,importantForAccessibility:!0,onLayout:!0,nativeID:!0}});e.default=s},421,[1,16,68]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])),n=t(r(d[2])),f=t(r(d[3])),l=t(r(d[4])),c=t(r(d[5])),o=r(d[6]),s=t(r(d[7])),v=t(r(d[8])),h=o.NativeModules.WebRTCModule,y=new((function(t){function o(){return(0,u.default)(this,o),(0,f.default)(this,(0,l.default)(o).apply(this,arguments))}return(0,c.default)(o,t),(0,n.default)(o,[{key:"enumerateDevices",value:function(){return new Promise(function(t){return h.enumerateDevices(t)})}},{key:"getUserMedia",value:function(t){return(0,v.default)(t)}}]),o})((0,s.default)(['devicechange'])));e.default=y},422,[1,4,5,6,9,10,16,399,423]);
__d(function(g,r,i,a,m,e,d){'use strict';var o=r(d[0]),t=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if('object'!=typeof o)return Promise.reject(new TypeError('constraints is not a dictionary'));if(!(void 0!==o.audio&&o.audio||void 0!==o.video&&o.video))return Promise.reject(new TypeError('audio and/or video is required'));var t=[];(o=u.normalizeConstraints(o)).audio?t.push(v.default.request({name:'microphone'})):t.push(Promise.resolve(!1));o.video?t.push(v.default.request({name:'camera'})):t.push(Promise.resolve(!1));return new Promise(function(s,u){Promise.all(t).then(function(t){var v=(0,n.default)(t,2),p=v[0],h=v[1];if(p||h){p||delete o.audio,h||delete o.video;f.getUserMedia(o,function(o,t){var n={streamId:o,streamReactTag:o,tracks:t};s(new c.default(n))},function(o,t){var n;switch(o){case'TypeError':n=new TypeError(t)}n||(n=new l.default({message:t,name:o}));u(n)})}else{u(new l.default({message:'Permission denied.',name:'SecurityError'}))}})})};var n=t(r(d[2])),s=r(d[3]),u=o(r(d[4])),c=t(r(d[5])),l=t(r(d[6])),v=t(r(d[7])),f=s.NativeModules.WebRTCModule},423,[23,1,26,16,420,403,424,425]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=t(r(d[1]));e.default=function t(n){(0,s.default)(this,t),this.name=n.name,this.message=n.message,this.constraintName=n.constraintName}},424,[1,4]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=n(r(d[1])),o=n(r(d[2])),s=r(d[3]),u=s.NativeModules.WebRTCModule,P=new((function(){function n(){(0,t.default)(this,n),this.RESULT={DENIED:'denied',GRANTED:'granted',PROMPT:'prompt'},this.VALID_PERMISSIONS=['camera','microphone'],this._lastReq=Promise.resolve()}return(0,o.default)(n,[{key:"_requestPermissionAndroid",value:function(n){return new Promise(function(t,o){s.PermissionsAndroid.request(n).then(function(n){return t(!0===n||n===s.PermissionsAndroid.RESULTS.GRANTED)},function(){return t(!1)})})}},{key:"_validatePermissionDescriptior",value:function(n){if("object"!=typeof n)throw new TypeError("Argument 1 of Permissions.query is not an object.");if(void 0===n.name)throw new TypeError("Missing required 'name' member of PermissionDescriptor.");if(-1===this.VALID_PERMISSIONS.indexOf(n.name))throw new TypeError("'name' member of PermissionDescriptor is not a valid value for enumeration PermissionName.")}},{key:"query",value:function(n){var t=this;try{this._validatePermissionDescriptior(n)}catch(n){return Promise.reject(n)}if('android'===s.Platform.OS){var o='camera'===n.name?s.PermissionsAndroid.PERMISSIONS.CAMERA:s.PermissionsAndroid.PERMISSIONS.RECORD_AUDIO;return new Promise(function(n,u){s.PermissionsAndroid.check(o).then(function(o){return n(o?t.RESULT.GRANTED:t.RESULT.PROMPT)},function(){return n(t.RESULT.PROMPT)})})}return'ios'===s.Platform.OS?u.checkPermission(n.name):Promise.reject(new TypeError("Unsupported platform."))}},{key:"request",value:function(n){var t=this;try{this._validatePermissionDescriptior(n)}catch(n){return Promise.reject(n)}if('android'===s.Platform.OS){var o='camera'===n.name?s.PermissionsAndroid.PERMISSIONS.CAMERA:s.PermissionsAndroid.PERMISSIONS.RECORD_AUDIO,P=function(){return t._requestPermissionAndroid(o)};return this._lastReq=this._lastReq.then(P,P),this._lastReq}return'ios'===s.Platform.OS?u.requestPermission(n.name):Promise.reject(new TypeError("Unsupported platform."))}}]),n})());e.default=P},425,[1,4,5,16]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=f;var n=t(r(d[1])),o=t(r(d[2])),u=r(d[3]),s=r(d[4]);r(d[5]).getLogger(__filename);function f(){for(var t=this,n=arguments.length,o=new Array(n),u=0;u<n;u++)o[u]=arguments[u];s.RTCPeerConnection.apply(this,o),this.onaddstream=function(){for(var n=arguments.length,o=new Array(n),u=0;u<n;u++)o[u]=arguments[u];return(t._onaddstreamQueue?t._queueOnaddstream:t._invokeOnaddstream).apply(t,o)},Object.defineProperty(this,'onaddstream',{configurable:!0,enumerable:!0,get:function(){return this._onaddstream},set:function(t){this._onaddstream=t}})}function c(t){var n=this;return new Promise(function(o,u){n._onaddstreamQueue=[],s.RTCPeerConnection.prototype.setRemoteDescription.call(n,t).then(function(){var t;try{o.apply(void 0,arguments)}finally{t=n._onaddstreamQueue,n._onaddstreamQueue=void 0}n._invokeQueuedOnaddstream(t)},function(){n._onaddstreamQueue=void 0,u.apply(void 0,arguments)})})}f.prototype=Object.create(s.RTCPeerConnection.prototype),f.prototype.constructor=f,f.prototype._invokeOnaddstream=function(){for(var t=this._onaddstream,n=arguments.length,o=new Array(n),u=0;u<n;u++)o[u]=arguments[u];return t&&t.apply(this,o)},f.prototype._invokeQueuedOnaddstream=function(t){var n=this;t&&t.forEach(function(t){try{n._invokeOnaddstream.apply(n,(0,o.default)(t))}catch(t){}})},f.prototype._queueOnaddstream=function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];this._onaddstreamQueue.push(Array.from(n))},f.prototype.setRemoteDescription=function(t){var n,o=this;return(n=t,new Promise(function(t){return t(v(n))}).then(function(t){var o=t.ips,u=t.lines;return Promise.all(Array.from(o.values())).then(function(){return l(n,o,u)})})).catch(function(n){return t}).then(function(t){return c.bind(o)(t)})};var p=(function(){var t=u.NativeModules.POSIX;if(t){var o=t.getaddrinfo;if('function'==typeof o)return function(t){return o(t,void 0).then(function(t){return(0,n.default)(t,1)[0].ai_addr})}}var s=u.NativeModules.NAT64AddrInfo;if(s){var f=s.getIPv6Address;if('function'==typeof f)return f}return function(){return Promise.resolve(null)}})();function v(t){var n=t.sdp,o=0,u=[],s=new Map;do{var f=n.indexOf('\r\n',o),c=void 0;if(-1===f?(c=n.substring(o),o=void 0):(c=n.substring(o,f),o=f+2),c.startsWith('a=candidate:')){var v=c.split(' ');if(v.length>=10&&'typ'===v[6]){for(var l=[v[4]],h=!1,y=8;y<v.length;++y)if('raddr'===v[y]){l.push(v[++y]);break}for(var _=function(t){if(-1!==t.indexOf(':'))return h=!0,"break";s.has(t)||s.set(t,new Promise(function(n,o){var u=s.get(t);u&&'string'==typeof u?n(u):p(t).then(function(o){o&&-1!==o.indexOf(':')&&o!==s.get(t)?s.set(t,o):s.delete(t),n(o)},o)}))},b=0,O=l;b<O.length;b++){if("break"===_(O[b]))break}if(h){s.clear();break}c=v}}u.push(c)}while(o);return{ips:s,lines:u}}function l(t,n,o){if(0===n.size)return t;for(var u=0;u<o.length;++u){var f=o[u];if('string'!=typeof f){var c=f[4],p=n.get(c);p&&(f[4]=p);for(var v=8;v<f.length;++v)if('raddr'===f[v]){c=f[++v],(p=n.get(c))&&(f[v]=p);break}o[u]=f.join(' ')}}return new s.RTCSessionDescription({sdp:o.join('\r\n'),type:t.type})}},426,[1,26,32,16,397,392]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]),o=r(d[1]);window.csioReactNative=!0,window.RTCPeerConnection||(window.RTCPeerConnection=n.RTCPeerConnection),window.webkitRTCPeerConnection||(window.webkitRTCPeerConnection=n.RTCPeerConnection),window.performance||(window.performance={}),window.performance.timing||(window.performance.timing={},window.performance.timing.navigationStart=0),Date.now=Date.now||function(){return(new Date).getTime()},window.performance.now||(window.performance.now=function(){return Date.now()}),window.location||(window.location={},window.location.href='react-native'),window.atob||(window.atob=r(d[2]).decode),window.btoa||(window.btoa=r(d[2]).encode);window.csiosign=function(n,o,w){var t=new(r(d[3]))('SHA-256','TEXT');t.setHMACKey(o,'TEXT'),t.update(n);var c,f=t.getHMAC('BYTES');return w(null,n+='.'+(c=f,window.btoa(c).replace(/\+/g,'-').replace(/\//g,'_').replace(/\=+$/,'')))},window.csioGetOsName=function(){return o.Platform.OS},window.csioGetOsVer=function(){return o.Platform.Version+''}},427,[397,16,428,429]);
__d(function(g,r,i,a,m,e,d){!(function(t){var n='object'==typeof e&&e,o='object'==typeof m&&m&&m.exports==n&&m,c='object'==typeof g&&g;c.global!==c&&c.window!==c||(t=c);var h=function(t){this.message=t};(h.prototype=new Error).name='InvalidCharacterError';var f=function(t){throw new h(t)},s='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',A=/[\t\n\f\r ]/g,l={encode:function(t){t=String(t),/[^\0-\xFF]/.test(t)&&f("The string to be encoded contains characters outside of the Latin1 range.");for(var n,o,c,h,A=t.length%3,l='',p=-1,u=t.length-A;++p<u;)n=t.charCodeAt(p)<<16,o=t.charCodeAt(++p)<<8,c=t.charCodeAt(++p),l+=s.charAt((h=n+o+c)>>18&63)+s.charAt(h>>12&63)+s.charAt(h>>6&63)+s.charAt(63&h);return 2==A?(n=t.charCodeAt(p)<<8,o=t.charCodeAt(++p),l+=s.charAt((h=n+o)>>10)+s.charAt(h>>4&63)+s.charAt(h<<2&63)+'='):1==A&&(h=t.charCodeAt(p),l+=s.charAt(h>>2)+s.charAt(h<<4&63)+'=='),l},decode:function(t){var n=(t=String(t).replace(A,'')).length;n%4==0&&(n=(t=t.replace(/==?$/,'')).length),(n%4==1||/[^+a-zA-Z0-9/]/.test(t))&&f('Invalid character: the string to be decoded is not correctly encoded.');for(var o,c,h=0,l='',p=-1;++p<n;)c=s.indexOf(t.charAt(p)),o=h%4?64*o+c:c,h++%4&&(l+=String.fromCharCode(255&o>>(-2*h&6)));return l},version:'0.1.0'};if('function'==typeof define&&'object'==typeof define.amd&&define.amd)define(function(){return l});else if(n&&!n.nodeType)if(o)o.exports=l;else for(var p in l)l.hasOwnProperty(p)&&(n[p]=l[p]);else t.base64=l})(this)},428,[]);
__d(function(g,r,i,a,m,e,d){'use strict';!(function(n){function t(n,t,o){var h,l,A,p,E,H,v,S,U,k=0,F=[],R=0,y=!1,B=[],L=[],T=!1,C=!1,Y=-1;if(h=(o=o||{}).encoding||"UTF8",(U=o.numRounds||1)!==parseInt(U,10)||1>U)throw Error("numRounds must a integer >= 1");if("SHA-1"===n)E=512,H=N,v=j,p=160,S=function(n){return n.slice()};else if(0===n.lastIndexOf("SHA-",0))if(H=function(t,o){return z(t,o,n)},v=function(t,o,u,f){var w,s;if("SHA-224"===n||"SHA-256"===n)w=15+(o+65>>>9<<4),s=16;else{if("SHA-384"!==n&&"SHA-512"!==n)throw Error("Unexpected error in SHA-2 implementation");w=31+(o+129>>>10<<5),s=32}for(;t.length<=w;)t.push(0);for(t[o>>>5]|=128<<24-o%32,o+=u,t[w]=4294967295&o,t[w-1]=o/4294967296|0,u=t.length,o=0;o<u;o+=s)f=z(t.slice(o,o+s),f,n);if("SHA-224"===n)t=[f[0],f[1],f[2],f[3],f[4],f[5],f[6]];else if("SHA-256"===n)t=f;else if("SHA-384"===n)t=[f[0].a,f[0].b,f[1].a,f[1].b,f[2].a,f[2].b,f[3].a,f[3].b,f[4].a,f[4].b,f[5].a,f[5].b];else{if("SHA-512"!==n)throw Error("Unexpected error in SHA-2 implementation");t=[f[0].a,f[0].b,f[1].a,f[1].b,f[2].a,f[2].b,f[3].a,f[3].b,f[4].a,f[4].b,f[5].a,f[5].b,f[6].a,f[6].b,f[7].a,f[7].b]}return t},S=function(n){return n.slice()},"SHA-224"===n)E=512,p=224;else if("SHA-256"===n)E=512,p=256;else if("SHA-384"===n)E=1024,p=384;else{if("SHA-512"!==n)throw Error("Chosen SHA variant is not supported");E=1024,p=512}else{if(0!==n.lastIndexOf("SHA3-",0)&&0!==n.lastIndexOf("SHAKE",0))throw Error("Chosen SHA variant is not supported");var x=6;if(H=Z,S=function(n){var t,o=[];for(t=0;5>t;t+=1)o[t]=n[t].slice();return o},Y=1,"SHA3-224"===n)E=1152,p=224;else if("SHA3-256"===n)E=1088,p=256;else if("SHA3-384"===n)E=832,p=384;else if("SHA3-512"===n)E=576,p=512;else if("SHAKE128"===n)E=1344,p=-1,x=31,C=!0;else{if("SHAKE256"!==n)throw Error("Chosen SHA variant is not supported");E=1088,p=-1,x=31,C=!0}v=function(n,t,o,u,f){var w,s=x,c=[],b=(o=E)>>>5,h=0,l=t>>>5;for(w=0;w<l&&t>=o;w+=b)u=Z(n.slice(w,w+b),u),t-=o;for(n=n.slice(w),t%=o;n.length<b;)n.push(0);for(n[(w=t>>>3)>>2]^=s<<w%4*8,n[b-1]^=2147483648,u=Z(n,u);32*c.length<f&&(n=u[h%5][h/5|0],c.push(n.b),!(32*c.length>=f));)c.push(n.a),0==64*(h+=1)%o&&Z(null,u);return c}}A=b(t,h,Y),l=K(n),this.setHMACKey=function(t,o,u){var f;if(!0===y)throw Error("HMAC key already set");if(!0===T)throw Error("Cannot set HMAC key after calling update");if(!0===C)throw Error("SHAKE is not supported for HMAC");if(t=(o=b(o,h=(u||{}).encoding||"UTF8",Y)(t)).binLen,o=o.value,u=(f=E>>>3)/4-1,f<t/8){for(o=v(o,t,0,K(n),p);o.length<=u;)o.push(0);o[u]&=4294967040}else if(f>t/8){for(;o.length<=u;)o.push(0);o[u]&=4294967040}for(t=0;t<=u;t+=1)B[t]=909522486^o[t],L[t]=1549556828^o[t];l=H(B,l),k=E,y=!0},this.update=function(n){var t,o,u,f=0,w=E>>>5;for(n=(t=A(n,F,R)).binLen,o=t.value,t=n>>>5,u=0;u<t;u+=w)f+E<=n&&(l=H(o.slice(u,u+w),l),f+=E);k+=f,F=o.slice(f>>>5),R=n%E,T=!0},this.getHash=function(t,o){var b,h,A,E;if(!0===y)throw Error("Cannot call getHash after setting HMAC key");if(A=c(o),!0===C){if(-1===A.shakeLen)throw Error("shakeLen must be specified in options");p=A.shakeLen}switch(t){case"HEX":b=function(n){return u(n,p,Y,A)};break;case"B64":b=function(n){return f(n,p,Y,A)};break;case"BYTES":b=function(n){return w(n,p,Y)};break;case"ARRAYBUFFER":try{h=new ArrayBuffer(0)}catch(n){throw Error("ARRAYBUFFER not supported by this environment")}b=function(n){return s(n,p,Y)};break;default:throw Error("format must be HEX, B64, BYTES, or ARRAYBUFFER")}for(E=v(F.slice(),R,k,S(l),p),h=1;h<U;h+=1)!0===C&&0!=p%32&&(E[E.length-1]&=16777215>>>24-p%32),E=v(E,p,0,K(n),p);return b(E)},this.getHMAC=function(t,o){var b,h,A,U;if(!1===y)throw Error("Cannot call getHMAC without first setting HMAC key");switch(A=c(o),t){case"HEX":b=function(n){return u(n,p,Y,A)};break;case"B64":b=function(n){return f(n,p,Y,A)};break;case"BYTES":b=function(n){return w(n,p,Y)};break;case"ARRAYBUFFER":try{b=new ArrayBuffer(0)}catch(n){throw Error("ARRAYBUFFER not supported by this environment")}b=function(n){return s(n,p,Y)};break;default:throw Error("outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER")}return h=v(F.slice(),R,k,S(l),p),U=H(L,K(n)),b(U=v(h,p,E,U,p))}}function o(n,t){this.a=n,this.b=t}function u(n,t,o,u){var f,w,s,c="";for(t/=8,s=-1===o?3:0,f=0;f<t;f+=1)w=n[f>>>2]>>>8*(s+f%4*o),c+="0123456789abcdef".charAt(w>>>4&15)+"0123456789abcdef".charAt(15&w);return u.outputUpper?c.toUpperCase():c}function f(n,t,o,u){var f,w,s,c,b="",h=t/8;for(c=-1===o?3:0,f=0;f<h;f+=3)for(w=f+1<h?n[f+1>>>2]:0,s=f+2<h?n[f+2>>>2]:0,s=(n[f>>>2]>>>8*(c+f%4*o)&255)<<16|(w>>>8*(c+(f+1)%4*o)&255)<<8|s>>>8*(c+(f+2)%4*o)&255,w=0;4>w;w+=1)b+=8*f+6*w<=t?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(s>>>6*(3-w)&63):u.b64Pad;return b}function w(n,t,o){var u,f,w,s="";for(t/=8,w=-1===o?3:0,u=0;u<t;u+=1)f=n[u>>>2]>>>8*(w+u%4*o)&255,s+=String.fromCharCode(f);return s}function s(n,t,o){t/=8;var u,f,w,s=new ArrayBuffer(t);for(w=new Uint8Array(s),f=-1===o?3:0,u=0;u<t;u+=1)w[u]=n[u>>>2]>>>8*(f+u%4*o)&255;return s}function c(n){var t={outputUpper:!1,b64Pad:"=",shakeLen:-1};if(n=n||{},t.outputUpper=n.outputUpper||!1,!0===n.hasOwnProperty("b64Pad")&&(t.b64Pad=n.b64Pad),!0===n.hasOwnProperty("shakeLen")){if(0!=n.shakeLen%8)throw Error("shakeLen must be a multiple of 8");t.shakeLen=n.shakeLen}if("boolean"!=typeof t.outputUpper)throw Error("Invalid outputUpper formatting option");if("string"!=typeof t.b64Pad)throw Error("Invalid b64Pad formatting option");return t}function b(n,t,o){switch(t){case"UTF8":case"UTF16BE":case"UTF16LE":break;default:throw Error("encoding must be UTF8, UTF16BE, or UTF16LE")}switch(n){case"HEX":n=function(n,t,u){var f,w,s,c,b,h,l=n.length;if(0!=l%2)throw Error("String of HEX type must be in byte increments");for(t=t||[0],b=(u=u||0)>>>3,h=-1===o?3:0,f=0;f<l;f+=2){if(w=parseInt(n.substr(f,2),16),isNaN(w))throw Error("String of HEX type contains invalid characters");for(s=(c=(f>>>1)+b)>>>2;t.length<=s;)t.push(0);t[s]|=w<<8*(h+c%4*o)}return{value:t,binLen:4*l+u}};break;case"TEXT":n=function(n,u,f){var w,s,c,b,h,l,A,p,E=0;if(u=u||[0],h=(f=f||0)>>>3,"UTF8"===t)for(p=-1===o?3:0,c=0;c<n.length;c+=1)for(s=[],128>(w=n.charCodeAt(c))?s.push(w):2048>w?(s.push(192|w>>>6),s.push(128|63&w)):55296>w||57344<=w?s.push(224|w>>>12,128|w>>>6&63,128|63&w):(c+=1,w=65536+((1023&w)<<10|1023&n.charCodeAt(c)),s.push(240|w>>>18,128|w>>>12&63,128|w>>>6&63,128|63&w)),b=0;b<s.length;b+=1){for(l=(A=E+h)>>>2;u.length<=l;)u.push(0);u[l]|=s[b]<<8*(p+A%4*o),E+=1}else if("UTF16BE"===t||"UTF16LE"===t)for(p=-1===o?2:0,s="UTF16LE"===t&&1!==o||"UTF16LE"!==t&&1===o,c=0;c<n.length;c+=1){for(w=n.charCodeAt(c),!0===s&&(w=(b=255&w)<<8|w>>>8),l=(A=E+h)>>>2;u.length<=l;)u.push(0);u[l]|=w<<8*(p+A%4*o),E+=2}return{value:u,binLen:8*E+f}};break;case"B64":n=function(n,t,u){var f,w,s,c,b,h,l,A,p=0;if(-1===n.search(/^[a-zA-Z0-9=+\/]+$/))throw Error("Invalid character in base-64 string");if(w=n.indexOf("="),n=n.replace(/\=/g,""),-1!==w&&w<n.length)throw Error("Invalid '=' found in base-64 string");for(t=t||[0],h=(u=u||0)>>>3,A=-1===o?3:0,w=0;w<n.length;w+=4){for(b=n.substr(w,4),s=c=0;s<b.length;s+=1)c|=(f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(b[s]))<<18-6*s;for(s=0;s<b.length-1;s+=1){for(f=(l=p+h)>>>2;t.length<=f;)t.push(0);t[f]|=(c>>>16-8*s&255)<<8*(A+l%4*o),p+=1}}return{value:t,binLen:8*p+u}};break;case"BYTES":n=function(n,t,u){var f,w,s,c,b,h;for(t=t||[0],s=(u=u||0)>>>3,h=-1===o?3:0,w=0;w<n.length;w+=1)f=n.charCodeAt(w),c=(b=w+s)>>>2,t.length<=c&&t.push(0),t[c]|=f<<8*(h+b%4*o);return{value:t,binLen:8*n.length+u}};break;case"ARRAYBUFFER":try{n=new ArrayBuffer(0)}catch(n){throw Error("ARRAYBUFFER not supported by this environment")}n=function(n,t,u){var f,w,s,c,b,h;for(t=t||[0],w=(u=u||0)>>>3,b=-1===o?3:0,h=new Uint8Array(n),f=0;f<n.byteLength;f+=1)s=(c=f+w)>>>2,t.length<=s&&t.push(0),t[s]|=h[f]<<8*(b+c%4*o);return{value:t,binLen:8*n.byteLength+u}};break;default:throw Error("format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER")}return n}function h(n,t){return n<<t|n>>>32-t}function l(n,t){return 32<t?(t-=32,new o(n.b<<t|n.a>>>32-t,n.a<<t|n.b>>>32-t)):0!==t?new o(n.a<<t|n.b>>>32-t,n.b<<t|n.a>>>32-t):n}function A(n,t){return n>>>t|n<<32-t}function p(n,t){var u=null;u=new o(n.a,n.b);return 32>=t?new o(u.a>>>t|u.b<<32-t&4294967295,u.b>>>t|u.a<<32-t&4294967295):new o(u.b>>>t-32|u.a<<64-t&4294967295,u.a>>>t-32|u.b<<64-t&4294967295)}function E(n,t){return 32>=t?new o(n.a>>>t,n.b>>>t|n.a<<32-t&4294967295):new o(0,n.a>>>t-32)}function H(n,t,o){return n&t^~n&o}function v(n,t,u){return new o(n.a&t.a^~n.a&u.a,n.b&t.b^~n.b&u.b)}function S(n,t,o){return n&t^n&o^t&o}function U(n,t,u){return new o(n.a&t.a^n.a&u.a^t.a&u.a,n.b&t.b^n.b&u.b^t.b&u.b)}function k(n){return A(n,2)^A(n,13)^A(n,22)}function F(n){var t=p(n,28),u=p(n,34);return n=p(n,39),new o(t.a^u.a^n.a,t.b^u.b^n.b)}function R(n){return A(n,6)^A(n,11)^A(n,25)}function y(n){var t=p(n,14),u=p(n,18);return n=p(n,41),new o(t.a^u.a^n.a,t.b^u.b^n.b)}function B(n){return A(n,7)^A(n,18)^n>>>3}function L(n){var t=p(n,1),u=p(n,8);return n=E(n,7),new o(t.a^u.a^n.a,t.b^u.b^n.b)}function T(n){return A(n,17)^A(n,19)^n>>>10}function C(n){var t=p(n,19),u=p(n,61);return n=E(n,6),new o(t.a^u.a^n.a,t.b^u.b^n.b)}function Y(n,t){var o=(65535&n)+(65535&t);return((n>>>16)+(t>>>16)+(o>>>16)&65535)<<16|65535&o}function x(n,t,o,u){var f=(65535&n)+(65535&t)+(65535&o)+(65535&u);return((n>>>16)+(t>>>16)+(o>>>16)+(u>>>16)+(f>>>16)&65535)<<16|65535&f}function I(n,t,o,u,f){var w=(65535&n)+(65535&t)+(65535&o)+(65535&u)+(65535&f);return((n>>>16)+(t>>>16)+(o>>>16)+(u>>>16)+(f>>>16)+(w>>>16)&65535)<<16|65535&w}function O(n,t){var u,f,w;return u=(65535&n.b)+(65535&t.b),w=(65535&(f=(n.b>>>16)+(t.b>>>16)+(u>>>16)))<<16|65535&u,u=(65535&n.a)+(65535&t.a)+(f>>>16),new o((65535&(f=(n.a>>>16)+(t.a>>>16)+(u>>>16)))<<16|65535&u,w)}function X(n,t,u,f){var w,s,c;return w=(65535&n.b)+(65535&t.b)+(65535&u.b)+(65535&f.b),c=(65535&(s=(n.b>>>16)+(t.b>>>16)+(u.b>>>16)+(f.b>>>16)+(w>>>16)))<<16|65535&w,w=(65535&n.a)+(65535&t.a)+(65535&u.a)+(65535&f.a)+(s>>>16),new o((65535&(s=(n.a>>>16)+(t.a>>>16)+(u.a>>>16)+(f.a>>>16)+(w>>>16)))<<16|65535&w,c)}function P(n,t,u,f,w){var s,c,b;return s=(65535&n.b)+(65535&t.b)+(65535&u.b)+(65535&f.b)+(65535&w.b),b=(65535&(c=(n.b>>>16)+(t.b>>>16)+(u.b>>>16)+(f.b>>>16)+(w.b>>>16)+(s>>>16)))<<16|65535&s,s=(65535&n.a)+(65535&t.a)+(65535&u.a)+(65535&f.a)+(65535&w.a)+(c>>>16),new o((65535&(c=(n.a>>>16)+(t.a>>>16)+(u.a>>>16)+(f.a>>>16)+(w.a>>>16)+(s>>>16)))<<16|65535&s,b)}function M(n,t){return new o(n.a^t.a,n.b^t.b)}function K(n){var t,u=[];if("SHA-1"===n)u=[1732584193,4023233417,2562383102,271733878,3285377520];else if(0===n.lastIndexOf("SHA-",0))switch(u=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428],t=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],n){case"SHA-224":break;case"SHA-256":u=t;break;case"SHA-384":u=[new o(3418070365,u[0]),new o(1654270250,u[1]),new o(2438529370,u[2]),new o(355462360,u[3]),new o(1731405415,u[4]),new o(41048885895,u[5]),new o(3675008525,u[6]),new o(1203062813,u[7])];break;case"SHA-512":u=[new o(t[0],4089235720),new o(t[1],2227873595),new o(t[2],4271175723),new o(t[3],1595750129),new o(t[4],2917565137),new o(t[5],725511199),new o(t[6],4215389547),new o(t[7],327033209)];break;default:throw Error("Unknown SHA variant")}else{if(0!==n.lastIndexOf("SHA3-",0)&&0!==n.lastIndexOf("SHAKE",0))throw Error("No SHA variants supported");for(n=0;5>n;n+=1)u[n]=[new o(0,0),new o(0,0),new o(0,0),new o(0,0),new o(0,0)]}return u}function N(n,t){var o,u,f,w,s,c,b,l=[];for(o=t[0],u=t[1],f=t[2],w=t[3],s=t[4],b=0;80>b;b+=1)l[b]=16>b?n[b]:h(l[b-3]^l[b-8]^l[b-14]^l[b-16],1),c=20>b?I(h(o,5),u&f^~u&w,s,1518500249,l[b]):40>b?I(h(o,5),u^f^w,s,1859775393,l[b]):60>b?I(h(o,5),S(u,f,w),s,2400959708,l[b]):I(h(o,5),u^f^w,s,3395469782,l[b]),s=w,w=f,f=h(u,30),u=o,o=c;return t[0]=Y(o,t[0]),t[1]=Y(u,t[1]),t[2]=Y(f,t[2]),t[3]=Y(w,t[3]),t[4]=Y(s,t[4]),t}function j(n,t,o,u){var f;for(f=15+(t+65>>>9<<4);n.length<=f;)n.push(0);for(n[t>>>5]|=128<<24-t%32,t+=o,n[f]=4294967295&t,n[f-1]=t/4294967296|0,t=n.length,f=0;f<t;f+=16)u=N(n.slice(f,f+16),u);return u}function z(n,t,u){var f,w,s,c,b,h,l,A,p,E,M,K,N,j,z,Z,G,J,Q,V,W,_,$,nn=[];if("SHA-224"===u||"SHA-256"===u)E=64,K=1,_=Number,N=Y,j=x,z=I,Z=B,G=T,J=k,Q=R,W=S,V=H,$=q;else{if("SHA-384"!==u&&"SHA-512"!==u)throw Error("Unexpected error in SHA-2 implementation");E=80,K=2,_=o,N=O,j=X,z=P,Z=L,G=C,J=F,Q=y,W=U,V=v,$=D}for(u=t[0],f=t[1],w=t[2],s=t[3],c=t[4],b=t[5],h=t[6],l=t[7],M=0;M<E;M+=1)16>M?(p=M*K,A=n.length<=p?0:n[p],p=n.length<=p+1?0:n[p+1],nn[M]=new _(A,p)):nn[M]=j(G(nn[M-2]),nn[M-7],Z(nn[M-15]),nn[M-16]),A=z(l,Q(c),V(c,b,h),$[M],nn[M]),p=N(J(u),W(u,f,w)),l=h,h=b,b=c,c=N(s,A),s=w,w=f,f=u,u=N(A,p);return t[0]=N(u,t[0]),t[1]=N(f,t[1]),t[2]=N(w,t[2]),t[3]=N(s,t[3]),t[4]=N(c,t[4]),t[5]=N(b,t[5]),t[6]=N(h,t[6]),t[7]=N(l,t[7]),t}function Z(n,t){var u,f,w,s,c=[],b=[];if(null!==n)for(f=0;f<n.length;f+=2)t[(f>>>1)%5][(f>>>1)/5|0]=M(t[(f>>>1)%5][(f>>>1)/5|0],new o(n[f+1],n[f]));for(u=0;24>u;u+=1){for(s=K("SHA3-"),f=0;5>f;f+=1){w=t[f][0];var h=t[f][1],A=t[f][2],p=t[f][3],E=t[f][4];c[f]=new o(w.a^h.a^A.a^p.a^E.a,w.b^h.b^A.b^p.b^E.b)}for(f=0;5>f;f+=1)b[f]=M(c[(f+4)%5],l(c[(f+1)%5],1));for(f=0;5>f;f+=1)for(w=0;5>w;w+=1)t[f][w]=M(t[f][w],b[f]);for(f=0;5>f;f+=1)for(w=0;5>w;w+=1)s[w][(2*f+3*w)%5]=l(t[f][w],G[f][w]);for(f=0;5>f;f+=1)for(w=0;5>w;w+=1)t[f][w]=M(s[f][w],new o(~s[(f+1)%5][w].a&s[(f+2)%5][w].a,~s[(f+1)%5][w].b&s[(f+2)%5][w].b));t[0][0]=M(t[0][0],J[u])}return t}var q,D,G,J;D=[new o((q=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298])[0],3609767458),new o(q[1],602891725),new o(q[2],3964484399),new o(q[3],2173295548),new o(q[4],4081628472),new o(q[5],3053834265),new o(q[6],2937671579),new o(q[7],3664609560),new o(q[8],2734883394),new o(q[9],1164996542),new o(q[10],1323610764),new o(q[11],3590304994),new o(q[12],4068182383),new o(q[13],991336113),new o(q[14],633803317),new o(q[15],3479774868),new o(q[16],2666613458),new o(q[17],944711139),new o(q[18],2341262773),new o(q[19],2007800933),new o(q[20],1495990901),new o(q[21],1856431235),new o(q[22],3175218132),new o(q[23],2198950837),new o(q[24],3999719339),new o(q[25],766784016),new o(q[26],2566594879),new o(q[27],3203337956),new o(q[28],1034457026),new o(q[29],2466948901),new o(q[30],3758326383),new o(q[31],168717936),new o(q[32],1188179964),new o(q[33],1546045734),new o(q[34],1522805485),new o(q[35],2643833823),new o(q[36],2343527390),new o(q[37],1014477480),new o(q[38],1206759142),new o(q[39],344077627),new o(q[40],1290863460),new o(q[41],3158454273),new o(q[42],3505952657),new o(q[43],106217008),new o(q[44],3606008344),new o(q[45],1432725776),new o(q[46],1467031594),new o(q[47],851169720),new o(q[48],3100823752),new o(q[49],1363258195),new o(q[50],3750685593),new o(q[51],3785050280),new o(q[52],3318307427),new o(q[53],3812723403),new o(q[54],2003034995),new o(q[55],3602036899),new o(q[56],1575990012),new o(q[57],1125592928),new o(q[58],2716904306),new o(q[59],442776044),new o(q[60],593698344),new o(q[61],3733110249),new o(q[62],2999351573),new o(q[63],3815920427),new o(3391569614,3928383900),new o(3515267271,566280711),new o(3940187606,3454069534),new o(4118630271,4000239992),new o(116418474,1914138554),new o(174292421,2731055270),new o(289380356,3203993006),new o(460393269,320620315),new o(685471733,587496836),new o(852142971,1086792851),new o(1017036298,365543100),new o(1126000580,2618297676),new o(1288033470,3409855158),new o(1501505948,4234509866),new o(1607167915,987167468),new o(1816402316,1246189591)],J=[new o(0,1),new o(0,32898),new o(2147483648,32906),new o(2147483648,2147516416),new o(0,32907),new o(0,2147483649),new o(2147483648,2147516545),new o(2147483648,32777),new o(0,138),new o(0,136),new o(0,2147516425),new o(0,2147483658),new o(0,2147516555),new o(2147483648,139),new o(2147483648,32905),new o(2147483648,32771),new o(2147483648,32770),new o(2147483648,128),new o(0,32778),new o(2147483648,2147483658),new o(2147483648,2147516545),new o(2147483648,32896),new o(0,2147483649),new o(2147483648,2147516424)],G=[[0,36,3,41,18],[1,44,10,45,2],[62,6,43,15,61],[28,55,25,21,56],[27,20,39,8,14]],"function"==typeof define&&define.amd?define(function(){return t}):void 0!==e?(void 0!==m&&m.exports&&(m.exports=t),e=t):n.jsSHA=t})(this)},429,[]);
__d(function(e,t,n,r,i,a,o){var s=t(o[0]);!(function(){return function e(n,r,i){function a(s,c){if(!r[s]){if(!n[s]){var u="function"==typeof t&&t;if(!c&&u)return u(s,!0);if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var f=r[s]={exports:{}};n[s][0].call(f.exports,function(e){return a(n[s][1][e]||e)},f,f.exports,e,n,r,i)}return r[s].exports}for(var o="function"==typeof t&&t,s=0;s<i.length;s++)a(i[s]);return a}})()({1:[function(t,n,r){(function(e,t,i){!(function(e){if("object"==typeof r&&void 0!==n)n.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var i;"undefined"!=typeof window?i=window:void 0!==t?i=t:"undefined"!=typeof self&&(i=self),i.Promise=e()}})(function(){return(function e(t,n,r){function i(o,s){if(!n[o]){if(!t[o]){var c="function"==typeof _dereq_&&_dereq_;if(!s&&c)return c(o,!0);if(a)return a(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){return i(t[o][1][e]||e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var a="function"==typeof _dereq_&&_dereq_,o=0;o<r.length;o++)i(r[o]);return i})({1:[function(e,t,n){"use strict";t.exports=function(e){function t(e){var t=new n(e),r=t.promise();return t.setHowMany(1),t.setUnwrap(),t.init(),r}var n=e._SomePromiseArray;e.any=function(e){return t(e)},e.prototype.any=function(){return t(this)}}},{}],2:[function(t,n,r){"use strict";function i(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new l(16),this._normalQueue=new l(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var e=this;this.drainQueues=function(){e._drainQueues()},this._schedule=u}function a(e,t,n){this._lateQueue.push(e,t,n),this._queueTick()}function o(e,t,n){this._normalQueue.push(e,t,n),this._queueTick()}function s(e){this._normalQueue._pushOne(e),this._queueTick()}var c;try{throw new Error}catch(e){c=e}var u=t("./schedule"),l=t("./queue"),f=t("./util");i.prototype.setScheduler=function(e){var t=this._schedule;return this._schedule=e,this._customScheduler=!0,t},i.prototype.hasCustomScheduler=function(){return this._customScheduler},i.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},i.prototype.disableTrampolineIfNecessary=function(){f.hasDevTools&&(this._trampolineEnabled=!1)},i.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},i.prototype.fatalError=function(t,n){n?(e.stderr.write("Fatal "+(t instanceof Error?t.stack:t)+"\n"),e.exit(2)):this.throwLater(t)},i.prototype.throwLater=function(e,t){if(1===arguments.length&&(t=e,e=function(){throw t}),"undefined"!=typeof setTimeout)setTimeout(function(){e(t)},0);else try{this._schedule(function(){e(t)})}catch(e){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},f.hasDevTools?(i.prototype.invokeLater=function(e,t,n){this._trampolineEnabled?a.call(this,e,t,n):this._schedule(function(){setTimeout(function(){e.call(t,n)},100)})},i.prototype.invoke=function(e,t,n){this._trampolineEnabled?o.call(this,e,t,n):this._schedule(function(){e.call(t,n)})},i.prototype.settlePromises=function(e){this._trampolineEnabled?s.call(this,e):this._schedule(function(){e._settlePromises()})}):(i.prototype.invokeLater=a,i.prototype.invoke=o,i.prototype.settlePromises=s),i.prototype._drainQueue=function(e){for(;e.length()>0;){var t=e.shift();if("function"==typeof t){var n=e.shift(),r=e.shift();t.call(n,r)}else t._settlePromises()}},i.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},i.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},i.prototype._reset=function(){this._isTickUsed=!1},n.exports=i,n.exports.firstLineError=c},{"./queue":26,"./schedule":29,"./util":36}],3:[function(e,t,n){"use strict";t.exports=function(e,t,n,r){var i=!1,a=function(e,t){this._reject(t)},o=function(e,t){t.promiseRejectionQueued=!0,t.bindingPromise._then(a,a,null,this,e)},s=function(e,t){0==(50397184&this._bitField)&&this._resolveCallback(t.target)},c=function(e,t){t.promiseRejectionQueued||this._reject(e)};e.prototype.bind=function(a){i||(i=!0,e.prototype._propagateFrom=r.propagateFromFunction(),e.prototype._boundValue=r.boundValueFunction());var u=n(a),l=new e(t);l._propagateFrom(this,1);var f=this._target();if(l._setBoundTo(u),u instanceof e){var d={promiseRejectionQueued:!1,promise:l,target:f,bindingPromise:u};f._then(t,o,void 0,l,d),u._then(s,c,void 0,l,d),l._setOnCancel(u)}else l._resolveCallback(f);return l},e.prototype._setBoundTo=function(e){void 0!==e?(this._bitField=2097152|this._bitField,this._boundTo=e):this._bitField=-2097153&this._bitField},e.prototype._isBound=function(){return 2097152==(2097152&this._bitField)},e.bind=function(t,n){return e.resolve(n).bind(t)}}},{}],4:[function(e,t,n){"use strict";var r;"undefined"!=typeof Promise&&(r=Promise);var i=e("./promise")();i.noConflict=function(){try{Promise===i&&(Promise=r)}catch(e){}return i},t.exports=i},{"./promise":22}],5:[function(e,t,n){"use strict";var r=Object.create;if(r){var i=r(null),a=r(null);i[" size"]=a[" size"]=0}t.exports=function(t){function n(e,n){var r;if(null!=e&&(r=e[n]),"function"!=typeof r){var i="Object "+o.classString(e)+" has no method '"+o.toString(n)+"'";throw new t.TypeError(i)}return r}function r(e){return n(e,this.pop()).apply(e,this)}function i(e){return e[this]}function a(e){var t=+this;return t<0&&(t=Math.max(0,t+e.length)),e[t]}var o=e("./util"),s=o.canEvaluate;o.isIdentifier,t.prototype.call=function(e){var t=[].slice.call(arguments,1);return t.push(e),this._then(r,void 0,void 0,t,void 0)},t.prototype.get=function(e){var t;if("number"==typeof e)t=a;else if(s){var n=(void 0)(e);t=null!==n?n:i}else t=i;return this._then(t,void 0,void 0,e,void 0)}}},{"./util":36}],6:[function(e,t,n){"use strict";t.exports=function(t,n,r,i){var a=e("./util"),o=a.tryCatch,s=a.errorObj,c=t._async;t.prototype.break=t.prototype.cancel=function(){if(!i.cancellation())return this._warn("cancellation is disabled");for(var e=this,t=e;e._isCancellable();){if(!e._cancelBy(t)){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}var n=e._cancellationParent;if(null==n||!n._isCancellable()){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}e._isFollowing()&&e._followee().cancel(),e._setWillBeCancelled(),t=e,e=n}},t.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},t.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},t.prototype._cancelBy=function(e){return e===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},t.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},t.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),c.invoke(this._cancelPromises,this,void 0))},t.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},t.prototype._unsetOnCancel=function(){this._onCancelField=void 0},t.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},t.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},t.prototype._doInvokeOnCancel=function(e,t){if(a.isArray(e))for(var n=0;n<e.length;++n)this._doInvokeOnCancel(e[n],t);else if(void 0!==e)if("function"==typeof e){if(!t){var r=o(e).call(this._boundValue());r===s&&(this._attachExtraTrace(r.e),c.throwLater(r.e))}}else e._resultCancelled(this)},t.prototype._invokeOnCancel=function(){var e=this._onCancel();this._unsetOnCancel(),c.invoke(this._doInvokeOnCancel,this,e)},t.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},t.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(e,t,n){"use strict";t.exports=function(t){var n=e("./util"),r=e("./es5").keys,i=n.tryCatch,a=n.errorObj;return function(e,o,s){return function(c){var u=s._boundValue();e:for(var l=0;l<e.length;++l){var f=e[l];if(f===Error||null!=f&&f.prototype instanceof Error){if(c instanceof f)return i(o).call(u,c)}else if("function"==typeof f){var d=i(f).call(u,c);if(d===a)return d;if(d)return i(o).call(u,c)}else if(n.isObject(c)){for(var h=r(f),p=0;p<h.length;++p){var v=h[p];if(f[v]!=c[v])continue e}return i(o).call(u,c)}}return t}}}},{"./es5":13,"./util":36}],8:[function(e,t,n){"use strict";t.exports=function(e){function t(){this._trace=new t.CapturedTrace(n())}function n(){var e=i.length-1;if(e>=0)return i[e]}var r=!1,i=[];return e.prototype._promiseCreated=function(){},e.prototype._pushContext=function(){},e.prototype._popContext=function(){return null},e._peekContext=e.prototype._peekContext=function(){},t.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,i.push(this._trace))},t.prototype._popContext=function(){if(void 0!==this._trace){var e=i.pop(),t=e._promiseCreated;return e._promiseCreated=null,t}return null},t.CapturedTrace=null,t.create=function(){if(r)return new t},t.deactivateLongStackTraces=function(){},t.activateLongStackTraces=function(){var i=e.prototype._pushContext,a=e.prototype._popContext,o=e._peekContext,s=e.prototype._peekContext,c=e.prototype._promiseCreated;t.deactivateLongStackTraces=function(){e.prototype._pushContext=i,e.prototype._popContext=a,e._peekContext=o,e.prototype._peekContext=s,e.prototype._promiseCreated=c,r=!1},r=!0,e.prototype._pushContext=t.prototype._pushContext,e.prototype._popContext=t.prototype._popContext,e._peekContext=e.prototype._peekContext=n,e.prototype._promiseCreated=function(){var e=this._peekContext();e&&null==e._promiseCreated&&(e._promiseCreated=this)}},t}},{}],9:[function(t,n,r){"use strict";n.exports=function(n,r){function i(e,t){return{promise:t}}function a(){return!1}function o(e,t,n){var r=this;try{e(t,n,function(e){if("function"!=typeof e)throw new TypeError("onCancel must be a function, got: "+x.toString(e));r._attachCancellationCallback(e)})}catch(e){return e}}function s(e){if(!this._isCancellable())return this;var t=this._onCancel();void 0!==t?x.isArray(t)?t.push(e):this._setOnCancel([t,e]):this._setOnCancel(e)}function c(){return this._onCancelField}function u(e){this._onCancelField=e}function l(){this._cancellationParent=void 0,this._onCancelField=void 0}function f(e,t){if(0!=(1&t)){this._cancellationParent=e;var n=e._branchesRemainingToCancel;void 0===n&&(n=0),e._branchesRemainingToCancel=n+1}0!=(2&t)&&e._isBound()&&this._setBoundTo(e._boundTo)}function d(){var e=this._boundTo;return void 0!==e&&e instanceof n?e.isFulfilled()?e.value():void 0:e}function h(){this._trace=new I(this._peekContext())}function p(e,t){if(D(e)){var n=this._trace;if(void 0!==n&&t&&(n=n._parent),void 0!==n)n.attachExtraTrace(e);else if(!e.__stackCleaned__){var r=k(e);x.notEnumerableProp(e,"stack",r.message+"\n"+r.stack.join("\n")),x.notEnumerableProp(e,"__stackCleaned__",!0)}}}function v(e,t,r){if(ne.warnings){var i,a=new A(e);if(t)r._attachExtraTrace(a);else if(ne.longStackTraces&&(i=n._peekContext()))i.attachExtraTrace(a);else{var o=k(a);a.stack=o.message+"\n"+o.stack.join("\n")}$("warning",a)||w(a,"",!0)}}function g(e,t){for(var n=0;n<t.length-1;++n)t[n].push("From previous event:"),t[n]=t[n].join("\n");return n<t.length&&(t[n]=t[n].join("\n")),e+"\n"+t.join("\n")}function y(e){for(var t=0;t<e.length;++t)(0===e[t].length||t+1<e.length&&e[t][0]===e[t+1][0])&&(e.splice(t,1),t--)}function m(e){for(var t=e[0],n=1;n<e.length;++n){for(var r=e[n],i=t.length-1,a=t[i],o=-1,s=r.length-1;s>=0;--s)if(r[s]===a){o=s;break}for(s=o;s>=0;--s){var c=r[s];if(t[i]!==c)break;t.pop(),i--}t=r}}function b(e){for(var t=[],n=0;n<e.length;++n){var r=e[n],i="    (No stack trace)"===r||H.test(r),a=i&&Z(r);i&&!a&&(V&&" "!==r.charAt(0)&&(r="    "+r),t.push(r))}return t}function S(e){for(var t=e.stack.replace(/\s+$/g,"").split("\n"),n=0;n<t.length;++n){var r=t[n];if("    (No stack trace)"===r||H.test(r))break}return n>0&&"SyntaxError"!=e.name&&(t=t.slice(n)),t}function k(e){var t=e.stack,n=e.toString();return t="string"==typeof t&&t.length>0?S(e):["    (No stack trace)"],{message:n,stack:"SyntaxError"==e.name?t:b(t)}}function w(e,t,n){if("undefined"!=typeof console){var r;if(x.isObject(e)){var i=e.stack;r=t+N(i,e)}else r=t+String(e);"function"==typeof M?M(r,n):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(r)}}function C(e,t,n,r){var i=!1;try{"function"==typeof t&&(i=!0,"rejectionHandled"===e?t(r):t(n,r))}catch(e){j.throwLater(e)}"unhandledRejection"===e?$(e,n,r)||i||w(n,"Unhandled rejection "):$(e,r)}function _(e){var t;if("function"==typeof e)t="[function "+(e.name||"anonymous")+"]";else{if(t=e&&"function"==typeof e.toString?e.toString():x.toString(e),/\[object [a-zA-Z0-9$_]+\]/.test(t))try{t=JSON.stringify(e)}catch(e){}0===t.length&&(t="(empty array)")}return"(<"+T(t)+">, no stack trace)"}function T(e){return e.length<41?e:e.substr(0,38)+"..."}function P(){return"function"==typeof te}function E(e){var t=e.match(ee);if(t)return{fileName:t[1],line:parseInt(t[2],10)}}function I(e){this._parent=e,this._promisesCreated=0;var t=this._length=1+(void 0===e?0:e._length);te(this,I),t>32&&this.uncycle()}var R,O,M,F=n._getDomain,j=n._async,A=t("./errors").Warning,x=t("./util"),D=x.canAttachTrace,U=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,L=/\((?:timers\.js):\d+:\d+\)/,B=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,H=null,N=null,V=!1,W=!(0==x.env("BLUEBIRD_DEBUG")),q=!(0==x.env("BLUEBIRD_WARNINGS")||!W&&!x.env("BLUEBIRD_WARNINGS")),G=!(0==x.env("BLUEBIRD_LONG_STACK_TRACES")||!W&&!x.env("BLUEBIRD_LONG_STACK_TRACES")),z=0!=x.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(q||!!x.env("BLUEBIRD_W_FORGOTTEN_RETURN"));n.prototype.suppressUnhandledRejections=function(){var e=this._target();e._bitField=-1048577&e._bitField|524288},n.prototype._ensurePossibleRejectionHandled=function(){if(0==(524288&this._bitField)){this._setRejectionIsUnhandled();var e=this;setTimeout(function(){e._notifyUnhandledRejection()},1)}},n.prototype._notifyUnhandledRejectionIsHandled=function(){C("rejectionHandled",R,void 0,this)},n.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},n.prototype._returnedNonUndefined=function(){return 0!=(268435456&this._bitField)},n.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var e=this._settledValue();this._setUnhandledRejectionIsNotified(),C("unhandledRejection",O,e,this)}},n.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},n.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},n.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},n.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},n.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},n.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},n.prototype._warn=function(e,t,n){return v(e,t,n||this)},n.onPossiblyUnhandledRejection=function(e){var t=F();O="function"==typeof e?null===t?e:x.domainBind(t,e):void 0},n.onUnhandledRejectionHandled=function(e){var t=F();R="function"==typeof e?null===t?e:x.domainBind(t,e):void 0};var Q=function(){};n.longStackTraces=function(){if(j.haveItemsQueued()&&!ne.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!ne.longStackTraces&&P()){var e=n.prototype._captureStackTrace,t=n.prototype._attachExtraTrace;ne.longStackTraces=!0,Q=function(){if(j.haveItemsQueued()&&!ne.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");n.prototype._captureStackTrace=e,n.prototype._attachExtraTrace=t,r.deactivateLongStackTraces(),j.enableTrampoline(),ne.longStackTraces=!1},n.prototype._captureStackTrace=h,n.prototype._attachExtraTrace=p,r.activateLongStackTraces(),j.disableTrampolineIfNecessary()}},n.hasLongStackTraces=function(){return ne.longStackTraces&&P()};var J=(function(){try{if("function"==typeof CustomEvent){var e=new CustomEvent("CustomEvent");return x.global.dispatchEvent(e),function(e,t){var n=new CustomEvent(e.toLowerCase(),{detail:t,cancelable:!0});return!x.global.dispatchEvent(n)}}if("function"==typeof Event){e=new Event("CustomEvent");return x.global.dispatchEvent(e),function(e,t){var n=new Event(e.toLowerCase(),{cancelable:!0});return n.detail=t,!x.global.dispatchEvent(n)}}return(e=document.createEvent("CustomEvent")).initCustomEvent("testingtheevent",!1,!0,{}),x.global.dispatchEvent(e),function(e,t){var n=document.createEvent("CustomEvent");return n.initCustomEvent(e.toLowerCase(),!1,!0,t),!x.global.dispatchEvent(n)}}catch(e){}return function(){return!1}})(),K=x.isNode?function(){return e.emit.apply(e,arguments)}:x.global?function(e){var t="on"+e.toLowerCase(),n=x.global[t];return!!n&&(n.apply(x.global,[].slice.call(arguments,1)),!0)}:function(){return!1},X={promiseCreated:i,promiseFulfilled:i,promiseRejected:i,promiseResolved:i,promiseCancelled:i,promiseChained:function(e,t,n){return{promise:t,child:n}},warning:function(e,t){return{warning:t}},unhandledRejection:function(e,t,n){return{reason:t,promise:n}},rejectionHandled:i},$=function(e){var t=!1;try{t=K.apply(null,arguments)}catch(e){j.throwLater(e),t=!0}var n=!1;try{n=J(e,X[e].apply(null,arguments))}catch(e){j.throwLater(e),n=!0}return n||t};n.config=function(e){if("longStackTraces"in(e=Object(e))&&(e.longStackTraces?n.longStackTraces():!e.longStackTraces&&n.hasLongStackTraces()&&Q()),"warnings"in e){var t=e.warnings;ne.warnings=!!t,z=ne.warnings,x.isObject(t)&&"wForgottenReturn"in t&&(z=!!t.wForgottenReturn)}if("cancellation"in e&&e.cancellation&&!ne.cancellation){if(j.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");n.prototype._clearCancellationData=l,n.prototype._propagateFrom=f,n.prototype._onCancel=c,n.prototype._setOnCancel=u,n.prototype._attachCancellationCallback=s,n.prototype._execute=o,Y=f,ne.cancellation=!0}return"monitoring"in e&&(e.monitoring&&!ne.monitoring?(ne.monitoring=!0,n.prototype._fireEvent=$):!e.monitoring&&ne.monitoring&&(ne.monitoring=!1,n.prototype._fireEvent=a)),n},n.prototype._fireEvent=a,n.prototype._execute=function(e,t,n){try{e(t,n)}catch(e){return e}},n.prototype._onCancel=function(){},n.prototype._setOnCancel=function(e){},n.prototype._attachCancellationCallback=function(e){},n.prototype._captureStackTrace=function(){},n.prototype._attachExtraTrace=function(){},n.prototype._clearCancellationData=function(){},n.prototype._propagateFrom=function(e,t){};var Y=function(e,t){0!=(2&t)&&e._isBound()&&this._setBoundTo(e._boundTo)},Z=function(){return!1},ee=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;x.inherits(I,Error),r.CapturedTrace=I,I.prototype.uncycle=function(){var e=this._length;if(!(e<2)){for(var t=[],n={},r=0,i=this;void 0!==i;++r)t.push(i),i=i._parent;for(r=(e=this._length=r)-1;r>=0;--r){var a=t[r].stack;void 0===n[a]&&(n[a]=r)}for(r=0;r<e;++r){var o=n[t[r].stack];if(void 0!==o&&o!==r){o>0&&(t[o-1]._parent=void 0,t[o-1]._length=1),t[r]._parent=void 0,t[r]._length=1;var s=r>0?t[r-1]:this;o<e-1?(s._parent=t[o+1],s._parent.uncycle(),s._length=s._parent._length+1):(s._parent=void 0,s._length=1);for(var c=s._length+1,u=r-2;u>=0;--u)t[u]._length=c,c++;return}}}},I.prototype.attachExtraTrace=function(e){if(!e.__stackCleaned__){this.uncycle();for(var t=k(e),n=t.message,r=[t.stack],i=this;void 0!==i;)r.push(b(i.stack.split("\n"))),i=i._parent;m(r),y(r),x.notEnumerableProp(e,"stack",g(n,r)),x.notEnumerableProp(e,"__stackCleaned__",!0)}};var te=(function(){var e=/^\s*at\s*/,t=function(e,t){return"string"==typeof e?e:void 0!==t.name&&void 0!==t.message?t.toString():_(t)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,H=e,N=t;var n=Error.captureStackTrace;return Z=function(e){return U.test(e)},function(e,t){Error.stackTraceLimit+=6,n(e,t),Error.stackTraceLimit-=6}}var r,i=new Error;if("string"==typeof i.stack&&i.stack.split("\n")[0].indexOf("stackDetection@")>=0)return H=/@/,N=t,V=!0,function(e){e.stack=(new Error).stack};try{throw new Error}catch(e){r="stack"in e}return"stack"in i||!r||"number"!=typeof Error.stackTraceLimit?(N=function(e,t){return"string"==typeof e?e:"object"!=typeof t&&"function"!=typeof t||void 0===t.name||void 0===t.message?_(t):t.toString()},null):(H=e,N=t,function(e){Error.stackTraceLimit+=6;try{throw new Error}catch(t){e.stack=t.stack}Error.stackTraceLimit-=6})})();"undefined"!=typeof console&&void 0!==console.warn&&(M=function(e){console.warn(e)},x.isNode&&e.stderr.isTTY?M=function(e,t){var n=t?"\x1b[33m":"\x1b[31m";console.warn(n+e+"\x1b[0m\n")}:x.isNode||"string"!=typeof(new Error).stack||(M=function(e,t){console.warn("%c"+e,t?"color: darkorange":"color: red")}));var ne={warnings:q,longStackTraces:!1,cancellation:!1,monitoring:!1};return G&&n.longStackTraces(),{longStackTraces:function(){return ne.longStackTraces},warnings:function(){return ne.warnings},cancellation:function(){return ne.cancellation},monitoring:function(){return ne.monitoring},propagateFromFunction:function(){return Y},boundValueFunction:function(){return d},checkForgottenReturns:function(e,t,n,r,i){if(void 0===e&&null!==t&&z){if(void 0!==i&&i._returnedNonUndefined())return;if(0==(65535&r._bitField))return;n&&(n+=" ");var a="",o="";if(t._trace){for(var s=t._trace.stack.split("\n"),c=b(s),u=c.length-1;u>=0;--u){var l=c[u];if(!L.test(l)){var f=l.match(B);f&&(a="at "+f[1]+":"+f[2]+":"+f[3]+" ");break}}if(c.length>0){var d=c[0];for(u=0;u<s.length;++u)if(s[u]===d){u>0&&(o="\n"+s[u-1]);break}}}var h="a promise was created in a "+n+"handler "+a+"but was not returned from it, see http://goo.gl/rRqMUw"+o;r._warn(h,!0,t)}},setBounds:function(e,t){if(P()){for(var n,r,i=e.stack.split("\n"),a=t.stack.split("\n"),o=-1,s=-1,c=0;c<i.length;++c)if(u=E(i[c])){n=u.fileName,o=u.line;break}for(c=0;c<a.length;++c){var u;if(u=E(a[c])){r=u.fileName,s=u.line;break}}o<0||s<0||!n||!r||n!==r||o>=s||(Z=function(e){if(U.test(e))return!0;var t=E(e);return!!(t&&t.fileName===n&&o<=t.line&&t.line<=s)})}},warn:v,deprecated:function(e,t){var n=e+" is deprecated and will be removed in a future version.";return t&&(n+=" Use "+t+" instead."),v(n)},CapturedTrace:I,fireDomEvent:J,fireGlobalEvent:K}}},{"./errors":12,"./util":36}],10:[function(e,t,n){"use strict";t.exports=function(e){function t(){return this.value}function n(){throw this.reason}e.prototype.return=e.prototype.thenReturn=function(n){return n instanceof e&&n.suppressUnhandledRejections(),this._then(t,void 0,void 0,{value:n},void 0)},e.prototype.throw=e.prototype.thenThrow=function(e){return this._then(n,void 0,void 0,{reason:e},void 0)},e.prototype.catchThrow=function(e){if(arguments.length<=1)return this._then(void 0,n,void 0,{reason:e},void 0);var t=arguments[1];return this.caught(e,function(){throw t})},e.prototype.catchReturn=function(n){if(arguments.length<=1)return n instanceof e&&n.suppressUnhandledRejections(),this._then(void 0,t,void 0,{value:n},void 0);var r=arguments[1];r instanceof e&&r.suppressUnhandledRejections();return this.caught(n,function(){return r})}}},{}],11:[function(e,t,n){"use strict";t.exports=function(e,t){function n(){return i(this)}var r=e.reduce,i=e.all;e.prototype.each=function(e){return r(this,e,t,0)._then(n,void 0,void 0,this,void 0)},e.prototype.mapSeries=function(e){return r(this,e,t,t)},e.each=function(e,i){return r(e,i,t,0)._then(n,void 0,void 0,e,void 0)},e.mapSeries=function(e,n){return r(e,n,t,t)}}},{}],12:[function(e,t,n){"use strict";function r(e,t){function n(r){if(!(this instanceof n))return new n(r);f(this,"message","string"==typeof r?r:t),f(this,"name",e),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return l(n,Error),n}function i(e){if(!(this instanceof i))return new i(e);f(this,"name","OperationalError"),f(this,"message",e),this.cause=e,this.isOperational=!0,e instanceof Error?(f(this,"message",e.message),f(this,"stack",e.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}var a,o,s=e("./es5"),c=s.freeze,u=e("./util"),l=u.inherits,f=u.notEnumerableProp,d=r("Warning","warning"),h=r("CancellationError","cancellation error"),p=r("TimeoutError","timeout error"),v=r("AggregateError","aggregate error");try{a=TypeError,o=RangeError}catch(e){a=r("TypeError","type error"),o=r("RangeError","range error")}for(var g="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),y=0;y<g.length;++y)"function"==typeof Array.prototype[g[y]]&&(v.prototype[g[y]]=Array.prototype[g[y]]);s.defineProperty(v.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),v.prototype.isOperational=!0;var m=0;v.prototype.toString=function(){var e=Array(4*m+1).join(" "),t="\n"+e+"AggregateError of:\n";m++,e=Array(4*m+1).join(" ");for(var n=0;n<this.length;++n){for(var r=this[n]===this?"[Circular AggregateError]":this[n]+"",i=r.split("\n"),a=0;a<i.length;++a)i[a]=e+i[a];t+=(r=i.join("\n"))+"\n"}return m--,t},l(i,Error);var b=Error.__BluebirdErrorTypes__;b||(b=c({CancellationError:h,TimeoutError:p,OperationalError:i,RejectionError:i,AggregateError:v}),s.defineProperty(Error,"__BluebirdErrorTypes__",{value:b,writable:!1,enumerable:!1,configurable:!1})),t.exports={Error:Error,TypeError:a,RangeError:o,CancellationError:b.CancellationError,OperationalError:b.OperationalError,TimeoutError:b.TimeoutError,AggregateError:b.AggregateError,Warning:d}},{"./es5":13,"./util":36}],13:[function(e,t,n){var r=(function(){"use strict";return void 0===this})();if(r)t.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:r,propertyIsWritable:function(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return!(n&&!n.writable&&!n.set)}};else{var i={}.hasOwnProperty,a={}.toString,o={}.constructor.prototype,s=function(e){var t=[];for(var n in e)i.call(e,n)&&t.push(n);return t};t.exports={isArray:function(e){try{return"[object Array]"===a.call(e)}catch(e){return!1}},keys:s,names:s,defineProperty:function(e,t,n){return e[t]=n.value,e},getDescriptor:function(e,t){return{value:e[t]}},freeze:function(e){return e},getPrototypeOf:function(e){try{return Object(e).constructor.prototype}catch(e){return o}},isES5:r,propertyIsWritable:function(){return!0}}}},{}],14:[function(e,t,n){"use strict";t.exports=function(e,t){var n=e.map;e.prototype.filter=function(e,r){return n(this,e,r,t)},e.filter=function(e,r,i){return n(e,r,i,t)}}},{}],15:[function(e,t,n){"use strict";t.exports=function(t,n,r){function i(e,t,n){this.promise=e,this.type=t,this.handler=n,this.called=!1,this.cancelPromise=null}function a(e){this.finallyHandler=e}function o(e,t){return null!=e.cancelPromise&&(arguments.length>1?e.cancelPromise._reject(t):e.cancelPromise._cancel(),e.cancelPromise=null,!0)}function s(){return u.call(this,this.promise._target()._settledValue())}function c(e){if(!o(this,e))return d.e=e,d}function u(e){var i=this.promise,u=this.handler;if(!this.called){this.called=!0;var l=this.isFinallyHandler()?u.call(i._boundValue()):u.call(i._boundValue(),e);if(l===r)return l;if(void 0!==l){i._setReturnedNonUndefined();var h=n(l,i);if(h instanceof t){if(null!=this.cancelPromise){if(h._isCancelled()){var p=new f("late cancellation observer");return i._attachExtraTrace(p),d.e=p,d}h.isPending()&&h._attachCancellationCallback(new a(this))}return h._then(s,c,void 0,this,void 0)}}}return i.isRejected()?(o(this),d.e=e,d):(o(this),e)}var l=e("./util"),f=t.CancellationError,d=l.errorObj,h=e("./catch_filter")(r);return i.prototype.isFinallyHandler=function(){return 0===this.type},a.prototype._resultCancelled=function(){o(this.finallyHandler)},t.prototype._passThrough=function(e,t,n,r){return"function"!=typeof e?this.then():this._then(n,r,void 0,new i(this,t,e),void 0)},t.prototype.lastly=t.prototype.finally=function(e){return this._passThrough(e,0,u,u)},t.prototype.tap=function(e){return this._passThrough(e,1,u)},t.prototype.tapCatch=function(e){var n=arguments.length;if(1===n)return this._passThrough(e,1,void 0,u);var r,i=new Array(n-1),a=0;for(r=0;r<n-1;++r){var o=arguments[r];if(!l.isObject(o))return t.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+l.classString(o)));i[a++]=o}i.length=a;var s=arguments[r];return this._passThrough(h(i,s,this),1,void 0,u)},i}},{"./catch_filter":7,"./util":36}],16:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,a,o){function s(e,n,r){for(var a=0;a<n.length;++a){r._pushContext();var o=d(n[a])(e);if(r._popContext(),o===f){r._pushContext();var s=t.reject(f.e);return r._popContext(),s}var c=i(o,r);if(c instanceof t)return c}return null}function c(e,n,i,a){if(o.cancellation()){var s=new t(r),c=this._finallyPromise=new t(r);this._promise=s.lastly(function(){return c}),s._captureStackTrace(),s._setOnCancel(this)}else(this._promise=new t(r))._captureStackTrace();this._stack=a,this._generatorFunction=e,this._receiver=n,this._generator=void 0,this._yieldHandlers="function"==typeof i?[i].concat(h):h,this._yieldedPromise=null,this._cancellationPhase=!1}var u=e("./errors").TypeError,l=e("./util"),f=l.errorObj,d=l.tryCatch,h=[];l.inherits(c,a),c.prototype._isResolved=function(){return null===this._promise},c.prototype._cleanup=function(){this._promise=this._generator=null,o.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},c.prototype._promiseCancelled=function(){if(!this._isResolved()){var e;if(void 0!==this._generator.return)this._promise._pushContext(),e=d(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var n=new t.CancellationError("generator .return() sentinel");t.coroutine.returnSentinel=n,this._promise._attachExtraTrace(n),this._promise._pushContext(),e=d(this._generator.throw).call(this._generator,n),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(e)}},c.prototype._promiseFulfilled=function(e){this._yieldedPromise=null,this._promise._pushContext();var t=d(this._generator.next).call(this._generator,e);this._promise._popContext(),this._continue(t)},c.prototype._promiseRejected=function(e){this._yieldedPromise=null,this._promise._attachExtraTrace(e),this._promise._pushContext();var t=d(this._generator.throw).call(this._generator,e);this._promise._popContext(),this._continue(t)},c.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof t){var e=this._yieldedPromise;this._yieldedPromise=null,e.cancel()}},c.prototype.promise=function(){return this._promise},c.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},c.prototype._continue=function(e){var n=this._promise;if(e===f)return this._cleanup(),this._cancellationPhase?n.cancel():n._rejectCallback(e.e,!1);var r=e.value;if(!0===e.done)return this._cleanup(),this._cancellationPhase?n.cancel():n._resolveCallback(r);var a=i(r,this._promise);if(a instanceof t||null!==(a=s(a,this._yieldHandlers,this._promise))){var o=(a=a._target())._bitField;0==(50397184&o)?(this._yieldedPromise=a,a._proxy(this,null)):0!=(33554432&o)?t._async.invoke(this._promiseFulfilled,this,a._value()):0!=(16777216&o)?t._async.invoke(this._promiseRejected,this,a._reason()):this._promiseCancelled()}else this._promiseRejected(new u("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(r))+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")))},t.coroutine=function(e,t){if("function"!=typeof e)throw new u("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var n=Object(t).yieldHandler,r=c,i=(new Error).stack;return function(){var t=e.apply(this,arguments),a=new r(void 0,void 0,n,i),o=a.promise();return a._generator=t,a._promiseFulfilled(void 0),o}},t.coroutine.addYieldHandler=function(e){if("function"!=typeof e)throw new u("expecting a function but got "+l.classString(e));h.push(e)},t.spawn=function(e){if(o.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof e)return n("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var r=new c(e,this),i=r.promise();return r._run(t.spawn),i}}},{"./errors":12,"./util":36}],17:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,a,o){var s=e("./util");s.canEvaluate,s.tryCatch,s.errorObj,t.join=function(){var e,t=arguments.length-1;t>0&&"function"==typeof arguments[t]&&(e=arguments[t]);var r=[].slice.call(arguments);e&&r.pop();var i=new n(r).promise();return void 0!==e?i.spread(e):i}}},{"./util":36}],18:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,a,o){function s(e,t,n,r){this.constructor$(e),this._promise._captureStackTrace();var i=u();this._callback=null===i?t:l.domainBind(i,t),this._preservedValues=r===a?new Array(this.length()):null,this._limit=n,this._inFlight=0,this._queue=[],h.invoke(this._asyncInit,this,void 0)}function c(e,n,i,a){if("function"!=typeof n)return r("expecting a function but got "+l.classString(n));var o=0;if(void 0!==i){if("object"!=typeof i||null===i)return t.reject(new TypeError("options argument must be an object but it is "+l.classString(i)));if("number"!=typeof i.concurrency)return t.reject(new TypeError("'concurrency' must be a number but it is "+l.classString(i.concurrency)));o=i.concurrency}return new s(e,n,o="number"==typeof o&&isFinite(o)&&o>=1?o:0,a).promise()}var u=t._getDomain,l=e("./util"),f=l.tryCatch,d=l.errorObj,h=t._async;l.inherits(s,n),s.prototype._asyncInit=function(){this._init$(void 0,-2)},s.prototype._init=function(){},s.prototype._promiseFulfilled=function(e,n){var r=this._values,a=this.length(),s=this._preservedValues,c=this._limit;if(n<0){if(r[n=-1*n-1]=e,c>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(c>=1&&this._inFlight>=c)return r[n]=e,this._queue.push(n),!1;null!==s&&(s[n]=e);var u=this._promise,l=this._callback,h=u._boundValue();u._pushContext();var p=f(l).call(h,e,n,a),v=u._popContext();if(o.checkForgottenReturns(p,v,null!==s?"Promise.filter":"Promise.map",u),p===d)return this._reject(p.e),!0;var g=i(p,this._promise);if(g instanceof t){var y=(g=g._target())._bitField;if(0==(50397184&y))return c>=1&&this._inFlight++,r[n]=g,g._proxy(this,-1*(n+1)),!1;if(0==(33554432&y))return 0!=(16777216&y)?(this._reject(g._reason()),!0):(this._cancel(),!0);p=g._value()}r[n]=p}return++this._totalResolved>=a&&(null!==s?this._filter(r,s):this._resolve(r),!0)},s.prototype._drainQueue=function(){for(var e=this._queue,t=this._limit,n=this._values;e.length>0&&this._inFlight<t;){if(this._isResolved())return;var r=e.pop();this._promiseFulfilled(n[r],r)}},s.prototype._filter=function(e,t){for(var n=t.length,r=new Array(n),i=0,a=0;a<n;++a)e[a]&&(r[i++]=t[a]);r.length=i,this._resolve(r)},s.prototype.preservedValues=function(){return this._preservedValues},t.prototype.map=function(e,t){return c(this,e,t,null)},t.map=function(e,t,n,r){return c(e,t,n,r)}}},{"./util":36}],19:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,a){var o=e("./util"),s=o.tryCatch;t.method=function(e){if("function"!=typeof e)throw new t.TypeError("expecting a function but got "+o.classString(e));return function(){var r=new t(n);r._captureStackTrace(),r._pushContext();var i=s(e).apply(this,arguments),o=r._popContext();return a.checkForgottenReturns(i,o,"Promise.method",r),r._resolveFromSyncValue(i),r}},t.attempt=t.try=function(e){if("function"!=typeof e)return i("expecting a function but got "+o.classString(e));var r,c=new t(n);if(c._captureStackTrace(),c._pushContext(),arguments.length>1){a.deprecated("calling Promise.try with more than 1 argument");var u=arguments[1],l=arguments[2];r=o.isArray(u)?s(e).apply(l,u):s(e).call(l,u)}else r=s(e)();var f=c._popContext();return a.checkForgottenReturns(r,f,"Promise.try",c),c._resolveFromSyncValue(r),c},t.prototype._resolveFromSyncValue=function(e){e===o.errorObj?this._rejectCallback(e.e,!1):this._resolveCallback(e,!0)}}},{"./util":36}],20:[function(e,t,n){"use strict";function r(e){return e instanceof Error&&c.getPrototypeOf(e)===Error.prototype}function i(e){var t;if(r(e)){(t=new s(e)).name=e.name,t.message=e.message,t.stack=e.stack;for(var n=c.keys(e),i=0;i<n.length;++i){var o=n[i];u.test(o)||(t[o]=e[o])}return t}return a.markAsOriginatingFromRejection(e),e}var a=e("./util"),o=a.maybeWrapAsError,s=e("./errors").OperationalError,c=e("./es5"),u=/^(?:name|message|stack|cause)$/;t.exports=function(e,t){return function(n,r){if(null!==e){if(n){var a=i(o(n));e._attachExtraTrace(a),e._reject(a)}else if(t){var s=[].slice.call(arguments,1);e._fulfill(s)}else e._fulfill(r);e=null}}}},{"./errors":12,"./es5":13,"./util":36}],21:[function(e,t,n){"use strict";t.exports=function(t){function n(e,t){if(!a.isArray(e))return r.call(this,e,t);var n=s(t).apply(this._boundValue(),[null].concat(e));n===c&&o.throwLater(n.e)}function r(e,t){var n=this._boundValue(),r=void 0===e?s(t).call(n,null):s(t).call(n,null,e);r===c&&o.throwLater(r.e)}function i(e,t){if(!e){var n=new Error(e+"");n.cause=e,e=n}var r=s(t).call(this._boundValue(),e);r===c&&o.throwLater(r.e)}var a=e("./util"),o=t._async,s=a.tryCatch,c=a.errorObj;t.prototype.asCallback=t.prototype.nodeify=function(e,t){if("function"==typeof e){var a=r;void 0!==t&&Object(t).spread&&(a=n),this._then(a,i,void 0,this,e)}return this}}},{"./util":36}],22:[function(t,n,r){"use strict";n.exports=function(){function r(){}function i(e,t){if(null==e||e.constructor!==a)throw new b("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof t)throw new b("expecting a function but got "+p.classString(t))}function a(e){e!==k&&i(this,e),this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(e),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function o(e){this.promise._resolveCallback(e)}function s(e){this.promise._rejectCallback(e,!1)}function c(e){var t=new a(k);t._fulfillmentHandler0=e,t._rejectionHandler0=e,t._promise0=e,t._receiver0=e}var u,l=function(){return new b("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},f=function(){return new a.PromiseInspection(this._target())},d=function(e){return a.reject(new b(e))},h={},p=t("./util");u=p.isNode?function(){var t=e.domain;return void 0===t&&(t=null),t}:function(){return null},p.notEnumerableProp(a,"_getDomain",u);var v=t("./es5"),g=t("./async"),y=new g;v.defineProperty(a,"_async",{value:y});var m=t("./errors"),b=a.TypeError=m.TypeError;a.RangeError=m.RangeError;var S=a.CancellationError=m.CancellationError;a.TimeoutError=m.TimeoutError,a.OperationalError=m.OperationalError,a.RejectionError=m.OperationalError,a.AggregateError=m.AggregateError;var k=function(){},w={},C={},_=t("./thenables")(a,k),T=t("./promise_array")(a,k,_,d,r),P=t("./context")(a),E=P.create,I=t("./debuggability")(a,P),R=(I.CapturedTrace,t("./finally")(a,_,C)),O=t("./catch_filter")(C),M=t("./nodeback"),F=p.errorObj,j=p.tryCatch;return a.prototype.toString=function(){return"[object Promise]"},a.prototype.caught=a.prototype.catch=function(e){var t=arguments.length;if(t>1){var n,r=new Array(t-1),i=0;for(n=0;n<t-1;++n){var a=arguments[n];if(!p.isObject(a))return d("Catch statement predicate: expecting an object but got "+p.classString(a));r[i++]=a}return r.length=i,e=arguments[n],this.then(void 0,O(r,e,this))}return this.then(void 0,e)},a.prototype.reflect=function(){return this._then(f,f,void 0,this,void 0)},a.prototype.then=function(e,t){if(I.warnings()&&arguments.length>0&&"function"!=typeof e&&"function"!=typeof t){var n=".then() only accepts functions but was passed: "+p.classString(e);arguments.length>1&&(n+=", "+p.classString(t)),this._warn(n)}return this._then(e,t,void 0,void 0,void 0)},a.prototype.done=function(e,t){this._then(e,t,void 0,void 0,void 0)._setIsFinal()},a.prototype.spread=function(e){return"function"!=typeof e?d("expecting a function but got "+p.classString(e)):this.all()._then(e,void 0,void 0,w,void 0)},a.prototype.toJSON=function(){var e={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(e.fulfillmentValue=this.value(),e.isFulfilled=!0):this.isRejected()&&(e.rejectionReason=this.reason(),e.isRejected=!0),e},a.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new T(this).promise()},a.prototype.error=function(e){return this.caught(p.originatesFromRejection,e)},a.getNewLibraryCopy=n.exports,a.is=function(e){return e instanceof a},a.fromNode=a.fromCallback=function(e){var t=new a(k);t._captureStackTrace();var n=arguments.length>1&&!!Object(arguments[1]).multiArgs,r=j(e)(M(t,n));return r===F&&t._rejectCallback(r.e,!0),t._isFateSealed()||t._setAsyncGuaranteed(),t},a.all=function(e){return new T(e).promise()},a.cast=function(e){var t=_(e);return t instanceof a||((t=new a(k))._captureStackTrace(),t._setFulfilled(),t._rejectionHandler0=e),t},a.resolve=a.fulfilled=a.cast,a.reject=a.rejected=function(e){var t=new a(k);return t._captureStackTrace(),t._rejectCallback(e,!0),t},a.setScheduler=function(e){if("function"!=typeof e)throw new b("expecting a function but got "+p.classString(e));return y.setScheduler(e)},a.prototype._then=function(e,t,n,r,i){var o=void 0!==i,s=o?i:new a(k),c=this._target(),l=c._bitField;o||(s._propagateFrom(this,3),s._captureStackTrace(),void 0===r&&0!=(2097152&this._bitField)&&(r=0!=(50397184&l)?this._boundValue():c===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,s));var f=u();if(0!=(50397184&l)){var d,h,v=c._settlePromiseCtx;0!=(33554432&l)?(h=c._rejectionHandler0,d=e):0!=(16777216&l)?(h=c._fulfillmentHandler0,d=t,c._unsetRejectionIsUnhandled()):(v=c._settlePromiseLateCancellationObserver,h=new S("late cancellation observer"),c._attachExtraTrace(h),d=t),y.invoke(v,c,{handler:null===f?d:"function"==typeof d&&p.domainBind(f,d),promise:s,receiver:r,value:h})}else c._addCallbacks(e,t,s,r,f);return s},a.prototype._length=function(){return 65535&this._bitField},a.prototype._isFateSealed=function(){return 0!=(117506048&this._bitField)},a.prototype._isFollowing=function(){return 67108864==(67108864&this._bitField)},a.prototype._setLength=function(e){this._bitField=-65536&this._bitField|65535&e},a.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},a.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},a.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},a.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},a.prototype._isFinal=function(){return(4194304&this._bitField)>0},a.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},a.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},a.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},a.prototype._setAsyncGuaranteed=function(){y.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},a.prototype._receiverAt=function(e){var t=0===e?this._receiver0:this[4*e-4+3];if(t!==h)return void 0===t&&this._isBound()?this._boundValue():t},a.prototype._promiseAt=function(e){return this[4*e-4+2]},a.prototype._fulfillmentHandlerAt=function(e){return this[4*e-4+0]},a.prototype._rejectionHandlerAt=function(e){return this[4*e-4+1]},a.prototype._boundValue=function(){},a.prototype._migrateCallback0=function(e){var t=(e._bitField,e._fulfillmentHandler0),n=e._rejectionHandler0,r=e._promise0,i=e._receiverAt(0);void 0===i&&(i=h),this._addCallbacks(t,n,r,i,null)},a.prototype._migrateCallbackAt=function(e,t){var n=e._fulfillmentHandlerAt(t),r=e._rejectionHandlerAt(t),i=e._promiseAt(t),a=e._receiverAt(t);void 0===a&&(a=h),this._addCallbacks(n,r,i,a,null)},a.prototype._addCallbacks=function(e,t,n,r,i){var a=this._length();if(a>=65531&&(a=0,this._setLength(0)),0===a)this._promise0=n,this._receiver0=r,"function"==typeof e&&(this._fulfillmentHandler0=null===i?e:p.domainBind(i,e)),"function"==typeof t&&(this._rejectionHandler0=null===i?t:p.domainBind(i,t));else{var o=4*a-4;this[o+2]=n,this[o+3]=r,"function"==typeof e&&(this[o+0]=null===i?e:p.domainBind(i,e)),"function"==typeof t&&(this[o+1]=null===i?t:p.domainBind(i,t))}return this._setLength(a+1),a},a.prototype._proxy=function(e,t){this._addCallbacks(void 0,void 0,t,e,null)},a.prototype._resolveCallback=function(e,t){if(0==(117506048&this._bitField)){if(e===this)return this._rejectCallback(l(),!1);var n=_(e,this);if(!(n instanceof a))return this._fulfill(e);t&&this._propagateFrom(n,2);var r=n._target();if(r===this)return void this._reject(l());var i=r._bitField;if(0==(50397184&i)){var o=this._length();o>0&&r._migrateCallback0(this);for(var s=1;s<o;++s)r._migrateCallbackAt(this,s);this._setFollowing(),this._setLength(0),this._setFollowee(r)}else if(0!=(33554432&i))this._fulfill(r._value());else if(0!=(16777216&i))this._reject(r._reason());else{var c=new S("late cancellation observer");r._attachExtraTrace(c),this._reject(c)}}},a.prototype._rejectCallback=function(e,t,n){var r=p.ensureErrorObject(e),i=r===e;if(!i&&!n&&I.warnings()){var a="a promise was rejected with a non-error: "+p.classString(e);this._warn(a,!0)}this._attachExtraTrace(r,!!t&&i),this._reject(e)},a.prototype._resolveFromExecutor=function(e){if(e!==k){var t=this;this._captureStackTrace(),this._pushContext();var n=!0,r=this._execute(e,function(e){t._resolveCallback(e)},function(e){t._rejectCallback(e,n)});n=!1,this._popContext(),void 0!==r&&t._rejectCallback(r,!0)}},a.prototype._settlePromiseFromHandler=function(e,t,n,r){var i=r._bitField;if(0==(65536&i)){var a;r._pushContext(),t===w?n&&"number"==typeof n.length?a=j(e).apply(this._boundValue(),n):(a=F).e=new b("cannot .spread() a non-array: "+p.classString(n)):a=j(e).call(t,n);var o=r._popContext();0==(65536&(i=r._bitField))&&(a===C?r._reject(n):a===F?r._rejectCallback(a.e,!1):(I.checkForgottenReturns(a,o,"",r,this),r._resolveCallback(a)))}},a.prototype._target=function(){for(var e=this;e._isFollowing();)e=e._followee();return e},a.prototype._followee=function(){return this._rejectionHandler0},a.prototype._setFollowee=function(e){this._rejectionHandler0=e},a.prototype._settlePromise=function(e,t,n,i){var o=e instanceof a,s=this._bitField,c=0!=(134217728&s);0!=(65536&s)?(o&&e._invokeInternalOnCancel(),n instanceof R&&n.isFinallyHandler()?(n.cancelPromise=e,j(t).call(n,i)===F&&e._reject(F.e)):t===f?e._fulfill(f.call(n)):n instanceof r?n._promiseCancelled(e):o||e instanceof T?e._cancel():n.cancel()):"function"==typeof t?o?(c&&e._setAsyncGuaranteed(),this._settlePromiseFromHandler(t,n,i,e)):t.call(n,i,e):n instanceof r?n._isResolved()||(0!=(33554432&s)?n._promiseFulfilled(i,e):n._promiseRejected(i,e)):o&&(c&&e._setAsyncGuaranteed(),0!=(33554432&s)?e._fulfill(i):e._reject(i))},a.prototype._settlePromiseLateCancellationObserver=function(e){var t=e.handler,n=e.promise,r=e.receiver,i=e.value;"function"==typeof t?n instanceof a?this._settlePromiseFromHandler(t,r,i,n):t.call(r,i,n):n instanceof a&&n._reject(i)},a.prototype._settlePromiseCtx=function(e){this._settlePromise(e.promise,e.handler,e.receiver,e.value)},a.prototype._settlePromise0=function(e,t,n){var r=this._promise0,i=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(r,e,i,t)},a.prototype._clearCallbackDataAtIndex=function(e){var t=4*e-4;this[t+2]=this[t+3]=this[t+0]=this[t+1]=void 0},a.prototype._fulfill=function(e){var t=this._bitField;if(!((117506048&t)>>>16)){if(e===this){var n=l();return this._attachExtraTrace(n),this._reject(n)}this._setFulfilled(),this._rejectionHandler0=e,(65535&t)>0&&(0!=(134217728&t)?this._settlePromises():y.settlePromises(this))}},a.prototype._reject=function(e){var t=this._bitField;if(!((117506048&t)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=e,this._isFinal())return y.fatalError(e,p.isNode);(65535&t)>0?y.settlePromises(this):this._ensurePossibleRejectionHandled()}},a.prototype._fulfillPromises=function(e,t){for(var n=1;n<e;n++){var r=this._fulfillmentHandlerAt(n),i=this._promiseAt(n),a=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,a,t)}},a.prototype._rejectPromises=function(e,t){for(var n=1;n<e;n++){var r=this._rejectionHandlerAt(n),i=this._promiseAt(n),a=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,a,t)}},a.prototype._settlePromises=function(){var e=this._bitField,t=65535&e;if(t>0){if(0!=(16842752&e)){var n=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,n,e),this._rejectPromises(t,n)}else{var r=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,r,e),this._fulfillPromises(t,r)}this._setLength(0)}this._clearCancellationData()},a.prototype._settledValue=function(){var e=this._bitField;return 0!=(33554432&e)?this._rejectionHandler0:0!=(16777216&e)?this._fulfillmentHandler0:void 0},a.defer=a.pending=function(){return I.deprecated("Promise.defer","new Promise"),{promise:new a(k),resolve:o,reject:s}},p.notEnumerableProp(a,"_makeSelfResolutionError",l),t("./method")(a,k,_,d,I),t("./bind")(a,k,_,I),t("./cancel")(a,T,d,I),t("./direct_resolve")(a),t("./synchronous_inspection")(a),t("./join")(a,T,_,k,y,u),a.Promise=a,a.version="3.5.1",t("./map.js")(a,T,d,_,k,I),t("./call_get.js")(a),t("./using.js")(a,d,_,E,k,I),t("./timers.js")(a,k,I),t("./generators.js")(a,d,k,_,r,I),t("./nodeify.js")(a),t("./promisify.js")(a,k),t("./props.js")(a,T,_,d),t("./race.js")(a,k,_,d),t("./reduce.js")(a,T,d,_,k,I),t("./settle.js")(a,T,I),t("./some.js")(a,T,d),t("./filter.js")(a,k),t("./each.js")(a,k),t("./any.js")(a),p.toFastProperties(a),p.toFastProperties(a.prototype),c({a:1}),c({b:2}),c({c:3}),c(1),c(function(){}),c(void 0),c(!1),c(new a(k)),I.setBounds(g.firstLineError,p.lastLineError),a}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,a){function o(e){switch(e){case-2:return[];case-3:return{};case-6:return new Map}}function s(e){var r=this._promise=new t(n);e instanceof t&&r._propagateFrom(e,3),r._setOnCancel(this),this._values=e,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var c=e("./util");return c.isArray,c.inherits(s,a),s.prototype.length=function(){return this._length},s.prototype.promise=function(){return this._promise},s.prototype._init=function e(n,a){var s=r(this._values,this._promise);if(s instanceof t){var u=(s=s._target())._bitField;if(this._values=s,0==(50397184&u))return this._promise._setAsyncGuaranteed(),s._then(e,this._reject,void 0,this,a);if(0==(33554432&u))return 0!=(16777216&u)?this._reject(s._reason()):this._cancel();s=s._value()}if(null!==(s=c.asArray(s)))0!==s.length?this._iterate(s):-5===a?this._resolveEmptyArray():this._resolve(o(a));else{var l=i("expecting an array or an iterable object but got "+c.classString(s)).reason();this._promise._rejectCallback(l,!1)}},s.prototype._iterate=function(e){var n=this.getActualLength(e.length);this._length=n,this._values=this.shouldCopyValues()?new Array(n):this._values;for(var i=this._promise,a=!1,o=null,s=0;s<n;++s){var c=r(e[s],i);c instanceof t?o=(c=c._target())._bitField:o=null,a?null!==o&&c.suppressUnhandledRejections():null!==o?0==(50397184&o)?(c._proxy(this,s),this._values[s]=c):a=0!=(33554432&o)?this._promiseFulfilled(c._value(),s):0!=(16777216&o)?this._promiseRejected(c._reason(),s):this._promiseCancelled(s):a=this._promiseFulfilled(c,s)}a||i._setAsyncGuaranteed()},s.prototype._isResolved=function(){return null===this._values},s.prototype._resolve=function(e){this._values=null,this._promise._fulfill(e)},s.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},s.prototype._reject=function(e){this._values=null,this._promise._rejectCallback(e,!1)},s.prototype._promiseFulfilled=function(e,t){return this._values[t]=e,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},s.prototype._promiseCancelled=function(){return this._cancel(),!0},s.prototype._promiseRejected=function(e){return this._totalResolved++,this._reject(e),!0},s.prototype._resultCancelled=function(){if(!this._isResolved()){var e=this._values;if(this._cancel(),e instanceof t)e.cancel();else for(var n=0;n<e.length;++n)e[n]instanceof t&&e[n].cancel()}},s.prototype.shouldCopyValues=function(){return!0},s.prototype.getActualLength=function(e){return e},s}},{"./util":36}],24:[function(e,t,n){"use strict";t.exports=function(t,n){function r(e){return!m.test(e)}function i(e){try{return!0===e.__isPromisified__}catch(e){return!1}}function a(e,t,n){var r=f.getDataPropertyOrDefault(e,t+n,y);return!!r&&i(r)}function o(e,t,n){for(var r=0;r<e.length;r+=2){var i=e[r];if(n.test(i))for(var a=i.replace(n,""),o=0;o<e.length;o+=2)if(e[o]===a)throw new g("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",t))}}function s(e,t,n,r){for(var s=f.inheritedDataKeys(e),c=[],u=0;u<s.length;++u){var l=s[u],d=e[l],h=r===b||b(l,d,e);"function"!=typeof d||i(d)||a(e,l,t)||!r(l,d,e,h)||c.push(l,d)}return o(c,t,n),c}function c(e,t,n,r,i){for(var a=new RegExp(S(t)+"$"),o=s(e,t,a,n),c=0,u=o.length;c<u;c+=2){var d=o[c],h=o[c+1],p=d+t;if(r===k)e[p]=k(d,l,d,h,t,i);else{var v=r(h,function(){return k(d,l,d,h,t,i)});f.notEnumerableProp(v,"__isPromisified__",!0),e[p]=v}}return f.toFastProperties(e),e}function u(e,t,n){return k(e,t,void 0,e,null,n)}var l={},f=e("./util"),d=e("./nodeback"),h=f.withAppended,p=f.maybeWrapAsError,v=f.canEvaluate,g=e("./errors").TypeError,y={__isPromisified__:!0},m=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"].join("|")+")$"),b=function(e){return f.isIdentifier(e)&&"_"!==e.charAt(0)&&"constructor"!==e},S=function(e){return e.replace(/([$])/,"\\$")},k=v?void 0:function(e,r,i,a,o,s){function c(){var i=r;r===l&&(i=this);var a=new t(n);a._captureStackTrace();var o="string"==typeof v&&this!==u?this[v]:e,c=d(a,s);try{o.apply(i,h(arguments,c))}catch(e){a._rejectCallback(p(e),!0,!0)}return a._isFateSealed()||a._setAsyncGuaranteed(),a}var u=(function(){return this})(),v=e;return"string"==typeof v&&(e=a),f.notEnumerableProp(c,"__isPromisified__",!0),c};t.promisify=function(e,t){if("function"!=typeof e)throw new g("expecting a function but got "+f.classString(e));if(i(e))return e;var n=u(e,void 0===(t=Object(t)).context?l:t.context,!!t.multiArgs);return f.copyDescriptors(e,n,r),n},t.promisifyAll=function(e,t){if("function"!=typeof e&&"object"!=typeof e)throw new g("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");var n=!!(t=Object(t)).multiArgs,r=t.suffix;"string"!=typeof r&&(r="Async");var i=t.filter;"function"!=typeof i&&(i=b);var a=t.promisifier;if("function"!=typeof a&&(a=k),!f.isIdentifier(r))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var o=f.inheritedDataKeys(e),s=0;s<o.length;++s){var u=e[o[s]];"constructor"!==o[s]&&f.isClass(u)&&(c(u.prototype,r,i,a,n),c(u,r,i,a,n))}return c(e,r,i,a,n)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(e,t,n){"use strict";t.exports=function(t,n,r,i){function a(e){var t,n=!1;if(void 0!==s&&e instanceof s)t=f(e),n=!0;else{var r=l.keys(e),i=r.length;t=new Array(2*i);for(var a=0;a<i;++a){var o=r[a];t[a]=e[o],t[a+i]=o}}this.constructor$(t),this._isMap=n,this._init$(void 0,n?-6:-3)}function o(e){var n,o=r(e);return u(o)?(n=o instanceof t?o._then(t.props,void 0,void 0,void 0,void 0):new a(o).promise(),o instanceof t&&n._propagateFrom(o,2),n):i("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}var s,c=e("./util"),u=c.isObject,l=e("./es5");"function"==typeof Map&&(s=Map);var f=(function(){function e(e,r){this[t]=e,this[t+n]=r,t++}var t=0,n=0;return function(r){n=r.size,t=0;var i=new Array(2*r.size);return r.forEach(e,i),i}})(),d=function(e){for(var t=new s,n=e.length/2|0,r=0;r<n;++r){var i=e[n+r],a=e[r];t.set(i,a)}return t};c.inherits(a,n),a.prototype._init=function(){},a.prototype._promiseFulfilled=function(e,t){if(this._values[t]=e,++this._totalResolved>=this._length){var n;if(this._isMap)n=d(this._values);else{n={};for(var r=this.length(),i=0,a=this.length();i<a;++i)n[this._values[i+r]]=this._values[i]}return this._resolve(n),!0}return!1},a.prototype.shouldCopyValues=function(){return!1},a.prototype.getActualLength=function(e){return e>>1},t.prototype.props=function(){return o(this)},t.props=function(e){return o(e)}}},{"./es5":13,"./util":36}],26:[function(e,t,n){"use strict";function r(e,t,n,r,i){for(var a=0;a<i;++a)n[a+r]=e[a+t],e[a+t]=void 0}function i(e){this._capacity=e,this._length=0,this._front=0}i.prototype._willBeOverCapacity=function(e){return this._capacity<e},i.prototype._pushOne=function(e){var t=this.length();this._checkCapacity(t+1),this[this._front+t&this._capacity-1]=e,this._length=t+1},i.prototype.push=function(e,t,n){var r=this.length()+3;if(this._willBeOverCapacity(r))return this._pushOne(e),this._pushOne(t),void this._pushOne(n);var i=this._front+r-3;this._checkCapacity(r);var a=this._capacity-1;this[i+0&a]=e,this[i+1&a]=t,this[i+2&a]=n,this._length=r},i.prototype.shift=function(){var e=this._front,t=this[e];return this[e]=void 0,this._front=e+1&this._capacity-1,this._length--,t},i.prototype.length=function(){return this._length},i.prototype._checkCapacity=function(e){this._capacity<e&&this._resizeTo(this._capacity<<1)},i.prototype._resizeTo=function(e){var t=this._capacity;this._capacity=e,r(this,0,this,t,this._front+this._length&t-1)},t.exports=i},{}],27:[function(e,t,n){"use strict";t.exports=function(t,n,r,i){function a(e,a){var c=r(e);if(c instanceof t)return s(c);if(null===(e=o.asArray(e)))return i("expecting an array or an iterable object but got "+o.classString(e));var u=new t(n);void 0!==a&&u._propagateFrom(a,3);for(var l=u._fulfill,f=u._reject,d=0,h=e.length;d<h;++d){var p=e[d];(void 0!==p||d in e)&&t.cast(p)._then(l,f,void 0,u,null)}return u}var o=e("./util"),s=function(e){return e.then(function(t){return a(t,e)})};t.race=function(e){return a(e,void 0)},t.prototype.race=function(){return a(this,void 0)}}},{"./util":36}],28:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,a,o){function s(e,n,r,i){this.constructor$(e);var o=d();this._fn=null===o?n:h.domainBind(o,n),void 0!==r&&(r=t.resolve(r))._attachCancellationCallback(this),this._initialValue=r,this._currentCancellable=null,this._eachValues=i===a?Array(this._length):0===i?null:void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function c(e,t){this.isFulfilled()?t._resolve(e):t._reject(e)}function u(e,t,n,i){return"function"!=typeof t?r("expecting a function but got "+h.classString(t)):new s(e,t,n,i).promise()}function l(e){this.accum=e,this.array._gotAccum(e);var n=i(this.value,this.array._promise);return n instanceof t?(this.array._currentCancellable=n,n._then(f,void 0,void 0,this,void 0)):f.call(this,n)}function f(e){var n,r=this.array,i=r._promise,a=p(r._fn);i._pushContext(),(n=void 0!==r._eachValues?a.call(i._boundValue(),e,this.index,this.length):a.call(i._boundValue(),this.accum,e,this.index,this.length))instanceof t&&(r._currentCancellable=n);var s=i._popContext();return o.checkForgottenReturns(n,s,void 0!==r._eachValues?"Promise.each":"Promise.reduce",i),n}var d=t._getDomain,h=e("./util"),p=h.tryCatch;h.inherits(s,n),s.prototype._gotAccum=function(e){void 0!==this._eachValues&&null!==this._eachValues&&e!==a&&this._eachValues.push(e)},s.prototype._eachComplete=function(e){return null!==this._eachValues&&this._eachValues.push(e),this._eachValues},s.prototype._init=function(){},s.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},s.prototype.shouldCopyValues=function(){return!1},s.prototype._resolve=function(e){this._promise._resolveCallback(e),this._values=null},s.prototype._resultCancelled=function(e){if(e===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof t&&this._currentCancellable.cancel(),this._initialValue instanceof t&&this._initialValue.cancel())},s.prototype._iterate=function(e){this._values=e;var n,r,i=e.length;if(void 0!==this._initialValue?(n=this._initialValue,r=0):(n=t.resolve(e[0]),r=1),this._currentCancellable=n,!n.isRejected())for(;r<i;++r){var a={accum:null,value:e[r],index:r,length:i,array:this};n=n._then(l,void 0,void 0,a,void 0)}void 0!==this._eachValues&&(n=n._then(this._eachComplete,void 0,void 0,this,void 0)),n._then(c,c,void 0,n,this)},t.prototype.reduce=function(e,t){return u(this,e,t,null)},t.reduce=function(e,t,n,r){return u(e,t,n,r)}}},{"./util":36}],29:[function(n,r,a){"use strict";var o,s=n("./util"),c=s.getNativePromise();if(s.isNode&&"undefined"==typeof MutationObserver){var u=t.setImmediate,l=e.nextTick;o=s.isRecentNode?function(e){u.call(t,e)}:function(t){l.call(e,t)}}else if("function"==typeof c&&"function"==typeof c.resolve){var f=c.resolve();o=function(e){f.then(e)}}else o="undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&(window.navigator.standalone||window.cordova)?void 0!==i?function(e){i(e)}:"undefined"!=typeof setTimeout?function(e){setTimeout(e,0)}:function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}:(function(){var e=document.createElement("div"),t={attributes:!0},n=!1,r=document.createElement("div");new MutationObserver(function(){e.classList.toggle("foo"),n=!1}).observe(r,t);var i=function(){n||(n=!0,r.classList.toggle("foo"))};return function(n){var r=new MutationObserver(function(){r.disconnect(),n()});r.observe(e,t),i()}})();r.exports=o},{"./util":36}],30:[function(e,t,n){"use strict";t.exports=function(t,n,r){function i(e){this.constructor$(e)}var a=t.PromiseInspection;e("./util").inherits(i,n),i.prototype._promiseResolved=function(e,t){return this._values[e]=t,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},i.prototype._promiseFulfilled=function(e,t){var n=new a;return n._bitField=33554432,n._settledValueField=e,this._promiseResolved(t,n)},i.prototype._promiseRejected=function(e,t){var n=new a;return n._bitField=16777216,n._settledValueField=e,this._promiseResolved(t,n)},t.settle=function(e){return r.deprecated(".settle()",".reflect()"),new i(e).promise()},t.prototype.settle=function(){return t.settle(this)}}},{"./util":36}],31:[function(e,t,n){"use strict";t.exports=function(t,n,r){function i(e){this.constructor$(e),this._howMany=0,this._unwrap=!1,this._initialized=!1}function a(e,t){if((0|t)!==t||t<0)return r("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var n=new i(e),a=n.promise();return n.setHowMany(t),n.init(),a}var o=e("./util"),s=e("./errors").RangeError,c=e("./errors").AggregateError,u=o.isArray,l={};o.inherits(i,n),i.prototype._init=function(){if(this._initialized){if(0===this._howMany)return void this._resolve([]);this._init$(void 0,-5);var e=u(this._values);!this._isResolved()&&e&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},i.prototype.init=function(){this._initialized=!0,this._init()},i.prototype.setUnwrap=function(){this._unwrap=!0},i.prototype.howMany=function(){return this._howMany},i.prototype.setHowMany=function(e){this._howMany=e},i.prototype._promiseFulfilled=function(e){return this._addFulfilled(e),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},i.prototype._promiseRejected=function(e){return this._addRejected(e),this._checkOutcome()},i.prototype._promiseCancelled=function(){return this._values instanceof t||null==this._values?this._cancel():(this._addRejected(l),this._checkOutcome())},i.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var e=new c,t=this.length();t<this._values.length;++t)this._values[t]!==l&&e.push(this._values[t]);return e.length>0?this._reject(e):this._cancel(),!0}return!1},i.prototype._fulfilled=function(){return this._totalResolved},i.prototype._rejected=function(){return this._values.length-this.length()},i.prototype._addRejected=function(e){this._values.push(e)},i.prototype._addFulfilled=function(e){this._values[this._totalResolved++]=e},i.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},i.prototype._getRangeError=function(e){var t="Input array must contain at least "+this._howMany+" items but contains only "+e+" items";return new s(t)},i.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},t.some=function(e,t){return a(e,t)},t.prototype.some=function(e){return a(this,e)},t._SomePromiseArray=i}},{"./errors":12,"./util":36}],32:[function(e,t,n){"use strict";t.exports=function(e){function t(e){void 0!==e?(e=e._target(),this._bitField=e._bitField,this._settledValueField=e._isFateSealed()?e._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}t.prototype._settledValue=function(){return this._settledValueField};var n=t.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},r=t.prototype.error=t.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},i=t.prototype.isFulfilled=function(){return 0!=(33554432&this._bitField)},a=t.prototype.isRejected=function(){return 0!=(16777216&this._bitField)},o=t.prototype.isPending=function(){return 0==(50397184&this._bitField)},s=t.prototype.isResolved=function(){return 0!=(50331648&this._bitField)};t.prototype.isCancelled=function(){return 0!=(8454144&this._bitField)},e.prototype.__isCancelled=function(){return 65536==(65536&this._bitField)},e.prototype._isCancelled=function(){return this._target().__isCancelled()},e.prototype.isCancelled=function(){return 0!=(8454144&this._target()._bitField)},e.prototype.isPending=function(){return o.call(this._target())},e.prototype.isRejected=function(){return a.call(this._target())},e.prototype.isFulfilled=function(){return i.call(this._target())},e.prototype.isResolved=function(){return s.call(this._target())},e.prototype.value=function(){return n.call(this._target())},e.prototype.reason=function(){var e=this._target();return e._unsetRejectionIsUnhandled(),r.call(e)},e.prototype._value=function(){return this._settledValue()},e.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},e.PromiseInspection=t}},{}],33:[function(e,t,n){"use strict";t.exports=function(t,n){function r(e){return e.then}function i(e){try{return r(e)}catch(e){return c.e=e,c}}function a(e){try{return l.call(e,"_promise0")}catch(e){return!1}}function o(e,r,i){var a=new t(n),o=a;i&&i._pushContext(),a._captureStackTrace(),i&&i._popContext();var u=!0,l=s.tryCatch(r).call(e,function(e){a&&(a._resolveCallback(e),a=null)},function(e){a&&(a._rejectCallback(e,u,!0),a=null)});return u=!1,a&&l===c&&(a._rejectCallback(l.e,!0,!0),a=null),o}var s=e("./util"),c=s.errorObj,u=s.isObject,l={}.hasOwnProperty;return function(e,r){if(u(e)){if(e instanceof t)return e;var s=i(e);if(s===c){r&&r._pushContext();var l=t.reject(s.e);return r&&r._popContext(),l}if("function"==typeof s)return a(e)?(l=new t(n),e._then(l._fulfill,l._reject,void 0,l,null),l):o(e,s,r)}return e}}},{"./util":36}],34:[function(e,t,n){"use strict";t.exports=function(t,n,r){function i(e){this.handle=e}function a(e){return clearTimeout(this.handle),e}function o(e){throw clearTimeout(this.handle),e}var s=e("./util"),c=t.TimeoutError;i.prototype._resultCancelled=function(){clearTimeout(this.handle)};var u=function(e){return l(+this).thenReturn(e)},l=t.delay=function(e,a){var o,s;return void 0!==a?(o=t.resolve(a)._then(u,null,null,e,void 0),r.cancellation()&&a instanceof t&&o._setOnCancel(a)):(o=new t(n),s=setTimeout(function(){o._fulfill()},+e),r.cancellation()&&o._setOnCancel(new i(s)),o._captureStackTrace()),o._setAsyncGuaranteed(),o};t.prototype.delay=function(e){return l(e,this)};var f=function(e,t,n){var r;r="string"!=typeof t?t instanceof Error?t:new c("operation timed out"):new c(t),s.markAsOriginatingFromRejection(r),e._attachExtraTrace(r),e._reject(r),null!=n&&n.cancel()};t.prototype.timeout=function(e,t){e=+e;var n,s,c=new i(setTimeout(function(){n.isPending()&&f(n,t,s)},e));return r.cancellation()?(s=this.then(),(n=s._then(a,o,void 0,c,void 0))._setOnCancel(c)):n=this._then(a,o,void 0,c,void 0),n}}},{"./util":36}],35:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,a,o){function s(e){setTimeout(function(){throw e},0)}function c(e){var t=r(e);return t!==e&&"function"==typeof e._isDisposable&&"function"==typeof e._getDisposer&&e._isDisposable()&&t._setDisposable(e._getDisposer()),t}function u(e,n){var i=0,o=e.length,u=new t(a);return(function a(){if(i>=o)return u._fulfill();var l=c(e[i++]);if(l instanceof t&&l._isDisposable()){try{l=r(l._getDisposer().tryDispose(n),e.promise)}catch(e){return s(e)}if(l instanceof t)return l._then(a,s,null,null,null)}a()})(),u}function l(e,t,n){this._data=e,this._promise=t,this._context=n}function f(e,t,n){this.constructor$(e,t,n)}function d(e){return l.isDisposer(e)?(this.resources[this.index]._setDisposable(e),e.promise()):e}function h(e){this.length=e,this.promise=null,this[e-1]=null}var p=e("./util"),v=e("./errors").TypeError,g=e("./util").inherits,y=p.errorObj,m=p.tryCatch,b={};l.prototype.data=function(){return this._data},l.prototype.promise=function(){return this._promise},l.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():b},l.prototype.tryDispose=function(e){var t=this.resource(),n=this._context;void 0!==n&&n._pushContext();var r=t!==b?this.doDispose(t,e):null;return void 0!==n&&n._popContext(),this._promise._unsetDisposable(),this._data=null,r},l.isDisposer=function(e){return null!=e&&"function"==typeof e.resource&&"function"==typeof e.tryDispose},g(f,l),f.prototype.doDispose=function(e,t){return this.data().call(e,e,t)},h.prototype._resultCancelled=function(){for(var e=this.length,n=0;n<e;++n){var r=this[n];r instanceof t&&r.cancel()}},t.using=function(){var e=arguments.length;if(e<2)return n("you must pass at least 2 arguments to Promise.using");var i=arguments[e-1];if("function"!=typeof i)return n("expecting a function but got "+p.classString(i));var a,s=!0;2===e&&Array.isArray(arguments[0])?(e=(a=arguments[0]).length,s=!1):(a=arguments,e--);for(var c=new h(e),f=0;f<e;++f){var v=a[f];if(l.isDisposer(v)){var g=v;(v=v.promise())._setDisposable(g)}else{var b=r(v);b instanceof t&&(v=b._then(d,null,null,{resources:c,index:f},void 0))}c[f]=v}var S=new Array(c.length);for(f=0;f<S.length;++f)S[f]=t.resolve(c[f]).reflect();var k=t.all(S).then(function(e){for(var t=0;t<e.length;++t){var n=e[t];if(n.isRejected())return y.e=n.error(),y;if(!n.isFulfilled())return void k.cancel();e[t]=n.value()}w._pushContext(),i=m(i);var r=s?i.apply(void 0,e):i(e),a=w._popContext();return o.checkForgottenReturns(r,a,"Promise.using",w),r}),w=k.lastly(function(){var e=new t.PromiseInspection(k);return u(c,e)});return c.promise=w,w._setOnCancel(c),w},t.prototype._setDisposable=function(e){this._bitField=131072|this._bitField,this._disposer=e},t.prototype._isDisposable=function(){return(131072&this._bitField)>0},t.prototype._getDisposer=function(){return this._disposer},t.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},t.prototype.disposer=function(e){if("function"==typeof e)return new f(e,this,i());throw new v}}},{"./errors":12,"./util":36}],36:[function(n,r,i){"use strict";function a(){try{var e=d;return d=null,e.apply(this,arguments)}catch(e){return v.e=e,v}}function o(e){return null==e||!0===e||!1===e||"string"==typeof e||"number"==typeof e}function s(e,t,n){if(o(e))return e;var r={value:n,configurable:!0,enumerable:!1,writable:!0};return h.defineProperty(e,t,r),e}function c(e){try{return e+""}catch(e){return"[no string representation]"}}function u(e){return e instanceof Error||null!==e&&"object"==typeof e&&"string"==typeof e.message&&"string"==typeof e.name}function l(e){return u(e)&&h.propertyIsWritable(e,"stack")}function f(e){return{}.toString.call(e)}var d,h=n("./es5"),p="undefined"==typeof navigator,v={e:{}},g="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:void 0!==this?this:null,y=(function(){var e=[Array.prototype,Object.prototype,Function.prototype],t=function(t){for(var n=0;n<e.length;++n)if(e[n]===t)return!0;return!1};if(h.isES5){var n=Object.getOwnPropertyNames;return function(e){for(var r=[],i=Object.create(null);null!=e&&!t(e);){var a;try{a=n(e)}catch(e){return r}for(var o=0;o<a.length;++o){var s=a[o];if(!i[s]){i[s]=!0;var c=Object.getOwnPropertyDescriptor(e,s);null!=c&&null==c.get&&null==c.set&&r.push(s)}}e=h.getPrototypeOf(e)}return r}}var r={}.hasOwnProperty;return function(n){if(t(n))return[];var i=[];e:for(var a in n)if(r.call(n,a))i.push(a);else{for(var o=0;o<e.length;++o)if(r.call(e[o],a))continue e;i.push(a)}return i}})(),m=/this\s*\.\s*\S+\s*=/,b=/^[a-z$_][a-z$_0-9]*$/i,S="stack"in new Error?function(e){return l(e)?e:new Error(c(e))}:function(e){if(l(e))return e;try{throw new Error(c(e))}catch(e){return e}},k=function(e){return h.isArray(e)?e:null};if("undefined"!=typeof Symbol&&("function"!=typeof Symbol||Symbol.iterator)){var w="function"==typeof Array.from?function(e){return Array.from(e)}:function(e){for(var t,n=[],r=e["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();!(t=r.next()).done;)n.push(t.value);return n};k=function(e){return h.isArray(e)?e:null!=e&&"function"==typeof e["function"==typeof Symbol?Symbol.iterator:"@@iterator"]?w(e):null}}var C=void 0!==e&&"[object process]"===f(e).toLowerCase(),_=void 0!==e&&void 0!==e.env,T={isClass:function(e){try{if("function"==typeof e){var t=h.names(e.prototype),n=h.isES5&&t.length>1,r=t.length>0&&!(1===t.length&&"constructor"===t[0]),i=m.test(e+"")&&h.names(e).length>0;if(n||r||i)return!0}return!1}catch(e){return!1}},isIdentifier:function(e){return b.test(e)},inheritedDataKeys:y,getDataPropertyOrDefault:function(e,t,n){if(!h.isES5)return{}.hasOwnProperty.call(e,t)?e[t]:void 0;var r=Object.getOwnPropertyDescriptor(e,t);return null!=r?null==r.get&&null==r.set?r.value:n:void 0},thrower:function(e){throw e},isArray:h.isArray,asArray:k,notEnumerableProp:s,isPrimitive:o,isObject:function(e){return"function"==typeof e||"object"==typeof e&&null!==e},isError:u,canEvaluate:p,errorObj:v,tryCatch:function(e){return d=e,a},inherits:function(e,t){function n(){for(var n in this.constructor=e,this.constructor$=t,t.prototype)r.call(t.prototype,n)&&"$"!==n.charAt(n.length-1)&&(this[n+"$"]=t.prototype[n])}var r={}.hasOwnProperty;return n.prototype=t.prototype,e.prototype=new n,e.prototype},withAppended:function(e,t){var n,r=e.length,i=new Array(r+1);for(n=0;n<r;++n)i[n]=e[n];return i[n]=t,i},maybeWrapAsError:function(e){return o(e)?new Error(c(e)):e},toFastProperties:function(e){function t(){}t.prototype=e;for(var n=8;n--;)new t;return e},filledRange:function(e,t,n){for(var r=new Array(e),i=0;i<e;++i)r[i]=t+i+n;return r},toString:c,canAttachTrace:l,ensureErrorObject:S,originatesFromRejection:function(e){return null!=e&&(e instanceof Error.__BluebirdErrorTypes__.OperationalError||!0===e.isOperational)},markAsOriginatingFromRejection:function(e){try{s(e,"isOperational",!0)}catch(e){}},classString:f,copyDescriptors:function(e,t,n){for(var r=h.names(e),i=0;i<r.length;++i){var a=r[i];if(n(a))try{h.defineProperty(t,a,h.getDescriptor(e,a))}catch(e){}}},hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:C,hasEnvVariables:_,env:function(t){return _?e.env[t]:void 0},global:g,getNativePromise:function(){if("function"==typeof Promise)try{var e=new Promise(function(){});if("[object Promise]"==={}.toString.call(e))return Promise}catch(e){}},domainBind:function(e,t){return e.bind(t)}};T.isRecentNode=T.isNode&&(function(){var t=e.versions.node.split(".").map(Number);return 0===t[0]&&t[1]>10||t[0]>0})(),T.isNode&&T.toFastProperties(e);try{throw new Error}catch(e){T.lastLineError=e}r.exports=T},{"./es5":13}]},{},[4])(4)}),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise)}).call(this,t("_process"),void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("timers").setImmediate)},{_process:15,timers:16}],2:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.PreCallTest=void 0;var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=e("./turnConnection"),o=e("./tests/rttTest"),s=e("./tests/throughputTest"),c=e("./utility/resultsHandler"),u=e("./utility/onlineCheck"),l=e("./utility/stats/detectbrowser"),f=e("bluebird"),d={RTT:"rtt",THROUGHPUT:"throughput"},h=(function(){function e(){r(this,e),this.browserInfo=(0,l.detect)(),this.onlineCheck=new u.OnlineCheck,this.callsInProgress=0,this.turnTests=[d.RTT,d.THROUGHPUT],this.active=!1,this.rtt=null,this.resultsHandler=null}return i(e,[{key:"start",value:function(e,t,n){if(this.browserInfo.browserName!==l.Constants.browserName.msie)if(this.iceServers=e,this.callback=n,this.active)this.callback&&this.callback(null,"Not started: already in progress");else if(0<this.callsInProgress)this.callback&&this.callback(null,"Not started: call in progress");else if(e){this.turnTestCounter=0,this.resultsHandler=new c.ResultsHandler,this.resultsHandler.setProvider(t);var r={type:"browser",os:this.browserInfo.os,osVersion:this.browserInfo.osVersion,buildName:this.browserInfo.browserName,buildVersion:this.browserInfo.browserVersion};this.resultsHandler.add("endpointInfo",r),this.onlineCheck.start(),this.active=!0,this._start()}else this.callback&&this.callback(null,"Not started: no ICE servers given");else this.callback&&this.callback(null,"Not started: disabled for IE")}},{key:"_start",value:function(){var e=this;this.active&&(this.turnConnection=new a.TurnConnection(this.browserInfo),this.turnConnection.connect(this.iceServers).then(function(){e.active?(e.resultsHandler&&e.resultsHandler.setStatusSuccess(),e.startTurnTests().then(function(){e.stop()},function(t){e.stop()})):e.stop()},function(t){var n=t.continueFlag;if(e.resultsHandler.failure(t),!n){e.turnConnection.disconnect(),e.active=!1;var r="";try{r=t.stack}catch(n){r=t.toString()}return r&&""!==r||(r=t.toString()),e.resultsHandler&&e.resultsHandler.setStatusFailed(),void e.callback(null,r)}e.resultsHandler.setStatusFailed(),e.resultsHandler.getFailureNumber()>=10?e.stop():(e.turnConnection.disconnect(),setTimeout(function(){e._start()},0))}))}},{key:"stop",value:function(){var e=this;if(this.browserInfo.browserName!==l.Constants.browserName.msie&&this.active){this.active=!1,this.activeTurnTest&&this.activeTurnTest.forceStop();var t=this.onlineCheck.stop();this.resultsHandler&&this.resultsHandler.add("onlineStatus",t),this.turnConnection.getIceResults().then(function(t){e.resultsHandler&&e.resultsHandler.add("ice",t),e.turnConnection.disconnect(),e.sendResults()},function(t){e.resultsHandler&&e.resultsHandler.failure(t),e.turnConnection.disconnect(),e.sendResults()})}}},{key:"sendResults",value:function(){if(this.resultsHandler){var e=this.resultsHandler.getResults();this.resultsHandler=null,this.callback&&this.callback(e,null)}else this.callback&&this.callback(null,"No results present")}},{key:"callStarts",value:function(){this.callsInProgress+=1,this.resultsHandler&&this.resultsHandler.setStatusStopped(),this.stop()}},{key:"callFinished",value:function(){this.callsInProgress-=1}},{key:"getId",value:function(){return this.resultsHandler?this.resultsHandler.getId():null}},{key:"crashDisconnect",value:function(){try{this.turnConnection.disconnect()}catch(e){}}},{key:"startTurnTests",value:function(){var e=this;if(this.turnTestCounter>=this.turnTests.length)return new f(function(e,t){e()});var t=this.turnTests[this.turnTestCounter],n=null;switch(t){case d.RTT:n=new o.RttTest(this.turnConnection);break;case d.THROUGHPUT:n=new s.ThroughputTest(this.turnConnection,this.rtt);break;default:return new f(function(e,n){n(new Error("Unknown test: "+t))})}return this.activeTurnTest=n,this.active?n.start().then(function(){return e.handleTestResults(t,n.getResults()),e.turnTestCounter+=1,e.activeTurnTest=null,e.startTurnTests()},function(r){return e.handleTestResults(t,n.getResults(),r),e.turnTestCounter+=1,e.activeTurnTest=null,e.startTurnTests()}):new f(function(e,t){t(new Error("Test trying to start while testing is not active"))})}},{key:"handleTestResults",value:function(e,t){null==(2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)&&e==d.RTT&&(this.rtt=t.median),this.resultsHandler&&this.resultsHandler.add(e,t)}}]),e})();n.PreCallTest=h},{"./tests/rttTest":3,"./tests/throughputTest":4,"./turnConnection":6,"./utility/onlineCheck":8,"./utility/resultsHandler":10,"./utility/stats/detectbrowser":11,bluebird:1}],3:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0}),n.RttTest=void 0;var o=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0},c=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("../utility/timestamps")),u=e("./turnTest"),l=(function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.sendTimer=null,n.countSent=0,n.rtts=[],n}return a(t,u.TurnTest),o(t,[{key:"initiate",value:function(){this.results.startTimestamp=c.getCurrent(),this.sendPing()}},{key:"handleMessage",value:function(e){if(this.isActive()){var t=parseInt(e,10),n=this.calculateRtt(t);this.rtts.push(n),this.countSent<10?this.sendPing():this.calculateMetrics()}}},{key:"handleError",value:function(e){this.fillResults(),this.failed(e)}},{key:"sendPing",value:function(){if(this.isActive()){var e=c.getCurrent();this.send(e.toString()),this.countSent+=1,this.sendTimer&&(clearTimeout(this.sendTimer),this.sendTimer=null),this.countSent<10?this.sendTimer=setTimeout(this.sendPing.bind(this),100):this.sendTimer=setTimeout(this.calculateMetrics.bind(this),500)}}},{key:"calculateRtt",value:function(e){return c.getCurrent()-e}},{key:"calculateMetrics",value:function(){this.sendTimer&&(clearTimeout(this.sendTimer),this.sendTimer=null),this.fillResults(),this.finished()}},{key:"fillResults",value:function(){this.results.sentMessages=this.countSent,this.results.unAckedMessages=this.countSent-this.rtts.length,this.results.maxMessages=10,this.results.forceStopped=this.forceStopped,this.results.median=this.median(),this.results.average=this.average(),this.results.variance=this.variance(),this.results.endTimestamp=c.getCurrent()}},{key:"median",value:function(){if(0==this.rtts.length)return null;this.rtts.sort();var e=Math.floor(this.rtts.length/2);return this.rtts[e]}},{key:"average",value:function(){if(0==this.rtts.length)return null;for(var e=0,t=0;t<this.rtts.length;t++)e+=this.rtts[t];return e/this.rtts.length}},{key:"variance",value:function(){if(0==this.rtts.length)return null;for(var e=0,t=this.average(),n=0;n<this.rtts.length;n++){var r=this.rtts[n];e+=Math.pow(r-t,2)}return e/this.rtts.length}},{key:"stop",value:function(){this.isActive()&&(s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"stop",this).call(this),this.fillResults())}}]),t})();n.RttTest=l},{"../utility/timestamps":14,"./turnTest":5}],4:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0}),n.ThroughputTest=void 0;var o=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0},c=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("../utility/timestamps")),u=e("../utility/messageMaker"),l=e("./turnTest"),f=(function(e){function t(e,n){r(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));if(a.sentBytes=0,a.receivedBytes=0,a.secondHalfBytes=0,a.secondHalfStart=null,a.bufferEmpty=0,a.chunkSize=1200,a.messageMaker=new u.MessageMaker(a.chunkSize),a.duration=5e3,null!=n){var o=50*n;a.duration=Math.max(Math.min(o,1e4),1e3)}return a.sendTimer=null,a.lastMessage=null,a.intervals=[],a.intervalStart=0,a.intervalLength=100,a.intervalBytes=0,a}return a(t,l.TurnTest),o(t,[{key:"initiate",value:function(){window&&window.csioReactNative?this.handleError(new Error("Not running throughput test for react-native")):this.startSend()}},{key:"handleMessage",value:function(e){var t=this;if(this.isActive()){this.lastMessage=e,this.receivedBytes+=e.length;var n=c.getCurrent();if(this.sendTimer||(this.results.startTimestamp=n,this.sendTimer=setTimeout(function(){t.stop(),t.finished()},this.duration)),0==this.intervalStart&&(this.intervalStart=n),this.intervalBytes+=e.length,n-this.intervalStart>=this.intervalLength){var r=n-this.intervalStart,i=this.averageThroughput(this.intervalBytes,r),a=null;try{a=n-JSON.parse(this.lastMessage).timestamp}catch(e){}this.intervals.push({startTimestamp:this.intervalStart,endTimestamp:n,bytesReceived:this.intervalBytes,average:i,rtt:a}),this.intervalStart=n,this.intervalBytes=0}this.results.startTimestamp&&n-this.results.startTimestamp>this.duration/2&&(this.secondHalfStart||(this.secondHalfStart=n),this.secondHalfBytes+=e.length)}}},{key:"handleError",value:function(e){this.stop(),this.failed(e)}},{key:"averageThroughput",value:function(e,t){return e/(t/1e3)*8/1024}},{key:"bufferListener",value:function(){this.sendChannel.removeEventListener("bufferedamountlow",this.bufferListener.bind(this)),this.fillBuffer()}},{key:"fillBuffer",value:function(){for(0==this.sendChannel.bufferedAmount&&(this.bufferEmpty+=1);this.isActive();){if(this.sendChannel.bufferedAmount>this.bufferFullThreshold)return void(this.usePolling?setTimeout(this.fillBuffer.bind(this),250):this.sendChannel.addEventListener("bufferedamountlow",this.bufferListener.bind(this)));var e=this.messageMaker.make(this.sentBytes);this.sentBytes+=e.length,this.send(e)}this.sendChannel.removeEventListener("bufferedamountlow",this.bufferListener.bind(this))}},{key:"startSend",value:function(){this.isActive()&&(this.bufferFullThreshold=1e3*this.chunkSize,this.sendChannel=this.connection.sendChannel,this.usePolling=!0,"number"==typeof this.sendChannel.bufferedAmountLowThreshold&&(this.usePolling=!1,this.sendChannel.bufferedAmountLowThreshold=this.bufferFullThreshold/10),setTimeout(this.fillBuffer.bind(this),0))}},{key:"fillResults",value:function(){this.results.endTimestamp=c.getCurrent(),this.results.maxDuration=this.duration,this.results.forceStopped=this.forceStopped,this.results.bufferEmpty=this.bufferEmpty,this.results.intervals=this.intervals,this.results.bytesPrepared=this.sentBytes,this.results.bytesReceived=this.receivedBytes;var e=0,t=0;this.secondHalfStart&&(e=this.results.endTimestamp-this.secondHalfStart,t=this.averageThroughput(this.secondHalfBytes,e));var n=this.results.endTimestamp-this.results.startTimestamp,r=this.averageThroughput(this.receivedBytes,n);t<r&&(t=r),this.results.average=t;var i=null;try{i=JSON.parse(this.lastMessage)}catch(e){return}if(i){var a=i.sentBytes+this.lastMessage.length;this.results.bytesSent=a,this.results.fractionLostBytes=1-this.receivedBytes/a}else this.results.bytesSent=-1,this.results.fractionLostBytes=-1}},{key:"stop",value:function(){this.isActive()&&(clearTimeout(this.sendTimer),this.sendTimer=null,s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"stop",this).call(this),this.fillResults())}}]),t})();n.ThroughputTest=f},{"../utility/messageMaker":7,"../utility/timestamps":14,"./turnTest":5}],5:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=e("bluebird"),o=(function(){function e(t){r(this,e),this.connection=t,this.active=!1,this.results={}}return i(e,[{key:"getResults",value:function(){return this.results}},{key:"start",value:function(){var e=this,t=new a(function(t,n){e.resolveCb=t,e.rejectCb=n});return this.connection.setMessageCallback(this.handleMessage.bind(this)),this.connection.setErrorCallback(this.handleError.bind(this)),this.active=!0,this.forceStopped=!1,this.initiate(),t}},{key:"stop",value:function(){this.active=!1}},{key:"forceStop",value:function(){this.forceStopped=!0,this.stop(),this.finished()}},{key:"isActive",value:function(){return this.active}},{key:"initiate",value:function(){}},{key:"handleMessage",value:function(e){}},{key:"handleError",value:function(e){}},{key:"send",value:function(e){this.connection.send(e)}},{key:"finished",value:function(){this.active=!1,this.resolveCb&&(this.resolveCb(),this.resolveCb=null)}},{key:"failed",value:function(e){this.active=!1,this.rejectCb&&(this.rejectCb(e),this.rejectCb=null)}}]),e})();n.TurnTest=o},{bluebird:1}],6:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.TurnConnection=void 0;var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=e("./utility/parsedIceCandidate"),o=e("./utility/stats/getstatshandler"),s=e("./utility/stats/detectbrowser"),c=e("bluebird"),u=(function(){function e(t){r(this,e),this.reset(),this.statshandler=new o.GetStatsHandler(t)}return i(e,[{key:"reset",value:function(){this.disconnect(),this.iceServers=null,this.pctpc1=null,this.pctpc2=null,this.sendChannel=null,this.messageCallback=null,this.errorCallback=null,this.parsedIceResults={},this.resolveCb=null,this.rejectCb=null}},{key:"setMessageCallback",value:function(e){this.messageCallback=e}},{key:"setErrorCallback",value:function(e){this.errorCallback=e}},{key:"send",value:function(e){if(this.sendChannel)try{this.sendChannel.send(e)}catch(e){this.raiseSendError(e)}else this.raiseSendError(new Error("No send channel"))}},{key:"raiseSendError",value:function(e){this.errorCallback&&this.errorCallback(e)}},{key:"assignEvent",value:function(e,t,n){e.addEventListener?e.addEventListener(t,n.bind(this),!1):e.attachEvent&&(t="on"+t,e.attachEvent(t,n.bind(this)))}},{key:"connect",value:function(e){var t=this;this.reset();var n=new c(function(e,n){t.resolveCb=e,t.rejectCb=n});this.iceServers=e;var r=null;try{if(RTCPeerConnection?r=RTCPeerConnection:webkitRTCPeerConnection?r=webkitRTCPeerConnection:mozRTCPeerConnection?r=mozRTCPeerConnection:window&&window.RTCPeerConnection&&(r=window.RTCPeerConnection),!r){var i=new Error("RTCPeerConnection not found");return i.continueFlag=!1,this.rejectCb(i),n}}catch(i){return i.continueFlag=!1,this.rejectCb(i),n}var a={iceTransportPolicy:"all",iceServers:this.iceServers};try{this.pctpc1=new r(a),this.pctpc2=new r(a)}catch(i){return this.rejectDisconnect(!1,i),n}this.connectionTimer=setTimeout(function(){delete t.connectionTimer,t.rejectDisconnect(!1,new Error("Connection timeout"))},3e4);try{this.sendChannel=this.pctpc1.createDataChannel("precalltest",{ordered:!1,maxRetransmits:0}),this.sendChannel.binaryType="arraybuffer",this.assignEvent(this.sendChannel,"error",function(e){t.raiseSendError(e),t.rejectDisconnect(!0,e)}),this.assignEvent(this.pctpc2,"datachannel",function(e){var n=e.channel;t.assignEvent(n,"open",function(e){t.resolveCb&&(t.resolveCb(),t.resolveCb=null)}),t.assignEvent(n,"close",function(e){t&&t.disconnect&&t.disconnect()}),t.assignEvent(n,"message",function(e){t.messageCallback&&t.messageCallback(e.data)}),t.assignEvent(n,"error",function(e){t.errorCallback&&t.errorCallback(e),t.rejectDisconnect(!0,e)})})}catch(i){return this.rejectDisconnect(!1,i),n}try{this.assignEvent(this.pctpc1,"icecandidate",function(e){t.onIceCandidate(t.pctpc1,e)}),this.assignEvent(this.pctpc1,"iceconnectionstatechange",function(e){t.onIceStateChange(t.pctpc1,e)}),this.assignEvent(this.pctpc2,"icecandidate",function(e){t.onIceCandidate(t.pctpc2,e)}),this.assignEvent(this.pctpc2,"iceconnectionstatechange",function(e){t.onIceStateChange(t.pctpc2,e)}),this.pctpc1.createOffer().then(function(e,n){t.onCreateOfferSuccess(e)},function(e){t.onCreateOfferError(t.pctpc1,e)})}catch(i){return this.rejectDisconnect(!1,i),n}return n}},{key:"rejectDisconnect",value:function(e,t){this.disconnect(),this.rejectCb&&(t.continueFlag=e,this.rejectCb(t)),this.resolveCb=null,this.rejectCb=null}},{key:"disconnect",value:function(){if(clearTimeout(this.connectionTimer),clearTimeout(this.iceTimer),this.pctpc1)try{this.pctpc1.close()}catch(e){}if(this.pctpc1=null,this.pctpc2)try{this.pctpc2.close()}catch(e){}this.pctpc2=null}},{key:"getName",value:function(e){return e===this.pctpc1?"pctpc1":"pctpc2"}},{key:"getOtherPc",value:function(e){return e===this.pctpc1?this.pctpc2:this.pctpc1}},{key:"onCreateOfferError",value:function(e,t){this.rejectDisconnect(!1,t)}},{key:"onCreateAnswerError",value:function(e,t){this.rejectDisconnect(!1,t)}},{key:"onCreateOfferSuccess",value:function(e){var t=this;try{this.pctpc1.setLocalDescription(e).then(function(){t.onSetLocalSuccess(t.pctpc1)},function(e){t.onSetSessionDescriptionError(t.pctpc1,e)}),this.pctpc2.setRemoteDescription(e).then(function(){t.onSetRemoteSuccess(t.pctpc2)},function(e){t.onSetRemoteSessionDescriptionError(t.pctpc2,e)}),this.pctpc2.createAnswer().then(function(e){t.onCreateAnswerSuccess(e)},function(e){t.onCreateAnswerError(t.pctpc2,e)})}catch(e){this.rejectDisconnect(!1,e)}}},{key:"onSetLocalSuccess",value:function(e){}},{key:"onSetRemoteSuccess",value:function(e){}},{key:"onSetSessionDescriptionError",value:function(e,t){this.rejectDisconnect(!1,t)}},{key:"onSetRemoteSessionDescriptionError",value:function(e,t){this.rejectDisconnect(!1,t)}},{key:"onCreateAnswerSuccess",value:function(e){var t=this;try{this.pctpc2.setLocalDescription(e).then(function(){t.onSetLocalSuccess(t.pctpc2)},function(e){t.onSetSessionDescriptionError(t.pctpc2,e)}),this.pctpc1.setRemoteDescription(e).then(function(){t.onSetRemoteSuccess(t.pctpc1)},function(e){t.onSetRemoteSessionDescriptionError(t.pctpc1,e)})}catch(e){this.rejectDisconnect(!1,e)}}},{key:"onIceCandidate",value:function(e,t){var n=this;try{if(!t.candidate)return;if(!t.candidate.candidate)return;var r=new a.ParsedIceCandidate(t.candidate);if(e==this.pctpc1&&this.statshandler.codeBase==s.Constants.codeBaseType.chrome&&(r.isRelay()&&(r.isTypeTransportUdp()&&(this.parsedIceResults.relayUdpGathered=!0),r.isTypeTransportTcp()&&(this.parsedIceResults.relayTcpGathered=!0),r.isTypeTransportTls()&&(this.parsedIceResults.relayTlsGathered=!0)),r.isServerReflexive()&&(this.parsedIceResults.srflxGathered=!0)),!r.isRelay())return;this.getOtherPc(e).addIceCandidate(t.candidate).then(function(){n.onAddIceCandidateSuccess(e)},function(t){n.onAddIceCandidateError(e,t,r.isRelay())})}catch(t){this.rejectDisconnect(!1,t)}}},{key:"onAddIceCandidateSuccess",value:function(e){}},{key:"onAddIceCandidateError",value:function(e,t,n){n&&this.rejectDisconnect(!1,t)}},{key:"onIceStateChange",value:function(e,t){var n=this;try{var r="(?)";e&&(r=e.iceConnectionState),"failed"===r&&this.rejectDisconnect(!0,new Error("ICE failure")),"checking"!==r||this.iceTimer||(this.iceTimer=setTimeout(function(){delete n.iceTimer,n.rejectDisconnect(!0,new Error("ICE timeout"))},1e4)),"completed"!==r&&"connected"!==r||(clearTimeout(this.iceTimer),delete this.iceTimer)}catch(e){this.rejectDisconnect(!1,e)}}},{key:"getIceResults",value:function(){var e=this;return new c(function(t,n){for(var r=JSON.parse(JSON.stringify(e.iceServers)),i=0;i<r.length;i++){var a=r[i];r.hasOwnProperty(a)||delete a.credential}var o={turnIpAddress:"",turnIpVersion:"",turnTransport:"",iceServers:r,ipv6Supported:!1,ipv4Supported:!1,relayTlsGathered:!1,relayTcpGathered:!1,relayUdpGathered:!1,srflxGathered:!1,relayTlsSuccess:!1,relayTcpSuccess:!1,relayUdpSuccess:!1,srflxSuccess:!1};for(var s in e.parsedIceResults)e.parsedIceResults.hasOwnProperty(s)&&(o[s]=e.parsedIceResults[s]);e.pctpc1?e.statshandler.getIceCandidates(e.pctpc1).then(function(e){for(var n=0;n<e.iceCandidatePairs.length;n++){var r=e.iceCandidatePairs[n],i="string"==typeof r.googActiveConnection?"true"===r.googActiveConnection:r.googActiveConnection,a="string"==typeof r.selected?"true"===r.selected:r.selected;if(i||a)for(var s=0;s<e.localCandidates.length;s++){var c=e.localCandidates[s],u=null;if(u=c.ip?c.ip:c.address?c.address:c.ipAddress,c.id==r.localCandidateId){var l=-1!==(o.turnIpAddress=u).indexOf(":");o.turnIpVersion=l?"ipv6":"ipv4",o.turnTransport=c.mozLocalTransport}"relay"!==c.candidateType&&"relayed"!==c.candidateType||("udp"===c.mozLocalTransport&&(o.relayUdpSuccess=!0),"tcp"===c.mozLocalTransport&&(o.relayTcpSuccess=!0),"tls"===c.mozLocalTransport&&(o.relayTlsSuccess=!0)),u&&(-1!==u.indexOf(":")?o.ipv6Supported=!0:o.ipv4Supported=!0)}}for(var f=0;f<e.localCandidates.length;f++){var d=e.localCandidates[f];"relay"!==d.candidateType&&"relayed"!==d.candidateType||("udp"===d.mozLocalTransport&&(o.relayUdpGathered=!0),"tcp"===d.mozLocalTransport&&(o.relayTcpGathered=!0),"tls"===d.mozLocalTransport&&(o.relayTlsGathered=!0)),"srflx"!==d.candidateType&&"serverreflexive"!==d.candidateType||(o.srflxGathered=!0)}for(var h=0;h<e.iceCandidatePairs.length;h++){var p=e.iceCandidatePairs[h];if("succeeded"===p.state)for(var v=0;v<e.localCandidates.length;v++){var g=e.localCandidates[v];g.id==p.localCandidateId&&("relay"!==g.candidateType&&"relayed"!==g.candidateType||("udp"===g.mozLocalTransport&&(o.relayUdpSuccess=!0),"tcp"===g.mozLocalTransport&&(o.relayTcpSuccess=!0),"tls"===g.mozLocalTransport&&(o.relayTlsSuccess=!0)),"srflx"!==g.candidateType&&"serverreflexive"!==g.candidateType||(o.srflxSuccess=!0))}}t(o)},function(e){n(e)}):n(new Error("PC not available for stats"))},function(e){reject(e)})}}]),e})();n.TurnConnection=u},{"./utility/parsedIceCandidate":9,"./utility/stats/detectbrowser":11,"./utility/stats/getstatshandler":12,bluebird:1}],7:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){for(var t="",n=0;n<e;n++)t+=String.fromCharCode(35+58*Math.random());return t}Object.defineProperty(n,"__esModule",{value:!0}),n.randomAsciiString=n.MessageMaker=void 0;var a=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("../utility/timestamps")),s=(function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1200;r(this,e),this.message={timestamp:"",sentBytes:1e4,padding:""};var n=i(t-o.getCurrent().toString().length-JSON.stringify(this.message).length);this.message.padding=n}return a(e,[{key:"make",value:function(e){return this.message.timestamp=o.getCurrent(),this.message.sentBytes=e,JSON.stringify(this.message)}}]),e})();n.MessageMaker=s,n.randomAsciiString=i},{"../utility/timestamps":14}],8:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.OnlineCheck=void 0;var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("./timestamps")),o=(function(){function e(){r(this,e),this.active=!1}return i(e,[{key:"start",value:function(){var e=this;this.active=!0,this.onlineCheck=[],window&&window.addEventListener&&"function"==typeof window.addEventListener&&(window.addEventListener("offline",function(){e.addEntry()}),window.addEventListener("online",function(){e.addEntry()}),this.addEntry())}},{key:"addEntry",value:function(){if(this.active){var e=a.getCurrent();if(navigator&&navigator.onLine){var t=navigator.onLine;this.onlineCheck.push({timestamp:e,online:t})}}}},{key:"stop",value:function(){var e=this;return this.active=!1,window&&window.removeEventListener&&"function"==typeof window.removeEventListener&&(window.removeEventListener("offline",function(){e.addEntry()}),window.removeEventListener("online",function(){e.addEntry()})),this.onlineCheck}}]),e})();n.OnlineCheck=o},{"./timestamps":14}],9:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=(function(){function e(t){r(this,e),this.iceCandidateStr=t.candidate,this.parse()}return i(e,[{key:"parse",value:function(){var e=this.iceCandidateStr.split(" ");e.length<8||(this.protocol="1"===e[1]?"rtp":"rtcp",this.transport=e[2],this.typeTransport=this.extractTypeTransport(e[3]),this.ipv6=-1!==e[4].indexOf(":"),this.ipAddress=e[4],this.port=e[5],this.type=e[7])}},{key:"extractTypeTransport",value:function(e){var t="None",n=e>>24;if("rtp"===this.protocol&&0<=n&&n<=2)switch(n){case 0:t="TLS";break;case 1:t="TCP";break;case 2:t="UDP"}return t}},{key:"getString",value:function(){return this.iceCandidateStr}},{key:"getType",value:function(){return this.type}},{key:"isHost",value:function(){return"host"===this.type.toLowerCase()}},{key:"isServerReflexive",value:function(){return"srflx"===this.type.toLowerCase()}},{key:"isPeerReflexive",value:function(){return"prflx"===this.type.toLowerCase()}},{key:"isRelay",value:function(){return"relay"===this.type.toLowerCase()||"relayed"===this.type.toLowerCase()}},{key:"getTypeTransport",value:function(){return this.typeTransport}},{key:"isTypeTransportUdp",value:function(){return"UDP"===this.typeTransport}},{key:"isTypeTransportTcp",value:function(){return"TCP"===this.typeTransport}},{key:"isTypeTransportTls",value:function(){return"TLS"===this.typeTransport}},{key:"getTransport",value:function(){return this.transport}},{key:"isUdp",value:function(){return"udp"===this.transport.toLowerCase()}},{key:"isTcp",value:function(){return"tcp"===this.transport.toLowerCase()}},{key:"getProtocol",value:function(){return this.protocol}},{key:"isRtp",value:function(){return"rtp"===this.protocol}},{key:"isRtcp",value:function(){return"rtcp"===this.protocol}},{key:"isIpv6",value:function(){return this.ipv6}},{key:"getIpAddress",value:function(){return this.ipAddress}},{key:"getPort",value:function(){return this.port}}]),e})();n.ParsedIceCandidate=a},{}],10:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.ResultsHandler=void 0;var i="function"==typeof Symbol&&"symbol"==typeof("function"==typeof Symbol?Symbol.iterator:"@@iterator")?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==("function"==typeof Symbol?Symbol.prototype:"@@prototype")?"symbol":typeof e},a=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("./timestamps")),s=e("./messageMaker"),c={success:"success",stopped:"stopped",failed:"failed"},u=(function(){function e(){r(this,e),this.start=o.getCurrent(),this.id=Math.trunc(this.start)+"-"+(0,s.randomAsciiString)(20),this.version="1.4.4",this.failures=[],this.results={},this.status=c.success,this.provider="callstats"}return a(e,[{key:"setStatusStopped",value:function(){this.status!==c.failed&&(this.status=c.stopped)}},{key:"setStatusFailed",value:function(){this.status=c.failed}},{key:"setStatusSuccess",value:function(){this.status!==c.stopped&&(this.status=c.success)}},{key:"setProvider",value:function(e){e&&(this.provider=e)}},{key:"getResults",value:function(){return{id:this.id,version:this.version,status:this.status,startTimestamp:this.start,endTimestamp:o.getCurrent(),failures:this.failures,tests:this.results,provider:this.provider}}},{key:"getFailureNumber",value:function(){return this.failures.length}},{key:"getId",value:function(){return this.id}},{key:"add",value:function(e,t){(this.results[e]=t).hasOwnProperty("forceStopped")&&1==t.forceStopped&&this.setStatusStopped()}},{key:"failure",value:function(e){"object"===(void 0===e?"undefined":i(e))&&(e=e.toString());var t={timestamp:o.getCurrent(),reason:e};this.failures.push(t)}}]),e})();n.ResultsHandler=u},{"./messageMaker":7,"./timestamps":14}],11:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.detect=function(){var e=r.browserName.chrome,t=null,n=null,i=null,a=null,o=r.codeBaseType.chrome;if(window&&(!window.navigator||!window.navigator.userAgent||window.csioReactNative))return window&&window.csioGetOsName&&(t=window.csioGetOsName()),window&&window.csioGetOsVer&&(n=window.csioGetOsVer()),window&&window.csioReactNative&&(i="react-native"),{browserName:e,codeBase:o,os:t,osVersion:n,userAgent:i};var s=(i=navigator.userAgent).toLowerCase(),c=void 0,u=void 0;(a=navigator.appVersion)&&(c=a.toLowerCase(),u=""+parseFloat(c));var l=void 0,f="Version";-1!==(l=s.indexOf("opera"))?(e=r.browserName.opera,u=s.substring(l+6),-1!==(l=s.indexOf(f))&&(u=s.substring(l+8)),o=r.codeBaseType.chrome):-1!==(l=s.indexOf("opr"))?(e=r.browserName.opera,u=s.substring(l+4),-1!==(l=s.indexOf(f))&&(u=s.substring(l+8)),o=r.codeBaseType.chrome):-1!==(l=s.indexOf("msie"))?(e=r.browserName.msie,u=s.substring(l+5),o=r.codeBaseType.chrome):-1!==(l=s.indexOf("edge"))?(e=r.browserName.edge,u=s.substring(l+5),o=r.codeBaseType.edge):-1!==(l=s.indexOf("chrome"))?(e=r.browserName.chrome,u=s.substring(l+7),o=r.codeBaseType.chrome):-1!==(l=s.indexOf("safari"))?(e=r.browserName.safari,u=s.substring(l+7),-1!==(l=s.indexOf(f))&&(u=s.substring(l+8)),o=r.codeBaseType.chrome):-1!==(l=s.indexOf("firefox"))?(e=r.browserName.firefox,u=s.substring(l+8),o=r.codeBaseType.firefox):-1!==(l=s.indexOf("trident"))&&(e=r.browserName.msie,l=s.indexOf("rv"),u=s.substring(l+3,l+7),o=r.codeBaseType.chrome);var d=[{s:"Windows 3.11",r:/win16/},{s:"Windows 95",r:/(windows 95|win95|windows_95)/},{s:"Windows ME",r:/(win 9x 4.90|windows me)/},{s:"Windows 98",r:/(windows 98|win98)/},{s:"Windows CE",r:/windows ce/},{s:"Windows 2000",r:/(windows nt 5.0|windows 2000)/},{s:"Windows XP",r:/(windows nt 5.1|windows xp)/},{s:"Windows Server 2003",r:/windows nt 5.2/},{s:"Windows Vista",r:/windows nt 6.0/},{s:"Windows 7",r:/(windows 7|windows nt 6.1)/},{s:"Windows 8.1",r:/(windows 8.1|windows nt 6.3)/},{s:"Windows 8",r:/(windows 8|windows nt 6.2)/},{s:"Windows 10",r:/(windows 10|windows nt 10.0)/},{s:"Windows NT 4.0",r:/(windows nt 4.0|winnt4.0|winnt|windows nt)/},{s:"Windows ME",r:/windows me/},{s:"Android",r:/android/},{s:"Open BSD",r:/openbsd/},{s:"Sun OS",r:/sunos/},{s:"Linux",r:/(linux|x11)/},{s:"iOS",r:/(iphone|ipad|ipod)/},{s:"Mac OS X",r:/mac os x/},{s:"Mac OS",r:/(macppc|macintel|mac_powerpc|macintosh)/},{s:"QNX",r:/qnx/},{s:"UNIX",r:/unix/},{s:"BeOS",r:/beos/},{s:"OS/2",r:/os\/2/},{s:"Search Bot",r:/(nuhk|googlebot|yammybot|openbot|slurp|msnbot|ask jeeves\/teoma|ia_archiver)/}],h=void 0,p=void 0;for(h in d)if(d.hasOwnProperty(h)&&(p=d[h]).r.test(s)){t=p.s;break}switch(t&&/Windows/.test(t)&&(n=/Windows (.*)/.exec(t)[1],t=r.osName.windows),t){case r.osName.mac:n=/mac os x (10[\.\_\d]+)/.exec(s)[1];break;case r.osName.android:n=/android ([\.\_\d]+)/.exec(s)[1];break;case r.osName.ios:if(!c)break;if(!(n=/os (\d+)_(\d+)_?(\d+)?/.exec(c)))break;n=n[1]+"."+n[2]+"."+(0|n[3])}return{browserName:e,browserVersion:u.toString(),os:t,osVersion:n,codeBase:o,userAgent:i}};var r=n.Constants={codeBaseType:{chrome:"Chrome",firefox:"Firefox",edge:"Edge",plugin:"Plugin"},browserName:{chrome:"Chrome",firefox:"Firefox",edge:"Edge",msie:"Microsoft Internet Explorer",safari:"Safari"},osName:{windows:"Windows",mac:"Mac OS X",android:"Android",ios:"iOS"}}},{}],12:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.GetStatsHandler=void 0;var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=e("./detectbrowser"),o=e("./statsadapter"),s=e("bluebird"),c=(function(){function e(t){r(this,e),this.codeBase=t.codeBase,this.browserName=t.browserName,this.adapter=new o.StatsAdapter(this.codeBase,this.browserName),this.isPromiseBased=!0}return i(e,[{key:"getIceCandidates",value:function(e){var t=this;return new s(function(n,r){t.csioGetStats(t.iceCandidatesHandler.bind(t),e,function(e){n(e)})})}},{key:"iceCandidatesHandler",value:function(e,t){t(this.adapter.getIceCandidates(e))}},{key:"csioGetStats",value:function(e,t,n){var r=a.Constants.codeBaseType.firefox,i=a.Constants.codeBaseType.chrome,o=a.Constants.codeBaseType.edge,s=a.Constants.browserName.safari;t&&(this.codeBase===r?this.getStatsFirefox(e,t,n):this.browserName===s?this.getStatsSafari(e,t,n):this.codeBase===i?this.getStatsChrome(e,t,n):this.codeBase===o&&this.getStatsEdge(e,t,n))}},{key:"getStatsFirefox",value:function(e,t,n){var r=this;if(r.isPromiseBased)try{t.getStats().then(function(t){e(t,n)}).catch(function(i){r.isPromiseBased=!1,t.getStats(null,function(t){e(t,n)},function(){})})}catch(i){r.isPromiseBased=!1,t.getStats(null,function(t){e(t,n)},function(){})}else t.getStats(null,function(t){e(t,n)},function(){})}},{key:"getStatsChrome",value:function(e,t,n){var r=this;if(window&&window.csioReactNative)t.getStats(null,function(t){e(t,n)},function(e){});else if(r.isPromiseBased)try{t.getStats().then(function(t){e(t,n)}).catch(function(i){r.isPromiseBased=!1,t.getStats(function(t){e(t,n)})})}catch(i){r.isPromiseBased=!1,t.getStats(function(t){e(t,n)})}else t.getStats(function(t){e(t,n)})}},{key:"getStatsEdge",value:function(e,t,n){t.getStats().then(function(t){e(t,n)}).catch(function(e){})}},{key:"getStatsSafari",value:function(e,t,n){t.getStats().then(function(t){e(t,n)}).catch(function(e){})}}]),e})();n.GetStatsHandler=c},{"./detectbrowser":11,"./statsadapter":13,bluebird:1}],13:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.StatsAdapter=void 0;var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=e("./detectbrowser"),o=(function(){function e(t,n){r(this,e),this.codeBase=t,this.browser=n}return i(e,[{key:"getIceCandidates",value:function(e){if(!e)return{localCandidates:[],remoteCandidates:[],iceCandidatePairs:[]};var t=this.extractRawStats(e);return this.processRawStatsForIceInfo(t)}},{key:"extractRawStats",value:function(e){var t=[],n=void 0,r=a.Constants.codeBaseType.firefox,i=a.Constants.codeBaseType.chrome,o=a.Constants.browserName.safari;if(this.codeBase===r&&this.browser!==o)e.forEach(function(e){t.push(e)});else if(this.codeBase===i&&this.browser!==o)e&&e.result?t=e.result():e&&e.forEach&&(t=[],e.forEach(function(e){t.push(e)}));else for(n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t}},{key:"processRawStatsForIceInfo",value:function(e){var t=[],n=[],r=[],i=void 0;if(!e)return{localCandidates:t,remoteCandidates:n,iceCandidatePairs:r};for(var a=0;a<e.length;++a){var o=this.getParsedStats(e[a]),s=this.statsClassifier(o);if(s.candidatePair)r.push(s.candidatePair);else if(s.transportStats){if("transport"===s.transportStats.type){i=s.transportStats.selectedCandidatePairId;continue}r.push(s.transportStats)}else if(s.localCandidate){var c=s.localCandidate;if("relay"==c.candidateType||"relayed"==c.candidateType){if(!c.mozLocalTransport){var u=c.priority>>24;c.mozLocalTransport=this.formatRelayType(u)}c.mozLocalTransport=c.mozLocalTransport.toLowerCase()}t.push(c)}else s.remoteCandidate&&n.push(s.remoteCandidate)}if(i)for(var l=0;l<r.length;++l)r[l].id===i&&(r[l].googActiveConnection="true");return{localCandidates:t,remoteCandidates:n,iceCandidatePairs:r}}},{key:"getParsedStats",value:function(e){var t={};if(e.timestamp instanceof Date&&(t.timestamp=e.timestamp.getTime().toString()),e.type&&(t.type=e.type),e.names)for(var n=e.names(),r=0;r<n.length;++r)t[n[r]]=e.stat(n[r]);else s(t,e);if(t.values){for(var i=0;i<t.values.length;i++){var a=t.values[i];s(t,a)}delete t.values}return t}},{key:"statsClassifier",value:function(e){var t={},n=function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;i++){var a=n[i];if(e.type===a)return!0}return!1},r=n("inbound-rtp","inboundrtp"),i="true"===e.isRemote||!0===e.isRemote;return r||n("outbound-rtp","outboundrtp")?(t.tracks={},t.tracks.data=e,t.tracks.ssrc=e.ssrc,t.tracks.streamType=r?"inbound":"outbound",t.tracks.reportType="local",void 0!==e.isRemote&&(t.tracks.reportType=i?"remote":"local")):n("candidatepair")&&e.selected?t.transportStats=e:n("localcandidate","local-candidate")?t.localCandidate=e:n("remotecandidate","remote-candidate")?t.remoteCandidate=e:n("transport","googCandidatePair")?t.transportStats=e:n("VideoBwe")?t.bwe=e:n("track")?t.trackStats=e:n("candidate-pair")?t.candidatePair=e:n("codec")?t.codec=e:n("ssrc")&&(t.tracks={},t.tracks.data=e,t.tracks.ssrc=e.ssrc,t.tracks.reportType="local",t.tracks.streamType=e.bytesSent?"outbound":"inbound"),t}},{key:"formatRelayType",value:function(e){var t="none";switch(e){case 0:t="tls";break;case 1:t="tcp";break;case 2:t="udp"}return t}}]),e})();n.StatsAdapter=o},{"./detectbrowser":11}],14:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getCurrent=function(){return window&&window.performance&&window.performance.now&&window.performance.timing&&window.performance.timing.navigationStart?window.performance.now()+window.performance.timing.navigationStart:Date.now()}},{}],15:[function(e,t,n){function r(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function a(e){if(f===setTimeout)return setTimeout(e,0);if((f===r||!f)&&setTimeout)return f=setTimeout,setTimeout(e,0);try{return f(e,0)}catch(t){try{return f.call(null,e,0)}catch(t){return f.call(this,e,0)}}}function o(e){if(d===clearTimeout)return clearTimeout(e);if((d===i||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function s(){g&&p&&(g=!1,p.length?v=p.concat(v):y=-1,v.length&&c())}function c(){if(!g){var e=a(s);g=!0;for(var t=v.length;t;){for(p=v,v=[];++y<t;)p&&p[y].run();y=-1,t=v.length}p=null,g=!1,o(e)}}function u(e,t){this.fun=e,this.array=t}function l(){}var f,d,h=t.exports={};!(function(){try{f="function"==typeof setTimeout?setTimeout:r}catch(e){f=r}try{d="function"==typeof clearTimeout?clearTimeout:i}catch(e){d=i}})();var p,v=[],g=!1,y=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];v.push(new u(e,t)),1!==v.length||g||a(c)},u.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=l,h.addListener=l,h.once=l,h.off=l,h.removeListener=l,h.removeAllListeners=l,h.emit=l,h.prependListener=l,h.prependOnceListener=l,h.listeners=function(e){return[]},h.binding=function(e){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(e){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},{}],16:[function(e,t,n){(function(t,r){function i(e,t){this._id=e,this._clearFn=t}var a=e("process/browser.js").nextTick,o=Function.prototype.apply,s=Array.prototype.slice,c={},u=0;n.setTimeout=function(){return new i(o.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new i(o.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},n.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n.setImmediate="function"==typeof t?t:function(e){var t=u++,r=!(arguments.length<2)&&s.call(arguments,1);return c[t]=!0,a(function(){c[t]&&(r?e.apply(null,r):e.call(null),n.clearImmediate(t))}),t},n.clearImmediate="function"==typeof r?r:function(e){delete c[e]}}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":15,timers:16}],17:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=(function(){function e(){var t=this;r(this,e),this.batteryManager=null,"function"==typeof navigator.getBattery&&navigator.getBattery().then(function(e){t.batteryManager=e})}return i(e,[{key:"getLevel",value:function(){return this.batteryManager?this.batteryManager.level:-1}},{key:"getCharging",value:function(){return this.batteryManager?this.batteryManager.charging:null}}]),e})();n.Battery=a},{}],18:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.detect=function(){var e=r.browserName.chrome,t=null,n=null,i=null,a=null,o=r.codeBaseType.chrome;if(!window.navigator.userAgent||window.csioReactNative)return window&&window.csioGetOsName&&(t=window.csioGetOsName()),window&&window.csioGetOsVer&&(n=window.csioGetOsVer()),window&&window.csioReactNative&&(i="react-native"),{browserName:e,codeBase:o,os:t,osVersion:n,userAgent:i,browserVersion:null};var s=(i=navigator.userAgent).toLowerCase(),c=void 0,u=void 0;(a=navigator.appVersion)&&(c=a.toLowerCase(),u=""+parseFloat(c));var l=void 0;-1!==(l=s.indexOf("opera"))?(e=r.browserName.opera,u=s.substring(l+6),-1!==(l=s.indexOf("Version"))&&(u=s.substring(l+8)),o=r.codeBaseType.chrome):-1!==(l=s.indexOf("opr"))?(e=r.browserName.opera,u=s.substring(l+4),-1!==(l=s.indexOf("Version"))&&(u=s.substring(l+8)),o=r.codeBaseType.chrome):-1!==(l=s.indexOf("msie"))?(e=r.browserName.msie,u=s.substring(l+5),o=r.codeBaseType.chrome):-1!==(l=s.indexOf("edge"))?(e=r.browserName.edge,u=s.substring(l+5),o=r.codeBaseType.edge):-1!==(l=s.indexOf("chrome"))?(e=r.browserName.chrome,u=s.substring(l+7),o=r.codeBaseType.chrome):-1!==(l=s.indexOf("safari"))?(e=r.browserName.safari,u=s.substring(l+7),-1!==(l=s.indexOf("Version"))&&(u=s.substring(l+8)),o=r.codeBaseType.chrome):-1!==(l=s.indexOf("firefox"))?(e=r.browserName.firefox,u=s.substring(l+8),o=r.codeBaseType.firefox):-1!==(l=s.indexOf("trident"))&&(e=r.browserName.msie,l=s.indexOf("rv"),u=s.substring(l+3,l+7),o=r.codeBaseType.chrome);var f=[{s:"Windows 3.11",r:/win16/},{s:"Windows 95",r:/(windows 95|win95|windows_95)/},{s:"Windows ME",r:/(win 9x 4.90|windows me)/},{s:"Windows 98",r:/(windows 98|win98)/},{s:"Windows CE",r:/windows ce/},{s:"Windows 2000",r:/(windows nt 5.0|windows 2000)/},{s:"Windows XP",r:/(windows nt 5.1|windows xp)/},{s:"Windows Server 2003",r:/windows nt 5.2/},{s:"Windows Vista",r:/windows nt 6.0/},{s:"Windows 7",r:/(windows 7|windows nt 6.1)/},{s:"Windows 8.1",r:/(windows 8.1|windows nt 6.3)/},{s:"Windows 8",r:/(windows 8|windows nt 6.2)/},{s:"Windows 10",r:/(windows 10|windows nt 10.0)/},{s:"Windows NT 4.0",r:/(windows nt 4.0|winnt4.0|winnt|windows nt)/},{s:"Windows ME",r:/windows me/},{s:"Android",r:/android/},{s:"Open BSD",r:/openbsd/},{s:"Sun OS",r:/sunos/},{s:"Linux",r:/(linux|x11)/},{s:"iOS",r:/(iphone|ipad|ipod)/},{s:"Mac OS X",r:/mac os x/},{s:"Mac OS",r:/(macppc|macintel|mac_powerpc|macintosh)/},{s:"QNX",r:/qnx/},{s:"UNIX",r:/unix/},{s:"BeOS",r:/beos/},{s:"OS/2",r:/os\/2/},{s:"Search Bot",r:/(nuhk|googlebot|yammybot|openbot|slurp|msnbot|ask jeeves\/teoma|ia_archiver)/}],d=void 0,h=void 0;for(d in f)if(f.hasOwnProperty(d)&&(h=f[d]).r.test(s)){t=h.s;break}switch(t&&/Windows/.test(t)&&(n=/Windows (.*)/.exec(t)[1],t=r.osName.windows),t){case r.osName.mac:n=/mac os x (10[\.\_\d]+)/.exec(s)[1];break;case r.osName.android:n=/android ([\.\_\d]+)/.exec(s)[1];break;case r.osName.ios:if(!c)break;if(!(n=/os (\d+)_(\d+)_?(\d+)?/.exec(c)))break;n=n[1]+"."+n[2]+"."+(0|n[3])}return{browserName:e,browserVersion:u.toString(),os:t,osVersion:n,codeBase:o,userAgent:i}};var r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("../config/constants"))},{"../config/constants":36}],19:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.Devices=void 0;var a=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=r(e("../config/constants")),s=e("../utility/registry"),c=r(e("../utility/csiologger")),u=r(e("../utility/utils")),l=(function(){function e(t,n){i(this,e),this.conferenceId=t,this.pc=n,this.devices=null,this.emb=s.Registry.getEventMessageBuilder()}return a(e,[{key:"collectConnected",value:function(){var e=this;if(navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices){var t=this;navigator.mediaDevices.enumerateDevices().then(function(n){var r=u.normalizeMediaDeviceList(n);t.sendConnected(r),setTimeout(e.collectConnected.bind(t),1e4)}).catch(function(n){setTimeout(e.collectConnected.bind(t),1e4)})}}},{key:"sendConnected",value:function(e){this.devices&&this.compare(e)||(this.devices=e,this.send())}},{key:"compare",value:function(e){return self.devices.sort().toString()===e.sort().toString()}},{key:"send",value:function(){var e={mediaDeviceList:this.devices};c.log("sending connectedDevice",o.internalFabricEvent.connectedDeviceList,e),this.emb.make(o.internalFabricEvent.connectedDeviceList,this.conferenceId,this.pc,e)}}]),e})();n.Devices=l},{"../config/constants":36,"../utility/csiologger":92,"../utility/registry":100,"../utility/utils":106}],20:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.store=function(e,t){if(t)try{window&&window.localStorage&&window.localStorage.setItem(e,t)}catch(e){return}},n.get=function(e){try{if(window&&window.localStorage)return window.localStorage.getItem(e)}catch(e){return null}return null},n.remove=function(e){try{window&&window.localStorage&&window.localStorage.removeItem(e)}catch(e){return}}},{}],21:[function(e,t,n){"use strict";function r(e,t){if(t)try{window&&window.sessionStorage&&window.sessionStorage.setItem(e,t)}catch(e){return}}function i(e){try{if(window&&window.sessionStorage)return window.sessionStorage.getItem(e)}catch(e){return null}return null}Object.defineProperty(n,"__esModule",{value:!0}),n.store=r,n.get=i,n.remove=function(e){try{window&&window.sessionStorage&&window.sessionStorage.removeItem(e)}catch(e){return}},n.storeUcId=function(e,t){if(e){var n=JSON.parse(i("csio_ucid_data"));n||(n={}),n[e]||(n[e]={}),n[e].ucID=t,r("csio_ucid_data",JSON.stringify(n))}},n.getUcId=function(e){if(!e)return null;var t=JSON.parse(i("csio_ucid_data"));return t&&t[e]?t[e].ucID:null}},{}],22:[function(t,n,r){(function(e){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){var n={};return n.status=e,t&&(n.message=t),n}function o(e,t){return e+": "+t+" "+(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"")}function s(){var e=null,t=v.Registry.getEndpoint().getBrowserName();return"Firefox"===t?e=mozRTCPeerConnection:"Chrome"===t||"Opera"===t?e=webkitRTCPeerConnection:"Safari"===t?g.log("Browser type Safari"):"Edge"===t&&(e=window.RTCPeerConnection),e}function c(e){if(null===e)return!1;var t=v.Registry.getEndpoint().getCodeBase();if(t===f.codeBaseType.firefox)return"undefined"!=typeof mozRTCPeerConnection&&e instanceof mozRTCPeerConnection||"undefined"!=typeof RTCPeerConnection&&e instanceof RTCPeerConnection;if(t===f.codeBaseType.edge||"function"==typeof e)return!0;var n=s();return null!==n&&e instanceof n||void 0!==e.createOffer}var u="function"==typeof Symbol&&"symbol"==typeof("function"==typeof Symbol?Symbol.iterator:"@@iterator")?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==("function"==typeof Symbol?Symbol.prototype:"@@prototype")?"symbol":typeof e},l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),f=n(t("./config/constants")),d=n(t("./config/settings")),h=t("./config/callstatserrors"),p=t("./fsm/mainfsm"),v=t("./utility/registry"),g=n(t("./utility/csiologger")),y=n(t("./utility/onerroreventlistner")),m=n(t("./utility/utils"));y.setErrorEventListener(),m.assignPollyfill(),m.isIntegerPollyfill();var b=null,S=(function(){function e(){r(this,e),b=new p.MainFSM}return l(e,[{key:"initialize",value:function(e,t,n,r,i,s){if(!e||!n||!t){var c=o("initialize",h.csErrorStrings.argumentError);return g.error(c),a(f.callstatsAPIReturnStatus.failure,c)}if(r&&"function"!=typeof r){var u=o("initialize",h.csErrorStrings.argumentError);g.warn(u),r=null}if(i&&"function"!=typeof i){var l=o("initialize",h.csErrorStrings.argumentError);g.warn(l),i=null}if("function"!=typeof t&&!(window.crypto&&(window.crypto.subtle||window.crypto.webkitSubtle)||window.msCrypto&&window.msCrypto.subtle||window.csioReactNative)){var d=o("initialize",h.csErrorStrings.cryptoError);return g.error(d),r&&r(h.csError.tokenGenerationError,h.csErrorStrings.cryptoError),a(f.callstatsAPIReturnStatus.failure,d)}try{b.fire(p.MainEvents.onInitialize,e,n,t,r,i,s),b.run()}catch(e){v.Registry.getGenericEventHandler().sendEvent(f.logEvents.error,{msg:"initialize: Error",error:e.message+":"+e.stack}),g.error("initialize: Error",e)}return a(f.callstatsAPIReturnStatus.success)}},{key:"addNewFabric",value:function(e,t,n,r,i,s){var u=null,l=f.endpointType.peer,d=f.transmissionDirection.sendrecv;if(void 0===t){var y=o("addNewFabric",h.csErrorStrings.argumentError);return g.error(y),a(f.callstatsAPIReturnStatus.failure,y)}if(void 0===r){var m=o("addNewFabric",h.csErrorStrings.argumentError);return g.error(m),a(f.callstatsAPIReturnStatus.failure,m)}if(r||(r=f.tmpConferenceId),!e||!n){var S=o("addNewFabric",h.csErrorStrings.argumentError);return g.error(S),a(f.callstatsAPIReturnStatus.failure,S)}if(s&&"function"==typeof s&&(u=s),i&&"function"==typeof i&&(u=i),i&&"function"!=typeof i){if(i.remoteEndpointType){if(!f.endpointType.hasOwnProperty(i.remoteEndpointType)){var k=o("addNewFabric",h.csErrorStrings.invalidEndPointType,i.remoteEndpointType);return g.error(k),a(f.callstatsAPIReturnStatus.failure,k)}l=i.remoteEndpointType}if(i.fabricTransmissionDirection){if(!f.transmissionDirection.hasOwnProperty(i.fabricTransmissionDirection)){var w=o("addNewFabric",h.csErrorStrings.invalidTransmissionDirection,i.fabricTransmissionDirection);return g.error(w),a(f.callstatsAPIReturnStatus.failure,w)}d=i.fabricTransmissionDirection}}if(!f.fabricUsage.hasOwnProperty(n)||n instanceof Function){var C=o("addNewFabric",h.csErrorStrings.fabricUsageInvalid,n);return g.error(C),a(f.callstatsAPIReturnStatus.failure,C)}if(!c(e)){var _=o("addNewFabric",h.csErrorStrings.pcInvalid);return g.error(_),a(f.callstatsAPIReturnStatus.failure,_)}var T=v.Registry.getConferenceManager().get(r);if(T&&T.getPeerConnectionManager().getPcHandler(e))return a(f.callstatsAPIReturnStatus.success);if(!v.Registry.getCredentials().getAppId()||!v.Registry.getCredentials().getUserId()){var P=o("addNewFabric",h.csErrorStrings.notInitialized);return g.error(P),a(f.callstatsAPIReturnStatus.failure,P)}try{b.fire(p.MainEvents.onAddNewFabric,e,t,n,r,l,d,u),b.run()}catch(e){v.Registry.getGenericEventHandler().sendEvent(f.logEvents.error,{msg:"addNewFabric: Error",error:e.message+":"+e.stack}),g.error("addNewFabric: Error",e)}return a(f.callstatsAPIReturnStatus.success)}},{key:"sendFabricEvent",value:function(e,t,n,r){if(g.log("sendFabricEvent ",t),n||(n=f.tmpConferenceId),!e||!t){var i=o("sendFabricEvent",h.csErrorStrings.argumentError);return g.error(i),a(f.callstatsAPIReturnStatus.failure,i)}if(t===f.fabricEvent.fabricSetupFailed){var s=o("sendFabricEvent",h.csErrorStrings.fabricEventUnsupported,t);return g.error(s),a(f.callstatsAPIReturnStatus.failure,s)}if(!f.fabricEvent.hasOwnProperty(t)&&!f.internalFabricEvent.hasOwnProperty(t)){var c=o("sendFabricEvent",h.csErrorStrings.fabricEventInvalid,t);return g.error(c),a(f.callstatsAPIReturnStatus.failure,c)}if(!(t!==f.fabricEvent.activeDeviceList||r&&r.deviceList)){var u=o("sendFabricEvent ",h.csErrorStrings.argumentError);return g.error(u),a(f.callstatsAPIReturnStatus.failure,u)}var l=v.Registry.getConferenceManager().get(n);if(!v.Registry.getCredentials().getAppId()||!v.Registry.getCredentials().getUserId()||!l){var d=o("sendFabricEvent ",h.csErrorStrings.notInitialized);return g.error(d),a(f.callstatsAPIReturnStatus.failure,d)}if(!l.getPeerConnectionManager().getPcHandler(e)){var y=o("sendFabricEvent ",h.csErrorStrings.pcInvalid);return g.error(y),a(f.callstatsAPIReturnStatus.failure,y)}try{b.fire(p.MainEvents.onSendFabricEvent,e,t,n,r),b.run()}catch(e){v.Registry.getGenericEventHandler().sendEvent(f.logEvents.error,{msg:"sendFabricEvent: Error",error:e.message+":"+e.stack}),g.error("sendFabricEvent: Error",e)}return a(f.callstatsAPIReturnStatus.success)}},{key:"sendCallDetails",value:function(e,t,n){if(g.log("sendCallDetails "),t||(t=f.tmpConferenceId),!e||!n){console.log("sendCallDetails invalid pc eventData");var r=o("sendCallDetails",h.csErrorStrings.argumentError);return g.error(r),a(f.callstatsAPIReturnStatus.failure,r)}if(n.callType||(n.callType=f.callType.unknown),!n.role){console.log("sendCallDetails invalid pc eventData");var i=o("sendCallDetails",h.csErrorStrings.argumentError);return g.error(i),a(f.callstatsAPIReturnStatus.failure,i)}if(n.callType&&!f.callType.hasOwnProperty(n.callType)){console.log("sendCallDetails invalid eventData",n);var s=o("sendCallDetails",h.csErrorStrings.argumentError);return g.error(s),a(f.callstatsAPIReturnStatus.failure,s)}if(n.role&&!f.roles.hasOwnProperty(n.role)){console.log("sendCallDetails invalid eventData",n);var c=o("sendCallDetails",h.csErrorStrings.argumentError);return g.error(c),a(f.callstatsAPIReturnStatus.failure,c)}try{b.fire(p.MainEvents.onSendCallDetails,e,t,n),b.run()}catch(e){v.Registry.getGenericEventHandler().sendEvent(f.logEvents.error,{msg:"sendCallDetails: Error",error:e.message+":"+e.stack}),g.error("sendCallDetails: Error",e)}return a(f.callstatsAPIReturnStatus.success)}},{key:"sendUserFeedback",value:function(e,t,n){if(!t||!e){var r=o("sendUserFeedback",h.csErrorStrings.argumentError);return g.error(r),n&&"function"==typeof n&&n(f.callstatsAPIReturnStatus.failure,r),a(f.callstatsAPIReturnStatus.failure,r)}if("object"!==(void 0===t?"undefined":u(t))){var i=o("sendUserFeedback",h.csErrorStrings.argumentError);return g.error(i),n&&"function"==typeof n&&n(f.callstatsAPIReturnStatus.failure,i),a(f.callstatsAPIReturnStatus.failure,i)}if(0===Object.keys(t).length){var s=o("sendUserFeedback",h.csErrorStrings.argumentError);return g.error(s),n&&"function"==typeof n&&n(f.callstatsAPIReturnStatus.failure,s),a(f.callstatsAPIReturnStatus.failure,s)}try{b.fire(p.MainEvents.onSendUserFeedback,e,t,n),b.run()}catch(e){v.Registry.getGenericEventHandler().sendEvent(f.logEvents.error,{msg:"sendUserFeedback: Error",error:e.message+":"+e.stack}),g.error("sendUserFeedback: Error",e)}return n&&"function"==typeof n&&n(f.callstatsAPIReturnStatus.success,"userFeedback Event sent successfully"),a(f.callstatsAPIReturnStatus.success)}},{key:"associateMstWithUserID",value:function(e,t,n,r,i,s){if(n||(n=f.tmpConferenceId),!e||!r||!i){var u=o("associateMstWithUserID",h.csErrorStrings.argumentError);return g.error(u),a(f.callstatsAPIReturnStatus.failure,u)}if(!c(e)){var l=o("associateMstWithUserID",h.csErrorStrings.pcInvalid);return g.error(l),a(f.callstatsAPIReturnStatus.failure,l)}var d=v.Registry.getConferenceManager().get(n);if(!d){var y=o("associateMstWithUserID",h.csErrorStrings.confereneDoesNotExist);return g.error(y),a(f.callstatsAPIReturnStatus.failure,y)}if(!d.getPeerConnectionManager().getPcHandler(e)){var m=o("associateMstWithUserID",h.csErrorStrings.pcInvalid);return g.error(m),a(f.callstatsAPIReturnStatus.failure,m)}s&&"string"!=typeof s&&(g.error("associateMstWithUserID: Invalid videoTag"),s=null);try{b.fire(p.MainEvents.onAssociateMstWithUserID,e,t,n,r,i,s),b.run()}catch(e){v.Registry.getGenericEventHandler().sendEvent(f.logEvents.error,{msg:"associateMstWithUserID: Error",error:e.message+":"+e.stack}),g.error("associateMstWithUserID: Error",e)}return a(f.callstatsAPIReturnStatus.success)}},{key:"reportError",value:function(e,t,n,r,i,s){if(t||(t=f.tmpConferenceId),void 0===e||!n){var c=o("reportError",h.csErrorStrings.argumentError);return g.error(c),a(f.callstatsAPIReturnStatus.failure,c)}if(!f.webRTCFunctions.hasOwnProperty(n)){var u=o("reportError",h.csErrorStrings.webRTCFunctionsInvalid,n);return g.error(u),a(f.callstatsAPIReturnStatus.failure,u)}if(void 0===r&&g.warn("reportError: Missing DOM error parameter"),!v.Registry.getCredentials().getAppId()||!v.Registry.getCredentials().getUserId()){var l=o("reportError",h.csErrorStrings.notInitialized);return g.error(l),a(f.callstatsAPIReturnStatus.failure,l)}try{b.fire(p.MainEvents.onReportError,e,t,n,r,i,s),b.run()}catch(e){v.Registry.getGenericEventHandler().sendEvent(f.logEvents.error,{msg:"reportError: Error",error:e.message+":"+e.stack}),g.error("reportError: Error",e)}return a(f.callstatsAPIReturnStatus.success)}},{key:"setProxyConfig",value:function(e){if(window&&!window.csioproxy){var t=o("setProxyConfig",h.csErrorStrings.setProxyConfigInvokeError);return g.error(t),a(f.callstatsAPIReturnStatus.failure,t)}if(!e){var n=o("setProxyConfig",h.csErrorStrings.argumentError);return g.error(n),a(f.callstatsAPIReturnStatus.failure,n)}try{b.fire(p.MainEvents.onSetProxyConfig,e),b.run()}catch(e){v.Registry.getGenericEventHandler().sendEvent(f.logEvents.error,{msg:"setProxyConfig: Error",error:e.message+":"+e.stack}),g.error("setProxyConfig: Error",e)}return a(f.callstatsAPIReturnStatus.success)}},{key:"attachWifiStatsHandler",value:function(e){if(!e){var t=o("attachWifiStatsHandler",h.csErrorStrings.argumentError);return g.error(t),a(f.callstatsAPIReturnStatus.failure,t)}if("function"!=typeof e){var n=o("attachWifiStatsHandler",h.csErrorStrings.argumentError);return g.error(n),a(f.callstatsAPIReturnStatus.failure,n)}try{b.fire(p.MainEvents.onAttachWifiStatsHandler,e),b.run()}catch(e){v.Registry.getGenericEventHandler().sendEvent(f.logEvents.error,{msg:"attachWifiStatsHandler: Error",error:e.message+":"+e.stack}),g.error("attachWifiStatsHandler: Error",e)}return a(f.callstatsAPIReturnStatus.success)}},{key:"setIdentifiers",value:function(e,t){if(!e){var n=o("setIdentifiers",h.csErrorStrings.argumentError);return g.error(n),a(f.callstatsAPIReturnStatus.failure,n)}try{b.fire(p.MainEvents.onSetIdentifiers,e,t),b.run()}catch(e){v.Registry.getGenericEventHandler().sendEvent(f.logEvents.error,{msg:"setIdentifiers: Error",error:e.message+":"+e.stack}),g.error("setIdentifiers: Error",e)}return a(f.callstatsAPIReturnStatus.success)}},{key:"makePrecallTest",value:function(e,t){if(!v.Registry.getAuthenticator().getToken()||!v.Registry.getCredentials().getAppId()){var n=o("makePrecallTest",h.csErrorStrings.notInitialized);return g.error(n),a(f.callstatsAPIReturnStatus.failure,n)}if(!v.Registry.getAuthenticator().getIceServers()){var r=o("makePrecallTest",h.csErrorStrings.notInitialized);return g.error(r),a(f.callstatsAPIReturnStatus.failure,r)}if(!v.Registry.getCredentials().getCollectSDP()){var i=o("makePrecallTest",h.csErrorStrings.apiaccesserror);return g.error(i),a(f.callstatsAPIReturnStatus.failure,i)}try{b.fire(p.MainEvents.onMakePrecallTest,e,t),b.run()}catch(e){v.Registry.getGenericEventHandler().sendEvent(f.logEvents.error,{msg:"makePrecallTest: Error",error:e.message+":"+e.stack}),g.error("makePrecallTest: Error",e)}return a(f.callstatsAPIReturnStatus.success)}},{key:"stopPrecallTests",value:function(){v.Registry.getPCTRunnerService().stop()}},{key:"startPrecallTests",value:function(e,t){if(!v.Registry.getAuthenticator().getToken()||!v.Registry.getCredentials().getAppId()){var n=o("startPrecallTests",h.csErrorStrings.notInitialized);return g.error(n),a(f.callstatsAPIReturnStatus.failure,n)}if(!v.Registry.getAuthenticator().getIceServers()){var r=o("startPrecallTests",h.csErrorStrings.notInitialized);return g.error(r),a(f.callstatsAPIReturnStatus.failure,r)}if(!v.Registry.getCredentials().getCollectSDP()){var i=o("startPrecallTests",h.csErrorStrings.apiaccesserror);return g.error(i),a(f.callstatsAPIReturnStatus.failure,i)}if(!e){var s=o("startPrecallTests",h.csErrorStrings.argumentError);return g.error(s),a(f.callstatsAPIReturnStatus.failure,s)}try{t=(t=t||6e4)<3e4?3e4:t,b.fire(p.MainEvents.onStartPrecallTests,e,t),b.run()}catch(e){v.Registry.getGenericEventHandler().sendEvent(f.logEvents.error,{msg:"startPrecallTests: Error",error:e.message+":"+e.stack}),g.error("startPrecallTests: Error",e)}return a(f.callstatsAPIReturnStatus.success)}},{key:"on",value:function(e,t){if(!t||"function"!=typeof t){var n=o("on",h.csErrorStrings.argumentError);return g.error(n),a(f.callstatsAPIReturnStatus.failure,n)}if(!e||!f.callbackFunctions.hasOwnProperty(e)){var r=o("on",h.csErrorStrings.argumentError);return g.error(r),a(f.callstatsAPIReturnStatus.failure,r)}try{b.fire(p.MainEvents.onOn,e,t),b.run()}catch(e){v.Registry.getGenericEventHandler().sendEvent(f.logEvents.error,{msg:"on: Error",error:e.message+":"+e.stack}),g.error("on: Error",e)}return a(f.callstatsAPIReturnStatus.success)}},{key:"fabricUsage",get:function(){return this.constructor.fabricUsage}},{key:"fabricEvent",get:function(){return this.constructor.fabricEvent}},{key:"webRTCFunctions",get:function(){return this.constructor.webRTCFunctions}},{key:"csError",get:function(){return this.constructor.csError}},{key:"qualityRating",get:function(){return this.constructor.qualityRating}},{key:"callStatsAPIReturnStatus",get:function(){return this.constructor.callStatsAPIReturnStatus}},{key:"version",get:function(){return this.constructor.version}},{key:"userIDType",get:function(){return this.constructor.userIDType}},{key:"transmissionDirection",get:function(){return this.constructor.transmissionDirection}},{key:"endpointType",get:function(){return this.constructor.endpointType}},{key:"callType",get:function(){return this.constructor.callType}},{key:"roles",get:function(){return this.constructor.roles}}]),e})();S.fabricUsage=f.fabricUsage,S.fabricEvent=f.fabricEvent,S.webRTCFunctions=f.webRTCFunctions,S.csError=h.csError,S.qualityRating=f.qualityRating,S.callStatsAPIReturnStatus=f.callstatsAPIReturnStatus,S.version=d.version,S.userIDType=f.userIdType,S.endpointType=f.endpointType,S.transmissionDirection=f.transmissionDirection,S.callType=f.callType,S.roles=f.roles,(function(){function t(){return new S}"function"==typeof define&&define.amd?define("callstats",[],t):e.callstats=t,i.exports=t})("undefined"!=typeof window&&window)}).call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./config/callstatserrors":35,"./config/constants":36,"./config/settings":37,"./fsm/mainfsm":38,"./utility/csiologger":92,"./utility/onerroreventlistner":98,"./utility/registry":100,"./utility/utils":106}],23:[function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.BinaryTree=void 0;var a=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=e("./binarytreenode.js"),s=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("../utility/csiologger")),c=(function(){function e(t){i(this,e),this.root=null,this.top=null,this.bottom=null,this.comparator=t,this.node_counter=0,this.duplicate_counter=0}return a(e,[{key:"getTopNode",value:function(){return this.top}},{key:"getTopValue",value:function(){return null===this.top?null:this.top.peek()}},{key:"getBottomValue",value:function(){return null===this.bottom?null:this.bottom.peek()}},{key:"getBottomNode",value:function(){return this.bottom}},{key:"getDuplicatedCounter",value:function(){return this.duplicate_counter}},{key:"getNodeCounter",value:function(){return this.node_counter}},{key:"getSize",value:function(){return this.duplicate_counter+this.node_counter}},{key:"insertNodeAtTop",value:function(e){e&&this.inserting(e.getValues(),this.top)}},{key:"insertNodeAtBottom",value:function(e){e&&this.inserting(e.getValues(),this.bottom)}},{key:"insert",value:function(e){this.inserting([e],this.root)}},{key:"createNode",value:function(e){var t=new(Function.prototype.bind.apply(o.BinaryTreeNode,[null].concat(r(e))));return null===this.top?this.top=t:this.comparator(this.top.peek(),t.peek())<0&&(this.top=t),null===this.bottom?this.bottom=t:this.comparator(t.peek(),this.bottom.peek())<0&&(this.bottom=t),t}},{key:"inserting",value:function(e,t){if(null===this.root)return this.root=this.createNode(e),this.node_counter=1,void(this.duplicate_counter+=e.length-1);for(var n=null,r=t,i=0;null!==r;){if(0===(i=this.comparator(e[0],r.peek())))return r.concat(e),this.duplicate_counter+=e.length,void r.find(e[0]);n=r,r=i<0?r.getLeft():r.getRight()}++this.node_counter,this.duplicate_counter+=e.length-1,r=this.createNode(e),i<0?n.setLeft(r):n.setRight(r)}},{key:"getRightist",value:function(e){for(var t=null;null!==e.right;)t=e,e=e.right;return[e,t]}},{key:"getLeftist",value:function(e){for(var t=null;null!==e.getLeft();)t=e,e=e.getLeft();return[e,t]}},{key:"popBottomNode",value:function(){if(null===this.bottom)return null;var e=this.search(this.bottom.peek()),t=e[0],n=e[1];return null===t?null:(this.replaceNode(t,n,t.getRight()),this.disposeNode(t),--this.node_counter,this.duplicate_counter-=t.getLength()-1,t.setRight(null),t)}},{key:"popTopNode",value:function(){if(null===this.top)return null;var e=this.search(this.top.peek()),t=e[0],n=e[1];return null===t?null:(this.replaceNode(t,n,t.getLeft()),this.disposeNode(t),--this.node_counter,this.duplicate_counter-=t.getLength()-1,t.setLeft(null),t)}},{key:"search",value:function(e){for(var t=this.root,n=null,r=void 0;null!==t;){if(0===(r=this.comparator(e,t.peek())))return t.find(e)?[t,n]:[null,null];n=t,t=r<0?t.getLeft():t.getRight()}return[null,null]}},{key:"replaceNode",value:function(e,t,n){null!==t?t.left===e?t.left=n:t.right=n:this.root=n}},{key:"disposeNode",value:function(e){if(null!==e){if(null===this.root)return void(this.bottom=this.top=null);if(0===this.comparator(this.top.peek(),e.peek())){var t=this.getRightist(this.root);this.top=t[0]}if(0===this.comparator(this.bottom.peek(),e.peek())){var n=this.getLeftist(this.root);this.bottom=n[0]}}}},{key:"delete",value:function(e){var t=this.search(e),n=t[0],r=t[1];if(null===n)return!1;if(1<n.getLength())return n.remove(e),--this.duplicate_counter,!0;if(--this.node_counter,null===n.getLeft()&&null===n.getRight())this.replaceNode(n,r,null);else if(null===n.getLeft())this.replaceNode(n,r,n.getRight());else if(null===n.getRight())this.replaceNode(n,r,n.getLeft());else{for(var i=n.getLeft(),a=n;null!==i.getRight();a=i,i=i.getRight());var o=i.getLeft();a===n?a.setLeft(o):a.setRight(o),n.setValues(i.getValues())}return this.disposeNode(n),!0}},{key:"logging",value:function(){null!==this.root?(s.log("Size of the tree: "+this.getSize()+" Node: "+this.getNodeCounter()+" Duplicates: "+this.getDuplicatedCounter()+" Top: "+this.getTopNode().toString()+" Bottom: "+this.getBottomNode().toString()),(function e(t,n,r){if(null!==t){for(var i="-",a=0;a<n;++a)i+="--";s.log(i+"> ("+r+") ["+t.toString()+"]"),null!==t.getLeft()&&e(t.getLeft(),n+1,"Left"),null!==t.getRight()&&e(t.getRight(),n+1,"Right")}})(this.root,0,"Root")):s.log("This tree is empty Duplicate Counter: "+this.duplicate_counter)}}]),e})();n.BinaryTree=c},{"../utility/csiologger":92,"./binarytreenode.js":24}],24:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=(function(){function e(){r(this,e);for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];this.values=n,this.left=null,this.right=null}return i(e,[{key:"getRight",value:function(){return this.right}},{key:"setRight",value:function(e){this.right=e}},{key:"getLeft",value:function(){return this.left}},{key:"setLeft",value:function(e){this.left=e}},{key:"push",value:function(e){this.values.push(e)}},{key:"concat",value:function(e){this.values=this.values.concat(e)}},{key:"pop",value:function(){return this.values.length<1?null:this.values.shift()}},{key:"remove",value:function(e){this.values.splice(this.values.indexOf(e),1)}},{key:"setValues",value:function(e){this.values=e}},{key:"getValues",value:function(){return this.values}},{key:"hasValue",value:function(){return 0<this.values.length}},{key:"getLength",value:function(){return this.values.length}},{key:"peek",value:function(){return this.values.length<1?null:this.values[0]}},{key:"find",value:function(e){return this.values.find(function(t){return t===e})}},{key:"toString",value:function(){return this.values.toString()}}]),e})();n.BinaryTreeNode=a},{}],25:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.Cache=void 0;var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("../utility/csiologger")),o=(function(){function e(){r(this,e),this.queue=[],this.priority=[]}return i(e,[{key:"add",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.length()>1e6?a.error("Maximum cached items reached, dropping."):t?this.priority.push(e):this.queue.push(e)}},{key:"pop",value:function(){return this.priority.length>0?this.priority.shift():this.queue.shift()}},{key:"peak",value:function(){return this.priority.length>0?this.priority[0]:this.queue.length>0?this.queue[0]:null}},{key:"length",value:function(){return this.queue.length+this.priority.length}},{key:"updateConferenceId",value:function(e){for(var t=0;t<this.queue.length;++t)this.queue[t].updateConferenceId(e);for(var n=0;n<this.priority.length;++n)this.priority[n].updateConferenceId(e)}}]),e})();n.Cache=o},{"../utility/csiologger":92}],26:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.Component=void 0;var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=e("./port"),o=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("../utility/csiologger")),s=(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unknown";r(this,e),this.name=t,this.ports=new Map}return i(e,[{key:"bindPort",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this;this.ports.has(e)?o.warn("Port ("+e+") for "+this.name+" already exists."):this.ports.set(e,new a.Port(t,n))}},{key:"declarePort",value:function(e){this.ports.has(e)?o.warn("Port ("+e+") for "+this.name+" already exists."):this.ports.set(e,null)}},{key:"getPort",value:function(e){return this.ports.get(e)}},{key:"isConnected",value:function(e){return!!this.ports.has(e)&&null!==this.ports.get(e)}},{key:"connect",value:function(e,t){this.ports.has(e)?this.ports.set(e,t):o.warn("Port ("+e+") for "+this.name+" does not exists.")}},{key:"transmit",value:function(e){var t=this.ports.get(e);if(void 0!==t)if(null!==t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t.transmit(r)}else o.warn("Port ("+e+") for "+this.name+" is not connected.");else o.warn("Port ("+e+") for "+this.name+" does not exists.")}},{key:"request",value:function(e){var t=this.ports.get(e);if(void 0===t)return o.warn("Port ("+e+") for "+this.name+" does not exists."),null;if(null===t)return o.warn("Port ("+e+") for "+this.name+" is not connected."),null;for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return t.request(r)}}]),e})();n.Component=s},{"../utility/csiologger":92,"./port":29}],27:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.PCTAggregator=void 0;var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("../config/constants")),o=(function(){function e(){r(this,e),this.pctMeasurements=[],this.pctMeasurementsMap=new Map}return i(e,[{key:"getPCTMeasurements",value:function(){return this.pctMeasurements}},{key:"addPCTMeasurement",value:function(e){this.pctMeasurements.length>=a.pctSampleSize&&this.pctMeasurements.shift(),this.pctMeasurements.push(e);var t=e.getProvider();this.pctMeasurementsMap.has(t)||this.pctMeasurementsMap.set(t,[]),this.pctMeasurementsMap.get(t).push(e)}},{key:"clearPCTMeasurements",value:function(){this.pctMeasurements=[],this.pctMeasurementsMap=new Map}},{key:"doStats",value:function(e){var t={};return t.min=this.findMin(e),t.max=this.findMax(e),t.mean=this.calculateAverage(e),t.median=this.calculateMedian(e),t.stddev=this.calculateStandardDeviation(e,t.mean),t}},{key:"findMax",value:function(e){return e&&e.length?Math.max.apply(null,e):null}},{key:"findMin",value:function(e){return e&&e.length?Math.min.apply(null,e):null}},{key:"calculateAverage",value:function(e){return e&&e.length?e.reduce(function(e,t){return e+t},0)/e.length:0}},{key:"calculateMedian",value:function(e){if(!e)return 0;if(!e.length)return 0;var t=e.slice(0).sort(function(e,t){return e-t}),n=Math.floor(t.length/2);return t.length%2==0?(t[n]+t[n-1])/2:t[n]}},{key:"calculateStandardDeviation",value:function(e,t){if(!e)return 0;if(!e.length)return 0;var n=e.map(function(e){var n=e-t;return n*n}).reduce(function(e,t){return e+t},0);return Math.sqrt(n/(e.length-1))}},{key:"setAcceptability",value:function(e){var t=[];return t.push(e.throughput.median<30),t.push(e.loss.median>.05),t.push(e.rtt.median>400),e.acceptable=!t.reduce(function(e,t){return e||t},!1),e}},{key:"doInternalMeasurement",value:function(e){var t={},n=[],r=[],i=[],a=[];if(e)for(var o=0;o<e.length;o++)n.push(e[o].getRttMedian()),a.push(e[o].getRttVariance()),r.push(e[o].getThroughput()),i.push(e[o].getFractionLost());return t.rtt=this.doStats(n),t.loss=this.doStats(i),t.jitter=this.doStats(a),t.throughput=this.doStats(r),t}},{key:"scoreRtt",value:function(e){var t=0;if(!e||!e.rtt)return t;var n=e.rtt.max,r=e.rtt.median;return t=n<350?t+=1:t,t=n<250?t+=2:t,t=n<150?t+=3:t,t=n<100?t+=5:t,t=r<200?t+=1:t,t=r<150?t+=3:t,r<100?t+=5:t}},{key:"scoreLosses",value:function(e){var t=15;if(!e||!e.loss)return 0;var n=e.loss.max,r=e.loss.median;return t=n>=.04?t-=3:t,t=n>=.025?t-=1:t,t=n>=.01?t-=1:t,t=r>=.04?t-=5:t,t=r>=.025?t-=3:t,r>=.005?t-=2:t}},{key:"scoreThroughPut",value:function(e){var t=0;if(!e||!e.throughput)return t;var n=e.throughput.median,r=e.throughput.min;return t=n>5e3?t+=5:t,t=n>2e3?t+=2:t,t=n>200?t+=1:t,t=r<100?t-=3:t,t=r<1e3?t-=2:t,(t=r<2e3?t-=1:t)>0?t:0}},{key:"aggregate",value:function(){var e=this,t=[];return e.pctMeasurementsMap.forEach(function(n,r){var i={};i.provider=r;var a=e.doInternalMeasurement(n);i.rtt=a.rtt,i.jitter=a.jitter,i.loss=a.loss,i.throughput=a.throughput,(i=e.setAcceptability(i)).rttScore=e.scoreRtt(),i.lossesScore=e.scoreLosses(),i.throughputScore=e.scoreThroughPut(),t.push(i)}),t}},{key:"getAggregate",value:function(e){var t=[];if(!e)return t;for(var n=0;n<e.length;n++){var r={},i=e[n];r.provider=i.provider,r.roundTripTime=i.rtt.median,r.jitter=i.jitter.median,r.fractionLost=i.loss.median,r.throughput=i.throughput.median,t.push(r)}return t}},{key:"getSummary",value:function(e){var t=[];if(!e)return t;for(var n=0;n<e.length;n++){var r={};r.provider=e[n].provider,r.acceptable=e[n].acceptable,t.push(r)}return t}},{key:"getRanking",value:function(){var e=this.aggregate().sort(function(e,t){if(!e.acceptable&&!t.acceptable)return 0;if(e.acceptable&&!t.acceptable)return-1;if(t.acceptable&&!e.acceptable)return 1;var n=e.rttScore+e.lossesScore+e.throughputScore;return t.rttScore+t.lossesScore+t.throughputScore-n}),t=this.getAggregate(e),n=this.getSummary(e),r={};return r.aggregatedStats=t,r.providerRanking=n,r}}]),e})();n.PCTAggregator=o},{"../config/constants":36}],28:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=(function(){function e(t,n,i,a,o,s){r(this,e),this.throughput=t,this.rttMedian=n,this.rttVariance=i,this.fractionLost=a,this.provider=o,this.timestamp=s}return i(e,[{key:"getThroughput",value:function(){return this.throughput}},{key:"getRttMedian",value:function(){return this.rttMedian}},{key:"getRttVariance",value:function(){return this.rttVariance}},{key:"getFractionLost",value:function(){return this.fractionLost}},{key:"getTimestamp",value:function(){return this.timestamp}},{key:"getProvider",value:function(){return this.provider}}]),e})();n.PCTMeasurement=a},{}],29:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=(function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;r(this,e),this.target=t,this.object=n}return i(e,[{key:"transmit",value:function(e){this.target.apply(this.object,e)}},{key:"request",value:function(e){return this.target.apply(this.object,e)}}]),e})();n.Port=a},{}],30:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=(function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;r(this,e),this.value=t,this.next=n}return a(e,[{key:"setNext",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;this.next=e}}]),e})(),s=(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;r(this,e),this.capacity=t,this.root=n,this.tail=i,this.currentLength=0}return a(e,[{key:"size",value:function(){return this.currentLength}},{key:"isEmpty",value:function(){return this.currentLength<1}},{key:"isOverflow",value:function(){return this.size()>this.capacity}},{key:"push",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.tail;this.tail=new o(e),this.isEmpty()?this.root=this.tail:t.setNext(this.tail),this.currentLength+=1;var n=void 0;return this.isOverflow()&&(n=this.pop()),n}},{key:"pop",value:function(){if(!this.isEmpty()){var e=this.root.value;return this.root=this.root.next,this.currentLength-=1,e}}},{key:"getFront",value:function(){return this.root}},{key:"getBack",value:function(){return this.tail}},{key:"clear",value:function(){this.root=void 0,this.tail=void 0,this.currentLength=0}},{key:"toArray",value:function(){for(var e=i({},this.root),t=[];e;){var n=e,r=n.value;e=n.next,t.push(r)}return t}}]),e})();n.Queue=s},{}],31:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.SlidingWindow=void 0;var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=e("./switem"),o=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("../utility/timestamps")),s=(function(){function e(t,n){r(this,e),this.items=[],this.plugins=[],this.postProcesses=[],this.preProcesses=[],this.timeoutInMs=n,this.maxItemsNum=t,this.minItemsNum=0}return i(e,[{key:"setMaxItemsNum",value:function(e){this.maxItemsNum=e}},{key:"setTimeoutInMs",value:function(e){this.timeoutInMs=e}},{key:"setMinItemsNum",value:function(e){this.minItemsNum=e}},{key:"refresh",value:function(){var e=o.getCurrent();if(!(this.items.length<=this.minItemsNum)){for(;0<this.maxItemsNum&&this.maxItemsNum<=this.items.length;)this.remove();this.timeoutInMs&&this.timeoutInMs<e-this.items[0].getCreated()&&(this.remove(),this.refresh())}}},{key:"getLength",value:function(){return this.items.length}},{key:"add",value:function(e){this.refresh(),this.items.push(new a.SWItem(e));for(var t=0;t<this.preProcesses.length;t++)(0,this.preProcesses[t])(e);for(var n=0;n<this.plugins.length;n++)this.plugins[n].add(e);for(var r=0;r<this.postProcesses.length;r++)(0,this.postProcesses[r])(e)}},{key:"remove",value:function(){for(var e=this.items.shift(),t=0;t<this.plugins.length;t++)this.plugins[t].remove(e.value)}},{key:"peek",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.items.length<=e?null:this.items[this.items.length-e-1].getValue()}},{key:"attach",value:function(e){this.plugins.push(e)}},{key:"addPreProcess",value:function(e){this.preProcesses.push(e)}},{key:"addPostProcess",value:function(e){this.postProcesses.push(e)}},{key:"detach",value:function(e){this.plugins=this.plugins.filter(function(t){return t!==e})}}]),e})();n.SlidingWindow=s},{"../utility/timestamps":104,"./switem":32}],32:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.SWItem=void 0;var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("../utility/timestamps")),o=(function(){function e(t){r(this,e),this.value=t,this.created=a.getCurrent()}return i(e,[{key:"getValue",value:function(){return this.value}},{key:"getCreated",value:function(){return this.created}},{key:"toString",value:function(){return""}}]),e})();n.SWItem=o},{"../utility/timestamps":104}],33:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.Conference=void 0;var a=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=e("../peerconnection/peerconnectionmanager"),s=r(e("../config/settings")),c=e("../utility/registry"),u=r(e("../browserapi/sessionstorage")),l=r(e("../config/constants")),f=(function(){function e(t,n){i(this,e),this.conferenceId=t,this.startTime,this.peerConnectionManager=new o.PeerConnectionManager,this.credentials=n,this.ucId=null,this.url=null,this.userJoinedSent=!1}return a(e,[{key:"getCredentials",value:function(){return this.credentials}},{key:"getUcId",value:function(){return this.ucId}},{key:"setUcId",value:function(e){this.ucId=e,this.url=s.conferenceBaseUrl+c.Registry.getCredentials().getAppId()+"/conferences/"+encodeURIComponent(this.conferenceId)+"/"+e+"/general",u.storeUcId(this.conferenceId,e)}},{key:"resetUcId",value:function(){this.ucId=null}},{key:"getPeerConnectionManager",value:function(){return this.peerConnectionManager}},{key:"getUrl",value:function(){return this.url}},{key:"updateConferenceId",value:function(e){this.conferenceId=e,this.peerConnectionManager.updateConferenceId(e)}},{key:"updateState",value:function(){this.peerConnectionManager.getPeerConnectionStatus()===l.fabricState.terminated&&this.setUserJoinedSent(!1)}},{key:"isUserJoinedSent",value:function(){return this.userJoinedSent}},{key:"setUserJoinedSent",value:function(e){this.userJoinedSent=e}},{key:"close",value:function(e){}}]),e})();n.Conference=f},{"../browserapi/sessionstorage":21,"../config/constants":36,"../config/settings":37,"../peerconnection/peerconnectionmanager":44,"../utility/registry":100}],34:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.ConferenceManager=void 0;var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=e("./conference"),o=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("../config/constants")),s=(function(){function e(){r(this,e),this.conferenceMap=new Map}return i(e,[{key:"add",value:function(e,t){if(!this.get(e)){var n=new a.Conference(e,t);this.conferenceMap.set(e,n)}}},{key:"get",value:function(e){return this.conferenceMap.get(e)}},{key:"getConferenceForPc",value:function(e){var t=null;return e?(this.conferenceMap.forEach(function(n,r){var i=n.getPeerConnectionManager().getPcHandler(e);i&&i.getConferenceId()===r&&(t=n)}),t):t}},{key:"getConferenceForPcHash",value:function(e){var t=null;return e?(this.conferenceMap.forEach(function(n,r){var i=n.getPeerConnectionManager().getPcHandlerByHash(e);i&&i.getConferenceId()===r&&(t=n)}),t):t}},{key:"updateConferenceId",value:function(e){var t=o.tmpConferenceId,n=this.get(t);n&&(n.updateConferenceId(e),this.conferenceMap.set(e,n),this.conferenceMap.delete(t))}},{key:"getConferenceIds",value:function(){var e=[];return this.conferenceMap.forEach(function(t,n){e.push(n)}),e}}]),e})();n.ConferenceManager=s},{"../config/constants":36,"./conference":33}],35:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.csError={httpError:"httpError",authError:"authError",wsChannelFailure:"wsChannelFailure",success:"success",csProtoError:"csProtoError",appConnectivityError:"appConnectivityError",tokenGenerationError:"tokenGenerationError",ok:"OK",authOngoing:"authOngoing",invalidWebRTCFunctionName:"Invalid WebRTC function name",invalidEndPointType:"Invalid EndPoint Type",invalidTransmissionDirection:"Invalid fabric transmission direction"},n.csErrorStrings={argumentError:"Argument missing/invalid",cryptoError:"Browser does not support Web Cryptography API. App secret based authentication requires Web Cryptography API",fabricEventUnsupported:"Unsupported fabricEvent",fabricEventInvalid:"Invalid fabricEvents value",fabricUsageInvalid:"Invalid fabricUsage value",notInitialized:"SDK is not initialized or no Fabrics added",pcInvalid:"Invalid PeerConnection object passed",confereneDoesNotExist:"conferenceId does not exist",webRTCFunctionsInvalid:"Invalid webRTC functionName value",setProxyConfigInvokeError:"cannot be called if window.csioproxy is false",invalidWebRTCFunctionName:"Invalid WebRTC function name",invalidEndPointType:"Invalid EndPoint Type",invalidTransmissionDirection:"Invalid fabric transmission direction",apiaccesserror:"API access Error"},n.csErrorReason={csProtoError:"Protocol fields cannot be empty.",csNoAuthState:"Authentication state unavailable in server."},n.internalErrors={authOngoing:"authOngoing"},n.authErrorActions={RETRY:0,GET_NEW_TOKEN:1,REPORT_ERROR:2}},{}],36:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.logEvents={stateMachine:"stateMachine",log:"log",timing:"timing",error:"error",getStatsError:"getStatsError",restResponseError:"restResponseError"},n.fabricEvent={fabricSetupFailed:"fabricSetupFailed",fabricHold:"fabricHold",fabricResume:"fabricResume",audioMute:"audioMute",audioUnmute:"audioUnmute",videoPause:"videoPause",videoResume:"videoResume",fabricUsageEvent:"fabricUsageEvent",fabricTerminated:"fabricTerminated",screenShareStart:"screenShareStart",screenShareStop:"screenShareStop",dominantSpeaker:"dominantSpeaker",activeDeviceList:"activeDeviceList",applicationErrorLog:"applicationErrorLog",callDetails:"callDetails",callUnAnswered:"callUnAnswered"},n.callType={unknown:"unknown",inbound:"inbound",outbound:"outbound",monitoring:"monitoring"},n.roles={agent:"agent",participant:"participant"},n.internalFabricEvent={fabricSetup:"fabricSetup",fabricSetupFailed:"fabricSetupFailed",userJoined:"userJoined",userLeft:"userLeft",userAlive:"userAlive",ssrcMap:"ssrcMap",mediaPlaybackStart:"mediaPlaybackStart",mediaPlaybackSuspended:"mediaPlaybackSuspended",mediaPlaybackStalled:"mediaPlaybackStalled",oneWayMedia:"oneWayMedia",oneWayMediaStart:"oneWayMediaStart",oneWayMediaStop:"oneWayMediaStop",fabricStateChange:"fabricStateChange",iceDisruptionStart:"iceDisruptionStart",iceDisruptionEnd:"iceDisruptionEnd",fabricTransportSwitch:"fabricTransportSwitch",iceConnectionDisruptionStart:"iceConnectionDisruptionStart",iceConnectionDisruptionEnd:"iceConnectionDisruptionEnd",iceAborted:"iceAborted",iceTerminated:"iceTerminated",iceFailed:"iceFailed",iceRestarted:"iceRestarted",fabricDropped:"fabricDropped",connectedDeviceList:"connectedDeviceList",sdpSubmission:"sdpSubmissionEvent",sendingThroughputObservations:"sendingThroughputObservations",limitationObservations:"limitationObservations",userDetails:"userDetails"},n.callstatsChannels={sdpSubmission:"sdpSubmissionEvent",processedStats:"processedStats",callstatsEvent:"callStatsEvent",userFeedback:"userFeedbackEvent",preCallTest:"preCallTest",senderConfiguration:"senderConfiguration"},n.precalltestEvents={results:"preCallTestResults",associate:"preCallTestAssociate"},n.callstatsAPIReturnStatus={success:"success",failure:"failure"},n.fabricUsage={audio:"audio",video:"video",data:"data",screen:"screen",multiplex:"multiplex",unbundled:"unbundled"},n.userIdType={local:"local",remote:"remote"},n.qualityRating={excellent:5,good:4,fair:3,poor:2,bad:1},n.reportType={local:"local",remote:"remote",inbound:"inbound",outbound:"outbound"},n.avQualityRatings={excellent:"excellent",fair:"fair",bad:"bad",unknown:"unknown"},n.fabricState={established:"established",initializing:"initializing",failed:"failed",disrupted:"disrupted",hold:"hold",checkingDisrupted:"checkingDisrupted",terminated:"terminated"},n.webRTCFunctions={createOffer:"createOffer",createAnswer:"createAnswer",setLocalDescription:"setLocalDescription",setRemoteDescription:"setRemoteDescription",addIceCandidate:"addIceCandidate",getUserMedia:"getUserMedia",iceConnectionFailure:"iceConnectionFailure",signalingError:"signalingError",applicationError:"applicationError",applicationLog:"applicationLog"},n.callFailureReasons={mediaConfigError:"MediaConfigError",negotiationFailure:"NegotiationFailure",sdpError:"SDPGenerationError",iceFailure:"IceConnectionFailure",transportFailure:"TransportFailure",signalingError:"SignalingError",applicationError:"ApplicationError",applicationLog:"ApplicationLog",invalidWebRTCFunctionName:"Invalid WebRTC function name"},n.throughputThreshold={video:{green:1024,red:256},audio:{green:30,red:8}},n.currOverPrevFrameRateThreshold={video:{green:.8,red:.3}},n.rttThreshold={video:{green:400,red:1e3}},n.fractionalLossThreshold={video:{green:.1,red:.5},audio:{green:.15,red:.3}},n.eModelThreshold={audio:{green:240,red:400}},n.codeBaseType={chrome:"Chrome",firefox:"Firefox",edge:"Edge",plugin:"Plugin"},n.browserName={chrome:"Chrome",firefox:"Firefox",edge:"Edge",msie:"Microsoft Internet Explorer",safari:"Safari",opera:"Opera"},n.osName={windows:"Windows",mac:"Mac OS X",android:"Android",ios:"iOS"},n.mediaType={audio:"audio",video:"video"},n.streamType={inbound:"inbound",outbound:"outbound"},n.fabricStateChangeType={signalingState:"signalingState",iceConnectionState:"iceConnectionState",iceGatheringState:"iceGatheringState"},n.transportType={rest:"rest",ws:"ws"},n.wsConnectionState={initiated:"initiated",connected:"connected",closed:"closed"},n.csCallBackMessages={authSuccessful:"SDK authentication successful.",authFailed:"SDK authentication failed.",authProtocolInvalid:"Fatal authentication error. Invalid auth protocol message.",authOngoing:"Authentication on going.",wsConnected:"WebSocket establishment successful.",wsClosed:"WebSocket server closed.",wsFailed:"WebSocket establishment failed."},n.oneWayMediaTypes={audio:"audio",video:"video",screen:"screen"},n.limitationType={cpu:"cpu",network:"network"},n.qualityDisruptionTypes={qpchange:"qpchange"},n.callbackFunctions={stats:"stats",defaultConfig:"defaultConfig",recommendedConfig:"recommendedConfig",preCallTestResults:"preCallTestResults",preCallTest:"preCallTest",connectionRecommendation:"connectionRecommendation"},n.endpointType={peer:"peer",server:"server"},n.transmissionDirection={sendonly:"sendonly",receiveonly:"receiveonly",sendrecv:"sendrecv",inactive:"inactive"},n.adaptiveStatsIntervalsInMs={min:2e3,max:3e4},n.adaptiveStatsThresholds={maxMarginFactor:15,marginReductionFactor:.5,marginIncreaseFactor:2,maxGradualCounter:4,rippleBase:2,marginDecreaseIntervalInMs:3e3,minIntervalInMs:2e3,maxIntervalInMs:3e4,windowSize:100,resetThreshold:3,minThreshold:{rtt:100,throughput:200,fractionalLoss:.1},eps:9e-5,maxInitialTimeoutInMs:3e4,initialNotifyIntervalTimeoutInMs:5e3},n.statsDestination={callback:"callback",backend:"backend"},n.tmpConferenceId="csio-conf-id-tmp",n.pctSampleSize=100},{}],37:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.setConfigServiceUrl=function(e){n.configServiceUrl=e},n.setAuthServiceUrl=function(e){n.authServiceUrl=e},n.setConferenceBaseUrl=function(e){n.conferenceBaseUrl=e},n.setWsUrl=function(e){n.wsUrl=e},n.setRestEventUrl=function(e){n.restEventUrl=e},n.setRestStatsUrl=function(e){n.restStatsUrl=e},n.setBaseUrl=function(e){n.baseUrl=e},n.setQmodelThresholdsAPIUrl=function(e){n.qmodelThresholdsAPIUrl=e},n.setTransportType=function(e){n.transportType=e};n.version="3.61.0",n.configServiceUrl="https://appsettings.callstats.io/v1/apps/",n.authServiceUrl="https://auth.callstats.io/",n.authRetryTimeout=5e3,n.conferenceBaseUrl="https://dashboard.callstats.io/apps/",n.wsUrl="wss://collector.callstats.io:443/csiows/collectCallStats",n.restEventUrl="https://events.callstats.io/v1/apps/",n.restStatsUrl="https://stats.callstats.io/v1/apps/",n.baseUrl="https://collector.callstats.io:443/",n.qmodelThresholdsAPIUrl="https://dashboard.callstats.io/api-internal/v1/qmodelthresholds",n.csioDebug="false",n.transportType="@@transportType"},{}],38:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0}),n.MainFSM=n.MainEvents=void 0;var c="function"==typeof Symbol&&"symbol"==typeof("function"==typeof Symbol?Symbol.iterator:"@@iterator")?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==("function"==typeof Symbol?Symbol.prototype:"@@prototype")?"symbol":typeof e},u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=e("./statemachine"),f=e("../utility/registry"),d=r(e("../utility/csiologger")),h=r(e("../utility/utils")),p=r(e("../utility/timestamps")),v=r(e("../config/constants")),g=r(e("../config/settings")),y=e("../statspipeline/statsadapter"),m=e("../statspipeline/statsparser"),b=e("../statspipeline/statsmonitor"),S=e("../statspipeline/statstransmitter"),k=e("../statspipeline/statsassembler"),w={Created:"Created",Initializing:"Initializing",Idle:"Idle",Run:"Run"},C=n.MainEvents={onStart:"onStart",onInitialize:"onInitialize",onAddNewFabric:"onAddNewFabric",onSendFabricEvent:"onSendFabricEvent",onReportError:"onReportError",onAssociateMstWithUserID:"onAssociateMstWithUserID",onSetProxyConfig:"onSetProxyConfig",onAttachWifiStatsHandler:"onAttachWifiStatsHandler",onSendUserFeedback:"onSendUserFeedback",onOn:"onOn",onSetIdentifiers:"onSetIdentifiers",onMakePrecallTest:"onMakePrecallTest",onStartPrecallTests:"onStartPrecallTests",onSendCallDetails:"onSendCallDetails"},_="onServicesFinished",T=(function(e){function t(){a(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,w.Created));return d.log("FSM:",e.getState()),e.fire(C.onStart),e.run(),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t=Object(this),n=t.length>>>0,r=arguments[1],i=void 0,a=0;a<n;a++)if(i=t[a],e.call(r,i,a,t))return i}}),e}return s(t,l.StateMachine),u(t,[{key:"proceed",value:function(e,t){switch(this.getState()){case w.Created:switch(e){case C.onStart:this.onStart.apply(this,i(t));break;case C.onInitialize:this.setState(w.Initializing),d.log("FSM:",this.getState()),this.onInitialize.apply(this,i(t));break;case C.onOn:this.onOn.apply(this,i(t));break;case C.onSetProxyConfig:this.onSetProxyConfig.apply(this,i(t));break;case C.onStartPrecallTests:this.onStartPrecallTests.apply(this,i(t))}break;case w.Initializing:switch(e){case _:this.onServicesFinished()&&(this.setState(w.Idle),d.log("FSM:",this.getState()));break;case C.onAddNewFabric:this.onAddNewFabric.apply(this,i(t));break;case C.onSendFabricEvent:this.onSendFabricEvent.apply(this,i(t));break;case C.onSendCallDetails:this.onSendCallDetails.apply(this,i(t));break;case C.onReportError:this.onReportError.apply(this,i(t));break;case C.onAssociateMstWithUserID:this.onAssociateMstWithUserID.apply(this,i(t));break;case C.onSendUserFeedback:this.onSendUserFeedback.apply(this,i(t));break;case C.onAttachWifiStatsHandler:this.onAttachWifiStatsHandler.apply(this,i(t));break;case C.onOn:this.onOn.apply(this,i(t));break;case C.onMakePrecallTest:this.onMakePrecallTest.apply(this,i(t));break;case C.onSetIdentifiers:this.onSetIdentifiers.apply(this,i(t));break;case C.onSetProxyConfig:this.onSetProxyConfig.apply(this,i(t));break;case C.onStartPrecallTests:this.onStartPrecallTests.apply(this,i(t))}break;case w.Idle:case w.Run:switch(e){case C.onAddNewFabric:this.onAddNewFabric.apply(this,i(t));break;case C.onSendFabricEvent:this.onSendFabricEvent.apply(this,i(t));break;case C.onSendCallDetails:this.onSendCallDetails.apply(this,i(t));break;case C.onReportError:this.onReportError.apply(this,i(t));break;case C.onAssociateMstWithUserID:this.onAssociateMstWithUserID.apply(this,i(t));break;case C.onSendUserFeedback:this.onSendUserFeedback.apply(this,i(t));break;case C.onAttachWifiStatsHandler:this.onAttachWifiStatsHandler.apply(this,i(t));break;case C.onOn:this.onOn.apply(this,i(t));break;case C.onSetProxyConfig:this.onSetProxyConfig.apply(this,i(t));break;case C.onMakePrecallTest:this.onMakePrecallTest.apply(this,i(t));break;case C.onSetIdentifiers:this.onSetIdentifiers.apply(this,i(t));break;case C.onStartPrecallTests:this.onStartPrecallTests.apply(this,i(t))}}}},{key:"onStart",value:function(){f.Registry.getEndpoint().setup(),this.authenticator=f.Registry.getAuthenticator(),this.configservicewrapper=f.Registry.getConfigServiceWrapper(),this.precalltest=f.Registry.getPreCallTest();var e=f.Registry.getStatsAdapter(),t=f.Registry.getStatsParser(),n=f.Registry.getStatsMonitor(),r=f.Registry.getStatsTransmitter(),i=f.Registry.getStatsAssembler();e.connect(y.StatsAdapterIO.RawStatsOut,t.getPort(m.StatsParserIO.RawStatsIn)),t.connect(m.StatsParserIO.PcStatsTupleOut,n.getPort(b.StatsMonitorIO.PcStatsTupleIn)),n.connect(b.StatsMonitorIO.StatsTupleOut,i.getPort(k.StatsAssemblerIO.StatsTupleIn)),i.connect(k.StatsAssemblerIO.CallstatsOut,r.getPort(S.StatsTransmitterIO.CallstatsIn)),e.connect(y.StatsAdapterIO.UnprocessedOut,r.getPort(S.StatsTransmitterIO.UnprocessedIn))}},{key:"setupConnection",value:function(){var e=this;this.connectionManager=f.Registry.getConnectionManager(),this.connectionManager.setupCollectorConnection(f.Registry.getCredentials().getTransportType()),this.connectionManager.setup().then(function(){d.log("Connected to connectionManager"),e.fire(_),e.run()}).catch(function(e){return d.log("Could not connect to connectionManager",e)})}},{key:"setup",value:function(){var e=this;this.clocksync=f.Registry.getClockSync(),f.Registry.getGenericEventHandler().sendEvent(v.logEvents.log,{msg:"Starting clockSync"}),this.clocksync.initiate().then(function(){d.log("Clocksync completed"),e.fire(_),e.run()}).catch(function(e){return d.log("Could not finish ClockSync",e)})}},{key:"onInitialize",value:function(e,t,n,r,i,a){var o=this,s=f.Registry.getCredentials();s.setAppId(e),s.setUserId(t),f.Registry.getCallbacks().set(v.callbackFunctions.stats,i),this.doPrecalltest=!0,a&&(!0===a.disableBeforeUnloadHandler&&this.setBeforeUnloadHandler(),a.applicationVersion&&f.Registry.getEndpoint().setAppVersion(a.applicationVersion),a.transportType&&g.setTransportType(a.transportType),a.disablePrecalltest&&(this.doPrecalltest=!1),a.siteID&&("string"!=typeof a.siteID?d.error("Invalid configParams: siteId must be string"):s.setSiteId(a.siteID))),this.setup(),this.authenticator.initiate(n,r).then(function(e){if(d.log("Authentication complete"),o.setupConnection(),!0===f.Registry.getCredentials().isAdaptiveStatsEnabled())f.Registry.getStatsMonitor().setIntervals(v.adaptiveStatsIntervalsInMs.min,v.adaptiveStatsIntervalsInMs.max);else{var t=f.Registry.getCredentials().getStatsSubmissionInterval();f.Registry.getStatsMonitor().setIntervals(t,t)}o.fire(_),o.run();var n=o.authenticator.getIceServers();n&&o.doPrecalltest&&f.Registry.getPCTRunnerService().doPrecalltest(n,"callstats"),o.configservicewrapper.initiateInternalConfig().then(function(){d.log("ConfigService internal config:",o.configservicewrapper.getInternalConfig()),o.fire(_),o.run()},function(e){return d.log(e)}),o.configservicewrapper.initiateAppConfig().then(function(){var e=f.Registry.getCallbacks().get(v.callbackFunctions.defaultConfig),t=o.configservicewrapper.getAppDefaultConfig();e&&t&&e(t);var n=f.Registry.getCallbacks().get(v.callbackFunctions.recommendedConfig),r=o.configservicewrapper.getAppRecommendedConfig();n&&r&&n(r),o.fire(_),o.run()},function(e){return d.log(e)})},function(e){d.log(e)})}},{key:"setBeforeUnloadHandler",value:function(){window&&window.addEventListener&&(d.log("setBeforeUnloadHandler"),window.addEventListener("beforeunload",function(e){return f.Registry.getConferenceManager().conferenceMap.forEach(function(e,t){e&&e.getPeerConnectionManager().pcHandlers.forEach(function(e,t){f.Registry.getEventMessageBuilder().make(v.internalFabricEvent.userLeft,e.getConferenceId(),e.getPeerConnection())})}),"Are you sure you want to close the call?"}))}},{key:"onServicesFinished",value:function(){return!!(this.connectionManager&&this.connectionManager.isReady()&&this.clocksync.isCompleted()&&this.authenticator.isCompleted())&&(f.Registry.getTransmissionManager().trySend(),!0)}},{key:"onAddNewFabric",value:function(e,t,n,r,i,a,o){d.warn("FSM onAddNewFabric"),f.Registry.getConferenceManager().add(r,f.Registry.getCredentials());var s=f.Registry.getConferenceManager().get(r);s.getPeerConnectionManager().addPcHandler(e,t,n,r,i,a,o);var c={endpointInfo:f.Registry.getEndpoint().serialize()};f.Registry.getCredentials().getUserIdObject()&&(c.localUserIDObject=f.Registry.getCredentials().getUserIdObject()),s.isUserJoinedSent()||(s.resetUcId(),f.Registry.getEventMessageBuilder().make(v.internalFabricEvent.userJoined,r,e,c),s.setUserJoinedSent(!0),f.Registry.getCredentials().getTransportType()===v.transportType.rest&&c.localUserIDObject&&c.localUserIDObject.userName&&f.Registry.getEventMessageBuilder().make(v.internalFabricEvent.userDetails,r,e,{userName:String(c.localUserIDObject.userName)}));var u=f.Registry.getPCTRunnerService().getPrecallTestIds();f.Registry.getPCTRunnerService().resetPrecallTestIds();var l=this.precalltest.getId();l&&u.push(l),u.length>0&&f.Registry.getEventMessageBuilder().make(v.precalltestEvents.associate,r,e,{ids:u})}},{key:"onStartPrecallTests",value:function(e,t){var n=f.Registry.getAuthenticator().getIceServers();n[0].label="callstats",e.push(n[0]),f.Registry.getPCTRunnerService().start(e,t)}},{key:"onSendCallDetails",value:function(e,t,n){d.warn("FSM onSendCallDetails");var r={};r.callType=n.callType,r.role=n.role,n.contactQueue&&(r.contactQueue=n.contactQueue),n.contactQueueID&&(r.contactQueueID=n.contactQueueID),n.routingProfile&&(r.routingProfile=n.routingProfile),n.routingProfileID&&(r.routingProfileID=n.routingProfileID),n.contactID&&(r.contactID=n.contactID),n.siteID&&(r.siteID=n.siteID,f.Registry.getCredentials().setSiteId(n.siteID)),f.Registry.getEventMessageBuilder().make(v.fabricEvent.callDetails,t,e,r)}},{key:"onSendFabricEvent",value:function(e,t,n,r){d.warn("FSM onSendFabricEvent");var i={};r&&((i=r).ssrc&&(i.ssrc=String(i.ssrc))),t===v.fabricEvent.activeDeviceList&&(i={mediaDeviceList:h.normalizeMediaDeviceList(r.deviceList)}),f.Registry.getEventMessageBuilder().make(t,n,e,i);var a=f.Registry.getConferenceManager().get(n);if(a){var o=a.getPeerConnectionManager().getPcHandler(e);t!==v.fabricEvent.fabricTerminated&&t!==v.internalFabricEvent.fabricSetupFailed||(o.stopUserAliveHandler(),o.setPcState(v.fabricState.terminated),o.stopStatsPolling(),a.getPeerConnectionManager().removePcStats(o&&o.getPcHash()),a.updateState()),t===v.fabricEvent.fabricHold&&(o.setPcState(v.fabricState.hold),o.stopStatsPolling()),t===v.fabricEvent.fabricResume&&(o.setPcState(v.fabricState.established),o.startStatsPolling())}}},{key:"onReportError",value:function(e,t,n,r,i,a){d.warn("FSM onReportError");var o={delay:0,reason:this.callFailureClassifier(n),function:n,magicKey:f.Registry.getEndpoint().getMagicKey(),endpoint:f.Registry.getEndpoint().serialize(),level:"debug"};if(r){var s=this.formatDomError(r);o.message=s.message,o.messageType=s.messageType,o.name=r.name,o.stack=r.stack}if(e){var c=f.Registry.getConferenceManager().get(t),u=void 0;if(c&&(u=c.getPeerConnectionManager().getPcHandler(e)),!u)return void d.error("onReportError: No handler found for given PeerConnection!");if(o.delay=p.getCurrent()-u.getStartTime(),o.fabricState=u.getPcState(),o.iceConnectionState=u.getIceConnectionState(),(i||a||e&&"closed"!==e.signalingState)&&f.Registry.getCredentials().getCollectSDP()&&n!==v.webRTCFunctions.applicationLog){var l={};l.localSDP=this.pickSDP(e,i,"localDescription"),l.remoteSDP=this.pickSDP(e,a,"remoteDescription"),f.Registry.getEventMessageBuilder().make(v.callstatsChannels.sdpSubmission,t,e,l)}}n===v.webRTCFunctions.applicationLog||n===v.webRTCFunctions.applicationError?f.Registry.getEventMessageBuilder().make(v.fabricEvent.applicationErrorLog,t,e,o):n===v.webRTCFunctions.iceConnectionFailure?this.handleIceConnectionFailure(e,t,o):(f.Registry.getEventMessageBuilder().make(v.fabricEvent.fabricSetupFailed,t,e,o),n===v.webRTCFunctions.getUserMedia&&this.handleGUMErrors(t))}},{key:"onAssociateMstWithUserID",value:function(e,t,n,r,i,a){var o=f.Registry.getConferenceManager().get(n);if(o){var s=o.getPeerConnectionManager().getPcHandler(e);"string"!=typeof r&&(r+=""),s.updateSSRCInfo(r,t,i,a)}}},{key:"onAttachWifiStatsHandler",value:function(e){f.Registry.getWifiStatsExecutor().setGetWifiStatsMethod(e)}},{key:"onSetProxyConfig",value:function(e){d.warn("FSM onSetProxyConfig"),e.collectorURL&&g.setBaseUrl(e.collectorURL),e.authServiceURL&&g.setAuthServiceUrl(e.authServiceURL),e.csioInternalAPIURL&&g.setQmodelThresholdsAPIUrl(e.csioInternalAPIURL),e.wsURL&&g.setWsUrl(e.wsURL),e.restEventURL&&g.setRestEventUrl(e.restEventURL),e.restStatsURL&&g.setRestStatsUrl(e.restStatsURL),e.appSettingsURL&&g.setConfigServiceUrl(e.appSettingsURL)}},{key:"onSendUserFeedback",value:function(e,t,n){var r={feedback:{overallRating:t.overall}};t.video&&(r.feedback.videoQualityRating=t.video),t.audio&&(r.feedback.audioQualityRating=t.audio),t.comment&&(r.feedback.comments=t.comment),f.Registry.getEventMessageBuilder().make(v.callstatsChannels.userFeedback,e,null,r)}},{key:"onOn",value:function(e,t){f.Registry.getCallbacks().set(e,t)}},{key:"onSetIdentifiers",value:function(e,t){if(e.conferenceID&&(f.Registry.getConferenceManager().updateConferenceId(e.conferenceID),f.Registry.getTransmissionManager().updateConferenceId(e.conferenceID),f.Registry.getTransmissionManager().trySend()),e.remoteUserID&&t){var n=f.Registry.getConferenceManager().getConferenceForPc(t);if(!n)return void d.log("onSetIdentifiers conference not found");var r=n.getPeerConnectionManager().getPcHandler(t);if(!r)return void d.log("pcHandler not found");r.updateRemoteId(e.remoteUserID),f.Registry.getTransmissionManager().trySend()}}},{key:"onMakePrecallTest",value:function(e,t){var n=e,r=t||"callstats";e||(n=this.authenticator.getIceServers(),r="callstats"),f.Registry.getPCTRunnerService().doPrecalltest(n,r)}},{key:"handleIceConnectionFailure",value:function(e,t,n){if(e){var r=f.Registry.getConferenceManager().get(t),i=void 0;if(r&&(i=r.getPeerConnectionManager().getPcHandler(e)),i)if(i.isFabricSetupSent()){var a={localIceCandidates:[],remoteIceCandidates:[],iceCandidatePairs:[]};a.delay=p.getCurrent()-i.getStartTime(),a.currIceConnectionState="failed",a.prevIceConnectionState="disconnected",f.Registry.getEventMessageBuilder().make(v.internalFabricEvent.iceFailed,t,e,a)}else n.delay=p.getCurrent()-i.getStartTime(),n.fabricState=i.getPcState(),n.iceConnectionState=i.getIceConnectionState(),f.Registry.getEventMessageBuilder().make(v.fabricEvent.fabricSetupFailed,t,e,n)}}},{key:"handleGUMErrors",value:function(e){var t=f.Registry.getConferenceManager().get(e);if(t||(f.Registry.getConferenceManager().add(e,f.Registry.getCredentials()),t=f.Registry.getConferenceManager().get(e)),!t.getUcId()){var n={endpointInfo:f.Registry.getEndpoint().serialize()};f.Registry.getEventMessageBuilder().make(v.internalFabricEvent.userJoined,e,null,n),t.setUserJoinedSent(!0)}}},{key:"callFailureClassifier",value:function(e){var t=void 0;return v.webRTCFunctions.hasOwnProperty(e)?e===v.webRTCFunctions.createOffer||e===v.webRTCFunctions.createAnswer||e===v.webRTCFunctions.setRemoteDescription?t=v.callFailureReasons.negotiationFailure:e===v.webRTCFunctions.setLocalDescription?t=v.callFailureReasons.sdpError:e===v.webRTCFunctions.addIceCandidate?t=v.callFailureReasons.sdpError:e===v.webRTCFunctions.getUserMedia?t=v.callFailureReasons.mediaConfigError:e===v.webRTCFunctions.iceConnectionFailure?t=v.callFailureReasons.iceFailure:e===v.webRTCFunctions.signalingError?t=v.callFailureReasons.signalingError:(e===v.webRTCFunctions.applicationLog||v.webRTCFunctions.applicationError)&&(t=v.callFailureReasons.applicationLog):t=v.callFailureReasons.invalidWebRTCFunctionName,t}},{key:"formatDomError",value:function(e){var t={},n={};e&&(window.DOMException&&e instanceof window.DOMException?(n.message=e.message,n.name=e.name,t.messageType="domError"):"object"===(void 0===e?"undefined":c(e))?(e.message&&(n.message=e.message),e.name&&(n.name=e.name),e.constraintName&&(n.name=e.constraintName),e.stack&&(n.stack=e.stack),t.messageType="json"):(n=e,t.messageType="text"));var r=this.truncateLog(n);return"object"===(void 0===r?"undefined":c(r))?t.message=JSON.stringify(r):t.message=r,t}},{key:"pickSDP",value:function(e,t,n){return t||(e&&e[n]?e[n].sdp:"")}},{key:"truncateString",value:function(e){return e.length>2e4&&(d.log("Log exceeds 20kb, It will be truncated"),e=e.substring(0,2e4)),e}},{key:"truncateLog",value:function(e){return e?("string"==typeof e?e=this.truncateString(e):"object"===(void 0===e?"undefined":c(e))&&e.message&&(e.message=this.truncateString(e.message)),e):e}}]),t})();n.MainFSM=T},{"../config/constants":36,"../config/settings":37,"../statspipeline/statsadapter":73,"../statspipeline/statsassembler":74,"../statspipeline/statsmonitor":76,"../statspipeline/statsparser":77,"../statspipeline/statstransmitter":78,"../utility/csiologger":92,"../utility/registry":100,"../utility/timestamps":104,"../utility/utils":106,"./statemachine":40}],39:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=(function(){function e(t,n){r(this,e),this.type=t,this.args=void 0!==n?n:null}return i(e,[{key:"getType",value:function(){return this.type}},{key:"getArgs",value:function(){return this.args}}]),e})();n.ProgramEvent=a},{}],40:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.StateMachine=void 0;var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=e("./programevent"),o=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("../utility/csiologger")),s=(function(){function e(t){r(this,e),this.events=[],this.state=t}return i(e,[{key:"fire",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=new a.ProgramEvent(e,n);this.events.push(i)}},{key:"proceed",value:function(e,t){o.warn("You need to overwrite the proceed function inan extended StateMachine")}},{key:"setState",value:function(e){this.state=e}},{key:"getState",value:function(){return this.state}},{key:"run",value:function(){if(!(this.events.length<1)){var e=this.events.shift();this.proceed(e.getType(),e.getArgs())}}}]),e})();n.StateMachine=s},{"../utility/csiologger":92,"./programevent":39}],41:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.GetStatsHandler=void 0;var a=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=r(e("../config/constants")),s=e("../statspipeline/statsadapter"),c=e("../utility/registry"),u=r(e("../utility/csiologger")),l=(function(){function e(t,n,r,a,o){i(this,e),this.pc=t,this.interval=r,this.codeBase=a,this.browserName=o,this.getStatsTimer=null,this.isPromiseBased=!0,this.pcHash=n,this.genericevent=c.Registry.getGenericEventHandler()}return a(e,[{key:"startStatsPolling",value:function(){var e=this;e.getStatsTimer||(u.log("startStatsPolling for ",e.pcHash),this.getStatsTimer=setInterval(function(){e.csioGetStats(e.statsHandler,e.pcHash)},e.interval))}},{key:"stopStatsPolling",value:function(){this.getStatsTimer&&(clearInterval(this.getStatsTimer),this.getStatsTimer=null)}},{key:"csioGetStats",value:function(e,t){var n=o.codeBaseType.firefox,r=o.codeBaseType.chrome,i=o.codeBaseType.edge,a=o.browserName.safari,s=this.pc;if(s){if("closed"===s.iceConnectionState)return void this.stopStatsPolling();try{this.isTemaSys()?this.getStatsTemasys(e,t):this.codeBase===n?this.getStatsFirefox(e,t):this.browserName===a?this.getStatsSafari(e,t):this.codeBase===r?this.getStatsChrome(e,t):this.codeBase===i&&this.getStatsEdge(e,t)}catch(e){u.log("csioGetStats: Error ",e)}}}},{key:"getStatsTemasys",value:function(e,t){this.pc.getStats(null,function(n){e(n,t)},function(e){u.log("getStatsTemasys error",e)})}},{key:"getStatsFirefox",value:function(e,t){var n=this,r=this.pc;if(n.isPromiseBased)try{r.getStats().then(function(n){e(n,t)}).catch(function(i){console.log("getstats error ",i),n.isPromiseBased=!1,r.getStats(null,function(n){e(n,t)})})}catch(i){n.isPromiseBased=!1,n.genericevent.sendEvent(o.logEvents.getStatsError,{msg:"Firefox getStats reports error ",error:i.message+":"+i.stack}),r.getStats(null,function(n){e(n,t)})}else r.getStats(null,function(n){e(n,t)})}},{key:"getStatsChrome",value:function(e,t){var n=this,r=this,i=r.pc;if(window&&window.csioReactNative)i.getStats().then(function(n){e(n,t)}).catch(function(e){u.error("Chrome getStats Error [react-native]",e)});else if(r.isPromiseBased)try{i.getStats().then(function(r){n.getLegacyStatsChrome().then(function(n){e(r,t,n)})}).catch(function(n){u.log("Chrome getStats Error ",n),r.isPromiseBased=!1,r.genericevent.sendEvent(o.logEvents.getStatsError,{msg:"Chrome getStats reports error",error:n.message+":"+n.stack}),i.getStats(function(n){e(n,t)})})}catch(n){r.isPromiseBased=!1,r.genericevent.sendEvent(o.logEvents.getStatsError,{msg:"Chrome getStats reports error",error:n.message+":"+n.stack}),i.getStats(function(n){e(n,t)})}else i.getStats(function(n){e(n,t)})}},{key:"getLegacyStatsChrome",value:function(){var e=this.pc;return new Promise(function(t,n){e.getStats(function(e){for(var n=[],r=e.result(),i=0;i<r.length;++i){var a=r[i];"ssrc"!==a.type&&"VideoBwe"!==a.type||n.push(a)}t(n)})})}},{key:"getStatsEdge",value:function(e,t){var n=this;n.pc.getStats().then(function(n){e(n,t)}).catch(function(r){e({},t),r?n.genericevent.sendEvent(o.logEvents.getStatsError,{msg:"Edge getStats reports error",error:r.message+":"+r.stack}):n.genericevent.sendEvent(o.logEvents.getStatsError,{msg:"Edge getStats reports error"})})}},{key:"getStatsSafari",value:function(e,t){var n=this;n.pc.getStats().then(function(n){e(n,t)}).catch(function(e){n.genericevent.sendEvent(o.logEvents.getStatsError,{msg:"Safari getStats reports error",error:e.message+":"+e.stack})})}},{key:"statsHandler",value:function(e,t,n){var r=c.Registry.getStatsAdapter();if(e&&r)try{r.transmit(s.StatsAdapterIO.RawStatsIn,e,t,n)}catch(e){u.log("statsHandler: Error ",e),c.Registry.getGenericEventHandler().sendEvent(o.logEvents.error,{msg:"statsHandler: Error",error:e.message+":"+e.stack})}}},{key:"iceCandidatesHandler",value:function(e,t){t(c.Registry.getStatsAdapter().getIceCandidates(e))}},{key:"getIceCandidates",value:function(){var e=this;return new Promise(function(t,n){e.csioGetStats(e.iceCandidatesHandler,function(e){t(e)})})}},{key:"isTemaSys",value:function(){return!!(window&&window.AdapterJS&&window.AdapterJS.WebRTCPlugin&&window.AdapterJS.WebRTCPlugin.plugin)}}]),e})();n.GetStatsHandler=l},{"../config/constants":36,"../statspipeline/statsadapter":73,"../utility/csiologger":92,"../utility/registry":100}],42:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.PcCallbackHandler=void 0;var a=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=r(e("../config/constants")),s=e("../utility/registry"),c=r(e("../utility/timestamps")),u=r(e("../config/callstatserrors")),l=r(e("../utility/csiologger")),f=(function(){function e(t,n,r,a,u,f){var d=this;if(i(this,e),n){if(this.conferenceId=t,this.pc=n,this.getStatsHandler=r,this.userAlive=a,this.callback=f,this.remoteId=u,this.clocksync=s.Registry.getClockSync(),this.emb=s.Registry.getEventMessageBuilder(),this.precalltest=s.Registry.getPreCallTest(),this.genericevent=s.Registry.getGenericEventHandler(),this.iceCandidates=[],this.iceConnectionState=n.iceConnectionState,this.iceGatheringState=n.iceGatheringState,this.signalingState=n.signalingState,this.oldIceConnectionState="",this.oldIceGatheringState="",this.iceConnectionStateTS="",this.negotiationNeeded=0,this.pcState=o.fabricState.initializing,this.disruptedTS=0,this.connectionDisruptedTS=0,this.startTime=c.getCurrent(),this.established=!1,this.activeIceCandidatePair=null,this.prevActiveIceCandidatePair=null,this.localIceCandidates=[],this.remoteIceCandidates=[],this.iceCandidatePairs=[],this.iceConnectivityDelay=0,this.iceGatheringDelay=0,this.fabricSetupSent=!1,this.pc&&this.pc.addEventListener?(this.pc.addEventListener("icecandidate",this.iceCandidateCallback.bind(this),!1),this.pc.addEventListener("iceconnectionstatechange",this.iceConnectionStateChangeCallback.bind(this),!1),this.pc.addEventListener("signalingstatechange",this.pcSignalingStateChangeCallback.bind(this),!1),this.pc.addEventListener("negotiationneeded",this.pcNegotiationNeededCallback.bind(this),!1)):this.pc&&this.pc.attachEvent?(l.info("attachEvent"),this.pc.attachEvent("onicecandidate",this.iceCandidateCallback.bind(this)),this.pc.attachEvent("oniceconnectionstatechange",this.iceConnectionStateChangeCallback.bind(this)),this.pc.attachEvent("onsignalingstatechange",this.pcSignalingStateChangeCallback.bind(this)),this.pc.attachEvent("onnegotiationneeded",this.pcNegotiationNeededCallback.bind(this))):l.error("callstats cannot monitor or collect stats"),n.getConfiguration){var h=n.getConfiguration();h&&(this.iceServersURLs=this.getIceServerURLs(h.iceServers),this.sdpSemantics=h.sdpSemantics)}!n||"connected"!==n.iceConnectionState&&"completed"!==n.iceConnectionState||(this.pcState=o.fabricState.established,this.getStatsHandler.getIceCandidates().then(function(e){d.localIceCandidates=e.localIceCandidates,d.remoteIceCandidates=e.remoteIceCandidates,d.iceCandidatePairs=e.iceCandidatePairs,d.prevActiveIceCandidatePair=d.activeIceCandidatePair,d.activeIceCandidatePair=d.getActiveIceCandidatePair(),d.sendfabricSetup(),d.startStatsPolling()}))}}return a(e,[{key:"getIceServerURLs",value:function(e){var t=[];if(!e)return t;for(var n=0;n<e.length;n++){var r=e[n];if(r&&r.urls)for(var i=0;i<r.urls.length;i++)t.push(r.urls[i])}return t}},{key:"iceCandidateCallback",value:function(e){if(e&&e.candidate&&e.candidate.candidate){var t=e.candidate.candidate.split(" ");if("0"!==t[4]&&"0"!==t[5]){var n=-1!==t[4].indexOf(":"),r="1"===t[1]?"rtp":"rtcp",i={transport:t[2],protocol:r,typePreference:t[3],address:n?"["+t[4]+"]:"+t[5]:t[4]+":"+t[5],type:t[7],media:e.candidate.sdpMid};-1===this.iceCandidates.indexOf(i)&&(this.iceCandidates.push(i),l.warn("CALLBACK: ICE candidate",i))}}}},{key:"iceConnectionStateChangeCallback",value:function(e){var t=this;if(e){l.log("pc states ",this.pc.iceGatheringState,this.pc.iceConnectionState),this.iceConnectionStateTS=this.clocksync.getSynchronizedTimestamp(),this.handleIceGatheringState(),this.handleIceConnectionState(),l.log("states ",this.iceGatheringState,this.iceConnectionState),"complete"===this.iceGatheringState&&"checking"===this.iceConnectionState&&this.handleIceChecking();var n={prevIceConnectionState:this.oldIceConnectionState,currIceConnectionState:this.iceConnectionState},r=this.iceConnectionState;this.getStatsHandler.getIceCandidates().then(function(e){t.localIceCandidates=e.localIceCandidates,t.remoteIceCandidates=e.remoteIceCandidates,t.iceCandidatePairs=e.iceCandidatePairs,t.prevActiveIceCandidatePair=t.activeIceCandidatePair,t.activeIceCandidatePair=t.getActiveIceCandidatePair(),"connected"===r||"completed"===r?t.handleIceConnectedOrCompleted(n):"failed"===r?t.handleIceFailed(n):"disconnected"===r?t.handleIceDisconnected(n):"closed"===r?t.handleIceClosed(n):"new"===r&&t.handleIceRestart(n)})}}},{key:"sendFabricStateChange",value:function(e){this.emb.make(o.internalFabricEvent.fabricStateChange,this.conferenceId,this.pc,e)}},{key:"handleIceConnectionState",value:function(){this.oldIceConnectionState=this.iceConnectionState,this.iceConnectionState=this.pc.iceConnectionState,l.warn("CALLBACK: ICE connection state change",this.oldIceConnectionState,"->",this.iceConnectionState);var e={changedState:o.fabricStateChangeType.iceConnectionState,prevState:this.oldIceConnectionState,newState:this.iceConnectionState};this.sendFabricStateChange(e)}},{key:"handleIceGatheringState",value:function(){if(this.iceGatheringState!==this.pc.iceGatheringState){"complete"===this.pc.iceGatheringState&&(this.iceGatheringDelay=c.getCurrent()-this.startTime),this.oldIceGatheringState=this.iceGatheringState,this.iceGatheringState=this.pc.iceGatheringState,l.warn("CALLBACK: ICE gathering state change",this.oldIceGatheringState,"->",this.iceGatheringState);var e={changedState:o.fabricStateChangeType.iceGatheringState,prevState:this.oldIceGatheringState,newState:this.iceGatheringState};this.sendFabricStateChange(e)}}},{key:"handleIceChecking",value:function(){var e=c.getCurrent();if("disconnected"===this.oldIceConnectionState&&(this.pcState===o.fabricState.checkingDisrupted||this.pcState===o.fabricState.disrupted)){var t={prevIceConnectionState:this.oldIceConnectionState,currIceConnectionState:this.iceConnectionState,delay:e-this.connectionDisruptedTS};this.pcState===o.fabricState.disrupted&&(t.prevIceCandidatePair=this.prevActiveIceCandidatePair,t.currIceCandidatePair=this.activeIceCandidatePair,t.delay=e-this.disruptedTS,this.emb.make(o.internalFabricEvent.iceDisruptionEnd,this.conferenceId,this.pc,t)),this.pcState=o.fabricState.initializing,this.emb.make(o.internalFabricEvent.iceConnectionDisruptionEnd,this.conferenceId,this.pc,t)}}},{key:"handleIceConnectedOrCompleted",value:function(e){var t=c.getCurrent();this.pcState===o.fabricState.disrupted&&(e.prevIceCandidatePair=this.prevActiveIceCandidatePair,e.currIceCandidatePair=this.activeIceCandidatePair,e.delay=t-this.disruptedTS,this.emb.make(o.internalFabricEvent.iceDisruptionEnd,this.conferenceId,this.pc,e)),this.iceConnectivityDelay=t-this.startTime,this.established=!0,this.pcState=o.fabricState.established,this.sendfabricSetup(),this.startStatsPolling()}},{key:"sendfabricSetup",value:function(){if(this.fabricSetupSent)l.log("fabricSetup has been sent already");else{var e={delay:c.getCurrent()-this.startTime,iceGatheringDelay:this.iceGatheringDelay,iceConnectivityDelay:this.iceConnectivityDelay,localIceCandidates:this.localIceCandidates,remoteIceCandidates:this.remoteIceCandidates,iceCandidatePairs:this.iceCandidatePairs,remoteEndpointType:o.endpointType.peer,fabricTransmissionDirection:o.transmissionDirection.sendrecv,iceServers:this.iceServersURLs,sdpSemantics:this.sdpSemantics},t=this.getActiveIceCandidatePair();t&&(e.selectedCandidatePairID=t.id),this.fabricSetupSent=!0;var n=void 0;if(this.conferenceId){var r=s.Registry.getConferenceManager().get(this.conferenceId);r&&r.getPeerConnectionManager()&&(n=r.getPeerConnectionManager().getPcHandler(this.pc),e.remoteEndpointType=n.getRemoteEndpointType(),e.fabricTransmissionDirection=n.getFabricTransmissionDirection())}this.pcState=o.fabricState.established,this.emb.make(o.internalFabricEvent.fabricSetup,this.conferenceId,this.pc,e)}}},{key:"isFabricSetupSent",value:function(){return this.fabricSetupSent}},{key:"startStatsPolling",value:function(){this.getStatsHandler.startStatsPolling()}},{key:"stopStatsPolling",value:function(){this.getStatsHandler.stopStatsPolling()}},{key:"handleIceFailed",value:function(e){e.currIceCandidatePair=this.activeIceCandidatePair,e.delay=c.getCurrent()-this.startTime,this.pcState=o.fabricState.failed,"checking"===e.prevIceConnectionState?this.sendIceFailed(e):"completed"===e.prevIceConnectionState||"connected"===e.prevIceConnectionState?this.emb.make(o.internalFabricEvent.fabricDropped,this.conferenceId,this.pc,e):"disconnected"===e.prevIceConnectionState&&this.established?this.emb.make(o.internalFabricEvent.fabricDropped,this.conferenceId,this.pc,e):"disconnected"===e.prevIceConnectionState&&this.sendIceFailed(e)}},{key:"getActiveIceCandidatePair",value:function(){var e=null,t=this.iceCandidatePairs;if(t&&t.length>0){var n=t.filter(function(e){return"true"===e.selected||"true"===e.googActiveConnection||!0===e.selected||!0===e.googActiveConnection});n.length>0&&(e=n[0])}return e}},{key:"sendIceFailed",value:function(e){e.localIceCandidates=this.localIceCandidates,e.remoteIceCandidates=this.remoteIceCandidates,e.iceCandidatePairs=this.iceCandidatePairs,l.log("sending icefailed ",e),this.emb.make(o.internalFabricEvent.iceFailed,this.conferenceId,this.pc,e)}},{key:"sendFabricTransportSwitch",value:function(e){var t=this,n={};n.prevIceCandidatePair=t.activeIceCandidatePair,n.relayType=e,n.currIceConnectionState=t.iceConnectionState,n.prevIceConnectionState=t.oldIceConnectionState,n.switchDelay=null,t.getStatsHandler.getIceCandidates().then(function(e){t.localIceCandidates=e.localIceCandidates,t.remoteIceCandidates=e.remoteIceCandidates,t.iceCandidatePairs=e.iceCandidatePairs,t.activeIceCandidatePair=t.getActiveIceCandidatePair(),n.currIceCandidatePair=t.activeIceCandidatePair,n.localIceCandidates=t.localIceCandidates,n.remoteIceCandidates=t.remoteIceCandidates,l.log("sending fabric transport switch ",n),"completed"!==n.currIceConnectionState&&"connected"!==n.currIceConnectionState||"completed"!==n.prevIceConnectionState&&"connected"!==n.prevIceConnectionState||t.emb.make(o.internalFabricEvent.fabricTransportSwitch,t.conferenceId,t.pc,n)})}},{key:"handleIceDisconnected",value:function(e){var t=c.getCurrent();this.startTime=t,e.prevIceConnectionStateTs=this.iceConnectionStateTS,e.currIceCandidatePair=this.activeIceCandidatePair,"connected"===e.prevIceConnectionState||"completed"===e.prevIceConnectionState?(this.pcState=o.fabricState.disrupted,this.disruptedTS=t,this.emb.make(o.internalFabricEvent.iceDisruptionStart,this.conferenceId,this.pc,e),this.callback&&this.callback(u.csError.appConnectivityError,"Connectivity check for PC object to "+this.remoteId+" failed.")):"checking"===e.prevIceConnectionState&&(this.pcState=o.fabricState.checkingDisrupted,this.connectionDisruptedTS=t,this.emb.make(o.internalFabricEvent.iceConnectionDisruptionStart,this.conferenceId,this.pc,e),this.callback&&this.callback(u.csError.appConnectivityError,"Connectivity check for PC object to "+this.remoteId+" failed."))}},{key:"handleIceClosed",value:function(e){"new"===e.prevIceConnectionState||"checking"===e.prevIceConnectionState?(e.delay=c.getCurrent()-this.startTime,e.localIceCandidates=this.localIceCandidates,e.remoteIceCandidates=this.remoteIceCandidates,e.iceCandidatePairs=this.iceCandidatePairs,this.emb.make(o.internalFabricEvent.iceAborted,this.conferenceId,this.pc,e)):"connected"!==e.prevIceConnectionState&&"completed"!==e.prevIceConnectionState||(e.prevIceCandidatePair=this.activeIceCandidatePair,this.emb.make(o.internalFabricEvent.iceTerminated,this.conferenceId,this.pc,e)),this.pcState=o.fabricState.terminated,this.conferenceId&&s.Registry.getConferenceManager().get(this.conferenceId).updateState(),this.stopStatsPolling()}},{key:"handleIceRestart",value:function(e){e.prevIceCandidatePair=this.prevActiveIceCandidatePair,"new"!==e.prevIceConnectionState&&(l.log("iceRestarted sending"),this.established=!1,this.emb.make(o.internalFabricEvent.iceRestarted,this.conferenceId,this.pc,e))}},{key:"pcSignalingStateChangeCallback",value:function(e){var t=this;if(e){var n=this.signalingState;this.signalingState=this.pc.signalingState,l.warn("CALLBACK: signaling state change",n,"->",this.signalingState);var r={changedState:o.fabricStateChangeType.signalingState,prevState:n,newState:this.signalingState};if(this.sendFabricStateChange(r),"have-remote-offer"!==this.signalingState&&"stable"!==this.signalingState||(this.precalltest.callStarts(),s.Registry.getPCTRunnerService().setCallInProgress(!0),this.genericevent.sendEvent(o.logEvents.log,{msg:"precalltest told to stop "})),"closed"===this.signalingState&&(this.emb.make(o.fabricEvent.fabricTerminated,this.conferenceId,this.pc),this.userAlive.stop(),this.precalltest.callFinished(),s.Registry.getPCTRunnerService().setCallInProgress(!1),this.stopStatsPolling(),this.pcState=o.fabricState.terminated,this.conferenceId)){var i=s.Registry.getConferenceManager().get(this.conferenceId);if(i&&i.getPeerConnectionManager()){var a=i.getPeerConnectionManager().getPcHandler(this.pc);i.getPeerConnectionManager().removePcStats(a&&a.getPcHash())}i.updateState()}"have-local-offer"!==this.signalingState&&"have-local-pranswer"!==this.signalingState&&"stable"!==this.signalingState||(l.log(this.signalingState,".. requesting sender config."),s.Registry.getConfigServiceWrapper().initiateSenderConfig(this.pc).then(function(){var e=s.Registry.getConfigServiceWrapper().getSenderConfig();l.log("Sender config:",e);var n=o.callstatsChannels.senderConfiguration;e&&s.Registry.getEventMessageBuilder().make(n,t.conferenceId,t.pc,e)}).catch(function(e){l.warn(e)}))}}},{key:"pcNegotiationNeededCallback",value:function(e){e&&(this.negotiationNeeded++,this.startTime=c.getCurrent(),l.warn("CALLBACK: negotiation needed",this.negotiationNeeded))}}]),e})();n.PcCallbackHandler=f},{"../config/callstatserrors":35,"../config/constants":36,"../utility/csiologger":92,"../utility/registry":100,"../utility/timestamps":104}],43:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.PeerConnectionHandler=void 0;var a=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=e("../utility/registry"),s=e("../peerconnection/pccallbackhandler"),c=e("../browserapi/devices"),u=e("./useralivehandler"),l=e("./getstatshandler"),f=r(e("../config/constants")),d=r(e("../utility/timestamps")),h=r(e("../utility/csiologger")),p=(function(){function e(t){i(this,e),this.pc=t.pc,this.remoteId=t.remoteId,this.fabricUsage=t.fabricUsage,this.callback=t.callback,this.conferenceId=t.conferenceId,this.remoteEndpointType=t.remoteEndpointType,this.fabricTransmissionDirection=t.fabricTransmissionDirection,this.clocksync=o.Registry.getClockSync(),this.startTime=this.clocksync.getSynchronizedTimestamp(),this.credentials=o.Registry.getCredentials(),this.pcHash=this.generatePcHash(),this.ssrcMap=new Map,this.localSdp=null,this.remoteSdp=null,this.transportInfo=null,this.userAliveHandler=new u.UserAliveHandler(this.conferenceId,this.pc),this.userAliveHandler.start(),this.emb=o.Registry.getEventMessageBuilder(),this.devices=new c.Devices(this.conferenceId,this.pc);var n=o.Registry.getEndpoint();this.getStatsHandler=new l.GetStatsHandler(this.pc,this.pcHash,t.interval,n.getCodeBase(),n.getBrowserName()),this.pcCallbackHandler=new s.PcCallbackHandler(this.conferenceId,this.pc,this.getStatsHandler,this.userAliveHandler,this.remoteId,this.callback),this.devices.collectConnected(),this.fabricTransmissionDirection||(this.fabricTransmissionDirection="sendrecv"),this.remoteEndpointType||(this.remoteEndpointType="peer")}return a(e,[{key:"getFabricTransmissionDirection",value:function(){return this.fabricTransmissionDirection}},{key:"getRemoteEndpointType",value:function(){return this.remoteEndpointType}},{key:"stopUserAliveHandler",value:function(){this.userAliveHandler.stop()}},{key:"getPcState",value:function(){return this.pcCallbackHandler.pcState}},{key:"stopStatsPolling",value:function(){this.getStatsHandler.stopStatsPolling()}},{key:"startStatsPolling",value:function(){this.getStatsHandler.startStatsPolling()}},{key:"setPcState",value:function(e){e in f.fabricState?this.pcCallbackHandler.pcState=e:h.error("setPcState: Invalid state")}},{key:"getAppId",value:function(){return this.credentials.getAppId()}},{key:"getLocalId",value:function(){return this.credentials.getUserId()}},{key:"getConferenceId",value:function(){return this.conferenceId}},{key:"getPeerConnection",value:function(){return this.pc}},{key:"getRemoteId",value:function(){return this.remoteId}},{key:"isFabricSetupSent",value:function(){return this.pcCallbackHandler.isFabricSetupSent()}},{key:"getStartTime",value:function(){return this.startTime}},{key:"getCallback",value:function(){return this.callback}},{key:"getPcHash",value:function(){return this.pcHash}},{key:"getIceCandidates",value:function(){return this.pcCallbackHandler?this.pcCallbackHandler.iceCandidates:null}},{key:"getIceConnectionState",value:function(){return this.pcCallbackHandler?this.pcCallbackHandler.iceConnectionState:null}},{key:"getNegotiationsNumber",value:function(){return this.pcCallbackHandler?this.pcCallbackHandler.negotiationNeeded:0}},{key:"sendFabricTransportSwitch",value:function(e){this.pcCallbackHandler&&this.pcCallbackHandler.sendFabricTransportSwitch(e)}},{key:"getSdp",value:function(){return{localSdp:this.localSdp,remoteSdp:this.remoteSdp}}},{key:"setSdp",value:function(e,t){this.localSdp=e,this.remoteSdp=t}},{key:"generatePcHash",value:function(){var e=(Math.random()+1).toString(36);return e.substring(2,e.length)}},{key:"getTransportInfo",value:function(){return this.transportInfo}},{key:"setTransportInfo",value:function(e){this.transportInfo=e}},{key:"updateSDP",value:function(e){var t=this,n=void 0,r=void 0;if(this.pc&&this.pc.localDescription&&(n=this.pc.localDescription.sdp),this.pc&&this.pc.remoteDescription&&(r=this.pc.remoteDescription.sdp),n&&r&&(n!==this.localSdp||r!==this.remoteSdp)){this.parseSDP(n,f.streamType.outbound),this.parseSDP(r,f.streamType.inbound);var i={localSDP:n!==this.localSdp?n:"",remoteSDP:r!==this.remoteSdp?r:""};""===n&&""===remoteSDP||!o.Registry.getCredentials().getCollectSDP()||this.emb.make(f.internalFabricEvent.sdpSubmission,this.conferenceId,this.pc,i),e&&e.forEach(function(e){var n=String(e.data.ssrc),r=t.ssrcMap.get(n);r||(r={}),r.mediaType=e.data.mediaType,r.reportType=e.reportType,r.ssrc=n,t.ssrcMap.set(n,r)});var a=[];this.ssrcMap.forEach(function(e,t){e.msid&&e.mslabel&&e.label&&a.push(e)});for(var s={ssrcData:a},c=0;c<s.ssrcData.length;c+=1)s.ssrcData[c].userID=o.Registry.getCredentials().getUserId();this.emb.make(f.internalFabricEvent.ssrcMap,this.conferenceId,this.pc,s),this.setSdp(n,r)}}},{key:"parseSDP",value:function(e,t){var n=this,r=RegExp.prototype.test.bind(/^([a-z])=(.*)/),i=/^ssrc:(\d*) ([\w_]*):(.*)/,a=/^ssrc-group:SIM (\d*)/;e.split(/(\r\n|\r|\n)/).filter(r).forEach(function(e){var r=e[0],o=e.slice(2);if("a"===r&&i.test(o)){var s=o.match(i),c=s[1],u=s[2],l=s[3],f=n.ssrcMap.get(c);if(f||(f={}),f.ssrc=c,f[u]=l,f.localStartTime=d.getCurrent(),f.syncedStartTime=n.clocksync.getSynchronizedTimestamp(),f.streamType=t,!a.test(o))return void n.ssrcMap.set(c,f);f.ssrcGroup={},f.ssrcGroup[t]={},f.ssrcGroup[t].simulcastGroup=o.match(/\d+/g),n.ssrcMap.set(c,f)}})}},{key:"getSSRCInfo",value:function(e){return this.ssrcMap.get(e)}},{key:"setupVideoTagMethods",value:function(e,t){var n=this,r=document.getElementById(e);r&&(r.oncanplay=function(){var e={ssrc:String(t),highResTs:o.Registry.getClockSync().getSynchronizedTimestamp()};n.emb.make(f.internalFabricEvent.mediaPlaybackStart,n.conferenceId,n.pc,e)},r.onsuspend=function(){var e={ssrc:String(t),highResTs:o.Registry.getClockSync().getSynchronizedTimestamp()};n.emb.make(f.internalFabricEvent.mediaPlaybackSuspended,n.conferenceId,n.pc,e)})}},{key:"updateSSRCInfo",value:function(e,t,n,r){var i=this.ssrcMap.get(e);i||(i={}),i.ssrc=e,i.remoteUserID=t,i.usageLabel=n,i.associatedVideoTag=r,this.ssrcMap.set(e,i),r&&t!==this.credentials.getUserId()&&this.setupVideoTagMethods(r,e)}},{key:"updateConferenceId",value:function(e){this.conferenceId=e,this.userAliveHandler.updateConferenceId(e)}},{key:"updateRemoteId",value:function(e){this.remoteId=e}}],[{key:"Builder",get:function(){return(function(){function t(){i(this,t)}return a(t,[{key:"withPc",value:function(e){return this.pc=e,this}},{key:"withInterval",value:function(e){return this.interval=e,this}},{key:"withRemoteId",value:function(e){return this.remoteId=e,this}},{key:"withFabricUsage",value:function(e){return this.fabricUsage=e,this}},{key:"withConferenceId",value:function(e){return this.conferenceId=e,this}},{key:"withRemoteEndpointType",value:function(e){return this.remoteEndpointType=e,this}},{key:"withFabricTransmissionDirection",value:function(e){return this.fabricTransmissionDirection=e,this}},{key:"withCallback",value:function(e){return this.callback=e,this}},{key:"make",value:function(){return new e(this)}}]),t})()}}]),e})();n.PeerConnectionHandler=p},{"../browserapi/devices":19,"../config/constants":36,"../peerconnection/pccallbackhandler":42,"../utility/csiologger":92,"../utility/registry":100,"../utility/timestamps":104,"./getstatshandler":41,"./useralivehandler":45}],44:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.PeerConnectionManager=void 0;var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=e("./peerconnectionhandler"),o=e("../utility/registry"),s=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("../config/constants")),c=(function(){function e(){r(this,e),this.pcHandlers=new Map}return i(e,[{key:"removePcHandler",value:function(e){var t=this.getPcHandler(e);if(t){var n=t.getPcHash();this.pcHandlers.delete(n)}}},{key:"removePcStats",value:function(e){e&&o.Registry.getStatsMonitor().delete(e)}},{key:"addPcHandler",value:function(e,t,n,r,i,s,c){if(!this.getPcHandler(e)){var u=5e3;o.Registry.getCredentials().isAdaptiveStatsEnabled()&&(u=1e3);var l=(new a.PeerConnectionHandler.Builder).withPc(e).withRemoteId(t).withFabricUsage(n).withConferenceId(r).withRemoteEndpointType(i).withFabricTransmissionDirection(s).withCallback(c).withInterval(u).make();this.pcHandlers.set(l.getPcHash(),l)}}},{key:"getPcHandler",value:function(e){var t=null;return e?(this.pcHandlers.forEach(function(n,r){n&&n.getPeerConnection()===e&&(t=n)}),t):t}},{key:"getPcHandlerByHash",value:function(e){return e&&this.pcHandlers.has(e)?this.pcHandlers.get(e):null}},{key:"getPeerConnectionStatus",value:function(){return this.pcHandlers.forEach(function(e,t){if(e.getPcState()!==s.fabricState.terminated)return e.getPcState()}),s.fabricState.terminated}},{key:"updateConferenceId",value:function(e){this.pcHandlers.forEach(function(t,n){t.updateConferenceId(e)})}}]),e})();n.PeerConnectionManager=c},{"../config/constants":36,"../utility/registry":100,"./peerconnectionhandler":43}],45:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0}),n.UserAliveHandler=void 0;var o=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("../config/constants")),c=e("../utility/timeoutprocess"),u=e("../utility/registry"),l=1e4,f=(function(e){function t(e,n){r(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,l));return a.emb=u.Registry.getEventMessageBuilder(),a.pc=n,a.conferenceId=e,a.setCallback(a.send),a}return a(t,c.TimeoutProcess),o(t,[{key:"send",value:function(){this.conferenceId!==s.tmpConferenceId&&this.pc&&this.emb.make(s.internalFabricEvent.userAlive,this.conferenceId,this.pc)}},{key:"updateConferenceId",value:function(e){this.conferenceId=e}}]),t})();n.UserAliveHandler=f},{"../config/constants":36,"../utility/registry":100,"../utility/timeoutprocess":103}],46:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0}),n.Authenticator=void 0;var s=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),c=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0},u=e("./jwt/jwt"),l=e("./jwt/jwttoken"),f=r(e("../config/settings")),d=r(e("../utility/base64")),h=r(e("../config/callstatserrors")),p=r(e("../config/constants")),v=r(e("../browserapi/localstorage")),g=r(e("../utility/json")),y=e("./xmlhttp"),m=e("./xmlhttpservice"),b=e("../utility/registry"),S=r(e("../utility/csiologger")),k=f.authRetryTimeout,w=(function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"Authenticator"));return e.clockSync=b.Registry.getClockSync(),e.credentials=b.Registry.getCredentials(),e}return o(t,m.XMLHttpService),s(t,[{key:"initiate",value:function(e,n){var r=this;return this.inProgress?(n&&n(h.csError.authOngoing,null),new Promise(function(e,t){t(new Error(r.name+": in progress"))})):this.credentials.getAppId()&&this.credentials.getUserId()?(this.initCallback=n,"function"==typeof e?(this.setTokenGenerator(e),c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initiate",this).call(this)):new Promise(function(n,i){r.createTokenGenerator(e).then(function(e){r.setTokenGenerator(e),c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initiate",r).call(r).then(function(){n()},function(e){i(e)})},function(e){i(new Error(r.name+": tokenGenerator creation problem ("+e+")"))})})):new Promise(function(e,t){t(new Error(r.name+": credentials not set"))})}},{key:"getToken",value:function(){var e=null;return this.token&&(e=this.token.getToken()),e}},{key:"isTokenValid",value:function(){return!!this.token&&this.token.isValid(this.credentials)}},{key:"getElapsed",value:function(){return this.isCompleted()?this.elapsed:null}},{key:"getIceServers",value:function(){return this.iceServers}},{key:"reset",value:function(){this.token=null,this.reauthTimer=null,this.renew=!1,this.credentials=null,this.jwt=new u.Jwt,this.tokenGenerator=function(e,t){t("Token generator is not set")},this.elapsed=0,this.iceServers=null,c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"reset",this).call(this)}},{key:"setupToken",value:function(e){v.store("csio_auth_data",JSON.stringify(e)),this.token=new l.JwtToken(e,this.clockSync)}},{key:"clearReauthTimer",value:function(){null!==this.reauthTimer&&(clearTimeout(this.reauthTimer),this.reauthTimer=null)}},{key:"setupReauthTimer",value:function(e){var t=this;t.clearReauthTimer(),t.reauthTimer=setTimeout(function(){t.reAuthenticate()},e)}},{key:"reAuthenticate",value:function(){this.inProgress||(this.inProgress=!0,this.token=null,this.sendRequest())}},{key:"handleErrorActions",value:function(e){if(0!==e.length){var t=e.shift();if(t.action===h.authErrorActions.RETRY){var n=t.params.timeout?t.params.timeout:f.authRetryTimeout;this.setupReauthTimer(n),this.handleErrorActions(e)}t.action===h.authErrorActions.GET_NEW_TOKEN&&(this.renew=!0,this.handleErrorActions(e)),t.action===h.authErrorActions.REPORT_ERROR&&(S.error(this.name+": "+t.params.errorReason),this.handleErrorActions(e))}}},{key:"setTokenGenerator",value:function(e){this.tokenGenerator=e}},{key:"handleResponse",value:function(e){var t=e.getXhr(),n=e.getElapsed(),r=g.parse(t.response);if(!r)return S.error(this.name+": invalid authentication response"),void this.sendNextRequest();if(r["urn:x-callstats:auth:errorActions"]&&r["urn:x-callstats:auth:errorActions"].length>0)this.handleErrorActions(r["urn:x-callstats:auth:errorActions"]);else{if(200===t.status){if("bearer"!==r.token_type)return S.error(this.name+": successful, but token type was not bearer. Scheduling retry."),void this.sendNextRequest();this.setupToken(r.access_token),r.iceServers&&(this.iceServers=r.iceServers),r.metadata&&r.metadata.urls&&(this.backendURLs=r.metadata.urls,this.backendURLs.events&&f.setRestEventUrl(this.backendURLs.events+"/"),this.backendURLs.stats&&f.setRestStatsUrl(this.backendURLs.stats+"/"),this.backendURLs.config&&f.setConfigServiceUrl(this.backendURLs.config+"/"));var i=parseInt(1e3*parseInt(r.expires_in)*.9);return this.setupReauthTimer(i),this.renew=!1,this.initCallback&&this.initCallback(h.csError.success,p.csCallBackMessages.authSuccessful),this.elapsed=n,void this.completeProcess()}S.error("Authentication failed, but no error actions were defined in response."),this.sendNextRequest()}}},{key:"request",value:function(){var e=this;this.clearReauthTimer();var t=new Promise(function(t,n){e.tempResolve=t,e.tempReject=n});return this.tokenGenerator(this.renew,function(t,n){if(null!==t)return e.initCallback&&e.initCallback(h.csError.tokenGenerationError,t.toString()),e.rejectCb(new Error(e.name+": tokenGenerationError")),S.error("tokenGenerationError ",t),null;var r=f.authServiceUrl+"authenticate",i={client_id:e.credentials.userId+"@"+e.credentials.getAppId(),code:n,grant_type:"authorization_code"};(0,y.sendPostRequest)(r,{"Content-Type":"application/x-www-form-urlencoded"},k,i).then(function(t){e.tempResolve(t)},function(t){e.tempReject(t)})}),t}},{key:"tokenGeneratorCreator",value:function(e,t){var n=this;return function(r,i){var a=null;if(!r&&null!==a)return i(null,a);var o=n.credentials,s={userID:o.getUserId(),appID:o.getAppId()};t&&(s.keyId=t),n.jwt.sign({alg:"HS256"},s,e).then(function(e){a=e,i(null,e)}).catch(function(e){i(e)})}}},{key:"createTokenGenerator",value:function(e){var t=this;return new Promise(function(n,r){var i=null;e.indexOf(":")>-1&&(i=d.strtohex(e.split(":")[0]),e=e.split(":")[1]),t.jwt.importKey(e).then(function(r){e=null;var a=t.tokenGeneratorCreator(r,i);n(a)}).catch(function(e){S.error(t.name+": could not import key ("+e+")"),r(e)})})}}]),t})();n.Authenticator=w},{"../browserapi/localstorage":20,"../config/callstatserrors":35,"../config/constants":36,"../config/settings":37,"../utility/base64":89,"../utility/csiologger":92,"../utility/json":97,"../utility/registry":100,"./jwt/jwt":54,"./jwt/jwttoken":55,"./xmlhttp":60,"./xmlhttpservice":61}],47:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.GenericEventHandler=void 0;var a=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=r(e("../config/settings")),s=e("./xmlhttp"),c=e("../utility/registry"),u=r(e("../utility/csiologger")),l=(function(){function e(){i(this,e),this.credentials=c.Registry.getCredentials(),this.enabled=!1}return a(e,[{key:"enable",value:function(){this.enabled=!0}},{key:"disable",value:function(){this.enabled=!1}},{key:"sendEvent",value:function(e,t){this.send(e,t).then(function(e){u.log("Got generic response: %o",e)}).catch(function(e){u.log("Got error for generic request",e)})}},{key:"send",value:function(e,t){if(!this.enabled)return new Promise(function(e,t){t(new Error("GenericEvent Error: not enabled"))});var n=this;return new Promise(function(r,i){var a={appID:n.credentials.appId,userID:encodeURIComponent(n.credentials.userId),version:o.version,eventType:e,data:t},c=o.baseUrl+"generics";(0,s.sendPostRequest)(c,{"Content-Type":"application/json"},5e3,a).then(function(e){r(e.getXhr().response)},function(e){i(e)})})}}]),e})();n.GenericEventHandler=l},{"../config/settings":37,"../utility/csiologger":92,"../utility/registry":100,"./xmlhttp":60}],48:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0}),n.ClockSync=void 0;var s=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),c=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0},u=r(e("../config/settings")),l=e("./xmlhttp"),f=r(e("../utility/timestamps")),d=e("./xmlhttpservice"),h=e("../utility/registry"),p=r(e("../config/constants")),v=(function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"ClockSync"));return e.currentOffset=0,e.completed=!1,e}return o(t,d.XMLHttpService),s(t,[{key:"initiate",value:function(){return this.startTime=f.getCurrent(),c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initiate",this).call(this)}},{key:"getSynchronizedTimestamp",value:function(){return f.getCurrent()+this.currentOffset}},{key:"getElapsed",value:function(){return this.isCompleted()?this.endTime-this.startTime:null}},{key:"getOffset",value:function(){return this.currentOffset}},{key:"reset",value:function(){this.currentOffset=0,this.offsetResults=[],this.startTime=0,this.endTime=0,c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"reset",this).call(this)}},{key:"request",value:function(){var e=u.baseUrl+"clockSync";return(0,l.sendGetRequest)(e,null,5e3)}},{key:"handleResponse",value:function(e){var t=e.getXhr(),n=e.getElapsed(),r=JSON.parse(t.response),i=f.getCurrent();this.handleMessage(r,n,i)}},{key:"handleMessage",value:function(e,t,n){var r=t/2;r>6e4?(h.Registry.getGenericEventHandler().sendEvent(p.logEvents.log,{msg:"latency > MAX_ALLOWED_LATENCY: clockSync reset"}),this.offsetResults=[]):this.addOffset(e,r,n),this.offsetResults.length>=5?(this.calculateOffset(),this.endTime=f.getCurrent(),this.completeProcess()):this.sendRequest()}},{key:"isCompleted",value:function(){return this.completed}},{key:"addOffset",value:function(e,t,n){var r=e.now+t-n;this.offsetResults.push(r)}},{key:"calculateOffset",value:function(){var e=this.offsetResults.reduce(function(e,t){return e+t});this.currentOffset=e/this.offsetResults.length,this.currentOffset=isNaN(this.currentOffset)?0:this.currentOffset,h.Registry.getGenericEventHandler().sendEvent(p.logEvents.log,{msg:"clockSync Done, offset is: "+this.currentOffset+"results length"+this.offsetResults.length}),this.offsetResults=[],this.completed=!0}}]),t})();n.ClockSync=v},{"../config/constants":36,"../config/settings":37,"../utility/registry":100,"../utility/timestamps":104,"./xmlhttp":60,"./xmlhttpservice":61}],49:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=(function(){function e(){r(this,e),this.connected=!1,this.reconnected=!1,this.conferenceUrl={}}return i(e,[{key:"setup",value:function(){return new Promise(function(e,t){e()})}},{key:"isReady",value:function(){return this.connected}},{key:"send",value:function(e){}}]),e})();n.CollectorConnection=a},{}],50:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0}),n.ConfigServiceGet=void 0;var o=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0},c=e("../xmlhttp"),u=e("../xmlhttpservice"),l=e("../../utility/registry"),f=(function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"ConfigService"))}return a(t,u.XMLHttpService),o(t,[{key:"initiate",value:function(e){var n=this;return this.url=e,this.authToken=l.Registry.getAuthenticator().getToken(),this.authToken?s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initiate",this).call(this):new Promise(function(e,t){t(new Error(n.name+": authToken has to be string"))})}},{key:"getConfig",value:function(){return this.config}},{key:"getElapsed",value:function(){return this.isCompleted()?this.elapsed:null}},{key:"reset",value:function(){this.authToken=null,this.url=null,this.config=null,this.elapsed=0,s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"reset",this).call(this)}},{key:"request",value:function(){var e={Authorization:"Bearer "+this.authToken};return(0,c.sendGetRequest)(this.url,e,2e3)}},{key:"handleResponse",value:function(e){var t=e.getXhr(),n=e.getElapsed();this.config=JSON.parse(t.response),this.elapsed=n,this.completeProcess()}}]),t})();n.ConfigServiceGet=f},{"../../utility/registry":100,"../xmlhttp":60,"../xmlhttpservice":61}],51:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0}),n.ConfigServicePost=void 0;var o=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0},c=e("../xmlhttp"),u=e("./configserviceget"),l=(function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return a(t,u.ConfigServiceGet),o(t,[{key:"initiate",value:function(e,n){return this.body=n,s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initiate",this).call(this,e)}},{key:"request",value:function(){var e={Authorization:"Bearer "+this.authToken,"Content-Type":"application/json"};return(0,c.sendPostRequest)(this.url,e,2e3,this.body)}}]),t})();n.ConfigServicePost=l},{"../xmlhttp":60,"./configserviceget":50}],52:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.ConfigServiceWrapper=void 0;var a="function"==typeof Symbol&&"symbol"==typeof("function"==typeof Symbol?Symbol.iterator:"@@iterator")?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==("function"==typeof Symbol?Symbol.prototype:"@@prototype")?"symbol":typeof e},o=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=e("./configserviceget"),c=e("./configservicepost"),u=r(e("../../config/settings")),l=e("../../utility/registry"),f=r(e("../../utility/csiologger")),d=(function(){function e(){i(this,e),this.internalConfigService=new s.ConfigServiceGet,this.appConfigService=new s.ConfigServiceGet,this.senderConfigService=new c.ConfigServicePost,this.defaultSenderConfig=null}return o(e,[{key:"initiateInternalConfig",value:function(){var e=this,t=l.Registry.getCredentials().getAppId();if(!t)return new Promise(function(t,n){f.log("appId has to be string"),n(new Error(e.internalConfigService.name+": appId has to be string"))});var n=u.configServiceUrl+t;return this.internalConfigService.initiate(n+"/configurations/internal")}},{key:"initiateAppConfig",value:function(){var e=this,t=l.Registry.getCredentials().getAppId();if(!t)return new Promise(function(t,n){f.log("appId has to be string"),n(new Error(e.appConfigService.name+": appId has to be string"))});var n=u.configServiceUrl+t;return this.appConfigService.initiate(n+"/configurations")}},{key:"initiateSenderConfig",value:function(e){var t=this;if(this.senderConfigService.getConfig())return new Promise(function(e,n){f.log("sender config already present"),n(new Error(t.senderConfigService.name+": sender config already present"))});var n=l.Registry.getCredentials().getAppId(),r=l.Registry.getCredentials().getUserId();if(!n||!r)return new Promise(function(e,n){f.log("appId and userId have to be string"),n(new Error(t.senderConfigService.name+": appId and userId have to be string"))});if(this.defaultSenderConfig=this.getCurrentVideoSenderConfig(e),!this.defaultSenderConfig)return new Promise(function(e,n){f.log("Could not obtain a sender config"),n(new Error(t.senderConfigService.name+": Could not obtain a sender config"))});var i=u.configServiceUrl+n,a={app_id:n,local_id:r,rtc_rtp_parameters:this.defaultSenderConfig};return this.senderConfigService.initiate(i+"/configurations",a)}},{key:"getInternalConfig",value:function(){return this.internalConfigService.getConfig()}},{key:"getAppDefaultConfig",value:function(){var e=this.appConfigService.getConfig(),t={peerConnection:null,media:null};return e.default?(e.default.peerConnection&&(t.peerConnection=e.default.peerConnection),e.default.media&&(t.media=e.default.media),t):t}},{key:"getAppRecommendedConfig",value:function(){var e=this.appConfigService.getConfig(),t={};return e.recommended?(e.recommended.peerConnection&&(t.peerConnection=e.recommended.peerConnection),e.recommended.media&&(t.media=e.recommended.media),t):t}},{key:"getSenderConfig",value:function(){var e=this.senderConfigService.getConfig();return e&&e.recommended&&e.recommended.sender?e.recommended.sender:null}},{key:"getDefaultSenderConfig",value:function(){return this.defaultSenderConfig?this.defaultSenderConfig:null}},{key:"getInternalElapsed",value:function(){return this.internalConfigService.getElapsed()}},{key:"getAppElapsed",value:function(){return this.appConfigService.getElapsed()}},{key:"getSenderElapsed",value:function(){return this.senderConfigService.getElapsed()}},{key:"getCurrentVideoSenderConfig",value:function(e){var t={encodings:[{maxBitrate:0}]},n=l.Registry.getConferenceManager().getConferenceForPc(e);if(!n)return f.warn("No conference found for PC, skipping"),null;if(n.getPeerConnectionManager().pcHandlers.size>1)return f.warn("Multiple PCs found, skipping"),null;if(!e.getSenders||"function"!=typeof e.getSenders)return f.warn("Get senders error"),t;for(var r=e.getSenders(),i=void 0,o=0;o<r.length;o+=1){var s=r[o];if("object"!==(void 0===s?"undefined":a(s))||!s.track||"object"!==a(s.track)||!s.track.kind)return f.warn("Access senders error"),null;if("video"===s.track.kind){if(i)return f.warn("Multiple video sender, skipping"),null;i=s}}if(!i)return f.warn("No video sender found"),null;if(!i.getParameters||"function"!=typeof i.getParameters)return f.warn("Sender getParameters error"),t;var c=i.getParameters();return"object"!==(void 0===c?"undefined":a(c))?null:("encodings"in c||(c.encodings=[]),0===c.encodings.length&&c.encodings.push({maxBitrate:0}),c)}}]),e})();n.ConfigServiceWrapper=d},{"../../config/settings":37,"../../utility/csiologger":92,"../../utility/registry":100,"./configserviceget":50,"./configservicepost":51}],53:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.ConnectionManager=void 0;var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("../config/constants")),o=e("./restcollectorconnection"),s=e("../utility/registry"),c=(function(){function e(){r(this,e),this.connection=null}return i(e,[{key:"setupCollectorConnection",value:function(e){this.connection=new o.RestCollectorConnection}},{key:"setup",value:function(){return this.connection?this.connection.setup():new Promise(function(e,t){t()})}},{key:"isReady",value:function(){return!!this.connection&&this.connection.isReady()}},{key:"send",value:function(e){this.connection?this.connection.send(e):s.Registry.getGenericEventHandler().sendEvent(a.logEvents.error,{msg:"Connection not available to the collector"})}}]),e})();n.ConnectionManager=c},{"../config/constants":36,"../utility/registry":100,"./restcollectorconnection":57}],54:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.Jwt=void 0;var a=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=r(e("../../utility/base64")),s=r(e("../../utility/csiologger")),c=e("../../utility/registry"),u=r(e("../../config/constants")),l=(function(){function e(){i(this,e),this.cryptotype=null,window.crypto&&window.crypto.subtle?(this.cryptotype="standard",this.subtlecrypto=window.crypto.subtle):window.crypto&&!window.crypto.subtle&&window.crypto.webkitSubtle?(this.cryptotype="webkit",this.subtlecrypto=window.crypto.webkitSubtle):window.msCrypto&&window.msCrypto.subtle?(this.cryptotype="ie",this.subtlecrypto=window.msCrypto.subtle):(this.subtlecrypto=null,s.info("WebCryptography API not supported in this browser.")),this.browserName=c.Registry.getEndpoint().getBrowserName()}return a(e,[{key:"sign",value:function(e,t,n){var r=this;return new Promise(function(i,a){"HS256"!==e.alg&&a("Use header.alg=HS256"),e=JSON.stringify(e),"string"!=typeof t&&(t=JSON.stringify(t));var c=o.urlencodeUnicode(e)+"."+o.urlencodeUnicode(t);window.csioReactNative&&window.csiosign(c,n,function(e,t){if(e)return s.log("Token sign error",e),void a(error);i(t)});var l=new ArrayBuffer(c.length),f=new Uint8Array(l),d={name:"HMAC"};"ie"!==r.cryptotype&&"webkit"!==r.cryptotype&&r.browserName!==u.browserName.edge||(d.hash={name:"sha-256"});for(var h=c.length-1;h>=0;h--)f[h]=c.charCodeAt(h);var p=r.subtlecrypto.sign(d,n,f);"ie"===r.cryptotype?(p.onerror=a,p.oncomplete=function(e){c=r.buildToken(e.target.result,c),i(c)}):p.then(function(e){c=r.buildToken(e,c),i(c)}).catch(function(e){a(e)})})}},{key:"buildToken",value:function(e,t){for(var n="",r=new Uint8Array(e),i=r.byteLength,a=0;a<i;a++)n+=String.fromCharCode(r[a]);return t+"."+o.urlencode(n)}},{key:"decode",value:function(e){try{var t=e.split(".")[1],n=o.decode(t);return JSON.parse(n)}catch(e){return s.error("Could not decode token. "),null}}},{key:"importKey",value:function(e){var t=this;return new Promise(function(n,r){if(window.csioReactNative)n(e);else{if("webkit"===t.cryptotype)for(;e.length<32;)e+="\0";var i={kty:"oct",k:o.urlencode(e),alg:"HS256"},a={name:"HMAC",hash:{name:"SHA-256"}};if("ie"===t.cryptotype?i.extractable=!1:i.ext=!1,"webkit"===t.cryptotype&&(a=null,i.use="sig"),"ie"===t.cryptotype||"webkit"===t.cryptotype){var s=JSON.stringify(i);i=new Uint8Array(s.length);for(var c=0;c<s.length;c++)i[c]=s.charCodeAt(c)}var u=t.subtlecrypto.importKey("jwk",i,a,!1,["sign"]);"ie"===t.cryptotype?(u.onerror=r,u.oncomplete=function(e){n(e.target.result)}):u.then(n).catch(r)}})}}]),e})();n.Jwt=l},{"../../config/constants":36,"../../utility/base64":89,"../../utility/csiologger":92,"../../utility/registry":100}],55:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.JwtToken=void 0;var a=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=e("./jwt"),s=e("../../utility/registry"),c=r(e("../../config/constants")),u=r(e("../../utility/csiologger")),l=(function(){function e(t){i(this,e),this.token=t,this.statsSubmissionInterval=15e3,this.collectSDP=!1,this.appId=null,this.userId=null,this.tokenPayload=null,this.jwt=new o.Jwt,this.expires=null,this.clockSync=s.Registry.getClockSync(),this.transportType=c.transportType.rest,this.setupTokenPayload(),this.restApiTransport=!1,this.adaptiveStatsEnabled=!1}return a(e,[{key:"getToken",value:function(){return this.token}},{key:"setupTokenPayload",value:function(){var e=this.jwt.decode(this.token);if(this.statsSubmissionInterval=parseInt(e.submissionInterval,10),this.collectSDP=e.collectSDP,this.adaptiveStatsEnabled=e.adaptiveStatsEnabled,this.appId=e.appID,this.userId=e.userID,this.restApiTransport=e.restApiTransport,navigator.mozGetUserMedia){var t=e.expiry.split(" ").join("T");this.expires=Date.parse(t)}else this.expires=new Date(e.expiry);this.restApiTransport?this.transportType=c.transportType.rest:this.transportType=c.transportType.ws,u.info("transportType is ",this.transportType,this.restApiTransport),s.Registry.getCredentials().setStatsSubmissionInterval(this.statsSubmissionInterval),s.Registry.getCredentials().setCollectSDP(this.collectSDP),s.Registry.getCredentials().setTransportType(this.transportType),s.Registry.getCredentials().setAdaptiveStatsEnabled(this.adaptiveStatsEnabled)}},{key:"isValid",value:function(e){var t=this,n=!1;return null!==t.token&&t.appId===e.appId&&t.userId===encodeURIComponent(e.userId)&&new Date(this.clockSync.getSynchronizedTimestamp())<t.expires&&(n=!0),n}}]),e})();n.JwtToken=l},{"../../config/constants":36,"../../utility/csiologger":92,"../../utility/registry":100,"./jwt":54}],56:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.PCTRunnerService=void 0;var a=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=e("../utility/registry"),s=r(e("../utility/pctutility")),c=r(e("../config/constants")),u=r(e("../utility/csiologger")),l=(function(){function e(){i(this,e),this.interval=6e4,this.iceServers=[],this.iceServersIndex=0,this.timer=null,this.precalltest=o.Registry.getPreCallTest(),this.callInProgress=!1,this.precalltestIds=[]}return a(e,[{key:"handlePrecallTestResults",value:function(e,t){var n=o.Registry.getCallbacks().get(c.callbackFunctions.preCallTestResults),r=o.Registry.getCallbacks().get(c.callbackFunctions.preCallTest);if(e&&(this.precalltestIds.push(e.id),e.tests&&e.tests.ice&&(""===e.tests.ice.turnIpAddress&&delete e.tests.ice.turnIpAddress,""===e.tests.ice.turnIpVersion&&delete e.tests.ice.turnIpVersion,""===e.tests.ice.turnTransport&&delete e.tests.ice.turnTransport),s.addPctMeasurementToAggregator(e),o.Registry.getEventMessageBuilder().make(c.precalltestEvents.results,null,null,{results:e})),r&&r(e),n){if(t){var i={msg:"precalltest error: "+t};return u.warn("precalltest error:",i),o.Registry.getGenericEventHandler().sendEvent(c.logEvents.log,i),void n(c.callstatsAPIReturnStatus.failure,null)}var a=s.getPublicPrecalltestResults(e);n(c.callstatsAPIReturnStatus.success,a)}}},{key:"precalltestRunnerCallback",value:function(e,t){this.handlePrecallTestResults(e,t),this.iceServersIndex++,this.startPrecallTest()}},{key:"doPrecalltestCallback",value:function(e,t){this.handlePrecallTestResults(e,t)}},{key:"start",value:function(e,t){this.iceServers=e,this.interval=t,this.iceServersIndex=0,this.timer&&clearTimeout(this.timer),this.startPrecallTest()}},{key:"startPrecallTest",value:function(){var e=this;if(!this.callInProgress){var t=this.iceServers[this.iceServersIndex];if(!t){var n=o.Registry.getCallbacks().get(c.callbackFunctions.connectionRecommendation);return n&&n(o.Registry.getPCTAggregator().getRanking()),void setTimeout(function(){e.start(e.iceServers,e.interval)},this.interval)}var r={};r.urls=t.urls,r.username=t.username,r.credential=t.credential;var i=t.label;this.precalltest.start([r],i,this.precalltestRunnerCallback.bind(this))}}},{key:"doPrecalltest",value:function(e,t){this.precalltest.start(e,t,this.doPrecalltestCallback.bind(this))}},{key:"setCallInProgress",value:function(e){this.callInProgress=e,this.callInProgress?this.timer&&clearTimeout(this.timer):(this.iceServersIndex=0,this.startPrecallTest())}},{key:"stop",value:function(){this.timer&&clearTimeout(this.timer),this.interval=6e4,this.iceServers=[],this.iceServersIndex=0,this.timer=null}},{key:"getPrecallTestIds",value:function(){return this.precalltestIds}},{key:"resetPrecallTestIds",value:function(){this.precalltestIds=[]}}]),e})();n.PCTRunnerService=l},{"../config/constants":36,"../utility/csiologger":92,"../utility/pctutility":99,"../utility/registry":100}],57:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0}),n.RestCollectorConnection=void 0;var s=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),c=e("../utility/registry"),u=e("./xmlhttp"),l=e("./collectorconnection"),f=e("./restrelays"),d=r(e("../config/constants")),h=r(e("../utility/csiologger")),p=(function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.relays=new f.RestRelays,e}return o(t,l.CollectorConnection),s(t,[{key:"isReady",value:function(){return!0}},{key:"send",value:function(e){var t={"Content-Type":"application/json",Authorization:"Bearer "+c.Registry.getAuthenticator().getToken()},n=e.eventType,r=e.confID,i=e.ucID,a=this.relays,o=a.getRequestUrl(n,r,i);if(o){var s=this.getMessage(n,e);h.log("sending ",o,e),(0,u.sendPostRequest)(o,t,5e3,s).then(function(t){if(t&&t.xhr){var i=JSON.parse(t.xhr.response);i&&"success"!==i.status&&(c.Registry.getGenericEventHandler().sendEvent(d.logEvents.restResponseError,{msg:"response failure "+r+":"+n+":"+i.msg+":"+i.status+JSON.stringify(e)}),h.error("Response error:",i.msg,e)),a.handleResponse(n,i,r)}else h.log("Response for request is null")},function(e){h.error(e)})}else h.warn("No action for message type: "+n)}},{key:"getMessage",value:function(e,t){delete t.confID,delete t.channel,delete t.token,delete t.appID,delete t.action,delete t.ucID,delete t.version,delete t.timeShift;var n=decodeURIComponent(t.localID);t.localID=n;var r=decodeURIComponent(t.remoteID);return t.remoteID=r,e===d.callstatsChannels.processedStats&&(t.eventType="stats"),t}}]),t})();n.RestCollectorConnection=p},{"../config/constants":36,"../utility/csiologger":92,"../utility/registry":100,"./collectorconnection":49,"./restrelays":58,"./xmlhttp":60}],58:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(n,r,i){"success"===n.status?e&&e(n,r):t&&t(n)}}Object.defineProperty(n,"__esModule",{value:!0}),n.RestRelays=void 0;var o=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=r(e("../config/constants")),c=r(e("../config/settings")),u=e("../utility/registry"),l=e("../utility/url"),f=r(e("../utility/csiologger")),d=(function(){function e(){var t;i(this,e),this.items=(t=a(),new Map([[s.fabricEvent.fabricTerminated,new h(c.restEventUrl,"/events/fabric/terminated",t)],[s.fabricEvent.audioMute,new h(c.restEventUrl,"/events/media/actions",t)],[s.fabricEvent.audioUnmute,new h(c.restEventUrl,"/events/media/actions",t)],[s.fabricEvent.videoPause,new h(c.restEventUrl,"/events/media/actions",t)],[s.fabricEvent.videoResume,new h(c.restEventUrl,"/events/media/actions",t)],[s.fabricEvent.screenShareStart,new h(c.restEventUrl,"/events/media/actions",t)],[s.fabricEvent.screenShareStop,new h(c.restEventUrl,"/events/media/actions",t)],[s.fabricEvent.activeDeviceList,new h(c.restEventUrl,"/events/devices/list",t)],[s.fabricEvent.applicationErrorLog,new h(c.restEventUrl,"/events/app/logs",t)],[s.fabricEvent.dominantSpeaker,new h(c.restEventUrl,"/events/dominantspeaker",t)],[s.fabricEvent.fabricHold,new h(c.restEventUrl,"/events/fabric/actions",t)],[s.fabricEvent.fabricResume,new h(c.restEventUrl,"/events/fabric/actions",t)],[s.fabricEvent.callUnAnswered,new h(c.restEventUrl,"/events/fabric/actions",t)],[s.internalFabricEvent.oneWayMediaStart,new h(c.restEventUrl,"/events/fabric/disruptions",t)],[s.internalFabricEvent.oneWayMediaStop,new h(c.restEventUrl,"/events/fabric/disruptions",t)],[s.internalFabricEvent.fabricSetup,new h(c.restEventUrl,"/events/fabric/setup",t)],[s.fabricEvent.callDetails,new h(c.restEventUrl,"/events/fabric/details",t)],[s.fabricEvent.fabricSetupFailed,new h(c.restEventUrl,"/events/fabric/setupfailed",t)],[s.internalFabricEvent.userJoined,new h(c.restEventUrl,"",a(function(e,t){t=decodeURIComponent(t);var n=u.Registry.getConferenceManager().get(t);n&&(f.log("UcId is - ",e.ucID,t),n.setUcId(e.ucID),u.Registry.getTransmissionManager().trySend())}))],[s.internalFabricEvent.userLeft,new h(c.restEventUrl,"/events/user/left",t)],[s.internalFabricEvent.userAlive,new h(c.restEventUrl,"/events/user/alive",t)],[s.internalFabricEvent.fabricTransportSwitch,new h(c.restEventUrl,"/events/fabric/transportchange",t)],[s.internalFabricEvent.mediaPlaybackStart,new h(c.restEventUrl,"/events/media/pipeline",t)],[s.internalFabricEvent.mediaPlaybackSuspended,new h(c.restEventUrl,"/events/media/pipeline",t)],[s.internalFabricEvent.mediaPlaybackStalled,new h(c.restEventUrl,"/events/media/pipeline",t)],[s.internalFabricEvent.ssrcMap,new h(c.restEventUrl,"/events/ssrcmap",t)],[s.internalFabricEvent.connectedDeviceList,new h(c.restEventUrl,"/events/devices/list",t)],[s.internalFabricEvent.sdpSubmission,new h(c.restEventUrl,"/events/sdp",t)],[s.internalFabricEvent.iceDisruptionStart,new h(c.restEventUrl,"/events/ice/status",t)],[s.internalFabricEvent.iceDisruptionEnd,new h(c.restEventUrl,"/events/ice/status",t)],[s.internalFabricEvent.iceConnectionDisruptionStart,new h(c.restEventUrl,"/events/ice/status",t)],[s.internalFabricEvent.iceConnectionDisruptionEnd,new h(c.restEventUrl,"/events/ice/status",t)],[s.internalFabricEvent.iceAborted,new h(c.restEventUrl,"/events/ice/status",t)],[s.internalFabricEvent.iceTerminated,new h(c.restEventUrl,"/events/ice/status",t)],[s.internalFabricEvent.iceFailed,new h(c.restEventUrl,"/events/ice/status",t)],[s.internalFabricEvent.iceRestarted,new h(c.restEventUrl,"/events/ice/status",t)],[s.internalFabricEvent.fabricDropped,new h(c.restEventUrl,"/events/fabric/status",t)],[s.callstatsChannels.processedStats,new h(c.restStatsUrl,"/stats",t)],[s.internalFabricEvent.fabricStateChange,new h(c.restEventUrl,"/events/fabric/statechange",t)],[s.callstatsChannels.userFeedback,new h(c.restEventUrl,"/events/feedback",t)],[s.precalltestEvents.results,new h(c.restEventUrl,"/events/precall",t)],[s.precalltestEvents.associate,new h(c.restEventUrl,"/events/precall",t)],[s.internalFabricEvent.userDetails,new h(c.restEventUrl,"/events/userdetails",t)]]))}return o(e,[{key:"getRequestUrl",value:function(e,t,n){return this.items.has(e)?this.items.get(e).getRequestUrl(e,t,n):(f.warn("EventType Unsupported ",e),null)}},{key:"handleResponse",value:function(e,t,n){this.items.has(e)?this.items.get(e).handleResponse(t,n,e):f.warn("No response handler for event type "+e)}}]),e})(),h=(function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;i(this,e),this.baseUrl=t,this.urlAppendix=n,this.responseHandler=r}return o(e,[{key:"getRequestUrl",value:function(e,t,n){return this.makeRequestUrl(e,t,n),this.requestUrl.toString()}},{key:"makeRequestUrl",value:function(e,t,n){e===s.precalltestEvents.results?this.requestUrl=new l.Url(this.baseUrl,u.Registry.getCredentials().getAppId(),this.urlAppendix):(e===s.internalFabricEvent.userJoined&&n&&(n=""),this.requestUrl=new l.Url(this.baseUrl,u.Registry.getCredentials().getAppId()+"/conferences/"+t,n,this.urlAppendix))}},{key:"handleResponse",value:function(e,t,n){this.responseHandler(e,t,n)}}]),e})();n.RestRelays=d},{"../config/constants":36,"../config/settings":37,"../utility/csiologger":92,"../utility/registry":100,"../utility/url":105}],59:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.TransmissionManager=void 0;var a=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=r(e("../utility/timestamps")),s=e("../collections/cache"),c=e("../utility/registry"),u=r(e("../config/constants")),l=r(e("../utility/csiologger")),f=(function(){function e(){i(this,e),this.cache=[],this.connectionManager=c.Registry.getConnectionManager(),this.lastTS=0,this.timerStarted=!1,this.lastUserAliveTS={}}return a(e,[{key:"send",value:function(e){(e.isCachable()||e.canBeSent())&&(this.cache[e.getConferenceId()]||(this.cache[e.getConferenceId()]=new s.Cache),this.cache[e.getConferenceId()].add(e,e.isPriority()),this.trySend())}},{key:"trySend",value:function(){if(this.connectionManager.isReady())return this.timerStarted?void 0:this.timeToSend()?void(this.sendMessage()&&this.startTimer()):void(this.getCacheLength()>0&&this.startTimer());this.setupConnection()}},{key:"setupConnection",value:function(){this.connectionManager.setup().then(function(){l.log("Connected to connectionManager")}).catch(function(e){return l.log("Could not connect to connectionManager",e)})}},{key:"canSendUserAlive",value:function(e,t){return!(this.lastUserAliveTS[t]&&e-this.lastUserAliveTS[t]<9e3)}},{key:"sendMessage",value:function(){var e=void 0,t=void 0;if(0===this.getCacheLength())return!1;for(var n in this.cache)if(this.cache.hasOwnProperty(n)&&(t=n,(e=this.cache[t].peak())&&e.canBeSent()))break;if(!e||!e.canBeSent())return!1;if(e=this.cache[t].pop(),this.lastTS=o.getCurrent(),e.eventType===u.internalFabricEvent.userAlive){if(!this.canSendUserAlive(this.lastTS,t))return!0;this.lastUserAliveTS[t]=this.lastTS}return l.log("sending message type :",e.eventType,e.toJson()),this.connectionManager.send(e.toJson()),!0}},{key:"startTimer",value:function(){var e=this;this.timerStarted||0!=this.getCacheLength()&&(this.timerStarted=!0,setTimeout(function(){e.timerStarted=!1,e.trySend()},200))}},{key:"timeToSend",value:function(){return o.getCurrent()>=this.lastTS+200}},{key:"getCacheLength",value:function(){var e=0;for(var t in this.cache)this.cache.hasOwnProperty(t)&&(e+=this.cache[t].length());return e}},{key:"updateConferenceId",value:function(e){var t=u.tmpConferenceId;this.cache[t]&&this.cache[t].updateConferenceId(e)}}]),e})();n.TransmissionManager=f},{"../collections/cache":25,"../config/constants":36,"../utility/csiologger":92,"../utility/registry":100,"../utility/timestamps":104}],60:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t,n,r,i){return new Promise(function(a,o){var f,d=null,h=new XMLHttpRequest,p=u.Registry.getEndpoint().getBrowserName();if(h){for(var v in f=s.getCurrent(),h.open(e,t),p!==c.browserName.msie&&(h.timeout=r),n)n.hasOwnProperty(v)&&h.setRequestHeader(v,n[v]);var g=null;if("POST"===e){if("application/x-www-form-urlencoded"===n["Content-Type"]){var y=[];for(var m in i)i.hasOwnProperty(m)&&y.push(encodeURIComponent(m)+"="+encodeURIComponent(i[m]));g=y.join("&")}"application/json"===n["Content-Type"]&&(g=JSON.stringify(i))}h.onload=function(){d=s.getCurrent();var e=new l(h,d-f);a(e)},h.ontimeout=function(){o(new Error("connection timeout"))},h.onreadystatechange=function(){4===h.readyState&&0===h.status&&o(new Error("no server response received"))},h.send(g)}else o(new Error("creating instance failed"))})}Object.defineProperty(n,"__esModule",{value:!0});var o=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})();n.sendGetRequest=function(e,t,n){return a("GET",e,t,n,null)},n.sendPostRequest=function(e,t,n,r){return a("POST",e,t,n,r)};var s=r(e("../utility/timestamps")),c=r(e("../config/constants")),u=e("../utility/registry"),l=(function(){function e(t,n){i(this,e),this.xhr=t,this.elapsed=n}return o(e,[{key:"getXhr",value:function(){return this.xhr}},{key:"getElapsed",value:function(){return this.elapsed}}]),e})()},{"../config/constants":36,"../utility/registry":100,"../utility/timestamps":104}],61:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.XMLHttpService=void 0;var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=e("../utility/sigmoid"),o=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("../utility/csiologger")),s=100,c=1e4,u=(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"XMLHttpService",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c;r(this,e),this.name=t,this.minRetryTimeout=n,this.sigmoid=new a.Sigmoid(i-n,15,.5),this.reset()}return i(e,[{key:"reset",value:function(){this.inProgress=!1,this.completed=!1,this.resolveCb&&this.rejectCb(new Error(this.name+": resetting")),this.resolveCb=null,this.rejectCb=null}},{key:"initiate",value:function(){var e=this;if(this.inProgress)return new Promise(function(t,n){n(new Error(e.name+": in progress"))});var t=new Promise(function(t,n){e.resolveCb=t,e.rejectCb=n});return this.inProgress=!0,this.sendRequest(),t}},{key:"isCompleted",value:function(){return this.completed}},{key:"handleSendError",value:function(e){o.log(this.name+": send next request ("+e+")"),this.sendNextRequest()}},{key:"handleResponseProxy",value:function(e){this.handleResponse(e),this.resetTimeout()}},{key:"handleResponse",value:function(e){o.error(this.name+": handleResponse() not implemented"),this.completeProcess()}},{key:"completeProcess",value:function(){this.inProgress=!1,this.completed=!0,this.resolveCb.apply(this,arguments)}},{key:"request",value:function(){return o.error(this.name+": request() not implemented!"),new Promise(function(e,t){e()})}},{key:"sendRequest",value:function(){if(this.inProgress){var e=this.request();e&&e.then(this.handleResponseProxy.bind(this),this.handleSendError.bind(this))}}},{key:"sendNextRequest",value:function(){setTimeout(this.sendRequest.bind(this),this.getTimeout())}},{key:"resetTimeout",value:function(){this.sigmoid.reset()}},{key:"getTimeout",value:function(){return this.minRetryTimeout+this.sigmoid.getActual()}}]),e})();n.XMLHttpService=u},{"../utility/csiologger":92,"../utility/sigmoid":102}],62:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.IntervalStatsMonitor=void 0;var a=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=r(e("../utility/timestamps")),c=r(e("../config/constants")),u=r(e("./validator")),l=(function(){function e(t){i(this,e),this.hasMultipleRecords=!1,this.currentStats=t,this.previousStats=t,this.previousCallBackStats=t,this.previousStatsTime=o.getCurrent(),this.previousCallBackStatsTime=o.getCurrent()}return a(e,[{key:"setCurrent",value:function(e){this.currentStats=e,this.hasMultipleRecords=!0}},{key:"outdate",value:function(e){e===c.statsDestination.backend?(this.previousStats=this.currentStats,this.previousStatsTime=o.getCurrent()):(this.previousCallBackStats=this.currentStats,this.previousCallBackStatsTime=o.getCurrent())}},{key:"getCurrent",value:function(){return this.currentStats}},{key:"multipleRecords",value:function(){return this.hasMultipleRecords}},{key:"getPrevious",value:function(e){return e===c.statsDestination.backend?this.previousStats:this.previousCallBackStats}},{key:"getElapsedTime",value:function(e){return o.getCurrent()-(e===c.statsDestination.backend?this.previousStatsTime:this.previousCallBackStatsTime)}}]),e})(),f=(function(){function e(){i(this,e),this.measurementsHolderMap=new Map}return a(e,[{key:"set",value:function(e,t){var n=t;if(this.measurementsHolderMap.has(e))this.measurementsHolderMap.get(e).setCurrent(n);else{var r=new l(n);this.measurementsHolderMap.set(e,r)}}},{key:"delete",value:function(e){e&&this.measurementsHolderMap.has(e)&&this.measurementsHolderMap.delete(e)}},{key:"getIntervalStats",value:function(e){var t=this,n={};return this.measurementsHolderMap.forEach(function(r,i){var a=t.getIntervalStat(r,e);n[i]=a,r.outdate(e)}),n}},{key:"getTotalBytes",value:function(e){var t=e.getStreamType()===c.streamType.inbound?e.getReceivedBytes():e.getSentBytes();return u.checkForPositiveValue(t)?t:null}},{key:"getTotalPackets",value:function(e){var t=e.getStreamType()===c.streamType.inbound?e.getReceivedPackets():e.getSentPackets();return u.checkForPositiveValue(t)?t:null}},{key:"getTotalLostPackets",value:function(e){var t=e.getLostPackets();return u.checkForPositiveValue(t)?t:null}},{key:"getIntervalBitrate",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this.getTotalBytes(e),i=this.getTotalBytes(t);if(!u.checkForPositiveValue(r)||!u.checkForPositiveValue(i)||!u.checkForPositiveValue(n))return null;var a=(8*r-8*i)/Math.max(n,1);return u.checkForPositiveValue(a)?a:null}},{key:"getIntervalPacketLoss",value:function(e,t,n){var r=this.getTotalLostPackets(e);if(!n)return u.checkForPositiveValue(r)?r:null;var i=this.getTotalLostPackets(t);if(!u.checkForPositiveValue(r)||!u.checkForPositiveValue(i))return null;var a=r-i;return u.checkForPositiveValue(a)?a:null}},{key:"getIntervalPacketRate",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!u.checkForPositiveValue(n))return null;var r=this.getTotalPackets(e),i=this.getTotalPackets(t);if(!u.checkForPositiveValue(r)<0||!u.checkForPositiveValue(i))return null;var a=(r-i)/(Math.max(n,1)/1e3);return u.checkForPositiveValue(a)?a:null}},{key:"getIntervalFractionLost",value:function(e,t,n){var r=this.getIntervalPacketLoss(e,t,n),i=this.getTotalPackets(e)-this.getTotalPackets(t);if(!u.checkForPositiveValue(r)||!u.checkForPositiveValue(i))return null;var a=r/Math.max(i+r,1);return u.checkForPositiveValue(a)?a:null}},{key:"getIntervalStat",value:function(e,t){var n=e.getCurrent(),r=e.getPrevious(t),i=e.getElapsedTime(t),a=new Map;if(r)for(var o=0,s=r.length;o<s;o+=1){var c=r[o],u=""+c.getSSRC()+c.getStreamType()+c.getReportType();a.set(u,c)}var l={};if(n)for(var f=0,d=n.length;f<d;f+=1){var h=n[f],p=""+h.getSSRC()+h.getStreamType()+h.getReportType();if(a.has(p)){var v=a.get(p),g={csioIntMs:i,csioIntBRKbps:this.getIntervalBitrate(h,v,i),csioIntPktLoss:this.getIntervalPacketLoss(h,v,e.multipleRecords()),csioIntPR:this.getIntervalPacketRate(h,v,i),csioIntFL:this.getIntervalFractionLost(h,v,e.multipleRecords())};l[p]=g}}return l}},{key:"updateIntervalStats",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=e,r=e.tracks||[],i=0,a=r.length;i<a;i+=1){var o=r[i],c=t[o.pcHash];if(c){var u=c[""+(o.ssrc||o.data&&o.data.ssrc)+(o.streamType||o.data&&o.data.streamType)+(o.reportType||o.data&&o.data.reportType)];u&&s(o.data,u)}}return n}}]),e})();n.IntervalStatsMonitor=f},{"../config/constants":36,"../utility/timestamps":104,"./validator":87}],63:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.Measurement=void 0;var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=e("./resolution"),o=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("./validator")),s=(function(){function e(){r(this,e),this.pcHash=null,this.ssrc=null,this.streamType=null,this.mediaType=null,this.reportType=null,this.resolution=null,this.frameRateReceived=null,this.frameHeight=null,this.frameWidth=null,this.droppedFramesNum=null,this.framesReceived=null,this.rtt=null,this.jitter=null,this.lostPackets=-1,this.receivedPackets=-1,this.sentPackets=-1,this.discardedPackets=-1,this.sentBytes=-1,this.receivedBytes=-1,this.fractionLost=-1,this.track=null}return i(e,null,[{key:"make",value:function(t,n,r,i,a,s,c,u,l,f,d,h,p,v,g,y,m,b,S,k){var w=new e,C=function(e,t){-1===[void 0,null].indexOf(t)&&(w[e]=t)};return C("pcHash",t),C("ssrc",n),C("streamType",r),C("mediaType",i),C("reportType",a),C("frameRateReceived",s),C("frameHeight",o.checkForNan(parseInt(c,10))),C("frameWidth",o.checkForNan(parseInt(u,10))),C("droppedFramesNum",l),C("framesReceived",f),C("rtt",d),C("jitter",h),C("lostPackets",p),C("receivedPackets",v),C("sentPackets",g),C("discardedPackets",y),C("sentBytes",m),C("receivedBytes",b),C("fractionLost",S),C("track",k),w.setFrameRateReceived(s),w}}]),i(e,[{key:"getPcHash",value:function(){return this.pcHash}},{key:"getSSRC",value:function(){return this.ssrc}},{key:"getStreamType",value:function(){return this.streamType}},{key:"getMediaType",value:function(){return this.mediaType}},{key:"getReportType",value:function(){return this.reportType}},{key:"getResolution",value:function(){return this.resolution?this.resolution.toString():null}},{key:"getFrameRateReceived",value:function(){return this.frameRateReceived}},{key:"getFrameHeight",value:function(){return this.frameHeight}},{key:"getFrameWidth",value:function(){return this.frameWidth}},{key:"getDroppedFramesNum",value:function(){return this.droppedFramesNum}},{key:"getFramesReceived",value:function(){return this.framesReceived}},{key:"setFrameRateReceived",value:function(e){this.frameRateReceived=e,void 0!==this.frameRateReceived&&void 0!==this.frameWidth&&void 0!==this.frameHeight&&this.frameWidth>0&&this.frameHeight>0?this.resolution=new a.Resolution(this.frameWidth,this.frameHeight,this.frameRateReceived):this.resolution=null}},{key:"getJitter",value:function(){return this.jitter}},{key:"getRTT",value:function(){return this.rtt}},{key:"getLostPackets",value:function(){return this.lostPackets}},{key:"getDiscardedPackets",value:function(){return this.discardedPackets}},{key:"getReceivedPackets",value:function(){return this.receivedPackets}},{key:"getSentPackets",value:function(){return this.sentPackets}},{key:"getSentBytes",value:function(){return this.sentBytes}},{key:"getReceivedBytes",value:function(){return this.receivedBytes}},{key:"setFractionLost",value:function(e){this.fractionLost=void 0===e?null:e}},{key:"getFractionLost",value:function(){return this.fractionLost}},{key:"extractTrack",value:function(){var e=this.track;return this.track=null,e}},{key:"toString",value:function(){return"pcHash: "+this.pcHash+", ssrc: "+this.ssrc+", streamType: "+this.streamType+", mediaType: "+this.mediaType+", reportType: "+this.reportType+", frameRateReceived: "+this.frameRateReceived+", frameHeight: "+this.frameHeight+", frameWidth: "+this.frameWidth+", droppedFramesNum: "+this.droppedFramesNum+", rtt: "+this.rtt+", jitter: "+this.jitter+", lostPackets: "+this.lostPackets+", receivedPackets: "+this.receivedPackets+", sentPackets: "+this.sentPackets+", discardedPackets: "+this.discardedPackets+", sentBytes: "+this.sentBytes+", receivedBytes: "+this.receivedBytes+", fractionLost: "+this.fractionLost}}]),e})();n.Measurement=s},{"./resolution":72,"./validator":87}],64:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.CPULimitationObserver=void 0;var a=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=r(e("../../config/constants")),s=r(e("../../utility/timestamps")),c=(function(){function e(){i(this,e),this.ewmaDiscardedPackets=0,this.ewmaLostPackets=0,this.ewmaDroppedFrames=0,this.last=0,this.noticed=0}return a(e,[{key:"test",value:function(e){var t=e.discardedPackets,n=e.lostPackets;if(!n||n<1||!t||t<1)return!1;if(0===this.last)return this.last=s.getCurrent(),this.ewmaLostPackets=n,this.ewmaDiscardedPackets=t,!1;var r=s.getCurrent(),i=Math.max(r-this.last,1),a=Math.min((5e3-i)/5e3,.9),o=e.droppedFrames;return this.ewmaLostPackets=this.ewmaLostPackets*a+n,this.ewmaDroppedFrames=this.ewmaDroppedFrames*a+o,this.ewmaDiscardedPackets=this.ewmaDiscardedPackets*a+t,!(!o||o<1||1<this.ewmaLostPackets||1<this.ewmaDiscardedPackets||r-this.noticed<1e4||this.ewmaDroppedFrames<1||(this.noticed=r,0))}}]),e})(),u=(function(){function e(t){i(this,e),this.notifyCallback=t,this.inbVideoTesters=new Map}return a(e,[{key:"accept",value:function(e){for(var t=e.filter(function(e){return e.getMediaType()===o.mediaType.video&&e.getStreamType()===o.streamType.inbound}),n=0;n<t.length;++n){var r=t[n];this.checkInboundVideo(r)}}},{key:"checkInboundVideo",value:function(e){var t=e.peek(),n=e.getSSRC();if(this.inbVideoTesters.has(n)||this.inbVideoTesters.set(n,new c),this.inbVideoTesters.get(n).test(t)){var r={reason:o.limitationType.cpu,ssrc:n};this.notifyCallback(r)}}},{key:"toString",value:function(){return"CPULimitationObserver"}}]),e})();n.CPULimitationObserver=u},{"../../config/constants":36,"../../utility/timestamps":104}],65:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.OneWayMediaObserver=void 0;var a=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=r(e("../../config/constants")),s=e("../onewaymediadisruption"),c=r(e("../../utility/timestamps")),u=e("../../utility/registry"),l=Math.max(5,5)+5,f="STARTED",d="ENDED",h="NOOP",p=(function(){function e(t){i(this,e),this.startTime=c.getCurrent(),this.notifierCallback=t,this.oneWayInbAudioDisruption={started:!1,disruptionCount:0,recoveryCount:0,disruption:void 0},this.oneWayOutbAudioDisruption={started:!1,disruptionCount:0,recoveryCount:0,disruption:void 0},this.browserName=u.Registry.getEndpoint().getBrowserName()}return a(e,[{key:"isDeadTrack",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=e&&e.getRequestedMeasurement();if(!t)return!0;if(e.getStreamType()===o.streamType.inbound){if(t.getReceivedBytes()<1)return!0}else if(t.getSentBytes()<1)return!0;return!e.lastTrack||!e.lastTrack.data||!e.lastTrack.data.mimeType&&!e.lastTrack.data.googCodecName}},{key:"isValidTrack",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.streamType.inbound;if(!e)return!1;var n=e.getRequestedMeasurement();return!!n&&n.getReportType()===o.reportType.local&&e.getStreamType()===t&&e.getMediaType()===o.mediaType.audio}},{key:"accept",value:function(e){var t=this,n=e.filter(function(e){return t.isValidTrack(e,o.streamType.inbound)}),r=e.filter(function(e){return t.isValidTrack(e,o.streamType.outbound)}),i=this.getDisruptions(n,r);i.length>0&&this.notifierCallback(i)}},{key:"toString",value:function(){return"DisruptionObserver"}},{key:"getDisruptedTrack",value:function(){var e=this;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).find(function(t){return t&&!1===t.hasTraffic()&&!1===e.isDeadTrack(t)})}},{key:"isStartedAndHasTraffic",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.filter(function(e){return 0===e.getStartTime()}).length<1,n=e.filter(function(e){return!e.hasTraffic()}).length<1;return e.length>0&&t&&n}},{key:"hasTracksAndTraffic",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.filter(function(e){return!e.hasTraffic()}).length<1;return e.length>0&&t}},{key:"isInitialSetupDelayPassed",value:function(){return c.getCurrent()>this.startTime+15e3}},{key:"isInbOneWayAudioDisruption",value:function(e,t){if(this.isStartedAndHasTraffic(t)&&this.isInitialSetupDelayPassed()){var n=void 0;if(!this.hasTracksAndTraffic(e)){var r=this.getDisruptedTrack(e),i=r&&r.getSSRC();i&&(n=new s.OneWayMediaDisruption(o.oneWayMediaTypes.audio,i,o.streamType.inbound))}return n}}},{key:"isOutbOneWayAudioDisruption",value:function(e,t){if(this.isStartedAndHasTraffic(e)&&this.isInitialSetupDelayPassed()){var n=void 0;if(!this.hasTracksAndTraffic(t)){var r=this.getDisruptedTrack(t),i=r&&r.getSSRC();i&&(n=new s.OneWayMediaDisruption(o.oneWayMediaTypes.audio,i,o.streamType.outbound))}return n}}},{key:"updateDisruptionAndRecoveryCount",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e?(t=Math.min(t+1,l),n=0):(n=Math.min(n+1,l),t=0),{disruptionCount:t,recoveryCount:n}}},{key:"getDisruptionState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!1===n&&e>=5?f:!0===n&&t>=5?d:h}},{key:"getAudioDisruption",value:function(e,t,n){var r=void 0,i=void 0;if(n===o.streamType.inbound?(r=this.isInbOneWayAudioDisruption(e,t),i=this.oneWayInbAudioDisruption):n===o.streamType.outbound&&(r=this.isOutbOneWayAudioDisruption(e,t),i=this.oneWayOutbAudioDisruption),i){var a=this.updateDisruptionAndRecoveryCount(r,i.disruptionCount,i.recoveryCount),s=a.disruptionCount,c=a.recoveryCount,u=this.getDisruptionState(s,c,i.started);return u===f?(i.started=!0,i.disruption=r.setStart(),i.disruptionCount=0,i.recoveryCount=0):u===d?(i.started=!1,i.disruption=i.disruption.setEnd(),i.disruptionCount=0,i.recoveryCount=0):(i.recoveryCount=c,i.disruptionCount=s),u!==h?i.disruption:void 0}}},{key:"getDisruptions",value:function(e,t){var n=[],r=this.getAudioDisruption(e,t,o.streamType.inbound),i=this.getAudioDisruption(e,t,o.streamType.outbound);return r&&n.push(r),i&&n.push(i),n}}]),e})();n.OneWayMediaObserver=p},{"../../config/constants":36,"../../utility/registry":100,"../../utility/timestamps":104,"../onewaymediadisruption":69}],66:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.QPSumObserver=void 0;var a=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=r(e("../../config/constants")),s=r(e("../../utility/timestamps")),c=(function(){function e(t){i(this,e),this.lastQpSum=null,this.qpAvg=null,this.noticed=0}return a(e,[{key:"test",value:function(e){var t=e.getTrack();if(!t||!t.data||!t.data.qpSum)return!1;if(!this.lastQpSum)return this.lastQpSum=t.data.qpSum,!1;var n=t.data.qpSum-this.lastQpSum;this.lastQpSum=t.data.qpSum,null===this.qpAvg?this.qpAvg=n:this.qpAvg=.2*n+.8*this.qpAvg;var r=Math.max(2*this.qpAvg,1);if(n<this.qpAvg+r)return!1;var i=s.getCurrent();return this.noticed<i-1e4}}]),e})(),u=(function(){function e(t){i(this,e),this.notifyCallback=t,this.testers=new Map}return a(e,[{key:"accept",value:function(e){for(var t=0;t<e.length;++t){var n=e[t];if(n.getMediaType()===o.mediaType.video){var r=n.getSSRC();if(this.testers.has(r)||this.testers.set(r,new c(n)),this.testers.get(r).test(n)){var i={reason:o.qualityDisruptionTypes.qpchange};this.notifyCallback(i)}}}}},{key:"toString",value:function(){return"QPSumObserver"}}]),e})();n.QPSumObserver=u},{"../../config/constants":36,"../../utility/timestamps":104}],67:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.SendingTrigger=n.TrackMonitorTester=n.TestHelper=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=r(e("../../utility/timestamps")),c=e("../../utility/runningstats"),u=r(e("../validator")),l=e("../../config/constants"),f=r(l),d=r(e("../../utility/csiologger")),h=(function(){function e(t,n,r,a){return i(this,e),n?r?a?(this.consecutivePositive=0,this.name=t,this.minThreshold=n,this.resetThreshold=a,void(this.runningStats=new c.RunningStats(r))):void d.warn("resetThreshold was null or undefined : "+a):void d.warn("windowLength was null or undefined : "+r):void d.warn("minThreshold was null or undefined : "+n)}return o(e,[{key:"doTest",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(null===e||void 0===e||Math.abs(e)<l.adaptiveStatsThresholds.eps)return!1;this.runningStats.add(e);var n=this.runningStats.getMean(),r=this.runningStats.getStd();if(!n||!r)return!1;var i=Math.max(this.minThreshold,2*r)*t,a=Math.abs(n-e)>i;return a?(this.consecutivePositive+=1,this.consecutivePositive>this.resetThreshold&&this.runningStats.reset()):this.consecutivePositive=0,a}}]),e})(),p=(function(){function e(t){var n=t.maxMarginFactor,r=void 0===n?l.adaptiveStatsThresholds.maxMarginFactor:n,a=t.marginReductionFactor,o=void 0===a?l.adaptiveStatsThresholds.marginReductionFactor:a,s=t.marginIncreaseFactor,c=void 0===s?l.adaptiveStatsThresholds.marginIncreaseFactor:s,u=t.marginDecreaseIntervalInMs,f=void 0===u?l.adaptiveStatsThresholds.marginDecreaseIntervalInMs:u,d=t.maxGradualCounter,p=void 0===d?l.adaptiveStatsThresholds.maxGradualCounter:d,v=t.minIntervalInMs,g=void 0===v?l.adaptiveStatsThresholds.minIntervalInMs:v,y=t.rippleBase,m=void 0===y?l.adaptiveStatsThresholds.rippleBase:y,b=t.windowSize,S=void 0===b?l.adaptiveStatsThresholds.windowSize:b,k=t.resetThreshold,w=void 0===k?l.adaptiveStatsThresholds.resetThreshold:k,C=t.minThreshold,_=void 0===C?l.adaptiveStatsThresholds.minThreshold:C;i(this,e),this.rttTester=new h("RTT Tester",_.rtt,S,w),this.throughputTester=new h("Throughput Tester",_.throughput,S,w),this.FLTester=new h("FL Tester",_.fractionalLoss,S,w),this.marginFactor=1,this.lastDecreased=0,this.lastTriggering=0,this.maxMarginFactor=r,this.marginReductionFactor=o,this.marginIncreaseFactor=c,this.marginDecreaseIntervalInMs=f,this.maxGradualCounter=p,this.gradualCounter=p,this.minIntervalInMs=g,this.rippleBase=m}return o(e,[{key:"test",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=t?{}:e.peek();if(!n)return!1;var r=(t?{}:e.getTrack()).data,i=t?t.rtt:n.getRTT(),a=u.checkForNan(parseInt(t?t.throughput:r.intervalBandwidth,10)),o=t?t.loss:n.getFractionLost(),c=t?t.time:s.getCurrent(),l=this.rttTester.doTest(i,this.marginFactor),f=this.throughputTester.doTest(a,this.marginFactor),d=this.FLTester.doTest(o,this.marginFactor);if(l||f||d)return this.marginFactor=Math.min(this.marginFactor*this.marginIncreaseFactor,this.maxMarginFactor),this.lastTriggering=c,this.lastDecreased=c,this.gradualCounter=0,!0;if(c-this.lastDecreased>this.marginDecreaseIntervalInMs&&(this.marginFactor=Math.max(this.marginFactor*this.marginReductionFactor,1),this.lastDecreased=c),this.gradualCounter<this.maxGradualCounter){var h=this.minIntervalInMs*Math.pow(this.rippleBase,this.gradualCounter);if(this.lastTriggering<c-h)return this.lastTriggering=c,this.gradualCounter+=1,!0}return!1}}]),e})(),v=(function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,e),t?(this.notifyCallback=t,this.minIntervalInMs=n.minIntervalInMs||l.adaptiveStatsThresholds.minIntervalInMs,this.maxIntervalInMs=n.maxIntervalInMs||l.adaptiveStatsThresholds.maxIntervalInMs,this.config=n,this.notified=0,this.testers=new Map):d.warn("notifyCallback was null or undefined : "+t)}return o(e,[{key:"setup",value:function(e,t){this.minIntervalInMs=e,this.maxIntervalInMs=t}},{key:"getMostRecentTrackStartTime",value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(e,t){return!!t&&"function"==typeof t.getCreationTime&&Math.max(t.getCreationTime(),e)},Number.MIN_VALUE)}},{key:"accept",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=t?t.time:s.getCurrent(),r=n-this.notified,i=this.doSend(e,t);if(this.minIntervalInMs===this.maxIntervalInMs)return d.log("Elapsed time in fix intervalset: "+r),void(r>this.minIntervalInMs&&(this.notifyCallback&&this.notifyCallback(n),this.notified=n));if(!(r<this.minIntervalInMs)){var a=t?void 0:this.getMostRecentTrackStartTime(e);if(a&&n-a<l.adaptiveStatsThresholds.maxInitialTimeoutInMs&&r>l.adaptiveStatsThresholds.initialNotifyIntervalTimeoutInMs)return this.notifyCallback&&this.notifyCallback(n),void(this.notified=n);r<this.maxIntervalInMs&&!1===i||(this.notifyCallback&&this.notifyCallback(n),this.notified=n)}}},{key:"setIntervals",value:function(e,t){this.minIntervalInMs=e,this.maxIntervalInMs=t}},{key:"toString",value:function(){return"SendingTrigger"}},{key:"doSend",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(t){if(this.testers.has("test-ssrc")||this.testers.set("test-ssrc",new p(a({},this.config,{minIntervalInMs:this.minIntervalInMs,maxIntervalInMs:this.maxIntervalInMs}))),this.testers.get("test-ssrc").test(e,t))return!0}else for(var n=0;n<e.length;n+=1){var r=e[n];if(r.getStreamType()===f.streamType.outbound){var i=r.getSSRC();if(this.testers.has(i)||this.testers.set(i,new p(a({},this.config,{minIntervalInMs:this.minIntervalInMs,maxIntervalInMs:this.maxIntervalInMs}))),this.testers.get(i).test(r))return!0}}return!1}}]),e})();n.TestHelper=h,n.TrackMonitorTester=p,n.SendingTrigger=v},{"../../config/constants":36,"../../utility/csiologger":92,"../../utility/runningstats":101,"../../utility/timestamps":104,"../validator":87}],68:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.ThroughputObserver=void 0;var a=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=r(e("../../config/constants")),s=r(e("../../utility/timestamps")),c=(function(){function e(t){i(this,e),this.notifierCallback=t,this.observations=new Map}return a(e,[{key:"accept",value:function(e){var t=e.filter(function(e){return e.getMediaType()===o.mediaType.video&&e.getStreamType()===o.streamType.outbound});if(!(t.length<1)){var n=this;t.forEach(function(e){n.observe(e)})}}},{key:"toString",value:function(){return"ThroughputObserver"}},{key:"getObservations",value:function(e){if(this.observations.has(e))return this.observations.get(e);return this.observations.set(e,{ssrc:0,started:0,max:0,maxTs:0,stable:0,stableTs:0,ready:!1,maxVerified:!1,stableVerified:!1}),this.observations.get(e)}},{key:"observe",value:function(e){var t=e.getSSRC(),n=this.getObservations(t),r=s.getCurrent();if(!0!==n.ready){if(0===n.started)return n.ssrc=t,void(n.started=r);var i=e.getTrack().data,a=i.csioIntBRKbps,o=Math.min(50,.05*a);if(n.max<a?(n.max=a,n.maxTs=r):1e4<r-n.maxTs&&(n.maxVerified=!0),!(r-n.started<15e3)&&(a-o<i.csioAvgBRKbps&&i.csioAvgBRKbps<a+o&&(n.stableTs=r,n.stable=a,n.stableVerified=!0),n.stableVerified&&n.maxVerified)){var c={ssrc:String(n.ssrc),maxsendingKBitrate:n.max,timeToMaxSendingKBitrate:n.maxTs-n.started,stablesendingKBitrate:n.stable,timeToStableSendingKBitrate:n.stableTs-n.started};this.notifierCallback(c),n.ready=!0}}}}]),e})();n.ThroughputObserver=c},{"../../config/constants":36,"../../utility/timestamps":104}],69:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=(function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];r(this,e),this.mediaType=t,this.ssrc=""+n,this.streamType=i,this.started=a}return i(e,[{key:"setStart",value:function(){return this.started=!0,this}},{key:"setEnd",value:function(){return this.started=!1,this}},{key:"getContent",value:function(){return{mediaType:this.mediaType,ssrc:this.ssrc,streamType:this.streamType}}},{key:"isStarted",value:function(){return this.started}},{key:"toString",value:function(){return JSON.stringify({started:this.started,ssrc:this.ssrc,mediaType:this.mediaType})}}]),e})();n.OneWayMediaDisruption=a},{}],70:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=(function(){function e(t,n,i,a,o,s){r(this,e),this.candidatePair=t,this.codec=n,this.pcHash=i,this.trackStats=a,this.transportStats=o,this.measurements=s}return i(e,[{key:"getCandidatePair",value:function(){return this.candidatePair}},{key:"getCodec",value:function(){return this.codec}},{key:"getPcHash",value:function(){return this.pcHash}},{key:"getTrackStats",value:function(){return this.trackStats}},{key:"getTransportStats",value:function(){return this.transportStats}},{key:"getMeasurements",value:function(){return this.measurements}}]),e})();n.PcStats=a},{}],71:[function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.QualityEvaluator=void 0;var a=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("../config/constants")),s=(function(){function e(){i(this,e)}return a(e,[{key:"isAudio",value:function(e){return e&&e.data&&(e.mediaType===o.mediaType.audio||e.data.mediaType===o.mediaType.audio||e.data.csioMediaType===o.mediaType.audio)}},{key:"isVideo",value:function(e){return e&&e.data&&(e.mediaType===o.mediaType.video||e.data.mediaType===o.mediaType.video||e.data.csioMediaType===o.mediaType.video)}},{key:"isInbound",value:function(e){return e&&e.data&&(e.streamType===o.streamType.inbound||e.data.streamType===o.streamType.inbound||e.data.csioStreamType===o.streamType.inbound)}},{key:"isOutbound",value:function(e){return e&&e.data&&(e.streamType===o.streamType.outbound||e.data.streamType===o.streamType.outbound||e.data.csioStreamType===o.streamType.outbound)}},{key:"isInboundAudio",value:function(e){return this.isInbound(e)&&this.isAudio(e)}},{key:"isInboundVideo",value:function(e){return this.isInbound(e)&&this.isVideo(e)}},{key:"isOutboundAudio",value:function(e){return this.isOutbound(e)&&this.isAudio(e)}},{key:"isOutboundVideo",value:function(e){return this.isOutbound(e)&&this.isVideo(e)}},{key:"getDescendentRating",value:function(e,t){return t.green<=e?o.avQualityRatings.excellent:t.red<e?o.avQualityRatings.fair:o.avQualityRatings.bad}},{key:"getAscendingRating",value:function(e,t){return t.red<e?o.avQualityRatings.bad:t.green<=e?o.avQualityRatings.fair:o.avQualityRatings.excellent}},{key:"fromQualityString",value:function(){switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.avQualityRatings.unknown){case o.avQualityRatings.bad:return o.qualityRating.bad;case o.avQualityRatings.fair:return o.qualityRating.fair;case o.avQualityRatings.excellent:return o.qualityRating.excellent}return 0}},{key:"toQualityString",value:function(){switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.qualityRating.excellent){case o.qualityRating.excellent:return o.avQualityRatings.excellent;case o.qualityRating.good:case o.qualityRating.fair:case o.qualityRating.poor:return o.avQualityRatings.fair;case o.qualityRating.bad:return o.avQualityRatings.bad}return o.avQualityRatings.unknown}},{key:"inboundAudioQuality",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).data||{},t=[];if(e.csioIntBRKbps&&0<e.csioIntBRKbps){var n=this.getDescendentRating(e.csioIntBRKbps,o.throughputThreshold.audio),r=this.fromQualityString(n);t.push({result:r,weight:1})}if(e.csioIntFL&&0<e.csioIntFL){var i=this.getAscendingRating(e.csioIntFL,o.fractionalLossThreshold.audio),a=this.fromQualityString(i);t.push({result:a,weight:1})}if(e.csioeM&&0<e.csioeM){var s=this.getAscendingRating(e.csioeM,o.eModelThreshold.audio),c=this.fromQualityString(s);t.push({result:c,weight:1})}return t}},{key:"inboundVideoQuality",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).data||{},t=[];if(e.csioIntBRKbps&&0<e.csioIntBRKbps){var n=this.getDescendentRating(e.csioIntBRKbps,o.throughputThreshold.video),r=this.fromQualityString(n);t.push({result:r,weight:1})}if(e.csioSig2Latency&&0<e.csioSig2Latency){var i=this.getAscendingRating(e.csioSig2Latency,o.rttThreshold.video),a=this.fromQualityString(i);t.push({result:a,weight:1})}if(e.csioFrameRateMean&&e.prevFrameRateMean&&0<e.csioFrameRateMean&&0<e.csioPrevFrameRateMean){var s=e.csioFrameRateMean/Math.max(e.csioPrevFrameRateMean,1),c=this.getDescendentRating(s,o.currOverPrevFrameRateThreshold.video),u=this.fromQualityString(c);t.push({result:u,weight:1})}return t}},{key:"outboundAudioQuality",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).data||{},t=[];if(e.csioIntBRKbps&&0<e.csioIntBRKbps){var n=this.getDescendentRating(e.csioIntBRKbps,o.throughputThreshold.audio),r=this.fromQualityString(n);t.push({result:r,weight:1})}if(e.csioeM&&0<e.csioeM){var i=this.getAscendingRating(e.csioeM,o.eModelThreshold.audio),a=this.fromQualityString(i);t.push({result:a,weight:1})}return t}},{key:"outboundVideoQuality",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).data||{},t=[];if(e.csioIntBRKbps&&0<e.csioIntBRKbps){var n=this.getDescendentRating(e.csioIntBRKbps,o.throughputThreshold.video),r=this.fromQualityString(n);t.push({result:r,weight:1})}if(e.csioSig2Latency&&0<e.csioSig2Latency){var i=this.getAscendingRating(e.csioSig2Latency,o.rttThreshold.video),a=this.fromQualityString(i);t.push({result:a,weight:1})}if(e.csioFrameRateMean&&e.prevFrameRateMean&&0<e.csioFrameRateMean&&0<e.csioPrevFrameRateMean){var s=e.csioFrameRateMean/e.csioPrevFrameRateMean,c=this.getDescendentRating(s,o.currOverPrevFrameRateThreshold.video),u=this.fromQualityString(c);t.push({result:u,weight:1})}return t}},{key:"getOverallTrackQuality",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=0,n=0,r=0,i=e.length;r<i;r+=1)t+=e[r].weight;for(var a=0,o=e.length;a<o;a+=1){var s=e[a];n+=s.result*s.weight/Math.max(t,1)}return n=Math.floor(n),this.toQualityString(n)}},{key:"updateQualityStats",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.tracks||[],n=0,i=t.length;n<i;n+=1){var a=t[n],o=[];if(this.isInboundAudio(a)){var s=this.inboundAudioQuality(a);o.push.apply(o,r(s))}else if(this.isInboundVideo(a)){var c=this.inboundVideoQuality(a);o.push.apply(o,r(c))}else if(this.isOutboundAudio(a)){var u=this.outboundAudioQuality(a);o.push.apply(o,r(u))}else if(this.isOutboundVideo(a)){var l=this.outboundVideoQuality(a);o.push.apply(o,r(l))}var f=this.getOverallTrackQuality(o);a.data.csioMark=f}return e}}]),e})();n.QualityEvaluator=s},{"../config/constants":36}],72:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=(function(){function e(t,n,i){r(this,e),this.width=t,this.height=n,this.frameRate=i}return i(e,[{key:"getWidth",value:function(){return this.width}},{key:"getHeight",value:function(){return this.height}},{key:"getFrameRate",value:function(){return this.frameRate}},{key:"toString",value:function(){return this.width&&this.height&&this.frameRate?this.width.toString()+"X"+this.height.toString()+"X"+this.frameRate.toString():null}}]),e})();n.Resolution=a},{}],73:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0}),n.StatsAdapter=n.StatsAdapterIO=void 0;var c=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),u=r(e("../config/constants")),l=e("../collections/component"),f=e("../utility/registry"),d=r(e("../utility/hash")),h=n.StatsAdapterIO={RawStatsIn:"RawStatsIn",RawStatsOut:"RawStatsOut",UnprocessedOut:"UnprocessedOut"},p=(function(e){function t(e,n){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"StatsAdapter"));return r.bindPort(h.RawStatsIn,r.receiveRawData,r),r.declarePort(h.RawStatsOut),r.declarePort(h.UnprocessedOut),r.codeBase=e,r.browser=n,r}return o(t,l.Component),c(t,[{key:"receiveRawData",value:function(e,t,n){if(e){var r=this.extractRawStats(n),i=this.extractRawStats(e);if(i){this.mergeStats(i,r),window&&window.csioReactNative&&(i=this.removeValues(i)),this.isConnected(h.UnprocessedOut)&&this.transmit(h.UnprocessedOut,i,t);var a=this.processRawStats(i,t);if(a&&a.transportStats)for(var o=0;o<a.transportStats.length;o++)a.transportStats[o].hash=this.getTransportHash(a.transportStats[o]);a&&a.transportStats&&this.checkTransportStatsUpdates(a.transportStats,t),a&&a.trackStats&&(a=this.backFillTrackStats(a)),a&&a.transportStats&&a.candidatePair&&(a=this.backFillCandidatePairStats(a)),a.pcHash=t,this.transmit(h.RawStatsOut,a)}}}},{key:"isCandidateRelayed",value:function(e,t){return!(!e||"relay"!==e.candidateType&&"relayed"!==e.candidateType)||!(!t||"relay"!==t.candidateType&&"relayed"!==t.candidateType)}},{key:"mergeStats",value:function(e,t){var n=["inbound-rtp","outbound-rtp"],r=["googFrameRateOutput","googFrameRateDecoded","googFrameRateReceived","googFrameRateSent","framerateMean","framesPerSecond"];if(t){for(var i=new Map,a=void 0,o=0;o<t.length;o++)if("VideoBwe"!==t[o].type){var s=parseInt(t[o].ssrc,10);i.set(s,t[o])}else a=t[o];for(var c=0;c<e.length;c++){var u=e[c].type;if(n.includes(u)){var l=e[c].ssrc,f=i.get(l);for(var d in f)f.hasOwnProperty(d)&&(d.startsWith("goog")||"audioOutputLevel"===d||"audioInputLevel"===d?e[c][d]=f[d]:"timestamp"===d&&(e[c].legacyTimeStamp=f.timestamp)),e[c].roundTripTime||(e[c].roundTripTime=f.googRtt),r.includes(d)&&(e[c].legacyFrameRatePerSecond=f[d])}}a&&e.push(a)}}},{key:"removeValues",value:function(e){for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.values){for(var r=0;r<n.values.length;++r)s(n,n.values[r]);delete n.values}}return e}},{key:"getIceCandidates",value:function(e){if(!e)return{localIceCandidates:[],remoteIceCandidates:[],iceCandidatePairs:[]};var t=this.extractRawStats(e);return this.processRawStatsForIceInfo(t)}},{key:"extractRawStats",value:function(e){var t=[];if(e&&e.result)t=e.result();else if(e&&e.forEach)e.forEach(function(e){t.push(e)});else for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);for(var r=[],i=0;i<t.length;i++){var a=this.getParsedStats(t[i]);r.push(a)}if(r.filter(function(e){return"transport"===e.type}).length>0)return r;for(var o=void 0,s=0;s<r.length;s++)(("candidate-pair"===r[s].type||"candidatepair"===r[s].type)&&r[s].selected||"googCandidatePair"===r[s].type&&(!0===r[s].googActiveConnection||"true"===r[s].googActiveConnection))&&((o={}).selectedCandidatePairId=r[s].id,o.id=r[s].id,this.mergeObjects(o,r[s]),o.type="transport",r.push(o));return r}},{key:"normalizeIceCandidates",value:function(e){for(var t=0;t<e.length;t+=1){var n=e[t];n.transport=n.protocol?n.protocol:"udp",n.ip=n.ip?n.ip:n.ipAddress,n.port=n.portNumber?Number(n.portNumber):n.port,"ssltcp"===n.transport&&(n.transport="tcp"),n.id||(n.id="csio"+n.port),n.ip||n.address&&(n.ip=n.address)}return e}},{key:"normalizeCanidatePairs",value:function(e){for(var t=0;t<e.length;t+=1){var n=e[t];"in-progress"===n.state&&(n.state="inprogress"),n.state||(n.state="succeeded"),n.nominated||(n.nominated="true"===n.googActiveConnection),n.priority||(n.priority=123),n.id||(n.id="csio"+n.priority)}return e}},{key:"processRawStatsForIceInfo",value:function(e){var t=[],n=[],r=[],i=void 0;if(!e)return{localIceCandidates:t,remoteIceCandidates:n,iceCandidatePairs:r};for(var a=0;a<e.length;++a){var o=e[a],s=this.statsClassifier(o);if(s.candidatePair)r.push(s.candidatePair);else if(s.transportStats){if("transport"===s.transportStats.type){i=s.transportStats.selectedCandidatePairId;continue}r.push(s.transportStats)}else s.localCandidate?t.push(s.localCandidate):s.remoteCandidate&&n.push(s.remoteCandidate)}if(i)for(var c=0;c<r.length;++c)r[c].id===i&&(r[c].googActiveConnection="true");return{localIceCandidates:this.normalizeIceCandidates(t),remoteIceCandidates:this.normalizeIceCandidates(n),iceCandidatePairs:this.normalizeCanidatePairs(r)}}},{key:"processRawStats",value:function(e,t){for(var n={localIceCandidates:{},remoteIceCandidates:{},tracks:[],candidatePair:[],transportStats:[],trackStats:[],codec:[]},r=0;r<e.length;r++){var i=e[r],a=this.statsClassifier(i);a.tracks?n.tracks.push(a.tracks):a.candidatePair?n.candidatePair.push(a.candidatePair):a.bwe?n.bwe=a.bwe:a.trackStats?n.trackStats.push(a.trackStats):a.codec?n.codec.push(a.codec):a.localCandidate?n.localIceCandidates[a.localCandidate.id]=a.localCandidate:a.remoteCandidate&&(n.remoteIceCandidates[a.remoteCandidate.id]=a.remoteCandidate),a.transportStats&&(this.codeBase!==u.codeBaseType.firefox?(parseInt(a.transportStats.bytesReceived,10)>0||parseInt(a.transportStats.bytesSent,10)>0)&&n.transportStats.push(a.transportStats):"true"!==a.transportStats.selected&&!0!==a.transportStats.selected||n.transportStats.push(a.transportStats))}if(n.tracks){var o=f.Registry.getConferenceManager().getConferenceForPcHash(t),s=void 0;o&&(s=o.getPeerConnectionManager().getPcHandlerByHash(t)),n.tracks.forEach(function(e){var t=s.getSSRCInfo(e.data.ssrc);void 0!==t&&t.localStartTime||s&&(s.updateSDP(n.tracks),t=s.getSSRCInfo(e.data.ssrc)),t&&(e.cname=t.cname,e.msid=t.msid,e.associatedVideoTag=t.associatedVideoTag,e.usageLabel=t.usageLabel)})}return n.transportStats&&this.codeBase===u.codeBaseType.firefox&&(n.transportStats=this.getAddressInfoFromCandidates(n.transportStats,n.localIceCandidates,n.remoteIceCandidates)),n}},{key:"getParsedStats",value:function(e){var t={};if(e.timestamp instanceof Date&&(t.timestamp=e.timestamp.getTime().toString()),e.type&&(t.type=e.type),e.names){for(var n=e.names(),r=0;r<n.length;++r)t[n[r]]=e.stat(n[r]);e.id&&(t.id=e.id)}else s(t,e);if(t.values){for(var i=0;i<t.values.length;++i)s(t,t.values[i]);delete t.values}return t}},{key:"statsClassifier",value:function(e){var t={},n=function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return-1!==n.indexOf(e.type)},r=n("inbound-rtp","inboundrtp","remote-inbound-rtp"),i=n("outbound-rtp","outboundrtp","remote-outbound-rtp"),a=e.isRemote?"true"===e.isRemote||!0===e.isRemote:null;return null===a&&(a=n("remote-inbound-rtp","remote-outbound-rtp")),r||i?(t.tracks={},t.tracks.data=e,t.tracks.ssrc=e.ssrc,t.tracks.streamType=r?"inbound":"outbound",t.tracks.reportType=a?"remote":"local"):n("localcandidate","local-candidate")?t.localCandidate=e:n("remotecandidate","remote-candidate")?t.remoteCandidate=e:n("transport")?t.transportStats=e:n("VideoBwe")?t.bwe=e:n("track")?t.trackStats=e:n("candidate-pair","candidatepair","googCandidatePair")?t.candidatePair=e:n("codec")?t.codec=e:n("ssrc")&&(t.tracks={},t.tracks.data=e,t.tracks.ssrc=e.ssrc,t.tracks.reportType="local",t.tracks.streamType=e.bytesSent?"outbound":"inbound"),t}},{key:"getAddressInfoFromCandidates",value:function(e,t,n){for(var r=void 0,i=void 0,a=0;a<e.length;a++)r=t[e[a].localCandidateId],i=n[e[a].remoteCandidateId],r&&i&&(e[a].localAddr=r.ipAddress+":"+r.portNumber,e[a].remoteAddr=i.ipAddress+":"+i.portNumber,e[a].localAddrType=r.candidateType,e[a].remoteAddrType=i.candidateType,e[a].transportType=r.transport);return e}},{key:"getTransportHash",value:function(e){var t=void 0;return e&&(this.codeBase===u.codeBaseType.chrome?e.googLocalAddress?(t=e.googLocalAddress).concat(":",e.googRemoteAddress):e.selectedCandidatePairId&&(t=e.selectedCandidatePairId):this.codeBase===u.codeBaseType.firefox&&(t=e.localAddr).concat(":",e.remoteAddr)),d.generateHash(t)}},{key:"backFillTrackStats",value:function(e){for(var t=e.tracks.length,n=void 0,r=void 0,i=void 0,a=0;a<t;a++)(n=e.tracks[a]).data.trackId&&(r=this.getStatsForId(e.trackStats,n.data.trackId))&&(e.tracks[a].data=this.mergeObjects(e.tracks[a].data,r)),n.data.codecId&&(i=this.getStatsForId(e.codec,n.data.codecId))&&(e.tracks[a].data=this.mergeObjects(e.tracks[a].data,i));return e}},{key:"backFillCandidatePairStats",value:function(e){for(var t=e.transportStats.length,n=void 0,r=void 0,i=0;i<t;i++)(r=e.transportStats[i]).selectedCandidatePairId&&(n=this.getStatsForId(e.candidatePair,r.selectedCandidatePairId))&&(e.transportStats[i]=this.mergeObjects(e.transportStats[i],n),e.transportStats[i].csioIsRelayed=this.isCandidateRelayed(e.localIceCandidates[n.localCandidateId],e.remoteIceCandidates[n.remoteCandidateId]));return e}},{key:"mergeObjects",value:function(e,t){for(var n in t)t.hasOwnProperty(n)&&"id"!==n&&"type"!==n&&(e[n]=t[n]);return e}},{key:"getStatsForId",value:function(e,t){if(e){var n=e.filter(function(e){return e.id===t});if(n.length>0)return n[0]}}},{key:"formatRelayType",value:function(e){var t="None";switch(e){case 0:t="TURN/TLS";break;case 1:t="TURN/TCP";break;case 2:t="TURN/UDP"}return t}},{key:"getRelayType",value:function(e,t){var n=this,r=void 0;return t.getIceCandidates().some(function(t){if(t.typePreference){var i=t.typePreference>>24;return"rtp"===t.protocol&&t.address===e&&(i>=0&&i<=2&&(r=n.formatTypePreference(i)),!0)}return!1}),r}},{key:"getTransportInfo",value:function(e,t){for(var n={},r=!1,i=0;i<e.length;i++){var a=e[i];if(navigator.mozGetUserMedia&&"candidatepair"===a.type&&("true"===a.selected||!0===a.selected)){n.foundActive=!0,n.localAddr=a.localAddr,n.remoteAddr=a.remoteAddr,n.localAddrType=a.localAddrType,n.remoteAddrType=a.remoteAddrType,n.transportType=a.transportType,n.localCandidateId=a.localCandidateId,n.remoteCandidateId=a.remoteCandidateId;break}if("googCandidatePair"===a.type&&("true"===a.googActiveConnection||!0===a.googActiveConnection)){n.foundActive=!0,n.localAddr=a.googLocalAddress,n.remoteAddr=a.googRemoteAddress,n.localAddrType=a.googLocalCandidateType,n.remoteAddrType=a.googRemoteCandidateType,n.transportType=a.googTransportType;break}if("transport"===a.type){r=!0,a.selectedCandidatePairId&&(n.selectedCandidatePairId=a.selectedCandidatePairId);break}}return r&&n.localAddr&&(n.ipv6=0===n.localAddr.indexOf("["),n.relayType=getRelayType(n.localAddr,t)),n}},{key:"sendFabricTransportSwitch",value:function(e,t){e.sendFabricTransportSwitch(t)}},{key:"checkTransportStatsUpdates",value:function(e,t){var n=f.Registry.getConferenceManager().getConferenceForPcHash(t);if(n){var r=n.getPeerConnectionManager().getPcHandlerByHash(t);if(r){var i=this.getTransportInfo(e,r),a=r.getTransportInfo();a&&(a.localAddr===i.localAddr&&a.remoteAddr===i.remoteAddr&&a.transportType===i.transportType&&a.selectedCandidatePairId===i.selectedCandidatePairId&&a.localCandidateId===i.localCandidateId&&a.remoteCandidateId===i.remoteCandidateId||(r.setTransportInfo(i),this.sendFabricTransportSwitch(r,i.relayType)))}}}}]),t})();n.StatsAdapter=p},{"../collections/component":26,"../config/constants":36,"../utility/hash":96,"../utility/registry":100}],74:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0}),n.StatsAssembler=n.StatsAssemblerIO=void 0;var o=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=e("../collections/component"),c=n.StatsAssemblerIO={StatsTupleIn:"StatsTupleIn",CallstatsOut:"CallstatsOut"},u=(function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"StatsAssembler"));return e.pcHashes=[],e.bindPort(c.StatsTupleIn,e.receiveStats,e),e.declarePort(c.CallstatsOut),e}return a(t,s.Component),o(t,[{key:"receiveStats",value:function(e){for(var t=this,n=0;n<e.tracks.length;n++)!(function(n){var r=e.tracks[n];if(t.pcHashes.find(function(e){return e===r.pcHash}))return"continue";t.pcHashes.push(r.pcHash)})(n);var r=e.getTransportStats();for(n=0;n<this.pcHashes.length;n++){var i=this.pcHashes[n],a={};a.codec=e.getCodec(),a.trackStats=e.getTrackStats(),a.tracks=[];for(var o=0;o<e.tracks.length;o++){var s=e.tracks[o];s.pcHash===i&&a.tracks.push(s)}if(r&&r.has(i)){var u=r.get(i);u&&1===u.length?a.Transport=u[0]:a.Transport=u,this.transmit(c.CallstatsOut,i,a,e.getDestination())}}}}]),t})();n.StatsAssembler=u},{"../collections/component":26}],75:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.StatsCallbackBuilder=void 0;var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=e("../utility/registry"),o=(function(){function e(){r(this,e),this.callback=null}return i(e,[{key:"setCallback",value:function(e){this.callback=e}},{key:"buildStats",value:function(e,t){this.callback&&this.buildFromUnifiedFormat(e,t)}},{key:"getConnectionState",value:function(){return!0===navigator.onLine?"online":"offline"}},{key:"buildConferenceUrl",value:function(e){var t=e.getConferenceId(),n=a.Registry.getConferenceManager().get(t);return n?n.getUrl():null}},{key:"buildFromUnifiedFormat",value:function(e,t){var n={};n.connectionState=this.getConnectionState(),n.conferenceURL=this.buildConferenceUrl(t),n.fabricState=t.getPcState(),n.streams={},n.mediaStreamTracks=[];for(var r=0;r<e.length;r++){var i=e[r];if("inbound-rtp"===i.type||"outbound-rtp"===i.type||"ssrc"===i.type||"inboundrtp"===i.type||"outboundrtp"===i.type){var a={ssrc:i.ssrc,statsType:i.type,fractionLoss:i.csioIntFL,bitrate:i.csioIntBRKbps,quality:i.csioMark,mediaType:i.csioMediaType,jitter:i.jitter,audioOutputLevel:i.audioOutputLevel,audioIntputLevel:i.audioInputLevel,audioLevel:i.audioLevel,averageRTT:i.csioAvgRtt,averageJitter:i.csioAvgJitter,packetLossPercentage:i.csioPktLossPercentage,rtt:i.roundTripTime,packetRate:i.csioIntPR,remoteUserID:t.getRemoteId()},o=t.getSSRCInfo(i.ssrc+"");if(o&&(a.cname=o.cname,a.msid=o.msid,a.usageLabel=o.usageLabel,a.associatedVideoTag=o.associatedVideoTag),i.hasOwnProperty("roundTripTime")?a.rtt=i.roundTripTime:i.hasOwnProperty("googRtt")?a.rtt=i.googRtt:i.hasOwnProperty("mozRtt")&&(a.rtt=i.mozRtt),i.hasOwnProperty("jitter")?a.jitter=i.jitter:i.hasOwnProperty("googJitterReceived")&&(a.jitter=i.googJitterReceived),"inboundrtp"===a.statsType)a.statsType="inbound-rtp";else if("outboundrtp"===a.statsType)a.statsType="outbound-rtp";else if("ssrc"===a.statsType){i.id.indexOf("send")>0?a.statsType="outbound-rtp":a.statsType="inbound-rtp"}"remote-inbound-rtp"!==a.statsType&&"remote-outbound-rtp"!==a.statsType&&(!0!==i.isRemote&&"true"!==i.isRemote||(a.statsType="remote-"+a.statsType)),n.streams[i.ssrc]=a,n.mediaStreamTracks.push(a)}}this.callback(n)}}]),e})();n.StatsCallbackBuilder=o},{"../utility/registry":100}],76:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0}),n.StatsMonitor=n.StatsMonitorIO=void 0;var s=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),c=e("../collections/component"),u=e("./tracksmonitor"),l=e("./transportsmonitor"),f=e("./intervalstatsmonitor"),d=e("./qualityevaluator"),h=e("./statstuple"),p=e("../utility/registry"),v=e("./monitorhooks/sendingtrigger"),g=e("./monitorhooks/onewaymediaobserver"),y=e("./monitorhooks/throughputobserver"),m=e("./monitorhooks/cpulimitationobserver"),b=e("./monitorhooks/qpsumobserver"),S=r(e("../utility/timestamps")),k=r(e("../config/constants")),w=r(e("../utility/csiologger")),C=n.StatsMonitorIO={PcStatsTupleIn:"PcStatsTupleIn",StatsTupleOut:"StatsTupleOut"},_=(function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"StatsMonitor"));return n.bindPort(C.PcStatsTupleIn,n.receive,n),n.declarePort(C.StatsTupleOut),n.lastPcStats=null,n.lastPcHash=null,n.tracksmonitor=new u.TracksMonitor,n.transportsmonitor=new l.TransportsMonitor(e),n.intervalstatsmonitor=new f.IntervalStatsMonitor,n.qualityevaluator=new d.QualityEvaluator,n.candidatepairs=new Map,n.monitorhooks=[],n.sendingTrigger=new v.SendingTrigger(n.sendStatsTuple.bind(n)),n.oneWayMediaObserver=new g.OneWayMediaObserver(n.sendDisruptions.bind(n)),n.throughputObserver=new y.ThroughputObserver(n.sendThroughputObservations.bind(n)),n.cpuLimitationObserver=new m.CPULimitationObserver(n.sendCPULimitationObservations.bind(n)),n.qpSumObserver=new b.QPSumObserver(n.sendQPSumDistortions.bind(n)),n.setupHooks(),n.statsToCallbackSent=S.getCurrent(),n}return o(t,c.Component),s(t,[{key:"setupHooks",value:function(){this.monitorhooks.push(this.sendingTrigger.accept.bind(this.sendingTrigger)),this.monitorhooks.push(this.oneWayMediaObserver.accept.bind(this.oneWayMediaObserver)),this.monitorhooks.push(this.throughputObserver.accept.bind(this.throughputObserver)),this.monitorhooks.push(this.cpuLimitationObserver.accept.bind(this.cpuLimitationObserver)),this.monitorhooks.push(this.qpSumObserver.accept.bind(this.qpSumObserver))}},{key:"setIntervals",value:function(e,t){this.sendingTrigger.setup(e,t)}},{key:"receive",value:function(e){var t=e.getPcHash();this.candidatepairs.set(t,e.getCandidatePair()),this.transportsmonitor.set(t,e.getTransportStats()),this.intervalstatsmonitor.set(t,e.getMeasurements());for(var n=e.getMeasurements(),r=0;r<n.length;r++){var i=n[r],a=this.tracksmonitor.getMonitor(i);a?a.add(i):w.warn("No monitor for ssrc "+i.getSSRC())}this.lastPcStats=e,this.lastPcHash=t;for(var o=this.tracksmonitor.getMonitors(),s=this.monitorhooks,c=0;c<s.length;c++)(0,s[c])(o);var u=S.getCurrent();5e3<u-this.statsToCallbackSent&&(this.sendStatsTuple(k.statsDestination.callback),this.statsToCallbackSent=u)}},{key:"getCandidatePairs",value:function(){var e=[];return this.candidatepairs.forEach(function(t,n){var r=[n,t];e.push(r)}),e}},{key:"sendStatsTuple",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null===e&&(e=k.statsDestination.backend);var t=new h.StatsTuple(this.getCandidatePairs(),this.lastPcStats.getCodec(),this.lastPcStats.getTrackStats(),this.transportsmonitor.getIntervalStats(),this.tracksmonitor.extractTracks(),e),n=this.intervalstatsmonitor.getIntervalStats(e);t=this.intervalstatsmonitor.updateIntervalStats(t,n),t=this.qualityevaluator.updateQualityStats(t),this.transmit(C.StatsTupleOut,t)}},{key:"sendDisruptions",value:function(e){var t=this;e.forEach(function(e){e.isStarted()?t.sendEventMsg(k.internalFabricEvent.oneWayMediaStart,e.getContent()):t.sendEventMsg(k.internalFabricEvent.oneWayMediaStop,e.getContent())})}},{key:"sendCPULimitationObservations",value:function(e){}},{key:"sendQPSumDistortions",value:function(e){}},{key:"sendThroughputObservations",value:function(e){this.sendEventMsg(k.internalFabricEvent.sendingThroughputObservations,e)}},{key:"sendEventMsg",value:function(e,t){if(this.lastPcHash){var n=p.Registry.getConferenceManager().getConferenceForPcHash(this.lastPcHash);if(n){var r=n.getPeerConnectionManager().getPcHandlerByHash(this.lastPcHash),i=r.getPeerConnection(),a=r.getConferenceId();p.Registry.getEventMessageBuilder().make(e,a,i,t)}}}},{key:"delete",value:function(e){this.tracksmonitor&&this.tracksmonitor.deleteTracks(e),this.transportsmonitor&&this.transportsmonitor.delete(e),this.intervalstatsmonitor&&this.intervalstatsmonitor.delete(e),this.candidatepairs&&this.candidatepairs.has(e)&&this.candidatepairs.delete(e)}}]),t})();n.StatsMonitor=_},{"../collections/component":26,"../config/constants":36,"../utility/csiologger":92,"../utility/registry":100,"../utility/timestamps":104,"./intervalstatsmonitor":62,"./monitorhooks/cpulimitationobserver":64,"./monitorhooks/onewaymediaobserver":65,"./monitorhooks/qpsumobserver":66,"./monitorhooks/sendingtrigger":67,"./monitorhooks/throughputobserver":68,"./qualityevaluator":71,"./statstuple":79,"./tracksmonitor":85,"./transportsmonitor":86}],77:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0}),n.StatsParser=n.StatsParserIO=void 0;var s=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),c=e("../collections/component"),u=e("./measurement"),l=e("./pcstats"),f=r(e("./validator")),d=r(e("../config/constants")),h=r(e("../utility/csiologger")),p=n.StatsParserIO={RawStatsIn:"RawStatsIn",PcStatsTupleOut:"PcStatsTupleOut"},v=(function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"StatsParser"));return e.bindPort(p.RawStatsIn,e.receive,e),e.declarePort(p.PcStatsTupleOut),e}return o(t,c.Component),s(t,[{key:"receive",value:function(e){if(null!==e){for(var t=e.tracks,n=[],r=0;r<t.length;++r){var i=t[r];if(i&&i.data){var a=u.Measurement.make(e.pcHash,this.getSSRC(i),this.getStreamType(i),this.getMediaType(i),this.getReportType(i),this.getFrameRateReceived(i),this.getFrameHeight(i),this.getFrameWidth(i),this.getDroppedFramesNum(i),this.getFramesReceived(i),this.getRTT(i),this.getJitter(i),this.getLostPackets(i),this.getReceivedPackets(i),this.getSentPackets(i),this.getDiscardedPackets(i),this.getSentBytes(i),this.getReceivedBytes(i),this.getFractionLost(i),i);n.push(a)}else h.log("No track or track.data.")}var o=new l.PcStats(e.candidatePair,e.codec,e.pcHash,e.trackStats,e.transportStats,n);this.transmit(p.PcStatsTupleOut,o)}else h.warn("Stats object can not be null")}},{key:"getSSRC",value:function(e){return e.ssrc}},{key:"getStreamType",value:function(e){return e.streamType===d.streamType.inbound?d.streamType.inbound:e.streamType===d.streamType.outbound?d.streamType.outbound:void 0}},{key:"getSentBytes",value:function(e){if(void 0===e.data.bytesSent)return-1;var t=f.checkForNan(parseInt(e.data.bytesSent,10));return null!==t?t:-1}},{key:"getReceivedBytes",value:function(e){if(void 0===e.data.bytesReceived)return-1;var t=f.checkForNan(parseInt(e.data.bytesReceived,10));return null!==t?t:-1}},{key:"getReceivedPackets",value:function(e){if(void 0===e.data.packetsReceived)return-1;var t=f.checkForNegativeValue(parseInt(e.data.packetsReceived,10));return null!==t?t:-1}},{key:"getSentPackets",value:function(e){if(void 0===e.data.packetsSent)return-1;var t=f.checkForNegativeValue(parseInt(e.data.packetsSent,10));return null!==t?t:-1}},{key:"getDiscardedPackets",value:function(e){if(void 0===e.data.discardedPackets)return-1;var t=f.checkForNan(parseInt(e.data.discardedPackets,10));return null!==t?t:-1}},{key:"getLostPackets",value:function(e){if(void 0===e.data.packetsLost)return-1;var t=f.checkForNegativeValue(parseInt(e.data.packetsLost,10));return null!==t?t:-1}},{key:"getDroppedFramesNum",value:function(e){if(void 0===e.data.droppedFrames)return-1;var t=f.checkForNegativeValue(parseInt(e.data.droppedFrames,10));return null!==t?t:-1}},{key:"getFramesReceived",value:function(e){if(void 0===e.data.framesReceived)return-1;var t=f.checkForNegativeValue(parseInt(e.data.framesReceived,10));return null!==t?t:-1}},{key:"getFrameRateReceived",value:function(e){var t=null;return void 0!==e.data.framerateMean?t=parseInt(e.data.framerateMean,10):void 0!==e.data.framesPerSecond?t=parseInt(e.data.framesPerSecond,10):void 0!==e.data.googFrameRateOutput?t=parseInt(e.data.googFrameRateOutput,10):void 0!==e.data.googFrameRateDecoded?t=parseInt(e.data.googFrameRateDecoded,10):void 0!==e.data.googFrameRateReceived?t=parseInt(e.data.googFrameRateReceived,10):void 0!==e.data.googFrameRateSent&&(t=parseInt(e.data.googFrameRateSent,10)),void 0!==t&&(t=f.checkForNegativeValue(t)),t}},{key:"getFrameHeight",value:function(e){var t=void 0;return void 0!==e.data.frameHeight?t=e.data.frameHeight:void 0!==e.data.googFrameHeightReceived?t=e.data.googFrameHeightReceived:void 0!==e.data.googFrameHeightSent&&(t=e.data.googFrameHeightSent),t}},{key:"getJitter",value:function(e){return void 0!==e.data.jitter?f.checkForNan(parseFloat(e.data.jitter,10)):void 0!==e.data.googJitterReceived?f.checkForNan(parseFloat(e.data.googJitterReceived,10)):void 0}},{key:"getFrameWidth",value:function(e){return void 0!==e.data.frameWidth?e.data.frameWidth:void 0!==e.data.googFrameWidthReceived?e.data.googFrameWidthReceived:void 0!==e.data.googFrameWidthSent?e.data.googFrameWidthSent:void 0}},{key:"getRTT",value:function(e){var t=function(e){return isNaN(e)||e<0?null:e};return void 0!==e.data.roundTripTime?t(parseFloat(e.data.roundTripTime,10)):void 0!==e.data.googRtt?t(parseFloat(e.data.googRtt,10)):void 0!==e.data.mozRtt?t(parseFloat(e.data.mozRtt,10)):void 0}},{key:"getMediaType",value:function(e){var t=d.mediaType.unknown;return e.data&&void 0!==e.data.mediaType?e.data.mediaType:(e.data.mediaType?t=e.data.mediaType:void 0!==e.data.googFrameRateReceived||void 0!==e.data.googFrameRateSent?t=d.mediaType.video:void 0!==e.data.audioInputLevel||void 0!==e.data.audioOutputLevel?t=d.mediaType.audio:void 0!==e.data.framerateMean&&(t=d.mediaType.video),t)}},{key:"getReportType",value:function(e){return e.reportType||d.reportType.unknown}},{key:"getFractionLost",value:function(e){return void 0===e.data.fractionLost?-1:(function(e){return isNaN(e)||e<0?null:e})(parseFloat(e.data.fractionLost,10))}}]),t})();n.StatsParser=v},{"../collections/component":26,"../config/constants":36,"../utility/csiologger":92,"./measurement":63,"./pcstats":70,"./validator":87}],78:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0}),n.StatsTransmitter=n.StatsTransmitterIO=void 0;var s=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),c=e("../collections/component"),u=e("../utility/registry"),l=r(e("../config/constants")),f=r(e("../utility/csiologger")),d=n.StatsTransmitterIO={CallstatsIn:"CallstatsIn",UnprocessedIn:"UnprocessedIn"},h=(function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"StatsTransmitter"));return e.battery=u.Registry.getBattery(),e.lastUnprocessedStats={},e.bindPort(d.CallstatsIn,e.receiveCallstats,e),e.bindPort(d.UnprocessedIn,e.receiveUnprocessed,e),e}return o(t,c.Component),s(t,[{key:"receiveUnprocessed",value:function(e,t){this.lastUnprocessedStats[t]=e}},{key:"receiveCallstats",value:function(e,t,n){var r;(r=this.getUnifiedFormat(t,e))?this.send(e,r,n):f.warn("Content can not be sent")}},{key:"send",value:function(e,t,n){var r=u.Registry.getConferenceManager().getConferenceForPcHash(e);if(r){var i=r.getPeerConnectionManager().getPcHandlerByHash(e);if(i){var a=i.getPcState();if(a!==l.fabricState.terminated&&a!==l.fabricState.hold){if(n===l.statsDestination.callback)return void this.sendToStatsCallback(t.stats,i);u.Registry.getEventMessageBuilder().make(l.callstatsChannels.processedStats,i.getConferenceId(),i.getPeerConnection(),t)}}}}},{key:"sendToStatsCallback",value:function(e,t){var n=u.Registry.getStatsCallbackBuilder();n&&n.buildStats(e,t)}},{key:"getUnifiedFormat",value:function(e,t){for(var n=this.lastUnprocessedStats[t],r=[],i=0;i<n.length;i++){var a=n[i],o=(function(t){for(var n=0;n<e.tracks.length;n++){var r=e.tracks[n];if(r.data.id===t.id&&r.data.type===t.type)return r.data}return t.id===e.Transport.id&&t.type===e.Transport.type?e.Transport:null})(a);if(o){for(var s in o)if(o.hasOwnProperty(s)){if("id"===s||"type"===s||"timestamp"===s)continue;a[s]=o[s]}r.push(a)}else r.push(a)}var c={stats:r};return c.wifiStats=u.Registry.getWifiStatsExecutor().getWifiStats(),c.batteryStatus={},c.batteryStatus.batteryLevel=this.battery.getLevel(),c.batteryStatus.isBatteryCharging=this.battery.getCharging(),c}}]),t})();n.StatsTransmitter=h},{"../collections/component":26,"../config/constants":36,"../utility/csiologger":92,"../utility/registry":100}],79:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=(function(){function e(t,n,i,a,o,s){r(this,e),this.candidatePairs=t,this.codec=n,this.trackStats=i,this.transportStats=a,this.tracks=o,this.destination=s}return i(e,[{key:"getCandidatePairs",value:function(){return this.candidatePairs}},{key:"getCodec",value:function(){return this.codec}},{key:"getTrackStats",value:function(){return this.trackStats}},{key:"getTransportStats",value:function(){return this.transportStats}},{key:"getTracks",value:function(){return this.tracks}},{key:"getDestination",value:function(){return this.destination}}]),e})();n.StatsTuple=a},{}],80:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0}),n.SWAvg=void 0;var o=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=e("./swplugin"),c=(function(e){function t(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,a));return o.sum=0,o.counter=0,o}return a(t,s.SWPlugin),o(t,[{key:"add",value:function(e){this.filter(e)&&(this.sum+=this.extract(e),++this.counter,this.calculate())}},{key:"remove",value:function(e){this.filter(e)&&(this.sum-=this.extract(e),--this.counter,this.calculate())}},{key:"calculate",value:function(){var e=0;this.counter<1?this.notify(e):(e=this.sum/this.counter,this.notify(e))}}]),t})();n.SWAvg=c},{"./swplugin":83}],81:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0}),n.SWBTreePercentile=void 0;var o=(function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(("function"==typeof Symbol?Symbol.iterator:"@@iterator")in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),s=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),c=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("../../config/constants")),u=e("./swplugin"),l=e("../../collections/binarytree"),f=e("../../utility/registry"),d=(function(e){function t(e,n,a,o){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;r(this,t);var f=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,a,o,c));if(99<e||e<1)throw new RangeError("Percentile parameter must be between 1 and 99");return f.comparator=n,f.percentile=e,f.meanCalcer=u,f.estimator=s,f.ratio=e/(100-e),f.maxtree=new l.BinaryTree(n),f.mintree=new l.BinaryTree(n),f.ratio<1?f.required=1/f.ratio+1:1<f.ratio?f.required=f.ratio+1:f.required=2,f.result=null,f}return a(t,u.SWPlugin),s(t,[{key:"add",value:function(e){if(this.filter(e)){if(this.maxtree.getNodeCounter()<1)return this.maxtree.insert(e),void this.calculate();this.comparator(e,this.maxtree.getTopValue())<=0?this.maxtree.insert(e):this.mintree.insert(e),this.balancing(),this.calculate()}}},{key:"remove",value:function(e){if(this.filter(e)){var t=this.mintree.getNodeCounter();this.maxtree.getNodeCounter()<1?this.mintree.delete(e):t<1?this.maxtree.delete(e):this.comparator(e,this.maxtree.getTopValue())<=0?this.maxtree.delete(e):this.mintree.delete(e),this.calculate()}}},{key:"getThresholds",value:function(){var e=this.mintree.getSize(),t=this.maxtree.getSize(),n=e+1,r=t+1;return 1<this.ratio?(n=Math.ceil(e*this.ratio),r=Math.floor(t/this.ratio)+1):this.ratio<1&&(n=Math.floor(e*this.ratio)+1,r=Math.ceil(t/this.ratio)),[n,r]}},{key:"balancing",value:function(){var e=this.mintree,t=this.maxtree,n=e.getSize(),r=t.getSize();if(!(r+n<this.required)){if(n<1)return void e.insertNodeAtBottom(t.popTopNode());r<1&&t.insertNodeAtTop(e.popBottomNode());for(var i=0;!(20<++i);){var a=1<e.getNodeCounter(),s=1<t.getNodeCounter(),u=e.getBottomNode().getLength(),l=t.getTopNode().getLength();if(e.getNodeCounter()<1||t.getNodeCounter()<1)break;var d=this.getThresholds(),h=o(d,2),p=h[0],v=h[1];if(s&=n+l<=v,a&=r+u<=p,n=e.getSize(),p<(r=t.getSize())&&s)e.insertNodeAtBottom(t.popTopNode());else{if(!(v<n&&a))break;t.insertNodeAtTop(e.popBottomNode())}}20<i&&f.Registry.getGenericEventHandler().sendEvent(c.logEvents.error,{msg:"swbtreepercentile::balancing: Error, counter reached maximum value"})}}},{key:"getMean",value:function(e,t){return this.meanCalcer?this.meanCalcer(e,t):e}},{key:"estimate",value:function(e,t){return this.estimator?this.estimator(e,t):null}},{key:"calculate",value:function(){var e=null,t=this.mintree,n=this.maxtree,r=t.getSize(),i=n.getSize(),a=i+r;if(!(a<1)){if(a<this.required||r<1||i<1){if(0==a)return;var o=void 0,s=void 0;r<1?(o=this.maxtree.getBottomValue(),s=this.maxtree.getTopValue()):i<1?(o=this.mintree.getBottomValue(),s=this.mintree.getTopValue()):(s=this.mintree.getTopValue(),o=this.maxtree.getBottomValue());var c=this.estimate(o,s);return void this.notify(c)}var u=n.getTopNode(),l=t.getBottomNode();if(u||l){if(!u){var f=this.extract(l);return void this.notify(f)}if(!l){var d=this.extract(u);return void this.notify(d)}var h=a*(this.percentile/100);if(Number.isInteger(h)){var p=Math.floor(h);e=Math.ceil(h+1)<=i?u.peek():p<=i?this.getMean(u.peek(),l.peek()):l.peek()}else{var v=i/r;e=this.ratio<v?u.peek():v<this.ratio?l.peek():this.ratio<1?l.peek():u.peek()}var g=this.extract(e);this.notify(g)}}}}]),t})();n.SWBTreePercentile=d},{"../../collections/binarytree":23,"../../config/constants":36,"../../utility/registry":100,"./swplugin":83}],82:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0}),n.SWFunctor=void 0;var o=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=e("./swplugin"),c=(function(e){function t(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,null,null,a));return o.addFunc=e,o.remFunc=n,o}return a(t,s.SWPlugin),o(t,[{key:"add",value:function(e){this.filter(e)&&this.addFunc&&this.addFunc(e)}},{key:"remove",value:function(e){this.filter(e)&&this.remFunc&&this.remFunc(e)}},{key:"toString",value:function(){return"SWFuncPlugin"}}]),t})();n.SWFunctor=c},{"./swplugin":83}],83:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.SWPlugin=void 0;var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("../../utility/csiologger")),o=(function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;r(this,e),this.extractorFnc=t,this.notifierFnc=n,this.filterFunc=i}return i(e,[{key:"notify",value:function(e){this.notifierFnc?this.notifierFnc(e):a.warn("Failed notification for "+this.toString())}},{key:"extract",value:function(e){return this.extractorFnc?this.extractorFnc(e):(a.warn(this.toString()+" tried to extract without extractorFnc"),null)}},{key:"filter",value:function(e){return!this.filterFunc||this.filterFunc(e)}},{key:"add",value:function(e){a.log("Abstract method is called width value: "+e)}},{key:"remove",value:function(e){a.log("Abstract method is called with value: "+e)}},{key:"toString",value:function(){return"SWPlugin"}}]),e})();n.SWPlugin=o},{"../../utility/csiologger":92}],84:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.TrackMonitor=void 0;var c=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0},u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=e("../utility/registry"),f=e("../collections/slidingwindow"),d=e("../statspipeline/swplugins/swavg"),h=e("../statspipeline/swplugins/swbtreepercentile"),p=e("../statspipeline/swplugins/swfunctor"),v=r(e("../utility/timestamps")),g=r(e("../config/constants")),y=r(e("./validator")),m=r(e("../utility/csiologger")),b=(function(){function e(){o(this,e),this.evaluators=[]}return u(e,[{key:"addEvaluator",value:function(e){var t={processFnc:e,weight:arguments.length>1&&void 0!==arguments[1]?arguments[1]:1};this.evaluators.push(t)}}]),e})(),S=(function(e){function t(e,n,r,a){o(this,t);var s=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return s.thresholds=[],s.enableThresholds=!1,s.requestTime=0,s.started=0,s.created=v.getCurrent(),s.mediaType=a,s.streamType=r,s.qualityHelper=new b,s.metrics=s.makeTrack(),s.lastTrack={},s.prevFrameRateMean=null,s.ssrc=null,s}return a(t,f.SlidingWindow),u(t,null,[{key:"make",value:function(e,n,r,i){var a=new t(e,n,r,i),o=a.metrics;return a.attach(new d.SWAvg(function(e){return e.getJitter()},function(e){o.csioAvgJitter=e},function(e){var t=e.getJitter();return null!==t&&void 0!==t})),a.attach(new d.SWAvg(function(e){return e.getRTT()},function(e){o.csioAvgRtt=e},function(e){var t=e.getRTT();return null!==t&&void 0!==t})),a.attach(new h.SWBTreePercentile(95,function(e,t){var n=e.getJitter(),r=t.getJitter();return n==r?0:n<r?-1:1},function(e){return e.getJitter()},function(e){o.csioPercentileJitter=e},function(e,t){return t?t.getJitter():e?e.getJitter():void 0},function(e){var t=e.getJitter();return null!==t&&void 0!==t},function(e,t){return e})),a.attach(new h.SWBTreePercentile(75,function(e,t){var n=e.getJitter(),r=t.getJitter();return n==r?0:n<r?-1:1},function(e){return e.getJitter()},function(e){o.csio75PercentileJitter=e},function(e,t){return t?t.getJitter():e?e.getJitter():void 0},function(e){var t=e.getJitter();return null!==t&&void 0!==t},function(e,t){return e})),a.attach(new h.SWBTreePercentile(95,function(e,t){var n=e.getRTT(),r=t.getRTT();return n==r?0:n<r?-1:1},function(e){return e.getRTT()},function(e){o.csioSig2Latency=e,o.csioeM=e+40},function(e,t){return t?t.getRTT():e?e.getRTT():void 0},function(e){var t=e.getRTT();return null!==t&&void 0!==t},function(e,t){return e})),a.attach(new h.SWBTreePercentile(75,function(e,t){var n=e.getRTT(),r=t.getRTT();return n==r?0:n<r?-1:1},function(e){return e.getRTT()},function(e){o.csioSig2Latency75=e},function(e,t){return t?t.getRTT():e?e.getRTT():void 0},function(e){var t=e.getRTT();return null!==t&&void 0!==t},function(e,t){return e})),r===g.streamType.inbound?t.setupInboundMonitor(a):r===g.streamType.outbound?t.setupOutboundMonitor(a):m.warn("Unrecognized streamType ("+r+") at TrackMonitor"),i===g.mediaType.audio?t.setupAudioMonitor(a):i===g.mediaType.video?t.setupVideoMonitor(a):m.warn("Unrecognized mediaType ("+i+") at TrackMonitor"),a}},{key:"setupInboundMonitor",value:function(e){var t=e.metrics;e.addPreProcess(function(t){var n=t.getFractionLost();if(!y.checkForPositiveValue(n)){var r=t.getLostPackets(),i=t.getReceivedPackets(),a=e.getRequestedMeasurement(),o=0,s=0;a?(o=r-a.getLostPackets(),s=i-a.getReceivedPackets()):(o=r,s=i),y.checkForPositiveValue(o)&&y.checkForPositiveValue(s)&&(n=o/Math.max(s+o,1),y.checkForPositiveValue(n)&&t.setFractionLost(n))}}),e.addPreProcess(function(n){if(!n.getFrameRateReceived()&&n.getFramesReceived()&&0<e.started){var r=n.getFramesReceived(),i=v.getCurrent()-e.started;i>0&&r>=0&&(t.csioEstFrameRatePerSecond=1e3*r/i)}}),e.attach(new p.SWFunctor(function(n){var r=v.getCurrent(),i=n.getResolution(),a=e.getRequestedMeasurement(),o=e.getRequestTime(),s=8*n.getReceivedBytes(),c=n.getReceivedPackets(),u=0,f=0,d=0,h=Math.max(r-e.getStartTime(),d);a?(u=s-8*a.getReceivedBytes(),f=Math.max(r-o,d)):(d=l.Registry.getCredentials().isAdaptiveStatsEnabled()?g.adaptiveStatsIntervalsInMs.min:l.Registry.getCredentials().getStatsSubmissionInterval(),h=Math.max(r-e.getStartTime(),d),u=s,f=Math.max(h,d)),t.csioAvgBRKbps=s/h,t.intervalBandwidth=Math.max(u/f,0),t.csioAvgPacketSize=n.getReceivedBytes()/Math.max(c,1),t.csiores=i},null,null)),e.attach(new h.SWBTreePercentile(95,function(e,t){var n=e.getFractionLost(),r=t.getFractionLost();return n==r?0:n<r?-1:1},function(e){return e.getFractionLost()},function(e){var n=y.checkForPositiveValue(e)?e:null;t.csioPercentileFl=n},function(e,t){return t?t.getFractionLost():e?e.getFractionLost():void 0},function(e){var t=e.getFractionLost();return null!==t&&void 0!==t&&!isNaN(t)&&t>=0},function(e,t){return e}))}},{key:"setupOutboundMonitor",value:function(e){var t=e.metrics;e.addPreProcess(function(t){var n=t.getFractionLost();if(!y.checkForPositiveValue(n)){var r=t.getLostPackets(),i=t.getReceivedPackets(),a=e.getRequestedMeasurement(),o=0,s=0;a?(o=r-a.getLostPackets(),s=i-a.getReceivedPackets()):(o=r,s=i),y.checkForPositiveValue(o)&&y.checkForPositiveValue(s)&&(n=o/Math.max(s+o,1),y.checkForPositiveValue(n)&&t.setFractionLost(n))}}),e.attach(new p.SWFunctor(function(n){var r=v.getCurrent(),i=n.getResolution(),a=e.getRequestedMeasurement(),o=e.getRequestTime(),s=8*n.getSentBytes(),c=n.getSentPackets(),u=0,f=0,d=0,h=Math.max(r-e.getStartTime(),d);a?(u=s-8*a.getSentBytes(),f=Math.max(r-o,d)):(d=l.Registry.getCredentials().isAdaptiveStatsEnabled()?g.adaptiveStatsIntervalsInMs.min:l.Registry.getCredentials().getStatsSubmissionInterval(),h=Math.max(r-e.getStartTime(),d),u=s,f=Math.max(h,d)),t.csioAvgBRKbps=s/h,t.intervalBandwidth=Math.max(u/f,0),t.csioAvgPacketSize=n.getSentBytes()/Math.max(c,1),t.csiores=i},null,null)),e.attach(new h.SWBTreePercentile(95,function(e,t){var n=e.getFractionLost(),r=t.getFractionLost();return n==r?0:n<r?-1:1},function(e){return e.getFractionLost()},function(e){var n=y.checkForPositiveValue(e)?e:null;t.csioPercentileFl=n},function(e,t){return t?t.getFractionLost():e?e.getFractionLost():void 0},function(e){var t=e.getFractionLost();return null!==t&&void 0!==t&&!isNaN(t)&&t>=0},function(e,t){return e}))}},{key:"setupAudioMonitor",value:function(e){var t=e.metrics;e.attach(new p.SWFunctor(function(e){t.csioMediaType=g.mediaType.audio},null,null))}},{key:"setupVideoMonitor",value:function(e){var t=e.metrics;e.attach(new d.SWAvg(function(e){return e.getFrameRateReceived()},function(n){e.prevFrameRateMean=t.csioFrameRateMean,t.csioPrevFrameRateMean=t.csioFrameRateMean,t.csioFrameRateMean=n},function(e){var t=e.getFrameRateReceived();return null!==t&&void 0!==t})),e.attach(new d.SWAvg(function(e){return e.getFrameHeight()},function(e){t.csioFrameHeightMean=e},function(e){var t=e.getFrameHeight();return null!==t&&void 0!==t})),e.attach(new d.SWAvg(function(e){return e.getFrameWidth()},function(e){t.csioFrameWidthMean=e},function(e){var t=e.getFrameWidth();return null!==t&&void 0!==t})),e.attach(new h.SWBTreePercentile(50,function(e,t){var n=e.getFrameRateReceived(),r=t.getFrameRateReceived();return n==r?0:n<r?-1:1},function(e){return e.getFrameRateReceived()},function(e){t.csioFrameRate50Percentile=e},function(e,t){return t?t.getFrameRateReceived():e?e.getFrameRateReceived():void 0},function(e){var t=e.getFrameRateReceived();return null!==t&&void 0!==t},function(e,t){return e})),e.attach(new h.SWBTreePercentile(50,function(e,t){var n=e.getFrameHeight(),r=t.getFrameHeight();return n==r?0:n<r?-1:1},function(e){return e.getFrameHeight()},function(e){t.csioFrameHeight50Percentile=e},function(e,t){return t?t.getFrameHeight():e?e.getFrameHeight():void 0},function(e){var t=e.getFrameHeight();return null!==t&&void 0!==t},function(e,t){return e})),e.attach(new h.SWBTreePercentile(50,function(e,t){var n=e.getFrameWidth(),r=t.getFrameWidth();return n==r?0:n<r?-1:1},function(e){return e.getFrameWidth()},function(e){t.csioFrameWidth50Percentile=e},function(e,t){return t?t.getFrameWidth():e?e.getFrameWidth():void 0},function(e){var t=e.getFrameWidth();return null!==t&&void 0!==t},function(e,t){return e})),e.attach(new p.SWFunctor(function(e){t.csioMediaType=g.mediaType.video},null,null))}}]),u(t,[{key:"makeTrack",value:function(){var e={csioMediaType:void 0,csioMark:void 0,intervalBandwidth:void 0,csioAvgBRKbps:void 0,csioIntBRKbps:void 0,csioIntFL:void 0,csioIntMs:void 0,csioIntPR:void 0,csioPercentileFl:void 0,csioAvgJitter:void 0,csioAvgRtt:void 0,csioPercentileJitter:void 0,csioSig2Latency:void 0,csioTimeElapseMs:void 0,csioeM:void 0,csiores:void 0,csioFrameWidth95Percentile:void 0,csioFrameWidth50Percentile:void 0,csioFrameHeight95Percentile:void 0,csioFrameHeight50Percentile:void 0,csioFrameRate95Percentile:void 0,csioFrameRate50Percentile:void 0,csioFrameWidthMean:void 0,csioFrameHeightMean:void 0,csioFrameRateMean:void 0,csioIntPktRcv:void 0};return e}},{key:"getSSRC",value:function(){return this.ssrc}},{key:"add",value:function(e){this.ssrc=e.getSSRC(),this.lastTrack=e.extractTrack(),this.lastTrack.pcHash=e.getPcHash(),0===this.started&&(this.started=v.getCurrent()),c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"add",this).call(this,e)}},{key:"hasTraffic",value:function(){return 0<this.metrics.intervalBandwidth}},{key:"getTrack",value:function(){var e=this.lastTrack;return s(e.data,this.metrics),e}},{key:"extractTrack",value:function(){var e=this.lastTrack;return s(e.data,this.metrics),this.requestTime=v.getCurrent(),this.requestedMeasurement=this.peek(),e}},{key:"getMediaType",value:function(){return this.mediaType}},{key:"getStreamType",value:function(){return this.streamType}},{key:"getStartTime",value:function(){return this.started}},{key:"getCreationTime",value:function(){return this.created}},{key:"getRequestTime",value:function(){return Math.max(this.started,this.requestTime)}},{key:"getRequestedMeasurement",value:function(){return this.requestedMeasurement}},{key:"addQualityEvaluator",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.qualityHelper.addEvaluator(e,t)}},{key:"addPreProcess",value:function(e){c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addPreProcess",this).call(this,e)}},{key:"addPostProcess",value:function(e){c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addPostProcess",this).call(this,e)}}]),t})();n.TrackMonitor=S},{"../collections/slidingwindow":31,"../config/constants":36,"../statspipeline/swplugins/swavg":80,"../statspipeline/swplugins/swbtreepercentile":81,"../statspipeline/swplugins/swfunctor":82,"../utility/csiologger":92,"../utility/registry":100,"../utility/timestamps":104,"./validator":87}],85:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.TracksMonitor=void 0;var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=e("./trackmonitor"),o=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("../config/constants")),s=(function(){function e(){r(this,e),this.inbMonitors=new Map,this.outbMonitors=new Map}return i(e,[{key:"getMonitor",value:function(e){var t=e.getStreamType(),n=e.getMediaType(),r=e.getSSRC(),i=null;return t===o.streamType.inbound?n===o.mediaType.audio?i=this.getInbAudioMonitor(r):n===o.mediaType.video&&(i=this.getInbVideoMonitor(r)):t===o.streamType.outbound&&(n===o.mediaType.audio?i=this.getOutbAudioMonitor(r):n===o.mediaType.video&&(i=this.getOutbVideoMonitor(r))),i}},{key:"extractTracks",value:function(){var e=[];return this.outbMonitors.forEach(function(t,n){e.push(t.extractTrack())}),this.inbMonitors.forEach(function(t,n){e.push(t.extractTrack())}),e}},{key:"deleteTracks",value:function(e){var t=this;this.outbMonitors.forEach(function(n,r){var i=n.getRequestedMeasurement();i&&i.getPcHash()===e&&t.outbMonitors.has(r)&&t.outbMonitors.delete(r)}),this.inbMonitors.forEach(function(n,r){var i=n.getRequestedMeasurement();i&&i.getPcHash()===e&&t.inbMonitors.has(r)&&t.inbMonitors.delete(r)})}},{key:"getTracks",value:function(){var e=[];return this.outbMonitors.forEach(function(t,n){e.push(t.getTrack())}),this.inbMonitors.forEach(function(t,n){e.push(t.getTrack())}),e}},{key:"getMonitors",value:function(){var e=[];return this.outbMonitors.forEach(function(t,n){e.push(t)}),this.inbMonitors.forEach(function(t,n){e.push(t)}),e}},{key:"getInbAudioMonitor",value:function(e){var t=this.inbMonitors.get(e);return t||(t=a.TrackMonitor.make(1e3,3e4,o.streamType.inbound,o.mediaType.audio),this.inbMonitors.set(e,t)),t}},{key:"getInbVideoMonitor",value:function(e){var t=this.inbMonitors.get(e);return t||(t=a.TrackMonitor.make(1e3,3e4,o.streamType.inbound,o.mediaType.video),this.inbMonitors.set(e,t)),t}},{key:"getOutbAudioMonitor",value:function(e){var t=this.outbMonitors.get(e);return t||(t=a.TrackMonitor.make(1e3,3e4,o.streamType.outbound,o.mediaType.audio),this.outbMonitors.set(e,t)),t}},{key:"getOutbVideoMonitor",value:function(e){var t=this.outbMonitors.get(e);return t||(t=a.TrackMonitor.make(1e3,3e4,o.streamType.outbound,o.mediaType.video),this.outbMonitors.set(e,t)),t}}]),e})();n.TracksMonitor=s},{"../config/constants":36,"./trackmonitor":84}],86:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.TransportsMonitor=void 0;var a=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=r(e("../config/constants")),s=r(e("../utility/timestamps")),c=(function(){function e(t){i(this,e),this.previous=t,this.actual=t,this.outdated=s.getCurrent()}return a(e,[{key:"setActual",value:function(e){this.actual=e}},{key:"outdate",value:function(){this.previous=this.actual,this.outdated=s.getCurrent()}},{key:"getActual",value:function(){return this.actual}},{key:"getPrevious",value:function(){return this.previous}},{key:"getElapsedTime",value:function(){return s.getCurrent()-this.outdated}}]),e})(),u=(function(){function e(t){i(this,e),this.stats=new Map,this.codeBase=t}return a(e,[{key:"set",value:function(e,t){var n=this.stats.get(e);if(n)n.setActual(t);else{if(t)for(var r=0;r<t.length;++r)t[r].csioTurnMins=0,t[r].csioBytesSent=0,t[r].csioBytesReceived=0;this.stats.set(e,new c(t))}}},{key:"delete",value:function(e){e&&this.stats.has(e)&&this.stats.delete(e)}},{key:"getIntervalStats",value:function(){var e=this,t=new Map;return this.stats.forEach(function(n,r){t.set(r,e.getIntervalStat(n)),n.outdate()}),t}},{key:"getIntervalStat",value:function(e){var t=null;switch(this.codeBase){case o.codeBaseType.chrome:t=this.getIntervalStatForChrome(e);break;default:t=this.getDefaultIntervalStat(e)}return t}},{key:"getDefaultIntervalStat",value:function(e){var t=e.getActual(),n=e.getPrevious(),r=e.getElapsedTime();if(!n)return t;for(var i=0;i<t.length;++i){var a=t[i],o=n[i];if(!o||!a)return t;var s=parseInt(o.bytesReceived,10),c=parseInt(o.bytesSent,10);a.csioReceivedBwKbps=8*(parseInt(a.bytesReceived,10)-s)/r,a.csioSentBwKbps=8*(parseInt(a.bytesSent,10)-c)/r,a.csioIntBytesReceived=parseInt(a.bytesReceived,10)-s,a.csioIntBytesSent=parseInt(a.bytesSent,10)-c,a.csioIsRelayed&&(a.csioIntBytesSent>0||a.csioIntBytesReceived>0)?(a.csioTurnMins=r+o.csioTurnMins,a.csioBytesSent=o.csioBytesSent+a.csioIntBytesSent,a.csioBytesReceived=o.csioBytesReceived+a.csioIntBytesReceived):a.csioTurnMins=o.csioTurnMins}return t}},{key:"getIntervalStatForChrome",value:function(e){var t=e.getActual(),n=e.getPrevious(),r=e.getElapsedTime();if(!n)return actual;for(var i=0;i<t.length;++i){var a=t[i],o=n[i];if(!o||!a)return t;var s=parseInt(o.bytesReceived,10),c=parseInt(o.bytesSent,10);a.csioReceivedBwKbps=8*(parseInt(a.bytesReceived,10)-s)/r,a.csioSentBwKbps=8*(parseInt(a.bytesSent,10)-c)/r,a.csioIntBytesReceived=parseInt(a.bytesReceived,10)-s,a.csioIntBytesSent=parseInt(a.bytesSent,10)-c,void 0!==o.packetsSent&&void 0!==a.packetsSent&&(a.csioSentPacketRate=(parseInt(a.packetsSent,10)-parseInt(o.packetsSent,10))/(r/1e3),a.csioIntPacketsSent=parseInt(a.packetsSent,10)-parseInt(o.packetsSent,10)),void 0!==o.packetsReceived&&void 0!==a.packetsReceived&&(a.csioReceivedPacketRate=(parseInt(a.packetsReceived,10)-parseInt(o.packetsReceived,10))/(r/1e3),a.csioIntPacketsReceived=parseInt(a.packetsReceived,10)-parseInt(o.packetsReceived,10)),a.csioIsRelayed&&(a.csioIntBytesSent>0||a.csioIntBytesReceived>0)?(a.csioTurnMins=r+o.csioTurnMins,a.csioBytesSent=o.csioBytesSent+a.csioIntBytesSent,a.csioBytesReceived=o.csioBytesReceived+a.csioIntBytesReceived):a.csioTurnMins=o.csioTurnMins}return t}}]),e})();n.TransportsMonitor=u},{"../config/constants":36,"../utility/timestamps":104}],87:[function(e,t,n){"use strict";function r(e){return isNaN(e)?null:e}Object.defineProperty(n,"__esModule",{value:!0}),n.checkForNan=r,n.checkForNegativeValue=function(e){return null!==r(e)&&0<=e?e:null},n.checkForPositiveValue=function(e){return void 0!==e&&null!==r(e)&&e>=0}},{}],88:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=(function(){function e(){r(this,e),this.getWifiStatsMethod=null,this.wifiStats=null,this.interval=1e4}return i(e,[{key:"setGetWifiStatsMethod",value:function(e){this.getWifiStatsMethod=e,this.wifiStatsHandler()}},{key:"getWifiStats",value:function(){return this.wifiStats}},{key:"wifiStatsHandler",value:function(){var e=this;e.getWifiStatsMethod&&e.getWifiStatsMethod().then(function(t){e.wifiStats=JSON.parse(t),setTimeout(function(){e.wifiStatsHandler()},e.interval)}).catch(function(){setTimeout(function(){e.wifiStatsHandler()},e.interval)})}}]),e})();n.WifiStatsExecutor=a},{}],89:[function(e,t,n){"use strict";function r(e){return window.btoa(e)}function i(e){return window.atob(e)}function a(e){return r(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,function(e,t){return String.fromCharCode("0x"+t)}))}Object.defineProperty(n,"__esModule",{value:!0}),n.encode=r,n.decode=i,n.urlencode=function(e){return r(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=+$/,"")},n.urlencodeUnicode=function(e){return a(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=+$/,"")},n.strtohex=function(e){for(var t=i(e.replace(/[ \r\n]+$/,"")),n=[],r=0;r<t.length;++r){var a=t.charCodeAt(r).toString(16);1===a.length&&(a="0"+a),n.push(a)}return n.join("")}},{}],90:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.Callbacks=void 0;var a=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=r(e("../config/constants")),s=e("./registry"),c=r(e("./csiologger")),u=(function(){function e(){i(this,e),this.callbacks={}}return a(e,[{key:"set",value:function(e,t){if("function"==typeof t)return o.callbackFunctions.hasOwnProperty(e)?(this.callbacks[e]=t,void(e===o.callbackFunctions.stats&&s.Registry.getStatsCallbackBuilder().setCallback(t))):void c.error("Couldn't set callback: "+e)}},{key:"get",value:function(e){return this.callbacks.hasOwnProperty(e)?this.callbacks[e]:null}}]),e})();n.Callbacks=u},{"../config/constants":36,"./csiologger":92,"./registry":100}],91:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.Credentials=void 0;var a="function"==typeof Symbol&&"symbol"==typeof("function"==typeof Symbol?Symbol.iterator:"@@iterator")?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==("function"==typeof Symbol?Symbol.prototype:"@@prototype")?"symbol":typeof e},o=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=r(e("../config/constants")),c=r(e("./csiologger")),u=(function(){function e(){i(this,e),this.appId=null,this.userId=null,this.userIdObject=null,this.deviceId=null,this.statsSubmissionInterval=15e3,this.collectSDP=!1,this.transportType=s.transportType.rest,this.adaptiveStatsEnabled=!1,this.siteId}return o(e,[{key:"getAppId",value:function(){return this.appId}},{key:"setAppId",value:function(e){this.appId="string"==typeof e?parseInt(e,10):e}},{key:"getSiteId",value:function(){return this.siteId}},{key:"setSiteId",value:function(e){this.siteId=e}},{key:"getUserId",value:function(){return this.userId}},{key:"setUserId",value:function(e){"object"===(void 0===e?"undefined":a(e))?(this.userId=e.aliasName,this.setUserIdObject(e)):this.userId=e}},{key:"getUserIdObject",value:function(){return this.userIdObject}},{key:"setUserIdObject",value:function(e){this.userIdObject=e}},{key:"getStatsSubmissionInterval",value:function(){return this.statsSubmissionInterval}},{key:"setStatsSubmissionInterval",value:function(e){c.log("setStatsSubmissionInterval is ",e),this.statsSubmissionInterval=e}},{key:"getCollectSDP",value:function(){return this.collectSDP}},{key:"setCollectSDP",value:function(e){this.collectSDP=e}},{key:"getTransportType",value:function(){return this.transportType}},{key:"setTransportType",value:function(e){this.transportType=e}},{key:"isAdaptiveStatsEnabled",value:function(){return this.adaptiveStatsEnabled}},{key:"setAdaptiveStatsEnabled",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.adaptiveStatsEnabled=e}}]),e})();n.Credentials=u},{"../config/constants":36,"./csiologger":92}],92:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.info=function(){var e;"true"===r.csioDebug&&(e=console).info.apply(e,arguments)},n.log=function(){var e;"true"===r.csioDebug&&(e=console).log.apply(e,arguments)},n.warn=function(){var e;"true"===r.csioDebug&&(e=console).warn.apply(e,arguments)},n.error=function(){var e;(e=console).warn.apply(e,arguments)};var r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("../config/settings"))},{"../config/settings":37}],93:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.Endpoint=void 0;var a=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=r(e("../browserapi/localstorage")),s=r(e("../browserapi/detectbrowser")),c=r(e("../utility/timestamps")),u=r(e("../utility/hash")),l=(function(){function e(){i(this,e),this.id=null,this.appversion=null,this.magicKey=Math.floor(4294967296*Math.random()),this.browserName=null,this.browserVersion=null,this.osName=null,this.osVersion=null,this.codeBase=null,this.userAgent=null,this.retrieveId()}return a(e,[{key:"setup",value:function(){var e=s.detect();this.browserName=e.browserName,this.browserVersion=e.browserVersion,this.osName=e.os,this.osVersion=e.osVersion,this.codeBase=e.codeBase,this.userAgent=e.userAgent}},{key:"retrieveId",value:function(){var e=this,t=o.get("endpointID");if(null===t){var n=c.getCurrent(),r=Math.random()*n;u.generateSHA256(r.toString(),function(t){e.id=t,o.store("endpointID",t)})}else this.id=t}},{key:"getId",value:function(){return this.id}},{key:"getAppVersion",value:function(){return this.appversion}},{key:"setAppVersion",value:function(e){this.appversion=e}},{key:"getMagicKey",value:function(){return this.magicKey}},{key:"getBrowserName",value:function(){return this.browserName}},{key:"getBrowserVersion",value:function(){return this.browserVersion}},{key:"getOsName",value:function(){return this.osName}},{key:"getOsVersion",value:function(){return this.osVersion}},{key:"getCodeBase",value:function(){return this.codeBase}},{key:"getUserAgent",value:function(){return this.userAgent}},{key:"serialize",value:function(){return{type:"browser",buildName:this.browserName,buildVersion:this.browserVersion,appVersion:this.appversion,os:this.osName,osVersion:this.osVersion,userAgent:this.userAgent}}}]),e})();n.Endpoint=l},{"../browserapi/detectbrowser":18,"../browserapi/localstorage":20,"../utility/hash":96,"../utility/timestamps":104}],94:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.EventMessage=void 0;var a="function"==typeof Symbol&&"symbol"==typeof("function"==typeof Symbol?Symbol.iterator:"@@iterator")?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==("function"==typeof Symbol?Symbol.prototype:"@@prototype")?"symbol":typeof e},o=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),c=r(e("../config/constants")),u=r(e("../config/settings")),l=e("./registry"),f=r(e("./csiologger")),d=(function(){function e(t,n,r,a){i(this,e),this.eventType=t,this.customEntries=r,this.pcHandler=a,this.auth=l.Registry.getAuthenticator(),this.clocksync=l.Registry.getClockSync(),this.timestamp=this.clocksync.getSynchronizedTimestamp(),this.conferenceId=n,this.clockUnSynced=!this.clocksync.isCompleted()}return o(e,[{key:"updateConferenceId",value:function(e){f.log("updating conferenceId to ",this.eventType,this.conferenceId,e),this.conferenceId=e}},{key:"toJson",value:function(){if(!this.canBeSent())return null;var e=this.getCommonHeader();return s(e,this.customEntries),this.eventType===c.internalFabricEvent.userJoined&&delete e.connectionID,e}},{key:"getCallback",value:function(){return this.pcHandler?this.pcHandler.getCallback():null}},{key:"canBeSent",value:function(){var e=void 0,t=c.tmpConferenceId;if(this.conferenceId===t)return!1;if(this.pcHandler&&!this.pcHandler.getRemoteId())return!1;if(this.eventType!==c.precalltestEvents.results){var n=l.Registry.getConferenceManager().get(this.conferenceId);if(!n)return!1;e=n.getUcId()}return!(!this.auth.getToken()||(this.auth.isTokenValid()?!(this.isPriority()||this.clocksync.isCompleted()&&e)||this.eventType===c.internalFabricEvent.userAlive&&!e:(this.auth.reAuthenticate(),1)))}},{key:"isCachable",value:function(){return-1===[c.internalFabricEvent.userAlive].indexOf(this.eventType)}},{key:"isPriority",value:function(){var e=!1;return this.eventType!==c.internalFabricEvent.userJoined&&this.eventType!==c.precalltestEvents.results&&this.eventType!==c.internalFabricEvent.userAlive||(e=!0),e}},{key:"getConferenceId",value:function(){return this.conferenceId}},{key:"getCommonHeader",value:function(){var e={version:u.version,callstatsVersion:u.version,channel:this.decideChannel(),timestamp:this.timestamp,action:this.eventType,eventType:this.eventType,localID:encodeURIComponent(l.Registry.getCredentials().getUserId()),timeShift:0,appID:l.Registry.getCredentials().getAppId(),deviceID:l.Registry.getEndpoint().getId(),token:this.auth.getToken(),confID:encodeURIComponent(this.conferenceId)};this.clockUnSynced&&(e.timestamp+=this.clocksync.getOffset()),this.eventType!==c.internalFabricEvent.userJoined&&this.eventType!==c.internalFabricEvent.fabricSetup&&this.eventType!==c.fabricEvent.fabricSetupFailed&&this.eventType!==c.precalltestEvents.results||(e.siteID=l.Registry.getCredentials().getSiteId());var t=l.Registry.getConferenceManager().get(this.conferenceId);return e.ucID=t?t.getUcId():null,this.pcHandler?(e.remoteID=encodeURIComponent(this.pcHandler.getRemoteId()),e.connectionID=this.pcHandler.getPcHash()):(e.remoteID=encodeURIComponent(l.Registry.getCredentials().getUserId()),e.connectionID=encodeURIComponent(l.Registry.getCredentials().getUserId())),e.remoteID||(e.remoteID=encodeURIComponent(l.Registry.getCredentials().getUserId())),e}},{key:"decideChannel",value:function(){if(this.eventType==c.callstatsChannels.sdpSubmission)return c.callstatsChannels.sdpSubmission;if(this.eventType==c.callstatsChannels.userFeedback)return c.callstatsChannels.userFeedback;if(this.eventType==c.callstatsChannels.processedStats)return c.callstatsChannels.processedStats;for(var e in c.precalltestEvents)if(this.eventType==c.precalltestEvents[e])return c.callstatsChannels.preCallTest;return c.callstatsChannels.callstatsEvent}}],[{key:"checkCustomEntries",value:function(e,t){if(!h[e])return f.error("eventType not recognized:",e),!1;var n=h[e];for(var r in n)if(!t.hasOwnProperty(r)||a(t[r])!==n[r])return f.error("customEntries for",e,"should have",r,"of type",n[r]),!1;return!0}}]),e})(),h={};h[c.internalFabricEvent.userJoined]={endpointInfo:"object"},h[c.internalFabricEvent.userLeft]={},h[c.internalFabricEvent.userAlive]={},h[c.internalFabricEvent.userDetails]={userName:"string"},h[c.internalFabricEvent.connectedDeviceList]={mediaDeviceList:"object"},h[c.fabricEvent.activeDeviceList]={mediaDeviceList:"object"},h[c.fabricEvent.audioMute]={},h[c.fabricEvent.audioUnmute]={},h[c.fabricEvent.videoPause]={},h[c.fabricEvent.videoResume]={},h[c.fabricEvent.screenShareStart]={},h[c.fabricEvent.screenShareStop]={},h[c.internalFabricEvent.mediaPlaybackStart]={ssrc:"string"},h[c.internalFabricEvent.mediaPlaybackSuspended]={ssrc:"string"},h[c.internalFabricEvent.mediaPlaybackStalled]={ssrc:"string"},h[c.internalFabricEvent.oneWayMedia]={mediaType:"string",ssrc:"string"},h[c.internalFabricEvent.oneWayMediaStart]={mediaType:"string",ssrc:"string"},h[c.internalFabricEvent.oneWayMediaStop]={mediaType:"string",ssrc:"string"},h[c.internalFabricEvent.fabricSetup]={localIceCandidates:"object",remoteIceCandidates:"object",iceCandidatePairs:"object"},h[c.fabricEvent.callDetails]={callType:"string"},h[c.fabricEvent.fabricSetupFailed]={delay:"number",reason:"string",function:"string",endpoint:"object"},h[c.internalFabricEvent.fabricStateChange]={changedState:"string",prevState:"string",newState:"string"},h[c.internalFabricEvent.fabricDropped]={prevIceConnectionState:"string",currIceConnectionState:"string",currIceCandidatePair:"object",delay:"number"},h[c.internalFabricEvent.iceConnectionDisruptionStart]={prevIceConnectionState:"string",currIceConnectionState:"string",prevIceConnectionStateTs:"number",currIceCandidatePair:"object"},h[c.internalFabricEvent.iceConnectionDisruptionEnd]={prevIceConnectionState:"string",currIceConnectionState:"string",delay:"number"},h[c.internalFabricEvent.iceDisruptionStart]={prevIceConnectionState:"string",currIceConnectionState:"string",prevIceConnectionStateTs:"number",currIceCandidatePair:"object"},h[c.internalFabricEvent.iceDisruptionEnd]={prevIceConnectionState:"string",currIceConnectionState:"string",prevIceCandidatePair:"object"},h[c.internalFabricEvent.iceFailed]={localIceCandidates:"object",prevIceConnectionState:"string",currIceConnectionState:"string",delay:"number"},h[c.internalFabricEvent.iceAborted]={prevIceConnectionState:"string",currIceConnectionState:"string"},h[c.internalFabricEvent.iceRestarted]={prevIceConnectionState:"string",currIceConnectionState:"string",prevIceCandidatePair:"object"},h[c.internalFabricEvent.fabricTransportSwitch]={prevIceCandidatePair:"object",currIceCandidatePair:"object"},h[c.internalFabricEvent.iceTerminated]={prevIceConnectionState:"string",currIceConnectionState:"string"},h[c.fabricEvent.fabricTerminated]={},h[c.fabricEvent.fabricHold]={},h[c.fabricEvent.fabricResume]={},h[c.fabricEvent.callUnAnswered]={},h[c.callstatsChannels.sdpSubmission]={localSDP:"string",remoteSDP:"string"},h[c.internalFabricEvent.ssrcMap]={ssrcData:"object"},h[c.callstatsChannels.userFeedback]={feedback:"object"},h[c.internalFabricEvent.sendingThroughputObservations]={ssrc:"string",maxsendingKBitrate:"number",timeToMaxSendingKBitrate:"number",stablesendingKBitrate:"number",timeToStableSendingKBitrate:"number"},h[c.fabricEvent.dominantSpeaker]={},h[c.fabricEvent.applicationErrorLog]={message:"string",messageType:"string"},h[c.callstatsChannels.processedStats]={stats:"object"},h[c.callstatsChannels.senderConfiguration]={rtc_rtp_parameters:"object"},h[c.internalFabricEvent.limitationObservations]={reason:"string"},h[c.qualityDisruptionTypes.qpchange]={reason:"string"},h[c.precalltestEvents.results]={results:"object"},h[c.precalltestEvents.associate]={ids:"object"},n.EventMessage=d},{"../config/constants":36,"../config/settings":37,"./csiologger":92,"./registry":100}],95:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.EventMessageBuilder=void 0;var a="function"==typeof Symbol&&"symbol"==typeof("function"==typeof Symbol?Symbol.iterator:"@@iterator")?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==("function"==typeof Symbol?Symbol.prototype:"@@prototype")?"symbol":typeof e},o=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=e("./eventmessage"),c=r(e("../config/constants")),u=e("./registry"),l=r(e("./csiologger")),f=(function(){function e(){i(this,e),this.transmissionmanager=u.Registry.getTransmissionManager()}return o(e,[{key:"make",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if("string"!=typeof e||null===r||"object"!==(void 0===r?"undefined":a(r)))return l.error("failed typeof checks:",e,void 0===e?"undefined":a(e),void 0===r?"undefined":a(r),r),u.Registry.getGenericEventHandler().sendEvent(c.logEvents.error,{msg:"failed typeof checks:"+e+":"+(void 0===r?"undefined":a(r))+":"+(void 0===e?"undefined":a(e))}),!1;if(null===t&&e!==c.precalltestEvents.results)return l.error("failed conferenceId checks:",e,t),u.Registry.getGenericEventHandler().sendEvent(c.logEvents.error,{msg:"failed conferenceId checks:"+e}),!1;if(!n&&e!==c.callstatsChannels.userFeedback&&e!==c.fabricEvent.applicationErrorLog&&e!==c.fabricEvent.fabricSetupFailed&&e!==c.internalFabricEvent.userJoined&&e!==c.precalltestEvents.results)return l.error("peerconnection cannot be null",e),u.Registry.getGenericEventHandler().sendEvent(c.logEvents.error,{msg:"peerconnection cannot be null"+e}),!1;if(!s.EventMessage.checkCustomEntries(e,r))return l.error("failed checks:",e,r),u.Registry.getGenericEventHandler().sendEvent(c.logEvents.error,{msg:"failed customEntries checks:"+e}),!1;var i=void 0;if(t){var o=u.Registry.getConferenceManager().get(t);o&&n&&(i=o.getPeerConnectionManager().getPcHandler(n))}var f=new s.EventMessage(e,t,r,i);return this.transmissionmanager.send(f),!0}}]),e})();n.EventMessageBuilder=f},{"../config/constants":36,"./csiologger":92,"./eventmessage":94,"./registry":100}],96:[function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=0;if(!e)return n;for(var r=0,i=e.length;r<i;r++)n=(n<<5)-n+e.charCodeAt(r),n|=0;return t&&t(n+""),n+""}function i(e){for(var t=[],n=0;n<e.length;++n){var r=e.charCodeAt(n);r<128?t[t.length]=r:r>127&&r<2048?(t[t.length]=r>>6|192,t[t.length]=63&r|128):(t[t.length]=r>>12|224,t[t.length]=r>>6&63|128,t[t.length]=63&r|128)}return new Uint8Array(t).buffer}function a(e){for(var t=new DataView(e),n="",r=void 0,i=0;i<t.byteLength;i++)(r=t.getUint8(i).toString(16)).length<2&&(r="0"+r),n+=r;return n}Object.defineProperty(n,"__esModule",{value:!0}),n.generateSHA256=function(e,t){var n={name:"SHA-256"};if(window.crypto){var o=window.crypto.subtle||window.crypto.webkitSubtle;if(!o)return void r(e,t);o.digest(n,i(e)).then(function(e){t(a(e))}).catch(function(){r(e,t)})}else if(window.msCrypto){if(!window.msCrypto.subtle)return void r(e,t);var s=window.msCrypto.subtle.digest(n,i(e));s.oncomplete=function(e){e.target&&t(a(e.target.result))},s.onerror=function(){r(e,t)}}else r(e,t)},n.generateHash=r},{}],97:[function(e,t,n){"use strict";function r(e){return!!/^[\],:{}\s]*$/.test(e.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))}Object.defineProperty(n,"__esModule",{value:!0}),n.isValid=r,n.parse=function(e){var t=null;return null===e?t:(r(e)&&(t=JSON.parse(e)),t)}},{}],98:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(n,"__esModule",{value:!0}),n.setErrorEventListener=function(){window&&window.addEventListener&&window.addEventListener("error",function(e){var t=i.Registry.getGenericEventHandler();if(e&&e.filename&&e.filename.indexOf("callstats")>-1){for(var n=!1,r={fileName:e.filename,line:e.lineno,col:e.colno,jsVersion:a.version,eventType:"error",message:e.message,pageURL:window.location.href},s=i.Registry.getConferenceManager().getConferenceIds(),c=0;c<s.length;c++)r.conferenceID=s[c],t.sendEvent(o.logEvents.error,r),n=!0;n||t.sendEvent(o.logEvents.error,r)}})};var i=e("./registry"),a=r(e("../config/settings")),o=r(e("../config/constants"))},{"../config/constants":36,"../config/settings":37,"./registry":100}],99:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.addPctMeasurementToAggregator=function(e){var t=void 0,n=void 0,a=void 0,o=void 0;if(e&&e.tests){e.tests.rtt&&(t=e.tests.rtt.median,n=e.tests.rtt.variance),e.tests.throughput&&(a=e.tests.throughput.average,o=Math.max(e.tests.throughput.fractionLostBytes,0));var s=new r.PCTMeasurement(a,t,n,o,e.provider,e.timestamp);i.Registry.getPCTAggregator().addPCTMeasurement(s)}},n.getPublicPrecalltestResults=function(e){var t={mediaConnectivity:!1,throughput:null,fractionalLoss:null,rtt:null};return e&&e.tests?(t.provider=e.provider,e.tests.rtt&&(t.rtt=e.tests.rtt.median,t.mediaConnectivity=!0),e.tests.throughput&&(t.throughput=e.tests.throughput.average,t.fractionalLoss=Math.max(e.tests.throughput.fractionLostBytes,0),t.mediaConnectivity=!0),e.tests.ice&&(e.tests.ice.relayTcpSuccess||e.tests.ice.relayTlsSuccess||e.tests.ice.relayUdpSuccess)&&(t.mediaConnectivity=!0),t):t};var r=e("../collections/pctmeasurement"),i=e("../utility/registry")},{"../collections/pctmeasurement":28,"../utility/registry":100}],100:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.Registry=void 0;var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=e("../services/clocksync"),o=e("../services/configservice/configservicewrapper"),s=e("../services/authenticator"),c=e("../services/backendlog"),u=e("../services/transmissionmanager"),l=e("./eventmessagebuilder"),f=e("../conference/conferencemanager"),d=e("../utility/credentials"),h=e("../statspipeline/statsadapter"),p=e("../statspipeline/statsparser"),v=e("../statspipeline/statsmonitor"),g=e("../statspipeline/statstransmitter"),y=e("../statspipeline/statsassembler"),m=e("../utility/endpoint"),b=e("../browserapi/battery"),S=e("precalltest"),k=e("../statspipeline/wifistatsexecutor"),w=e("./callbacks"),C=e("../statspipeline/statscallbackbuilder"),_=e("../services/connectionmanager"),T=e("../collections/pctaggregator"),P=e("../services/pctrunnerservice"),E=null,I=null,R=null,O=null,M=null,F=null,j=null,A=null,x=null,D=null,U=null,L=null,B=null,H=null,N=null,V=null,W=null,q=null,G=null,z=null,Q=null,J=null,K=(function(){function e(){r(this,e)}return i(e,null,[{key:"getPCTRunnerService",value:function(){return J||(J=new P.PCTRunnerService),J}},{key:"getPCTAggregator",value:function(){return Q||(Q=new T.PCTAggregator),Q}},{key:"getConferenceManager",value:function(){return V||(V=new f.ConferenceManager),V}},{key:"getStatsCallbackBuilder",value:function(){return G||(G=new C.StatsCallbackBuilder),G}},{key:"getClockSync",value:function(){return I||(I=new a.ClockSync),I}},{key:"getWifiStatsExecutor",value:function(){return W||(W=new k.WifiStatsExecutor),W}},{key:"getAuthenticator",value:function(){return R||(R=new s.Authenticator),R}},{key:"getConfigServiceWrapper",value:function(){return O||(O=new o.ConfigServiceWrapper),O}},{key:"getGenericEventHandler",value:function(){return M||(M=new c.GenericEventHandler).enable(),M}},{key:"getConnectionManager",value:function(){return z||(z=new _.ConnectionManager),z}},{key:"getTransmissionManager",value:function(){return F||(F=new u.TransmissionManager),F}},{key:"getEventMessageBuilder",value:function(){return j||(j=new l.EventMessageBuilder),j}},{key:"getCredentials",value:function(){return A||(A=new d.Credentials),A}},{key:"getEndpoint",value:function(){return x||(x=new m.Endpoint),x}},{key:"getStatsAdapter",value:function(){if(!D){var t=e.getEndpoint().getCodeBase(),n=e.getEndpoint().getBrowserName();D=new h.StatsAdapter(t,n)}return D}},{key:"getPreCallTest",value:function(){return E||(E=new S.PreCallTest),E}},{key:"getStatsParser",value:function(){return U||(U=new p.StatsParser),U}},{key:"getStatsMonitor",value:function(){if(!L){var t=e.getEndpoint().getCodeBase();L=new v.StatsMonitor(t)}return L}},{key:"getStatsTransmitter",value:function(){return B||(B=new g.StatsTransmitter),B}},{key:"getStatsAssembler",value:function(){return H||(H=new y.StatsAssembler),H}},{key:"getBattery",value:function(){return N||(N=new b.Battery),N}},{key:"getCallbacks",value:function(){return q||(q=new w.Callbacks),q}}]),e})();n.Registry=K},{"../browserapi/battery":17,"../collections/pctaggregator":27,"../conference/conferencemanager":34,"../services/authenticator":46,"../services/backendlog":47,"../services/clocksync":48,"../services/configservice/configservicewrapper":52,"../services/connectionmanager":53,"../services/pctrunnerservice":56,"../services/transmissionmanager":59,"../statspipeline/statsadapter":73,"../statspipeline/statsassembler":74,"../statspipeline/statscallbackbuilder":75,"../statspipeline/statsmonitor":76,"../statspipeline/statsparser":77,"../statspipeline/statstransmitter":78,"../statspipeline/wifistatsexecutor":88,"../utility/credentials":91,"../utility/endpoint":93,"./callbacks":90,"./eventmessagebuilder":95,precalltest:2}],101:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.RunningStats=void 0;var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=e("../collections/queue"),o=(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;r(this,e),this.queue=new a.Queue(t),this.cumulativeSum=0}return i(e,[{key:"add",value:function(e){this.cumulativeSum+=e;var t=this.queue.push(e);t&&(this.cumulativeSum-=t)}},{key:"getMean",value:function(){return this.queue.size()<1?null:this.cumulativeSum/this.queue.size()}},{key:"getVariance",value:function(){if(this.queue.size()<2)return null;for(var e=this.getMean(),t=0,n=this.queue.getFront();n;){var r=n,i=r.value-e;t+=i*i,n=r.next}return t/this.queue.size()}},{key:"getStd",value:function(){if(this.queue.size()<2)return null;var e=this.getVariance();return Math.sqrt(e)}},{key:"reset",value:function(){this.cumulativeSum=0,this.queue.clear()}}]),e})();n.RunningStats=o},{"../collections/queue":30}],102:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=(function(){function e(t,n,i){r(this,e),this.max=t,this.midpoint=n,this.stepness=i,this.actualStep=0,this.reset()}return i(e,[{key:"reset",value:function(){this.actualStep=0}},{key:"setMidpoint",value:function(e){this.midpoint=e}},{key:"setMax",value:function(e){this.max=e}},{key:"setStepness",value:function(e){this.stepness=e}},{key:"increaseActualStep",value:function(e){this.actualStep+=e}},{key:"getActual",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.actualStep+=e,this.max/(1+Math.exp(-1*this.stepness*(this.actualStep-this.midpoint)))}}]),e})();n.Sigmoid=a},{}],103:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.TimeoutProcess=void 0;var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("./csiologger")),o=(function(){function e(t){r(this,e),this.interval=t,this.timerId=null,this.callback=function(){a.warn("no callback function set",this)}}return i(e,[{key:"setCallback",value:function(e){this.callback=e}},{key:"start",value:function(){var e=this;this.timerId=setInterval(function(){e.callback()},this.interval)}},{key:"stop",value:function(){clearInterval(this.timerId),this.timerId=null}},{key:"isStarted",value:function(){return null!==this.timerId}}]),e})();n.TimeoutProcess=o},{"./csiologger":92}],104:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getCurrent=function(){return window&&window.performance&&window.performance.now&&window.performance.timing&&window.performance.timing.navigationStart?window.performance.now()+window.performance.timing.navigationStart:Date.now()},n.getSinceOrigin=function(){return window&&window.performance&&window.performance.now?window.performance.now():null}},{}],105:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof("function"==typeof Symbol?Symbol.iterator:"@@iterator")?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==("function"==typeof Symbol?Symbol.prototype:"@@prototype")?"symbol":typeof e},a=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=(function(){function e(t){r(this,e),this.base=t;for(var n=arguments.length,i=Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];this.appendixes=i}return a(e,null,[{key:"concat",value:function(e,t){if(!t)return e;if(!e)return t;var n="/"===e.substr(e.length-1),r="/"===t.substring(0,1);return n||r?n&&r?e+t.substring(1):e+t:e+"/"+t}}]),a(e,[{key:"append",value:function(e){this.appendixes.push(e)}},{key:"toString",value:function(){var t=this.getString(this.base),n=this;return this.appendixes.forEach(function(r){if(null!==r&&void 0!==r){var i=n.getString(r);t=e.concat(t,i)}}),t}},{key:"getString",value:function(e){switch(void 0===e?"undefined":i(e)){case"function":return this.getString(e());case"number":return e+"";case"string":default:return e}}}]),e})();n.Url=o},{}],106:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.normalizeMediaDeviceList=function(e){var t=[];if(!e)return t;for(var n=0;n<e.length;n++){var r={};r.mediaDeviceID=e[n].deviceId,r.groupID=e[n].groupId,r.kind=e[n].kind,r.label=e[n].label,t.push(r)}return t},n.isIntegerPollyfill=function(){Number.isInteger||(Number.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e})},n.assignPollyfill=function(){"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),r=1;r<arguments.length;r++){var i=arguments[r];if(null!=i)for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}return n},writable:!0,configurable:!0})}},{}]},{},[22])},430,[15]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),s=r(d[1]);t.NativeModules.WiFiStats&&((0,s.getJitsiMeetGlobalNS)().getWiFiStats=t.NativeModules.WiFiStats.getWiFiStats)},431,[16,432]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0});var t=r(d[0]);Object.keys(t).forEach(function(n){"default"!==n&&"__esModule"!==n&&Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}})});var n=r(d[1]);Object.keys(n).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}})});var u=r(d[2]);Object.keys(u).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return u[t]}})});var o=r(d[3]);Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}})})},432,[433,434,435,437]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.getJitsiMeetGlobalNS=function(){window.JitsiMeetJS||(window.JitsiMeetJS={});window.JitsiMeetJS.app||(window.JitsiMeetJS.app={});return window.JitsiMeetJS.app},e.assignIfDefined=function(n,t){var o=Object(n);for(var w in t)if(t.hasOwnProperty(w)){var l=t[w];void 0!==l&&(o[w]=l)}return o},e.reportError=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:'';window.onerror&&window.onerror(t,null,null,null,n)};r(d[0]).getLogger(__filename)},433,[392]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.doGetJSON=function(n){return fetch(n).then(function(n){var t=n.json();return n.ok?t:t.then(function(n){return Promise.reject(n)})}).catch(function(n){return Promise.reject(n)})};r(d[0]).getLogger(__filename)},434,[392]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.loadScript=function(n,o){return new Promise(function(u,c){var s=new URL(n),l=s.hostname,f=s.pathname,h=s.protocol;if(l&&f&&h){var p=fetch(n,{method:'GET'});o&&(p=(0,t.timeoutPromise)(p,o)),p.then(function(t){switch(t.status){case 200:return t.responseText||t.text();default:throw t.statusText}}).then(function(t){eval.call(window,t)}).then(u,c)}else c("unexpected url: "+n)})};var t=r(d[0])},435,[436]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.timeoutPromise=function(t,n){return new Promise(function(o,u){var c=setTimeout(function(){return u(new Error('timeout'))},n);t.then(function(t){o(t),clearTimeout(c)},function(t){u(t),clearTimeout(c)})})}},436,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.getLocationContextRoot=h,e.parseStandardURIString=f,e.parseURIString=function(t){if('string'!=typeof t)return;var n=f(s(t));n.contextRoot=h(n);var c=n.pathname,u=c.lastIndexOf('/'),v=c.substring(u+1)||void 0;if(v){var p=o(v);p!==v&&(v=p,n.pathname=c.substring(0,u+1)+(v||''))}return n.room=v,n},e.toURLString=function(t){var n;switch(typeof t){case'object':t&&(n=t instanceof URL?t.href:v(t));break;case'string':n=String(t)}return n},e.urlObjectToString=v,e.URI_PROTOCOL_PATTERN=e.APP_LINK_SCHEME=void 0;r(d[0]).getLogger(__filename);e.APP_LINK_SCHEME='org.jitsi.meet:';var t='[\\:\\?#\\[\\]@!$&\'()*+,;=></"]',n='^([a-z][a-z0-9\\.\\+-]*:)';function o(n){return n?n.replace(new RegExp(t,'g'),''):n}function s(t){var n=new RegExp("^([a-z][a-z0-9\\.\\+-]*:)+",'gi'),o=n.exec(t);if(o){var s=o[o.length-1].toLowerCase();'http:'!==s&&'https:'!==s&&(s='https:'),(t=t.substring(n.lastIndex)).startsWith('//')&&(t=s+t)}return t}function h(t){var n=t.pathname,o=n.lastIndexOf('/');return-1===o?'/':n.substring(0,o+1)}function c(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=[];for(var o in t)try{n.push(o+"="+encodeURIComponent(JSON.stringify(t[o])))}catch(t){}return n}function f(t){var o,s,h,c={toString:u};if(t=t.replace(/\s/g,''),(s=(o=new RegExp(n,'gi')).exec(t))&&(c.protocol=s[1].toLowerCase(),t=t.substring(o.lastIndex)),s=(o=new RegExp("^(//[^/?#]+)",'gi')).exec(t)){var f=s[1].substring(2);t=t.substring(o.lastIndex);var v=f.indexOf('@');-1!==v&&(f=f.substring(v+1)),c.host=f;var p=f.lastIndexOf(':');-1!==p&&(c.port=f.substring(p+1),f=f.substring(0,p)),c.hostname=f}if((s=(o=new RegExp("^([^?#]*)",'gi')).exec(t))&&(h=s[1],t=t.substring(o.lastIndex)),h?h.startsWith('/')||(h="/"+h):h='/',c.pathname=h,t.startsWith('?')){var l=t.indexOf('#',1);-1===l&&(l=t.length),c.search=t.substring(0,l),t=t.substring(l)}else c.search='';return c.hash=t.startsWith('#')?t:'',c}function u(t){var n=t||this,o=n.hash,s=n.host,h=n.pathname,c=n.protocol,f=n.search,u='';return c&&(u+=c),s&&(u+="//"+s),u+=h||'/',f&&(u+=f),o&&(u+=o),u}function v(t){var n=f(s(t.serverURL&&t.room?new URL(t.room,t.serverURL).toString():t.room?t.room:t.url||''));if(!n.protocol){var o=t.protocol||t.scheme;o&&(o.endsWith(':')||(o+=':'),n.protocol=o)}var h=n.pathname;if(!n.host){var u=t.domain||t.host||t.hostname;if(u){var v=f(s("org.jitsi.meet://"+u)),p=v.host,l=v.hostname,x=v.pathname,R=v.port;p&&(n.host=p,n.hostname=l,n.port=R),'/'===h&&'/'!==x&&(h=x)}}var O=t.roomName||t.room;!O||!n.pathname.endsWith('/')&&n.pathname.endsWith("/"+O)||(h.endsWith('/')||(h+='/'),h+=O),n.pathname=h;var b=t.jwt;if(b){var w=n.search;-1===w.indexOf('?jwt=')&&-1===w.indexOf('&jwt=')&&(w.startsWith('?')||(w="?"+w),1===w.length||(w+='&'),w+="jwt="+b,n.search=w)}for(var I=n.hash,_=0,L=['config','interfaceConfig','devices'];_<L.length;_++){var S=L[_],E=c(t[S+"Overwrite"]||t[S]||t[S+"Override"]);if(E.length){var j=S+"."+E.join("&"+S+".");I.length?j="&"+j:I='#',I+=j}}return n.hash=I,n.toString()||void 0}e.URI_PROTOCOL_PATTERN=n},437,[392]);
__d(function(global,_$$_REQUIRE,_$$_IMPORT_DEFAULT,_$$_IMPORT_ALL,module,exports,_dependencyMap){var _extends=_$$_REQUIRE(_dependencyMap[0]),_get=_$$_REQUIRE(_dependencyMap[1]),_slicedToArray=_$$_REQUIRE(_dependencyMap[2]),_defineProperty=_$$_REQUIRE(_dependencyMap[3]),_assertThisInitialized=_$$_REQUIRE(_dependencyMap[4]),_classCallCheck=_$$_REQUIRE(_dependencyMap[5]),_createClass=_$$_REQUIRE(_dependencyMap[6]),_possibleConstructorReturn=_$$_REQUIRE(_dependencyMap[7]),_getPrototypeOf=_$$_REQUIRE(_dependencyMap[8]),_inherits=_$$_REQUIRE(_dependencyMap[9]),_toConsumableArray=_$$_REQUIRE(_dependencyMap[10]),e,t;e=window,t=function(){return(function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&("function"==typeof Symbol?Symbol.toStringTag:"@@toStringTag")&&Object.defineProperty(e,"function"==typeof Symbol?Symbol.toStringTag:"@@toStringTag",{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=134)})([function(e,t){e.exports={ADD_ICE_CANDIDATE_FAILED:"xmpp.add_ice_candidate_failed",AUDIO_MUTED_BY_FOCUS:"xmpp.audio_muted_by_focus",AUTHENTICATION_REQUIRED:"xmpp.authentication_required",BRIDGE_DOWN:"xmpp.bridge_down",CALL_ACCEPTED:"xmpp.callaccepted.jingle",CALL_INCOMING:"xmpp.callincoming.jingle",CALL_ENDED:"xmpp.callended.jingle",CHAT_ERROR_RECEIVED:"xmpp.chat_error_received",CONFERENCE_PROPERTIES_CHANGED:"xmpp.conference_properties_changed",CONNECTION_ESTABLISHED:"xmpp.connection.connected",CONNECTION_FAILED:"xmpp.connection.failed",CONNECTION_INTERRUPTED:"xmpp.connection.interrupted",CONNECTION_RESTORED:"xmpp.connection.restored",CONNECTION_ICE_FAILED:"xmpp.connection.ice.failed",CONNECTION_STATUS_CHANGED:"xmpp.connection.status.changed",DISPLAY_NAME_CHANGED:"xmpp.display_name_changed",EMUC_ROOM_ADDED:"xmpp.emuc_room_added",EMUC_ROOM_REMOVED:"xmpp.emuc_room_removed",ETHERPAD:"xmpp.etherpad",FOCUS_DISCONNECTED:"xmpp.focus_disconnected",FOCUS_LEFT:"xmpp.focus_left",GRACEFUL_SHUTDOWN:"xmpp.graceful_shutdown",ICE_RESTARTING:"rtc.ice_restarting",ICE_RESTART_SUCCESS:"rtc.ice_restart_success",KICKED:"xmpp.kicked",LOCAL_ROLE_CHANGED:"xmpp.localrole_changed",MEETING_ID_SET:"xmpp.meeting_id_set",MESSAGE_RECEIVED:"xmpp.message_received",PRIVATE_MESSAGE_RECEIVED:"xmpp.private_message_received",MUC_MEMBER_BOT_TYPE_CHANGED:"xmpp.muc_member_bot_type_changed",MUC_DESTROYED:"xmpp.muc_destroyed",MUC_JOINED:"xmpp.muc_joined",MUC_MEMBER_JOINED:"xmpp.muc_member_joined",MUC_MEMBER_LEFT:"xmpp.muc_member_left",MUC_LEFT:"xmpp.muc_left",MUC_ROLE_CHANGED:"xmpp.muc_role_changed",MUC_LOCK_CHANGED:"xmpp.muc_lock_changed",PARTICIPANT_AUDIO_MUTED:"xmpp.audio_muted",PARTICIPANT_VIDEO_MUTED:"xmpp.video_muted",PARTICIPANT_VIDEO_TYPE_CHANGED:"xmpp.video_type",PARTCIPANT_FEATURES_CHANGED:"xmpp.partcipant_features_changed",PASSWORD_REQUIRED:"xmpp.password_required",PEERCONNECTION_READY:"xmpp.peerconnection_ready",PHONE_NUMBER_CHANGED:"conference.phoneNumberChanged",PRESENCE_RECEIVED:"xmpp.presence_received",PRESENCE_STATUS:"xmpp.presence_status",PROMPT_FOR_LOGIN:"xmpp.prompt_for_login",READY_TO_JOIN:"xmpp.ready_to_join",RECORDER_STATE_CHANGED:"xmpp.recorderStateChanged",REMOTE_STATS:"xmpp.remote_stats",RENEGOTIATION_FAILED:"xmpp.renegotiation_failed",RESERVATION_ERROR:"xmpp.room_reservation_error",ROOM_CONNECT_ERROR:"xmpp.room_connect_error",ROOM_CONNECT_NOT_ALLOWED_ERROR:"xmpp.room_connect_error.not_allowed",ROOM_JOIN_ERROR:"xmpp.room_join_error",ROOM_MAX_USERS_ERROR:"xmpp.room_max_users_error",SENDING_CHAT_MESSAGE:"xmpp.sending_chat_message",SENDING_PRIVATE_CHAT_MESSAGE:"xmpp.sending_private_chat_message",SESSION_ACCEPT_TIMEOUT:"xmpp.session_accept_timeout",SPEAKER_STATS_RECEIVED:"xmpp.speaker_stats_received",CONFERENCE_TIMESTAMP_RECEIVED:"xmpp.conference_timestamp_received",START_MUTED_FROM_FOCUS:"xmpp.start_muted_from_focus",SUBJECT_CHANGED:"xmpp.subject_changed",SUSPEND_DETECTED:"xmpp.suspend_detected",TRANSCRIPTION_STATUS_CHANGED:"xmpp.transcription_status_changed",TRANSPORT_INFO:"xmpp.transportinfo.jingle",VIDEO_SIP_GW_AVAILABILITY_CHANGED:"xmpp.videoSIPGWAvailabilityChanged",VIDEO_SIP_GW_SESSION_STATE_CHANGED:"xmpp.videoSIPGWSessionStateChanged",ICE_CONNECTION_STATE_CHANGED:"xmpp.ice_connection_state_changed",JSON_MESSAGE_RECEIVED:"xmmp.json_message_received"}},function(e,t,n){"use strict";var i=n(76);t.a=new i.a},function(e,t,n){(function(t){var n;n=function(){"use strict";var e=void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof("function"==typeof Symbol?Symbol.iterator:"@@iterator")?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==("function"==typeof Symbol?Symbol.prototype:"@@prototype")?"symbol":typeof e})(e)}function i(e){return(function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}})(e)||(function(e){if(("function"==typeof Symbol?Symbol.iterator:"@@iterator")in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)})(e)||(function(){throw new TypeError("Invalid attempt to spread non-iterable instance")})()}var r=function(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n},o=function(e){if("string"!=typeof e)throw new Error("str2binl was passed a non-string");for(var t=[],n=0;n<8*e.length;n+=8)t[n>>5]|=(255&e.charCodeAt(n/8))<<n%32;return t},a=function(e,t,n,i,o,a){return r((s=r(r(t,e),r(i,a)))<<(c=o)|s>>>32-c,n);var s,c},s=function(e,t,n,i,r,o,s){return a(t&n|~t&i,e,t,r,o,s)},c=function(e,t,n,i,r,o,s){return a(t&i|n&~i,e,t,r,o,s)},u=function(e,t,n,i,r,o,s){return a(t^n^i,e,t,r,o,s)},d=function(e,t,n,i,r,o,s){return a(n^(t|~i),e,t,r,o,s)},l=function(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var n,i,o,a,l=1732584193,h=-271733879,p=-1732584194,f=271733878,m=0;m<e.length;m+=16)n=l,i=h,o=p,a=f,l=s(l,h,p,f,e[m+0],7,-680876936),f=s(f,l,h,p,e[m+1],12,-389564586),p=s(p,f,l,h,e[m+2],17,606105819),h=s(h,p,f,l,e[m+3],22,-1044525330),l=s(l,h,p,f,e[m+4],7,-176418897),f=s(f,l,h,p,e[m+5],12,1200080426),p=s(p,f,l,h,e[m+6],17,-1473231341),h=s(h,p,f,l,e[m+7],22,-45705983),l=s(l,h,p,f,e[m+8],7,1770035416),f=s(f,l,h,p,e[m+9],12,-1958414417),p=s(p,f,l,h,e[m+10],17,-42063),h=s(h,p,f,l,e[m+11],22,-1990404162),l=s(l,h,p,f,e[m+12],7,1804603682),f=s(f,l,h,p,e[m+13],12,-40341101),p=s(p,f,l,h,e[m+14],17,-1502002290),h=s(h,p,f,l,e[m+15],22,1236535329),l=c(l,h,p,f,e[m+1],5,-165796510),f=c(f,l,h,p,e[m+6],9,-1069501632),p=c(p,f,l,h,e[m+11],14,643717713),h=c(h,p,f,l,e[m+0],20,-373897302),l=c(l,h,p,f,e[m+5],5,-701558691),f=c(f,l,h,p,e[m+10],9,38016083),p=c(p,f,l,h,e[m+15],14,-660478335),h=c(h,p,f,l,e[m+4],20,-405537848),l=c(l,h,p,f,e[m+9],5,568446438),f=c(f,l,h,p,e[m+14],9,-1019803690),p=c(p,f,l,h,e[m+3],14,-187363961),h=c(h,p,f,l,e[m+8],20,1163531501),l=c(l,h,p,f,e[m+13],5,-1444681467),f=c(f,l,h,p,e[m+2],9,-51403784),p=c(p,f,l,h,e[m+7],14,1735328473),h=c(h,p,f,l,e[m+12],20,-1926607734),l=u(l,h,p,f,e[m+5],4,-378558),f=u(f,l,h,p,e[m+8],11,-2022574463),p=u(p,f,l,h,e[m+11],16,1839030562),h=u(h,p,f,l,e[m+14],23,-35309556),l=u(l,h,p,f,e[m+1],4,-1530992060),f=u(f,l,h,p,e[m+4],11,1272893353),p=u(p,f,l,h,e[m+7],16,-155497632),h=u(h,p,f,l,e[m+10],23,-1094730640),l=u(l,h,p,f,e[m+13],4,681279174),f=u(f,l,h,p,e[m+0],11,-358537222),p=u(p,f,l,h,e[m+3],16,-722521979),h=u(h,p,f,l,e[m+6],23,76029189),l=u(l,h,p,f,e[m+9],4,-640364487),f=u(f,l,h,p,e[m+12],11,-421815835),p=u(p,f,l,h,e[m+15],16,530742520),h=u(h,p,f,l,e[m+2],23,-995338651),l=d(l,h,p,f,e[m+0],6,-198630844),f=d(f,l,h,p,e[m+7],10,1126891415),p=d(p,f,l,h,e[m+14],15,-1416354905),h=d(h,p,f,l,e[m+5],21,-57434055),l=d(l,h,p,f,e[m+12],6,1700485571),f=d(f,l,h,p,e[m+3],10,-1894986606),p=d(p,f,l,h,e[m+10],15,-1051523),h=d(h,p,f,l,e[m+1],21,-2054922799),l=d(l,h,p,f,e[m+8],6,1873313359),f=d(f,l,h,p,e[m+15],10,-30611744),p=d(p,f,l,h,e[m+6],15,-1560198380),h=d(h,p,f,l,e[m+13],21,1309151649),l=d(l,h,p,f,e[m+4],6,-145523070),f=d(f,l,h,p,e[m+11],10,-1120210379),p=d(p,f,l,h,e[m+2],15,718787259),h=d(h,p,f,l,e[m+9],21,-343485551),l=r(l,n),h=r(h,i),p=r(p,o),f=r(f,a);return[l,h,p,f]},h={hexdigest:function(e){return(function(e){for(var t="",n=0;n<4*e.length;n++)t+="0123456789abcdef".charAt(e[n>>2]>>n%4*8+4&15)+"0123456789abcdef".charAt(e[n>>2]>>n%4*8&15);return t})(l(o(e),8*e.length))},hash:function(e){return(function(e){for(var t="",n=0;n<32*e.length;n+=8)t+=String.fromCharCode(e[n>>5]>>>n%32&255);return t})(l(o(e),8*e.length))}};function p(e,t){e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;var n,i,r,o,a,s,c,u,d=new Array(80),l=1732584193,h=-271733879,p=-1732584194,v=271733878,_=-1009589776;for(n=0;n<e.length;n+=16){for(o=l,a=h,s=p,c=v,u=_,i=0;i<80;i++)d[i]=i<16?e[n+i]:y(d[i-3]^d[i-8]^d[i-14]^d[i-16],1),r=g(g(y(l,5),f(i,h,p,v)),g(g(_,d[i]),m(i))),_=v,v=p,p=y(h,30),h=l,l=r;l=g(l,o),h=g(h,a),p=g(p,s),v=g(v,c),_=g(_,u)}return[l,h,p,v,_]}function f(e,t,n,i){return e<20?t&n|~t&i:e<40?t^n^i:e<60?t&n|t&i|n&i:t^n^i}function m(e){return e<20?1518500249:e<40?1859775393:e<60?-1894007588:-899497514}function v(e,t){var n=_(e);n.length>16&&(n=p(n,8*e.length));for(var i=new Array(16),r=new Array(16),o=0;o<16;o++)i[o]=909522486^n[o],r[o]=1549556828^n[o];var a=p(i.concat(_(t)),512+8*t.length);return p(r.concat(a),672)}function g(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function y(e,t){return e<<t|e>>>32-t}function _(e){for(var t=[],n=0;n<8*e.length;n+=8)t[n>>5]|=(255&e.charCodeAt(n/8))<<24-n%32;return t}function S(e){for(var t,n,i="",r=0;r<4*e.length;r+=3)for(t=(e[r>>2]>>8*(3-r%4)&255)<<16|(e[r+1>>2]>>8*(3-(r+1)%4)&255)<<8|e[r+2>>2]>>8*(3-(r+2)%4)&255,n=0;n<4;n++)8*r+6*n>32*e.length?i+="=":i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(t>>6*(3-n)&63);return i}function E(e){for(var t="",n=0;n<32*e.length;n+=8)t+=String.fromCharCode(e[n>>5]>>>24-n%32&255);return t}var b={b64_hmac_sha1:function(e,t){return S(v(e,t))},b64_sha1:function(e){return S(p(_(e),8*e.length))},binb2str:E,core_hmac_sha1:v,str_hmac_sha1:function(e,t){return E(v(e,t))},str_sha1:function(e){return E(p(_(e),8*e.length))}},C=function(e){var t,n,i="",r=e.length;for(t=0;t<r;t++)(n=e.charCodeAt(t))>=0&&n<=127?i+=e.charAt(t):n>2047?(i+=String.fromCharCode(224|n>>12&15),i+=String.fromCharCode(128|n>>6&63),i+=String.fromCharCode(128|n>>0&63)):(i+=String.fromCharCode(192|n>>6&31),i+=String.fromCharCode(128|n>>0&63));return i},T=function(e){for(var t in e=e||{})if(Object.prototype.hasOwnProperty.call(e,t)){var i="",r="",o="",a=e[t],s="object"===n(a),c=escape(unescape(s?a.value:a));s&&(i=a.expires?";expires="+a.expires:"",r=a.domain?";domain="+a.domain:"",o=a.path?";path="+a.path:""),document.cookie=t+"="+c+i+r+o}};function A(e,t){return new w.Builder(e,t)}function R(e){return new w.Builder("iq",e)}function k(e){return new w.Builder("presence",e)}var w={VERSION:"@VERSION@",NS:{HTTPBIND:"http://jabber.org/protocol/httpbind",BOSH:"urn:xmpp:xbosh",CLIENT:"jabber:client",AUTH:"jabber:iq:auth",ROSTER:"jabber:iq:roster",PROFILE:"jabber:iq:profile",DISCO_INFO:"http://jabber.org/protocol/disco#info",DISCO_ITEMS:"http://jabber.org/protocol/disco#items",MUC:"http://jabber.org/protocol/muc",SASL:"urn:ietf:params:xml:ns:xmpp-sasl",STREAM:"http://etherx.jabber.org/streams",FRAMING:"urn:ietf:params:xml:ns:xmpp-framing",BIND:"urn:ietf:params:xml:ns:xmpp-bind",SESSION:"urn:ietf:params:xml:ns:xmpp-session",VERSION:"jabber:iq:version",STANZAS:"urn:ietf:params:xml:ns:xmpp-stanzas",XHTML_IM:"http://jabber.org/protocol/xhtml-im",XHTML:"http://www.w3.org/1999/xhtml"},XHTML:{tags:["a","blockquote","br","cite","em","img","li","ol","p","span","strong","ul","body"],attributes:{a:["href"],blockquote:["style"],br:[],cite:["style"],em:[],img:["src","alt","style","height","width"],li:["style"],ol:["style"],p:["style"],span:["style"],strong:[],ul:["style"],body:[]},css:["background-color","color","font-family","font-size","font-style","font-weight","margin-left","margin-right","text-align","text-decoration"],validTag:function(e){for(var t=0;t<w.XHTML.tags.length;t++)if(e===w.XHTML.tags[t])return!0;return!1},validAttribute:function(e,t){if(void 0!==w.XHTML.attributes[e]&&w.XHTML.attributes[e].length>0)for(var n=0;n<w.XHTML.attributes[e].length;n++)if(t===w.XHTML.attributes[e][n])return!0;return!1},validCSS:function(e){for(var t=0;t<w.XHTML.css.length;t++)if(e===w.XHTML.css[t])return!0;return!1}},Status:{ERROR:0,CONNECTING:1,CONNFAIL:2,AUTHENTICATING:3,AUTHFAIL:4,CONNECTED:5,DISCONNECTED:6,DISCONNECTING:7,ATTACHED:8,REDIRECT:9,CONNTIMEOUT:10,BINDREQUIRED:11},ErrorCondition:{BAD_FORMAT:"bad-format",CONFLICT:"conflict",MISSING_JID_NODE:"x-strophe-bad-non-anon-jid",NO_AUTH_MECH:"no-auth-mech",UNKNOWN_REASON:"unknown"},LogLevel:{DEBUG:0,INFO:1,WARN:2,ERROR:3,FATAL:4},ElementType:{NORMAL:1,TEXT:3,CDATA:4,FRAGMENT:11},TIMEOUT:1.1,SECONDARY_TIMEOUT:.1,addNamespace:function(e,t){w.NS[e]=t},forEachChild:function(e,t,n){for(var i=0;i<e.childNodes.length;i++){var r=e.childNodes[i];r.nodeType!==w.ElementType.NORMAL||t&&!this.isTagEqual(r,t)||n(r)}},isTagEqual:function(e,t){return e.tagName===t},_xmlGenerator:null,_makeGenerator:function(){var e;return void 0===document.implementation.createDocument||document.implementation.createDocument&&document.documentMode&&document.documentMode<10?(e=this._getIEXmlDom()).appendChild(e.createElement("strophe")):e=document.implementation.createDocument("jabber:client","strophe",null),e},xmlGenerator:function(){return w._xmlGenerator||(w._xmlGenerator=w._makeGenerator()),w._xmlGenerator},_getIEXmlDom:function(){for(var e=null,t=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.5.0","Msxml2.DOMDocument.4.0","MSXML2.DOMDocument.3.0","MSXML2.DOMDocument","MSXML.DOMDocument","Microsoft.XMLDOM"],n=0;n<t.length&&null===e;n++)try{e=new ActiveXObject(t[n])}catch(t){e=null}return e},xmlElement:function(e){if(!e)return null;for(var t=w.xmlGenerator().createElement(e),i=1;i<arguments.length;i++){var r=arguments[i];if(r)if("string"==typeof r||"number"==typeof r)t.appendChild(w.xmlTextNode(r));else if("object"===n(r)&&"function"==typeof r.sort)for(var o=0;o<r.length;o++){var a=r[o];"object"===n(a)&&"function"==typeof a.sort&&void 0!==a[1]&&null!==a[1]&&t.setAttribute(a[0],a[1])}else if("object"===n(r))for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&void 0!==r[s]&&null!==r[s]&&t.setAttribute(s,r[s])}return t},xmlescape:function(e){return(e=(e=(e=(e=e.replace(/\&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")).replace(/'/g,"&apos;")).replace(/"/g,"&quot;")},xmlunescape:function(e){return(e=(e=(e=(e=e.replace(/\&amp;/g,"&")).replace(/&lt;/g,"<")).replace(/&gt;/g,">")).replace(/&apos;/g,"'")).replace(/&quot;/g,'"')},xmlTextNode:function(e){return w.xmlGenerator().createTextNode(e)},xmlHtmlNode:function(e){var t;return DOMParser?t=(new DOMParser).parseFromString(e,"text/xml"):((t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e)),t},getText:function(e){if(!e)return null;var t="";0===e.childNodes.length&&e.nodeType===w.ElementType.TEXT&&(t+=e.nodeValue);for(var n=0;n<e.childNodes.length;n++)e.childNodes[n].nodeType===w.ElementType.TEXT&&(t+=e.childNodes[n].nodeValue);return w.xmlescape(t)},copyElement:function(e){var t;if(e.nodeType===w.ElementType.NORMAL){t=w.xmlElement(e.tagName);for(var n=0;n<e.attributes.length;n++)t.setAttribute(e.attributes[n].nodeName,e.attributes[n].value);for(var i=0;i<e.childNodes.length;i++)t.appendChild(w.copyElement(e.childNodes[i]))}else e.nodeType===w.ElementType.TEXT&&(t=w.xmlGenerator().createTextNode(e.nodeValue));return t},createHtml:function(e){var t;if(e.nodeType===w.ElementType.NORMAL){var i=e.nodeName.toLowerCase();if(w.XHTML.validTag(i))try{t=w.xmlElement(i);for(var r=0;r<w.XHTML.attributes[i].length;r++){var o=w.XHTML.attributes[i][r],a=e.getAttribute(o);if(null!=a&&""!==a&&!1!==a&&0!==a)if("style"===o&&"object"===n(a)&&void 0!==a.cssText&&(a=a.cssText),"style"===o){for(var s=[],c=a.split(";"),u=0;u<c.length;u++){var d=c[u].split(":"),l=d[0].replace(/^\s*/,"").replace(/\s*$/,"").toLowerCase();if(w.XHTML.validCSS(l)){var h=d[1].replace(/^\s*/,"").replace(/\s*$/,"");s.push(l+": "+h)}}s.length>0&&(a=s.join("; "),t.setAttribute(o,a))}else t.setAttribute(o,a)}for(var p=0;p<e.childNodes.length;p++)t.appendChild(w.createHtml(e.childNodes[p]))}catch(e){t=w.xmlTextNode("")}else{t=w.xmlGenerator().createDocumentFragment();for(var f=0;f<e.childNodes.length;f++)t.appendChild(w.createHtml(e.childNodes[f]))}}else if(e.nodeType===w.ElementType.FRAGMENT){t=w.xmlGenerator().createDocumentFragment();for(var m=0;m<e.childNodes.length;m++)t.appendChild(w.createHtml(e.childNodes[m]))}else e.nodeType===w.ElementType.TEXT&&(t=w.xmlTextNode(e.nodeValue));return t},escapeNode:function(e){return"string"!=typeof e?e:e.replace(/^\s+|\s+$/g,"").replace(/\\/g,"\\5c").replace(/ /g,"\\20").replace(/\"/g,"\\22").replace(/\&/g,"\\26").replace(/\'/g,"\\27").replace(/\//g,"\\2f").replace(/:/g,"\\3a").replace(/</g,"\\3c").replace(/>/g,"\\3e").replace(/@/g,"\\40")},unescapeNode:function(e){return"string"!=typeof e?e:e.replace(/\\20/g," ").replace(/\\22/g,'"').replace(/\\26/g,"&").replace(/\\27/g,"'").replace(/\\2f/g,"/").replace(/\\3a/g,":").replace(/\\3c/g,"<").replace(/\\3e/g,">").replace(/\\40/g,"@").replace(/\\5c/g,"\\")},getNodeFromJid:function(e){return e.indexOf("@")<0?null:e.split("@")[0]},getDomainFromJid:function(e){var t=w.getBareJidFromJid(e);if(t.indexOf("@")<0)return t;var n=t.split("@");return n.splice(0,1),n.join("@")},getResourceFromJid:function(e){if(!e)return null;var t=e.split("/");return t.length<2?null:(t.splice(0,1),t.join("/"))},getBareJidFromJid:function(e){return e?e.split("/")[0]:null},_handleError:function(e){void 0!==e.stack&&w.fatal(e.stack),e.sourceURL?w.fatal("error: "+this.handler+" "+e.sourceURL+":"+e.line+" - "+e.name+": "+e.message):e.fileName?w.fatal("error: "+this.handler+" "+e.fileName+":"+e.lineNumber+" - "+e.name+": "+e.message):w.fatal("error: "+e.message)},log:function(e,t){e===this.LogLevel.FATAL&&"object"===n(window.console)&&"function"==typeof window.console.error&&window.console.error(t)},debug:function(e){this.log(this.LogLevel.DEBUG,e)},info:function(e){this.log(this.LogLevel.INFO,e)},warn:function(e){this.log(this.LogLevel.WARN,e)},error:function(e){this.log(this.LogLevel.ERROR,e)},fatal:function(e){this.log(this.LogLevel.FATAL,e)},serialize:function(e){if(!e)return null;"function"==typeof e.tree&&(e=e.tree());var t=i(Array(e.attributes.length).keys()).map(function(t){return e.attributes[t].nodeName});t.sort();var n=t.reduce(function(t,n){return"".concat(t," ").concat(n,'="').concat(w.xmlescape(e.attributes.getNamedItem(n).value),'"')},"<".concat(e.nodeName));if(e.childNodes.length>0){n+=">";for(var r=0;r<e.childNodes.length;r++){var o=e.childNodes[r];switch(o.nodeType){case w.ElementType.NORMAL:n+=w.serialize(o);break;case w.ElementType.TEXT:n+=w.xmlescape(o.nodeValue);break;case w.ElementType.CDATA:n+="<![CDATA["+o.nodeValue+"]]>"}}n+="</"+e.nodeName+">"}else n+="/>";return n},_requestId:0,_connectionPlugins:{},addConnectionPlugin:function(e,t){w._connectionPlugins[e]=t},Builder:function(e,t){"presence"!==e&&"message"!==e&&"iq"!==e||(t&&!t.xmlns?t.xmlns=w.NS.CLIENT:t||(t={xmlns:w.NS.CLIENT})),this.nodeTree=w.xmlElement(e,t),this.node=this.nodeTree}};w.Builder.prototype={tree:function(){return this.nodeTree},toString:function(){return w.serialize(this.nodeTree)},up:function(){return this.node=this.node.parentNode,this},root:function(){return this.node=this.nodeTree,this},attrs:function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(void 0===e[t]?this.node.removeAttribute(t):this.node.setAttribute(t,e[t]));return this},c:function(e,t,n){var i=w.xmlElement(e,t,n);return this.node.appendChild(i),"string"!=typeof n&&"number"!=typeof n&&(this.node=i),this},cnode:function(e){var t,n=w.xmlGenerator();try{t=void 0!==n.importNode}catch(e){t=!1}var i=t?n.importNode(e,!0):w.copyElement(e);return this.node.appendChild(i),this.node=i,this},t:function(e){var t=w.xmlTextNode(e);return this.node.appendChild(t),this},h:function(e){var t=document.createElement("body");t.innerHTML=e;for(var n=w.createHtml(t);n.childNodes.length>0;)this.node.appendChild(n.childNodes[0]);return this}},w.Handler=function(e,t,n,i,r,o,a){this.handler=e,this.ns=t,this.name=n,this.type=i,this.id=r,this.options=a||{matchBareFromJid:!1,ignoreNamespaceFragment:!1},this.options.matchBare&&(w.warn('The "matchBare" option is deprecated, use "matchBareFromJid" instead.'),this.options.matchBareFromJid=this.options.matchBare,delete this.options.matchBare),this.options.matchBareFromJid?this.from=o?w.getBareJidFromJid(o):null:this.from=o,this.user=!0},w.Handler.prototype={getNamespace:function(e){var t=e.getAttribute("xmlns");return t&&this.options.ignoreNamespaceFragment&&(t=t.split("#")[0]),t},namespaceMatch:function(e){var t=this,n=!1;return!this.ns||(w.forEachChild(e,null,function(e){t.getNamespace(e)===t.ns&&(n=!0)}),n||this.getNamespace(e)===this.ns)},isMatch:function(e){var t=e.getAttribute("from");this.options.matchBareFromJid&&(t=w.getBareJidFromJid(t));var n=e.getAttribute("type");return!(!this.namespaceMatch(e)||this.name&&!w.isTagEqual(e,this.name)||this.type&&(Array.isArray(this.type)?-1===this.type.indexOf(n):n!==this.type)||this.id&&e.getAttribute("id")!==this.id||this.from&&t!==this.from)},run:function(e){var t=null;try{t=this.handler(e)}catch(e){throw w._handleError(e),e}return t},toString:function(){return"{Handler: "+this.handler+"("+this.name+","+this.id+","+this.ns+")}"}},w.TimedHandler=function(e,t){this.period=e,this.handler=t,this.lastCalled=(new Date).getTime(),this.user=!0},w.TimedHandler.prototype={run:function(){return this.lastCalled=(new Date).getTime(),this.handler()},reset:function(){this.lastCalled=(new Date).getTime()},toString:function(){return"{TimedHandler: "+this.handler+"("+this.period+")}"}},w.Connection=function(e,t){var n=this;this.service=e,this.options=t||{};var i=this.options.protocol||"";for(var r in 0===e.indexOf("ws:")||0===e.indexOf("wss:")||0===i.indexOf("ws")?this._proto=new w.Websocket(this):this._proto=new w.Bosh(this),this.jid="",this.domain=null,this.features=null,this._sasl_data={},this.do_session=!1,this.do_bind=!1,this.timedHandlers=[],this.handlers=[],this.removeTimeds=[],this.removeHandlers=[],this.addTimeds=[],this.addHandlers=[],this.protocolErrorHandlers={HTTP:{},websocket:{}},this._idleTimeout=null,this._disconnectTimeout=null,this.authenticated=!1,this.connected=!1,this.disconnecting=!1,this.do_authentication=!0,this.paused=!1,this.restored=!1,this._data=[],this._uniqueId=0,this._sasl_success_handler=null,this._sasl_failure_handler=null,this._sasl_challenge_handler=null,this.maxRetries=5,this._idleTimeout=setTimeout(function(){return n._onIdle()},100),T(this.options.cookies),this.registerSASLMechanisms(this.options.mechanisms),w._connectionPlugins)if(Object.prototype.hasOwnProperty.call(w._connectionPlugins,r)){var o=function(){};o.prototype=w._connectionPlugins[r],this[r]=new o,this[r].init(this)}},w.Connection.prototype={reset:function(){this._proto._reset(),this.do_session=!1,this.do_bind=!1,this.timedHandlers=[],this.handlers=[],this.removeTimeds=[],this.removeHandlers=[],this.addTimeds=[],this.addHandlers=[],this.authenticated=!1,this.connected=!1,this.disconnecting=!1,this.restored=!1,this._data=[],this._requests=[],this._uniqueId=0},pause:function(){this.paused=!0},resume:function(){this.paused=!1},getUniqueId:function(e){var t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)});return"string"==typeof e||"number"==typeof e?t+":"+e:t+""},addProtocolErrorHandler:function(e,t,n){this.protocolErrorHandlers[e][t]=n},connect:function(e,t,n,i,r,o,a){this.jid=e,this.authzid=w.getBareJidFromJid(this.jid),this.authcid=a||w.getNodeFromJid(this.jid),this.pass=t,this.servtype="xmpp",this.connect_callback=n,this.disconnecting=!1,this.connected=!1,this.authenticated=!1,this.restored=!1,this.domain=w.getDomainFromJid(this.jid),this._changeConnectStatus(w.Status.CONNECTING,null),this._proto._connect(i,r,o)},attach:function(e,t,n,i,r,o,a){if(!(this._proto instanceof w.Bosh)){var s=new Error('The "attach" method can only be used with a BOSH connection.');throw s.name="StropheSessionError",s}this._proto._attach(e,t,n,i,r,o,a)},restore:function(e,t,n,i,r){if(!this._sessionCachingSupported()){var o=new Error('The "restore" method can only be used with a BOSH connection.');throw o.name="StropheSessionError",o}this._proto._restore(e,t,n,i,r)},_sessionCachingSupported:function(){if(this._proto instanceof w.Bosh){if(!JSON)return!1;try{sessionStorage.setItem("_strophe_","_strophe_"),sessionStorage.removeItem("_strophe_")}catch(e){return!1}return!0}return!1},xmlInput:function(e){},xmlOutput:function(e){},rawInput:function(e){},rawOutput:function(e){},nextValidRid:function(e){},send:function(e){if(null!==e){if("function"==typeof e.sort)for(var t=0;t<e.length;t++)this._queueData(e[t]);else"function"==typeof e.tree?this._queueData(e.tree()):this._queueData(e);this._proto._send()}},flush:function(){clearTimeout(this._idleTimeout),this._onIdle()},sendPresence:function(e,t,n,i){var r=this,o=null;"function"==typeof e.tree&&(e=e.tree());var a=e.getAttribute("id");if(a||(a=this.getUniqueId("sendPresence"),e.setAttribute("id",a)),"function"==typeof t||"function"==typeof n){var s=this.addHandler(function(e){o&&r.deleteTimedHandler(o),"error"===e.getAttribute("type")?n&&n(e):t&&t(e)},null,"presence",null,a);i&&(o=this.addTimedHandler(i,function(){return r.deleteHandler(s),n&&n(null),!1}))}return this.send(e),a},sendIQ:function(e,t,n,i){var r=this,o=null;"function"==typeof e.tree&&(e=e.tree());var a=e.getAttribute("id");if(a||(a=this.getUniqueId("sendIQ"),e.setAttribute("id",a)),"function"==typeof t||"function"==typeof n){var s=this.addHandler(function(e){o&&r.deleteTimedHandler(o);var i=e.getAttribute("type");if("result"===i)t&&t(e);else{if("error"!==i){var a=new Error("Got bad IQ type of ".concat(i));throw a.name="StropheError",a}n&&n(e)}},null,"iq",["error","result"],a);i&&(o=this.addTimedHandler(i,function(){return r.deleteHandler(s),n&&n(null),!1}))}return this.send(e),a},_queueData:function(e){if(null===e||!e.tagName||!e.childNodes){var t=new Error("Cannot queue non-DOMElement.");throw t.name="StropheError",t}this._data.push(e)},_sendRestart:function(){var e=this;this._data.push("restart"),this._proto._sendRestart(),this._idleTimeout=setTimeout(function(){return e._onIdle()},100)},addTimedHandler:function(e,t){var n=new w.TimedHandler(e,t);return this.addTimeds.push(n),n},deleteTimedHandler:function(e){this.removeTimeds.push(e)},addHandler:function(e,t,n,i,r,o,a){var s=new w.Handler(e,t,n,i,r,o,a);return this.addHandlers.push(s),s},deleteHandler:function(e){this.removeHandlers.push(e);var t=this.addHandlers.indexOf(e);t>=0&&this.addHandlers.splice(t,1)},registerSASLMechanisms:function(e){this.mechanisms={},(e=e||[w.SASLAnonymous,w.SASLExternal,w.SASLMD5,w.SASLOAuthBearer,w.SASLXOAuth2,w.SASLPlain,w.SASLSHA1]).forEach(this.registerSASLMechanism.bind(this))},registerSASLMechanism:function(e){this.mechanisms[e.prototype.name]=e},disconnect:function(e){if(this._changeConnectStatus(w.Status.DISCONNECTING,e),w.warn("Disconnect was called because: "+e),this.connected){var t=!1;this.disconnecting=!0,this.authenticated&&(t=k({xmlns:w.NS.CLIENT,type:"unavailable"})),this._disconnectTimeout=this._addSysTimedHandler(3e3,this._onDisconnectTimeout.bind(this)),this._proto._disconnect(t)}else w.warn("Disconnect was called before Strophe connected to the server"),this._proto._abortAllRequests(),this._doDisconnect()},_changeConnectStatus:function(e,t,n){for(var i in w._connectionPlugins)if(Object.prototype.hasOwnProperty.call(w._connectionPlugins,i)){var r=this[i];if(r.statusChanged)try{r.statusChanged(e,t)}catch(e){w.error("".concat(i," plugin caused an exception changing status: ").concat(e))}}if(this.connect_callback)try{this.connect_callback(e,t,n)}catch(e){w._handleError(e),w.error("User connection callback caused an exception: ".concat(e))}},_doDisconnect:function(e){"number"==typeof this._idleTimeout&&clearTimeout(this._idleTimeout),null!==this._disconnectTimeout&&(this.deleteTimedHandler(this._disconnectTimeout),this._disconnectTimeout=null),w.debug("_doDisconnect was called"),this._proto._doDisconnect(),this.authenticated=!1,this.disconnecting=!1,this.restored=!1,this.handlers=[],this.timedHandlers=[],this.removeTimeds=[],this.removeHandlers=[],this.addTimeds=[],this.addHandlers=[],this._changeConnectStatus(w.Status.DISCONNECTED,e),this.connected=!1},_dataRecv:function(e,t){var n=this;w.debug("_dataRecv called");var i=this._proto._reqToData(e);if(null!==i){for(this.xmlInput!==w.Connection.prototype.xmlInput&&(i.nodeName===this._proto.strip&&i.childNodes.length?this.xmlInput(i.childNodes[0]):this.xmlInput(i)),this.rawInput!==w.Connection.prototype.rawInput&&(t?this.rawInput(t):this.rawInput(w.serialize(i)));this.removeHandlers.length>0;){var r=this.removeHandlers.pop(),o=this.handlers.indexOf(r);o>=0&&this.handlers.splice(o,1)}for(;this.addHandlers.length>0;)this.handlers.push(this.addHandlers.pop());if(this.disconnecting&&this._proto._emptyQueue())this._doDisconnect();else{var a=i.getAttribute("type");if(null!==a&&"terminate"===a){if(this.disconnecting)return;var s=i.getAttribute("condition"),c=i.getElementsByTagName("conflict");return null!==s?("remote-stream-error"===s&&c.length>0&&(s="conflict"),this._changeConnectStatus(w.Status.CONNFAIL,s)):this._changeConnectStatus(w.Status.CONNFAIL,w.ErrorCondition.UNKOWN_REASON),void this._doDisconnect(s)}w.forEachChild(i,null,function(e){var t=n.handlers;n.handlers=[];for(var i=0;i<t.length;i++){var r=t[i];try{!r.isMatch(e)||!n.authenticated&&r.user?n.handlers.push(r):r.run(e)&&n.handlers.push(r)}catch(e){w.warn("Removing Strophe handlers due to uncaught exception: "+e.message)}}})}}},mechanisms:{},_connect_cb:function(e,t,n){var i;w.debug("_connect_cb was called"),this.connected=!0;try{i=this._proto._reqToData(e)}catch(e){if(e.name!==w.ErrorCondition.BAD_FORMAT)throw e;this._changeConnectStatus(w.Status.CONNFAIL,w.ErrorCondition.BAD_FORMAT),this._doDisconnect(w.ErrorCondition.BAD_FORMAT)}if(i&&(this.xmlInput!==w.Connection.prototype.xmlInput&&(i.nodeName===this._proto.strip&&i.childNodes.length?this.xmlInput(i.childNodes[0]):this.xmlInput(i)),this.rawInput!==w.Connection.prototype.rawInput&&(n?this.rawInput(n):this.rawInput(w.serialize(i))),this._proto._connect_cb(i)!==w.Status.CONNFAIL))if(i.getElementsByTagNameNS?i.getElementsByTagNameNS(w.NS.STREAM,"features").length>0:i.getElementsByTagName("stream:features").length>0||i.getElementsByTagName("features").length>0){var r=[],o=i.getElementsByTagName("mechanism");if(o.length>0)for(var a=0;a<o.length;a++){var s=w.getText(o[a]);this.mechanisms[s]&&r.push(this.mechanisms[s])}0!==r.length||0!==i.getElementsByTagName("auth").length?!1!==this.do_authentication&&this.authenticate(r):this._proto._no_auth_received(t)}else this._proto._no_auth_received(t)},sortMechanismsByPriority:function(e){for(var t=0;t<e.length-1;++t){for(var n=t,i=t+1;i<e.length;++i)e[i].prototype.priority>e[n].prototype.priority&&(n=i);if(n!==t){var r=e[t];e[t]=e[n],e[n]=r}}return e},authenticate:function(e){this._attemptSASLAuth(e)||this._attemptLegacyAuth()},_attemptSASLAuth:function(e){e=this.sortMechanismsByPriority(e||[]);for(var t=!1,n=0;n<e.length;++n)if(e[n].prototype.test(this)){this._sasl_success_handler=this._addSysHandler(this._sasl_success_cb.bind(this),null,"success",null,null),this._sasl_failure_handler=this._addSysHandler(this._sasl_failure_cb.bind(this),null,"failure",null,null),this._sasl_challenge_handler=this._addSysHandler(this._sasl_challenge_cb.bind(this),null,"challenge",null,null),this._sasl_mechanism=new e[n],this._sasl_mechanism.onStart(this);var i=A("auth",{xmlns:w.NS.SASL,mechanism:this._sasl_mechanism.name});if(this._sasl_mechanism.isClientFirst){var r=this._sasl_mechanism.onChallenge(this,null);i.t(btoa(r))}this.send(i.tree()),t=!0;break}return t},_sasl_challenge_cb:function(e){var t=atob(w.getText(e)),n=this._sasl_mechanism.onChallenge(this,t),i=A("response",{xmlns:w.NS.SASL});return""!==n&&i.t(btoa(n)),this.send(i.tree()),!0},_attemptLegacyAuth:function(){null===w.getNodeFromJid(this.jid)?(this._changeConnectStatus(w.Status.CONNFAIL,w.ErrorCondition.MISSING_JID_NODE),this.disconnect(w.ErrorCondition.MISSING_JID_NODE)):(this._changeConnectStatus(w.Status.AUTHENTICATING,null),this._addSysHandler(this._onLegacyAuthIQResult.bind(this),null,null,null,"_auth_1"),this.send(R({type:"get",to:this.domain,id:"_auth_1"}).c("query",{xmlns:w.NS.AUTH}).c("username",{}).t(w.getNodeFromJid(this.jid)).tree()))},_onLegacyAuthIQResult:function(e){var t=R({type:"set",id:"_auth_2"}).c("query",{xmlns:w.NS.AUTH}).c("username",{}).t(w.getNodeFromJid(this.jid)).up().c("password").t(this.pass);return w.getResourceFromJid(this.jid)||(this.jid=w.getBareJidFromJid(this.jid)+"/strophe"),t.up().c("resource",{}).t(w.getResourceFromJid(this.jid)),this._addSysHandler(this._auth2_cb.bind(this),null,null,null,"_auth_2"),this.send(t.tree()),!1},_sasl_success_cb:function(e){var t=this;if(this._sasl_data["server-signature"]){var n,i=atob(w.getText(e)).match(/([a-z]+)=([^,]+)(,|$)/);if("v"===i[1]&&(n=i[2]),n!==this._sasl_data["server-signature"])return this.deleteHandler(this._sasl_failure_handler),this._sasl_failure_handler=null,this._sasl_challenge_handler&&(this.deleteHandler(this._sasl_challenge_handler),this._sasl_challenge_handler=null),this._sasl_data={},this._sasl_failure_cb(null)}w.info("SASL authentication succeeded."),this._sasl_mechanism&&this._sasl_mechanism.onSuccess(),this.deleteHandler(this._sasl_failure_handler),this._sasl_failure_handler=null,this._sasl_challenge_handler&&(this.deleteHandler(this._sasl_challenge_handler),this._sasl_challenge_handler=null);var r=[],o=function(e,n){for(;e.length;)t.deleteHandler(e.pop());return t._onStreamFeaturesAfterSASL(n),!1};return r.push(this._addSysHandler(function(e){return o(r,e)},null,"stream:features",null,null)),r.push(this._addSysHandler(function(e){return o(r,e)},w.NS.STREAM,"features",null,null)),this._sendRestart(),!1},_onStreamFeaturesAfterSASL:function(e){this.features=e;for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];"bind"===n.nodeName&&(this.do_bind=!0),"session"===n.nodeName&&(this.do_session=!0)}return this.do_bind?(this.options.explicitResourceBinding?this._changeConnectStatus(w.Status.BINDREQUIRED,null):this.bind(),!1):(this._changeConnectStatus(w.Status.AUTHFAIL,null),!1)},bind:function(){if(this.do_bind){this._addSysHandler(this._onResourceBindResultIQ.bind(this),null,null,null,"_bind_auth_2");var e=w.getResourceFromJid(this.jid);e?this.send(R({type:"set",id:"_bind_auth_2"}).c("bind",{xmlns:w.NS.BIND}).c("resource",{}).t(e).tree()):this.send(R({type:"set",id:"_bind_auth_2"}).c("bind",{xmlns:w.NS.BIND}).tree())}else w.log(w.LogLevel.INFO,'Strophe.Connection.prototype.bind called but "do_bind" is false')},_onResourceBindResultIQ:function(e){var t;if("error"===e.getAttribute("type"))return w.warn("Resource binding failed."),e.getElementsByTagName("conflict").length>0&&(t=w.ErrorCondition.CONFLICT),this._changeConnectStatus(w.Status.AUTHFAIL,t,e),!1;var n=e.getElementsByTagName("bind");if(!(n.length>0))return w.warn("Resource binding failed."),this._changeConnectStatus(w.Status.AUTHFAIL,null,e),!1;var i=n[0].getElementsByTagName("jid");i.length>0&&(this.jid=w.getText(i[0]),this.do_session?this._establishSession():(this.authenticated=!0,this._changeConnectStatus(w.Status.CONNECTED,null)))},_establishSession:function(){if(!this.do_session)throw new Error("Strophe.Connection.prototype._establishSession "+"called but apparently ".concat(w.NS.SESSION," wasn't advertised by the server"));this._addSysHandler(this._onSessionResultIQ.bind(this),null,null,null,"_session_auth_2"),this.send(R({type:"set",id:"_session_auth_2"}).c("session",{xmlns:w.NS.SESSION}).tree())},_onSessionResultIQ:function(e){if("result"===e.getAttribute("type"))this.authenticated=!0,this._changeConnectStatus(w.Status.CONNECTED,null);else if("error"===e.getAttribute("type"))return w.warn("Session creation failed."),this._changeConnectStatus(w.Status.AUTHFAIL,null,e),!1;return!1},_sasl_failure_cb:function(e){return this._sasl_success_handler&&(this.deleteHandler(this._sasl_success_handler),this._sasl_success_handler=null),this._sasl_challenge_handler&&(this.deleteHandler(this._sasl_challenge_handler),this._sasl_challenge_handler=null),this._sasl_mechanism&&this._sasl_mechanism.onFailure(),this._changeConnectStatus(w.Status.AUTHFAIL,null,e),!1},_auth2_cb:function(e){return"result"===e.getAttribute("type")?(this.authenticated=!0,this._changeConnectStatus(w.Status.CONNECTED,null)):"error"===e.getAttribute("type")&&(this._changeConnectStatus(w.Status.AUTHFAIL,null,e),this.disconnect("authentication failed")),!1},_addSysTimedHandler:function(e,t){var n=new w.TimedHandler(e,t);return n.user=!1,this.addTimeds.push(n),n},_addSysHandler:function(e,t,n,i,r){var o=new w.Handler(e,t,n,i,r);return o.user=!1,this.addHandlers.push(o),o},_onDisconnectTimeout:function(){return w.debug("_onDisconnectTimeout was called"),this._changeConnectStatus(w.Status.CONNTIMEOUT,null),this._proto._onDisconnectTimeout(),this._doDisconnect(),!1},_onIdle:function(){for(var e=this;this.addTimeds.length>0;)this.timedHandlers.push(this.addTimeds.pop());for(;this.removeTimeds.length>0;){var t=this.removeTimeds.pop(),n=this.timedHandlers.indexOf(t);n>=0&&this.timedHandlers.splice(n,1)}for(var i=(new Date).getTime(),r=[],o=0;o<this.timedHandlers.length;o++){var a=this.timedHandlers[o];!this.authenticated&&a.user||(a.lastCalled+a.period-i<=0?a.run()&&r.push(a):r.push(a))}this.timedHandlers=r,clearTimeout(this._idleTimeout),this._proto._onIdle(),this.connected&&(this._idleTimeout=setTimeout(function(){return e._onIdle()},100))}},w.SASLMechanism=function(e,t,n){this.name=e,this.isClientFirst=t,this.priority=n},w.SASLMechanism.prototype={test:function(e){return!0},onStart:function(e){this._connection=e},onChallenge:function(e,t){throw new Error("You should implement challenge handling!")},onFailure:function(){this._connection=null},onSuccess:function(){this._connection=null}},w.SASLAnonymous=function(){},w.SASLAnonymous.prototype=new w.SASLMechanism("ANONYMOUS",!1,20),w.SASLAnonymous.prototype.test=function(e){return null===e.authcid},w.SASLPlain=function(){},w.SASLPlain.prototype=new w.SASLMechanism("PLAIN",!0,50),w.SASLPlain.prototype.test=function(e){return null!==e.authcid},w.SASLPlain.prototype.onChallenge=function(e){var t=e.authzid;return t+="\0",t+=e.authcid,t+="\0",t+=e.pass,C(t)},w.SASLSHA1=function(){},w.SASLSHA1.prototype=new w.SASLMechanism("SCRAM-SHA-1",!0,70),w.SASLSHA1.prototype.test=function(e){return null!==e.authcid},w.SASLSHA1.prototype.onChallenge=function(e,t,n){var i=n||h.hexdigest(""+1234567890*Math.random()),r="n="+C(e.authcid);return r+=",r=",r+=i,e._sasl_data.cnonce=i,e._sasl_data["client-first-message-bare"]=r,r="n,,"+r,this.onChallenge=function(e,t){for(var n,i,r,o,a,s,c,u,d="c=biws,",l="".concat(e._sasl_data["client-first-message-bare"],",").concat(t,","),h=e._sasl_data.cnonce,p=/([a-z]+)=([^,]+)(,|$)/;t.match(p);){var f=t.match(p);switch(t=t.replace(f[0],""),f[1]){case"r":n=f[2];break;case"s":i=f[2];break;case"i":r=f[2]}}if(n.substr(0,h.length)!==h)return e._sasl_data={},e._sasl_failure_cb();l+=d+="r="+n,i=atob(i),i+="\0\0\0\x01";var m=C(e.pass);for(o=s=b.core_hmac_sha1(m,i),c=1;c<r;c++){for(a=b.core_hmac_sha1(m,b.binb2str(s)),u=0;u<5;u++)o[u]^=a[u];s=a}o=b.binb2str(o);var v=b.core_hmac_sha1(o,"Client Key"),g=b.str_hmac_sha1(o,"Server Key"),y=b.core_hmac_sha1(b.str_sha1(b.binb2str(v)),l);for(e._sasl_data["server-signature"]=b.b64_hmac_sha1(g,l),u=0;u<5;u++)v[u]^=y[u];return d+",p="+btoa(b.binb2str(v))},r},w.SASLMD5=function(){},w.SASLMD5.prototype=new w.SASLMechanism("DIGEST-MD5",!1,60),w.SASLMD5.prototype.test=function(e){return null!==e.authcid},w.SASLMD5.prototype._quote=function(e){return'"'+e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'},w.SASLMD5.prototype.onChallenge=function(e,t,n){for(var i=/([a-z]+)=("[^"]+"|[^,"]+)(?:,|$)/,r=n||h.hexdigest(""+1234567890*Math.random()),o="",a=null,s="";t.match(i);){var c=t.match(i);switch(t=t.replace(c[0],""),c[2]=c[2].replace(/^"(.+)"$/,"$1"),c[1]){case"realm":o=c[2];break;case"nonce":s=c[2];break;case"qop":c[2];break;case"host":a=c[2]}}var u=e.servtype+"/"+e.domain;null!==a&&(u=u+"/"+a);var d=C(e.authcid+":"+o+":"+this._connection.pass),l=h.hash(d)+":"+s+":"+r,p="AUTHENTICATE:"+u,f="";return f+="charset=utf-8,",f+="username="+this._quote(C(e.authcid))+",",f+="realm="+this._quote(o)+",",f+="nonce="+this._quote(s)+",",f+="nc=00000001,",f+="cnonce="+this._quote(r)+",",f+="digest-uri="+this._quote(u)+",",f+="response="+h.hexdigest(h.hexdigest(l)+":"+s+":00000001:"+r+":auth:"+h.hexdigest(p))+",",f+="qop=auth",this.onChallenge=function(){return""},f},w.SASLOAuthBearer=function(){},w.SASLOAuthBearer.prototype=new w.SASLMechanism("OAUTHBEARER",!0,40),w.SASLOAuthBearer.prototype.test=function(e){return null!==e.pass},w.SASLOAuthBearer.prototype.onChallenge=function(e){var t="n,";return null!==e.authcid&&(t=t+"a="+e.authzid),t+=",",t+="\x01",t+="auth=Bearer ",t+=e.pass,t+="\x01",C(t+="\x01")},w.SASLExternal=function(){},w.SASLExternal.prototype=new w.SASLMechanism("EXTERNAL",!0,10),w.SASLExternal.prototype.onChallenge=function(e){return e.authcid===e.authzid?"":e.authzid},w.SASLXOAuth2=function(){},w.SASLXOAuth2.prototype=new w.SASLMechanism("X-OAUTH2",!0,30),w.SASLXOAuth2.prototype.test=function(e){return null!==e.pass},w.SASLXOAuth2.prototype.onChallenge=function(e){var t="\0";return null!==e.authcid&&(t+=e.authzid),t+="\0",t+=e.pass,C(t)};var I={Strophe:w,$build:A,$iq:R,$msg:function(e){return new w.Builder("message",e)},$pres:k,SHA1:b,MD5:h,b64_hmac_sha1:b.b64_hmac_sha1,b64_sha1:b.b64_sha1,str_hmac_sha1:b.str_hmac_sha1,str_sha1:b.str_sha1},P=I.Strophe,D=I.$build;P.Request=function(e,t,n,i){this.id=++P._requestId,this.xmlData=e,this.data=P.serialize(e),this.origFunc=t,this.func=t,this.rid=n,this.date=NaN,this.sends=i||0,this.abort=!1,this.dead=null,this.age=function(){return this.date?(new Date-this.date)/1e3:0},this.timeDead=function(){return this.dead?(new Date-this.dead)/1e3:0},this.xhr=this._newXHR()},P.Request.prototype={getResponse:function(){var e=null;if(this.xhr.responseXML&&this.xhr.responseXML.documentElement){if("parsererror"===(e=this.xhr.responseXML.documentElement).tagName)throw P.error("invalid response received"),P.error("responseText: "+this.xhr.responseText),P.error("responseXML: "+P.serialize(this.xhr.responseXML)),new Error("parsererror")}else if(this.xhr.responseText){if(P.debug("Got responseText but no responseXML; attempting to parse it with DOMParser..."),!(e=(new DOMParser).parseFromString(this.xhr.responseText,"application/xml").documentElement))throw new Error("Parsing produced null node");if(e.querySelector("parsererror")){P.error("invalid response received: "+e.querySelector("parsererror").textContent),P.error("responseText: "+this.xhr.responseText);var t=new Error;throw t.name=P.ErrorCondition.BAD_FORMAT,t}}return e},_newXHR:function(){var e=null;return window.XMLHttpRequest?(e=new XMLHttpRequest).overrideMimeType&&e.overrideMimeType("text/xml; charset=utf-8"):window.ActiveXObject&&(e=new ActiveXObject("Microsoft.XMLHTTP")),e.onreadystatechange=this.func.bind(null,this),e}},P.Bosh=function(e){this._conn=e,this.rid=Math.floor(4294967295*Math.random()),this.sid=null,this.hold=1,this.wait=60,this.window=5,this.errors=0,this.inactivity=null,this.lastResponseHeaders=null,this._requests=[]},P.Bosh.prototype={strip:null,_buildBody:function(){var e=D("body",{rid:this.rid++,xmlns:P.NS.HTTPBIND});return null!==this.sid&&e.attrs({sid:this.sid}),this._conn.options.keepalive&&this._conn._sessionCachingSupported()&&this._cacheSession(),e},_reset:function(){this.rid=Math.floor(4294967295*Math.random()),this.sid=null,this.errors=0,this._conn._sessionCachingSupported()&&window.sessionStorage.removeItem("strophe-bosh-session"),this._conn.nextValidRid(this.rid)},_connect:function(e,t,n){this.wait=e||this.wait,this.hold=t||this.hold,this.errors=0;var i=this._buildBody().attrs({to:this._conn.domain,"xml:lang":"en",wait:this.wait,hold:this.hold,content:"text/xml; charset=utf-8",ver:"1.6","xmpp:version":"1.0","xmlns:xmpp":P.NS.BOSH});n&&i.attrs({route:n});var r=this._conn._connect_cb;this._requests.push(new P.Request(i.tree(),this._onRequestStateChange.bind(this,r.bind(this._conn)),i.tree().getAttribute("rid"))),this._throttledRequestHandler()},_attach:function(e,t,n,i,r,o,a){this._conn.jid=e,this.sid=t,this.rid=n,this._conn.connect_callback=i,this._conn.domain=P.getDomainFromJid(this._conn.jid),this._conn.authenticated=!0,this._conn.connected=!0,this.wait=r||this.wait,this.hold=o||this.hold,this.window=a||this.window,this._conn._changeConnectStatus(P.Status.ATTACHED,null)},_restore:function(e,t,n,i,r){var o=JSON.parse(window.sessionStorage.getItem("strophe-bosh-session"));if(!(null!=o&&o.rid&&o.sid&&o.jid&&(null==e||P.getBareJidFromJid(o.jid)===P.getBareJidFromJid(e)||null===P.getNodeFromJid(e)&&P.getDomainFromJid(o.jid)===e))){var a=new Error("_restore: no restoreable session.");throw a.name="StropheSessionError",a}this._conn.restored=!0,this._attach(o.jid,o.sid,o.rid,t,n,i,r)},_cacheSession:function(){this._conn.authenticated?this._conn.jid&&this.rid&&this.sid&&window.sessionStorage.setItem("strophe-bosh-session",JSON.stringify({jid:this._conn.jid,rid:this.rid,sid:this.sid})):window.sessionStorage.removeItem("strophe-bosh-session")},_connect_cb:function(e){var t=e.getAttribute("type");if(null!==t&&"terminate"===t){var n=e.getAttribute("condition");P.error("BOSH-Connection failed: "+n);var i=e.getElementsByTagName("conflict");return null!==n?("remote-stream-error"===n&&i.length>0&&(n="conflict"),this._conn._changeConnectStatus(P.Status.CONNFAIL,n)):this._conn._changeConnectStatus(P.Status.CONNFAIL,"unknown"),this._conn._doDisconnect(n),P.Status.CONNFAIL}this.sid||(this.sid=e.getAttribute("sid"));var r=e.getAttribute("requests");r&&(this.window=parseInt(r,10));var o=e.getAttribute("hold");o&&(this.hold=parseInt(o,10));var a=e.getAttribute("wait");a&&(this.wait=parseInt(a,10));var s=e.getAttribute("inactivity");s&&(this.inactivity=parseInt(s,10))},_disconnect:function(e){this._sendTerminate(e)},_doDisconnect:function(){this.sid=null,this.rid=Math.floor(4294967295*Math.random()),this._conn._sessionCachingSupported()&&window.sessionStorage.removeItem("strophe-bosh-session"),this._conn.nextValidRid(this.rid)},_emptyQueue:function(){return 0===this._requests.length},_callProtocolErrorHandlers:function(e){var t=this._getRequestStatus(e),n=this._conn.protocolErrorHandlers.HTTP[t];n&&n.call(this,t)},_hitError:function(e){this.errors++,P.warn("request errored, status: "+e+", number of errors: "+this.errors),this.errors>4&&this._conn._onDisconnectTimeout()},_no_auth_received:function(e){P.warn("Server did not yet offer a supported authentication mechanism. Sending a blank poll request."),e=e?e.bind(this._conn):this._conn._connect_cb.bind(this._conn);var t=this._buildBody();this._requests.push(new P.Request(t.tree(),this._onRequestStateChange.bind(this,e),t.tree().getAttribute("rid"))),this._throttledRequestHandler()},_onDisconnectTimeout:function(){this._abortAllRequests()},_abortAllRequests:function(){for(;this._requests.length>0;){var e=this._requests.pop();e.abort=!0,e.xhr.abort(),e.xhr.onreadystatechange=function(){}}},_onIdle:function(){var e=this._conn._data;if(this._conn.authenticated&&0===this._requests.length&&0===e.length&&!this._conn.disconnecting&&(P.debug("no requests during idle cycle, sending blank request"),e.push(null)),!this._conn.paused){if(this._requests.length<2&&e.length>0){for(var t=this._buildBody(),n=0;n<e.length;n++)null!==e[n]&&("restart"===e[n]?t.attrs({to:this._conn.domain,"xml:lang":"en","xmpp:restart":"true","xmlns:xmpp":P.NS.BOSH}):t.cnode(e[n]).up());delete this._conn._data,this._conn._data=[],this._requests.push(new P.Request(t.tree(),this._onRequestStateChange.bind(this,this._conn._dataRecv.bind(this._conn)),t.tree().getAttribute("rid"))),this._throttledRequestHandler()}if(this._requests.length>0){var i=this._requests[0].age();null!==this._requests[0].dead&&this._requests[0].timeDead()>Math.floor(P.SECONDARY_TIMEOUT*this.wait)&&this._throttledRequestHandler(),i>Math.floor(P.TIMEOUT*this.wait)&&(P.warn("Request "+this._requests[0].id+" timed out, over "+Math.floor(P.TIMEOUT*this.wait)+" seconds since last activity"),this._throttledRequestHandler())}}},_getRequestStatus:function(e,t){var n;if(4===e.xhr.readyState)try{n=e.xhr.status}catch(e){P.error("Caught an error while retrieving a request's status, reqStatus: "+n)}return void 0===n&&(n="number"==typeof t?t:0),n},_onRequestStateChange:function(e,t){if(P.debug("request id "+t.id+"."+t.sends+" state changed to "+t.xhr.readyState),t.abort)t.abort=!1;else if(4===t.xhr.readyState){var n=this._getRequestStatus(t);if(this.lastResponseHeaders=t.xhr.getAllResponseHeaders(),this.disconnecting&&n>=400)return this._hitError(n),void this._callProtocolErrorHandlers(t);var i=n>0&&n<500,r=t.sends>this._conn.maxRetries;if((i||r)&&(this._removeRequest(t),P.debug("request id "+t.id+" should now be removed")),200===n){var o=this._requests[0]===t;(this._requests[1]===t||o&&this._requests.length>0&&this._requests[0].age()>Math.floor(P.SECONDARY_TIMEOUT*this.wait))&&this._restartRequest(0),this._conn.nextValidRid(Number(t.rid)+1),P.debug("request id "+t.id+"."+t.sends+" got 200"),e(t),this.errors=0}else 0===n||n>=400&&n<600||n>=12e3?(P.error("request id "+t.id+"."+t.sends+" error "+n+" happened"),this._hitError(n),this._callProtocolErrorHandlers(t),n>=400&&n<500&&(this._conn._changeConnectStatus(P.Status.DISCONNECTING,null),this._conn._doDisconnect())):P.error("request id "+t.id+"."+t.sends+" error "+n+" happened");i||r?r&&!this._conn.connected&&this._conn._changeConnectStatus(P.Status.CONNFAIL,"giving-up"):this._throttledRequestHandler()}},_processRequest:function(e){var t=this,n=this._requests[e],i=this._getRequestStatus(n,-1);if(n.sends>this._conn.maxRetries)this._conn._onDisconnectTimeout();else{var r=n.age(),o=!isNaN(r)&&r>Math.floor(P.TIMEOUT*this.wait),a=null!==n.dead&&n.timeDead()>Math.floor(P.SECONDARY_TIMEOUT*this.wait),s=4===n.xhr.readyState&&(i<1||i>=500);if((o||a||s)&&(a&&P.error("Request ".concat(this._requests[e].id," timed out (secondary), restarting")),n.abort=!0,n.xhr.abort(),n.xhr.onreadystatechange=function(){},this._requests[e]=new P.Request(n.xmlData,n.origFunc,n.rid,n.sends),n=this._requests[e]),0===n.xhr.readyState){P.debug("request id "+n.id+"."+n.sends+" posting");try{var c=this._conn.options.contentType||"text/xml; charset=utf-8";n.xhr.open("POST",this._conn.service,!this._conn.options.sync),void 0!==n.xhr.setRequestHeader&&n.xhr.setRequestHeader("Content-Type",c),this._conn.options.withCredentials&&(n.xhr.withCredentials=!0)}catch(e){return P.error("XHR open failed: "+e.toString()),this._conn.connected||this._conn._changeConnectStatus(P.Status.CONNFAIL,"bad-service"),void this._conn.disconnect()}var u=function(){if(n.date=new Date,t._conn.options.customHeaders){var e=t._conn.options.customHeaders;for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.xhr.setRequestHeader(i,e[i])}n.xhr.send(n.data)};if(n.sends>1){var d=1e3*Math.min(Math.floor(P.TIMEOUT*this.wait),Math.pow(n.sends,3));setTimeout(function(){u()},d)}else u();n.sends++,this._conn.xmlOutput!==P.Connection.prototype.xmlOutput&&(n.xmlData.nodeName===this.strip&&n.xmlData.childNodes.length?this._conn.xmlOutput(n.xmlData.childNodes[0]):this._conn.xmlOutput(n.xmlData)),this._conn.rawOutput!==P.Connection.prototype.rawOutput&&this._conn.rawOutput(n.data)}else P.debug("_processRequest: "+(0===e?"first":"second")+" request has readyState of "+n.xhr.readyState)}},_removeRequest:function(e){P.debug("removing request");for(var t=this._requests.length-1;t>=0;t--)e===this._requests[t]&&this._requests.splice(t,1);e.xhr.onreadystatechange=function(){},this._throttledRequestHandler()},_restartRequest:function(e){var t=this._requests[e];null===t.dead&&(t.dead=new Date),this._processRequest(e)},_reqToData:function(e){try{return e.getResponse()}catch(e){if("parsererror"!==e.message)throw e;this._conn.disconnect("strophe-parsererror")}},_sendTerminate:function(e){P.debug("_sendTerminate was called");var t=this._buildBody().attrs({type:"terminate"});e&&t.cnode(e.tree());var n=new P.Request(t.tree(),this._onRequestStateChange.bind(this,this._conn._dataRecv.bind(this._conn)),t.tree().getAttribute("rid"));this._requests.push(n),this._throttledRequestHandler()},_send:function(){var e=this;clearTimeout(this._conn._idleTimeout),this._throttledRequestHandler(),this._conn._idleTimeout=setTimeout(function(){return e._conn._onIdle()},100)},_sendRestart:function(){this._throttledRequestHandler(),clearTimeout(this._conn._idleTimeout)},_throttledRequestHandler:function(){this._requests?P.debug("_throttledRequestHandler called with "+this._requests.length+" requests"):P.debug("_throttledRequestHandler called with undefined requests"),this._requests&&0!==this._requests.length&&(this._requests.length>0&&this._processRequest(0),this._requests.length>1&&Math.abs(this._requests[0].rid-this._requests[1].rid)<this.window&&this._processRequest(1))}};var O=I.Strophe,N=I.$build;return O.Websocket=function(e){this._conn=e,this.strip="wrapper";var t=e.service;if(0!==t.indexOf("ws:")&&0!==t.indexOf("wss:")){var n="";"ws"===e.options.protocol&&"https:"!==window.location.protocol?n+="ws":n+="wss",n+="://"+window.location.host,0!==t.indexOf("/")?n+=window.location.pathname+t:n+=t,e.service=n}},O.Websocket.prototype={_buildStream:function(){return N("open",{xmlns:O.NS.FRAMING,to:this._conn.domain,version:"1.0"})},_check_streamerror:function(e,t){var n;if(0===(n=e.getElementsByTagNameNS?e.getElementsByTagNameNS(O.NS.STREAM,"error"):e.getElementsByTagName("stream:error")).length)return!1;for(var i=n[0],r="",o="",a=0;a<i.childNodes.length;a++){var s=i.childNodes[a];if("urn:ietf:params:xml:ns:xmpp-streams"!==s.getAttribute("xmlns"))break;"text"===s.nodeName?o=s.textContent:r=s.nodeName}var c="WebSocket stream error: ";return c+=r||"unknown",o&&(c+=" - "+o),O.error(c),this._conn._changeConnectStatus(t,r),this._conn._doDisconnect(),!0},_reset:function(){},_connect:function(){this._closeSocket(),this.socket=new WebSocket(this._conn.service,"xmpp"),this.socket.onopen=this._onOpen.bind(this),this.socket.onerror=this._onError.bind(this),this.socket.onclose=this._onClose.bind(this),this.socket.onmessage=this._connect_cb_wrapper.bind(this)},_connect_cb:function(e){if(this._check_streamerror(e,O.Status.CONNFAIL))return O.Status.CONNFAIL},_handleStreamStart:function(e){var t=!1,n=e.getAttribute("xmlns");"string"!=typeof n?t="Missing xmlns in <open />":n!==O.NS.FRAMING&&(t="Wrong xmlns in <open />: "+n);var i=e.getAttribute("version");return"string"!=typeof i?t="Missing version in <open />":"1.0"!==i&&(t="Wrong version in <open />: "+i),!t||(this._conn._changeConnectStatus(O.Status.CONNFAIL,t),this._conn._doDisconnect(),!1)},_connect_cb_wrapper:function(e){if(0===e.data.indexOf("<open ")||0===e.data.indexOf("<?xml")){var t=e.data.replace(/^(<\?.*?\?>\s*)*/,"");if(""===t)return;var n=(new DOMParser).parseFromString(t,"text/xml").documentElement;this._conn.xmlInput(n),this._conn.rawInput(e.data),this._handleStreamStart(n)&&this._connect_cb(n)}else if(0===e.data.indexOf("<close ")){var i=(new DOMParser).parseFromString(e.data,"text/xml").documentElement;this._conn.xmlInput(i),this._conn.rawInput(e.data);var r=i.getAttribute("see-other-uri");if(r){var o=this._conn.service;(o.indexOf("wss:")>=0&&r.indexOf("wss:")>=0||o.indexOf("ws:")>=0)&&(this._conn._changeConnectStatus(O.Status.REDIRECT,"Received see-other-uri, resetting connection"),this._conn.reset(),this._conn.service=r,this._connect())}else this._conn._changeConnectStatus(O.Status.CONNFAIL,"Received closing stream"),this._conn._doDisconnect()}else{var a=this._streamWrap(e.data),s=(new DOMParser).parseFromString(a,"text/xml").documentElement;this.socket.onmessage=this._onMessage.bind(this),this._conn._connect_cb(s,null,e.data)}},_disconnect:function(e){if(this.socket&&this.socket.readyState!==WebSocket.CLOSED){e&&this._conn.send(e);var t=N("close",{xmlns:O.NS.FRAMING});this._conn.xmlOutput(t.tree());var n=O.serialize(t);this._conn.rawOutput(n);try{this.socket.send(n)}catch(e){O.warn("Couldn't send <close /> tag.")}}this._conn._doDisconnect()},_doDisconnect:function(){O.debug("WebSockets _doDisconnect was called"),this._closeSocket()},_streamWrap:function(e){return"<wrapper>"+e+"</wrapper>"},_closeSocket:function(){if(this.socket)try{this.socket.onclose=null,this.socket.onerror=null,this.socket.onmessage=null,this.socket.close()}catch(e){O.debug(e.message)}this.socket=null},_emptyQueue:function(){return!0},_onClose:function(e){this._conn.connected&&!this._conn.disconnecting?(O.error("Websocket closed unexpectedly"),this._conn._doDisconnect()):e&&1006===e.code&&!this._conn.connected&&this.socket?(O.error("Websocket closed unexcectedly"),this._conn._changeConnectStatus(O.Status.CONNFAIL,"The WebSocket connection could not be established or was disconnected."),this._conn._doDisconnect()):O.debug("Websocket closed")},_no_auth_received:function(e){O.error("Server did not offer a supported authentication mechanism"),this._conn._changeConnectStatus(O.Status.CONNFAIL,O.ErrorCondition.NO_AUTH_MECH),e&&e.call(this._conn),this._conn._doDisconnect()},_onDisconnectTimeout:function(){},_abortAllRequests:function(){},_onError:function(e){O.error("Websocket error "+e),this._conn._changeConnectStatus(O.Status.CONNFAIL,"The WebSocket connection could not be established or was disconnected."),this._disconnect()},_onIdle:function(){var e=this._conn._data;if(e.length>0&&!this._conn.paused){for(var t=0;t<e.length;t++)if(null!==e[t]){var n;n="restart"===e[t]?this._buildStream().tree():e[t];var i=O.serialize(n);this._conn.xmlOutput(n),this._conn.rawOutput(i),this.socket.send(i)}this._conn._data=[]}},_onMessage:function(e){var t,n='<close xmlns="urn:ietf:params:xml:ns:xmpp-framing" />';if(e.data===n)return this._conn.rawInput(n),this._conn.xmlInput(e),void(this._conn.disconnecting||this._conn._doDisconnect());if(0===e.data.search("<open ")){if(t=(new DOMParser).parseFromString(e.data,"text/xml").documentElement,!this._handleStreamStart(t))return}else{var i=this._streamWrap(e.data);t=(new DOMParser).parseFromString(i,"text/xml").documentElement}return this._check_streamerror(t,O.Status.ERROR)?void 0:this._conn.disconnecting&&"presence"===t.firstChild.nodeName&&"unavailable"===t.firstChild.getAttribute("type")?(this._conn.xmlInput(t),void this._conn.rawInput(O.serialize(t))):void this._conn._dataRecv(t,e.data)},_onOpen:function(){O.debug("Websocket open");var e=this._buildStream();this._conn.xmlOutput(e.tree());var t=O.serialize(e);this._conn.rawOutput(t),this.socket.send(t)},_reqToData:function(e){return e},_send:function(){this._conn.flush()},_sendRestart:function(){clearTimeout(this._conn._idleTimeout),this._conn._onIdle.bind(this._conn)()}},e.Strophe=I.Strophe,e.$build=I.$build,e.$iq=I.$iq,e.$msg=I.$msg,e.$pres=I.$pres,I},e.exports=n()}).call(this,n(43))},function(e,t,n){"use strict";n.r(t),n.d(t,"AUDIO_INPUT_STATE_CHANGE",function(){return i}),n.d(t,"AUTH_STATUS_CHANGED",function(){return r}),n.d(t,"AVATAR_CHANGED",function(){return o}),n.d(t,"BEFORE_STATISTICS_DISPOSED",function(){return a}),n.d(t,"CONFERENCE_ERROR",function(){return s}),n.d(t,"CONFERENCE_FAILED",function(){return c}),n.d(t,"CONFERENCE_JOINED",function(){return u}),n.d(t,"CONFERENCE_LEFT",function(){return d}),n.d(t,"CONNECTION_ESTABLISHED",function(){return l}),n.d(t,"CONNECTION_INTERRUPTED",function(){return h}),n.d(t,"CONNECTION_RESTORED",function(){return p}),n.d(t,"DATA_CHANNEL_OPENED",function(){return f}),n.d(t,"DISPLAY_NAME_CHANGED",function(){return m}),n.d(t,"DOMINANT_SPEAKER_CHANGED",function(){return v}),n.d(t,"CONFERENCE_CREATED_TIMESTAMP",function(){return g}),n.d(t,"DTMF_SUPPORT_CHANGED",function(){return y}),n.d(t,"ENDPOINT_MESSAGE_RECEIVED",function(){return _}),n.d(t,"JVB121_STATUS",function(){return S}),n.d(t,"KICKED",function(){return E}),n.d(t,"PARTICIPANT_KICKED",function(){return b}),n.d(t,"LAST_N_ENDPOINTS_CHANGED",function(){return C}),n.d(t,"LOCK_STATE_CHANGED",function(){return T}),n.d(t,"SERVER_REGION_CHANGED",function(){return A}),n.d(t,"MESSAGE_RECEIVED",function(){return R}),n.d(t,"NO_AUDIO_INPUT",function(){return k}),n.d(t,"NOISY_MIC",function(){return w}),n.d(t,"PRIVATE_MESSAGE_RECEIVED",function(){return I}),n.d(t,"PARTICIPANT_CONN_STATUS_CHANGED",function(){return P}),n.d(t,"PARTCIPANT_FEATURES_CHANGED",function(){return D}),n.d(t,"PARTICIPANT_PROPERTY_CHANGED",function(){return O}),n.d(t,"P2P_STATUS",function(){return N}),n.d(t,"PHONE_NUMBER_CHANGED",function(){return M}),n.d(t,"PROPERTIES_CHANGED",function(){return L}),n.d(t,"RECORDER_STATE_CHANGED",function(){return x}),n.d(t,"VIDEO_SIP_GW_AVAILABILITY_CHANGED",function(){return F}),n.d(t,"VIDEO_SIP_GW_SESSION_STATE_CHANGED",function(){return j}),n.d(t,"START_MUTED_POLICY_CHANGED",function(){return U}),n.d(t,"STARTED_MUTED",function(){return H}),n.d(t,"SUBJECT_CHANGED",function(){return J}),n.d(t,"SUSPEND_DETECTED",function(){return B}),n.d(t,"TALK_WHILE_MUTED",function(){return G}),n.d(t,"TRACK_ADDED",function(){return V}),n.d(t,"TRACK_AUDIO_LEVEL_CHANGED",function(){return q}),n.d(t,"TRACK_MUTE_CHANGED",function(){return K}),n.d(t,"TRACK_REMOVED",function(){return W}),n.d(t,"TRANSCRIPTION_STATUS_CHANGED",function(){return z}),n.d(t,"USER_JOINED",function(){return $}),n.d(t,"USER_LEFT",function(){return Q}),n.d(t,"USER_ROLE_CHANGED",function(){return X}),n.d(t,"USER_STATUS_CHANGED",function(){return Y}),n.d(t,"BOT_TYPE_CHANGED",function(){return Z});var i="conference.audio_input_state_changed",r="conference.auth_status_changed",o="conference.avatarChanged",a="conference.beforeStatisticsDisposed",s="conference.error",c="conference.failed",u="conference.joined",d="conference.left",l="conference.connectionEstablished",h="conference.connectionInterrupted",p="conference.connectionRestored",f="conference.dataChannelOpened",m="conference.displayNameChanged",v="conference.dominantSpeaker",g="conference.createdTimestamp",y="conference.dtmfSupportChanged",_="conference.endpoint_message_received",S="conference.jvb121Status",E="conference.kicked",b="conference.participant_kicked",C="conference.lastNEndpointsChanged",T="conference.lock_state_changed",A="conference.server_region_changed",R="conference.messageReceived",k="conference.no_audio_input",w="conference.noisy_mic",I="conference.privateMessageReceived",P="conference.participant_conn_status_changed",D="conference.partcipant_features_changed",O="conference.participant_property_changed",N="conference.p2pStatus",M="conference.phoneNumberChanged",L="conference.propertiesChanged",x="conference.recorderStateChanged",F="conference.videoSIPGWAvailabilityChanged",j="conference.videoSIPGWSessionStateChanged",U="conference.start_muted_policy_changed",H="conference.started_muted",J="conference.subjectChanged",B="conference.suspendDetected",G="conference.talk_while_muted",V="conference.trackAdded",q="conference.audioLevelsChanged",K="conference.trackMuteChanged",W="conference.trackRemoved",z="conference.transcriptionStatusChanged",$="conference.userJoined",Q="conference.userLeft",X="conference.roleChanged",Y="conference.statusChanged",Z="conference.bot_type_changed"},function(e,t,n){var i=n(69),r=n(136),o={},a=[],s=i.levels.TRACE;e.exports={addGlobalTransport:function(e){i.addGlobalTransport(e)},removeGlobalTransport:function(e){i.removeGlobalTransport(e)},setGlobalOptions:function(e){i.setGlobalOptions(e)},getLogger:function(e,t,n){var r=new i(s,e,t,n);return e?(o[e]=o[e]||[],o[e].push(r)):a.push(r),r},setLogLevelById:function(e,t){for(var n=t?o[t]||[]:a,i=0;i<n.length;i++)n[i].setLevel(e)},setLogLevel:function(e){s=e;for(var t=0;t<a.length;t++)a[t].setLevel(e);for(var n in o){var i=o[n]||[];for(t=0;t<i.length;t++)i[t].setLevel(e)}},levels:i.levels,LogCollector:r}},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return _});var i,r=n(20),o=n.n(r),a=n(7),s=n(75),c=n(33),u=n(52),d=n(78),l=n(1),h=n(53),p=n.n(h),f=n(17),m=n(26),v=n(4).getLogger(e),g=!1;function y(e){c.a.isBackendInitialized()||c.a.initBackend({callStatsID:e.callStatsID,callStatsSecret:e.callStatsSecret,userName:e.userName,aliasName:e.aliasName,applicationName:e.applicationName,getWiFiStatsMethod:e.getWiFiStatsMethod,confID:e.confID})}function _(e,t){this.rtpStatsMap=new Map,this.eventEmitter=new o.a,this.xmpp=e,this.options=t||{},this.callStatsIntegrationEnabled=this.options.callStatsID&&this.options.callStatsSecret&&!0!==_.disableThirdPartyRequests,this.callStatsIntegrationEnabled&&(this.callStatsApplicationLogsDisabled=this.options.callStatsApplicationLogsDisabled,l.a.isReactNative()?y(this.options):(function(e){g||(p.a.loadScript(e.customScriptUrl||"https://api.callstats.io/static/callstats-ws.min.js",!0,!0,void 0,function(){return y(e)}),g=!0)})(this.options),this.options.confID||v.warn('"confID" is not defined'),this.options.callStatsConfIDNamespace||v.warn('"callStatsConfIDNamespace" is not defined')),this.callsStatsInstances=new Map,_.instances.add(this)}_.init=function(e){_.audioLevelsEnabled=!e.disableAudioLevels,"number"==typeof e.pcStatsInterval&&(_.pcStatsInterval=e.pcStatsInterval),"number"==typeof e.audioLevelsInterval&&(_.audioLevelsInterval=e.audioLevelsInterval),_.disableThirdPartyRequests=e.disableThirdPartyRequests},_.audioLevelsEnabled=!1,_.audioLevelsInterval=200,_.pcStatsInterval=1e4,_.disableThirdPartyRequests=!1,_.analytics=s.a,Object.defineProperty(_,"instances",{get:function(){return i||(i=new Set),i}}),_.prototype.startRemoteStats=function(e){this.stopRemoteStats(e);try{var t=new d.a(e,_.audioLevelsInterval,_.pcStatsInterval,this.eventEmitter);t.start(_.audioLevelsEnabled),this.rtpStatsMap.set(e.id,t)}catch(e){}},_.localStats=[],_.startLocalStats=function(e,t){if(_.audioLevelsEnabled){var n=new u.a(e,_.audioLevelsInterval,t);this.localStats.push(n),n.start()}},_.prototype.addAudioLevelListener=function(e){_.audioLevelsEnabled&&this.eventEmitter.on(m.a,e)},_.prototype.removeAudioLevelListener=function(e){_.audioLevelsEnabled&&this.eventEmitter.removeListener(m.a,e)},_.prototype.addBeforeDisposedListener=function(e){this.eventEmitter.on(m.b,e)},_.prototype.removeBeforeDisposedListener=function(e){this.eventEmitter.removeListener(m.b,e)},_.prototype.addConnectionStatsListener=function(e){this.eventEmitter.on(m.d,e)},_.prototype.removeConnectionStatsListener=function(e){this.eventEmitter.removeListener(m.d,e)},_.prototype.addByteSentStatsListener=function(e){this.eventEmitter.on(m.c,e)},_.prototype.removeByteSentStatsListener=function(e){this.eventEmitter.removeListener(m.c,e)},_.prototype.dispose=function(){try{this.callsStatsInstances.size||this.eventEmitter.emit(m.b);var e=this.callsStatsInstances.values(),t=Array.isArray(e),n=0;for(e=t?e:e["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var i;if(t){if(n>=e.length)break;i=e[n++]}else{if((n=e.next()).done)break;i=n.value}var r=i;this.stopCallStats(r.tpc)}var o=this.rtpStatsMap.keys(),a=Array.isArray(o),s=0;for(o=a?o:o["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var c;if(a){if(s>=o.length)break;c=o[s++]}else{if((s=o.next()).done)break;c=s.value}var u=c;this._stopRemoteStats(u)}this.eventEmitter&&this.eventEmitter.removeAllListeners()}finally{_.instances.delete(this)}},_.stopLocalStats=function(e){if(_.audioLevelsEnabled)for(var t=0;t<_.localStats.length;t++)if(_.localStats[t].stream===e){_.localStats.splice(t,1)[0].stop();break}},_.prototype._stopRemoteStats=function(e){var t=this.rtpStatsMap.get(e);t&&(t.stop(),this.rtpStatsMap.delete(e))},_.prototype.stopRemoteStats=function(e){this._stopRemoteStats(e.id)},_.prototype.startCallStats=function(e,t){if(this.callStatsIntegrationEnabled&&!this.callsStatsInstances.has(e.id)){v.info("Starting CallStats for "+e+"...");var n=new c.a(e,{confID:this._getCallStatsConfID(),remoteUserID:t});this.callsStatsInstances.set(e.id,n)}},_._getAllCallStatsInstances=function(){var e=new Set,t=_.instances,n=Array.isArray(t),i=0;for(t=n?t:t["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var r;if(n){if(i>=t.length)break;r=t[i++]}else{if((i=t.next()).done)break;r=i.value}var o=r.callsStatsInstances.values(),a=Array.isArray(o),s=0;for(o=a?o:o["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var c;if(a){if(s>=o.length)break;c=o[s++]}else{if((s=o.next()).done)break;c=s.value}var u=c;e.add(u)}}return e},_.prototype._getCallStatsConfID=function(){return this.options.callStatsConfIDNamespace?this.options.callStatsConfIDNamespace+"/"+this.options.roomName:this.options.roomName},_.prototype.stopCallStats=function(e){var t=this.callsStatsInstances.get(e.id);t&&(1===this.callsStatsInstances.size&&this.eventEmitter.emit(m.b),this.callsStatsInstances.delete(e.id),t.sendTerminateEvent())},_.prototype.isCallstatsEnabled=function(){return this.callStatsIntegrationEnabled},_.prototype.sendConnectionResumeOrHoldEvent=function(e,t){var n=this.callsStatsInstances.get(e.id);n&&n.sendResumeOrHoldEvent(t)},_.prototype.sendIceConnectionFailedEvent=function(e){var t=this.callsStatsInstances.get(e.id);t&&t.sendIceConnectionFailedEvent()},_.prototype.sendMuteEvent=function(e,t,n){var i=e&&this.callsStatsInstances.get(e.id);c.a.sendMuteEvent(t,n,i)},_.prototype.sendScreenSharingEvent=function(e,t){var n=this.callsStatsInstances.values(),i=Array.isArray(n),r=0;for(n=i?n:n["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var o;if(i){if(r>=n.length)break;o=n[r++]}else{if((r=n.next()).done)break;o=r.value}o.sendScreenSharingEvent(e,t)}},_.prototype.sendDominantSpeakerEvent=function(e){var t=this.callsStatsInstances.values(),n=Array.isArray(t),i=0;for(t=n?t:t["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var r;if(n){if(i>=t.length)break;r=t[i++]}else{if((i=t.next()).done)break;r=i.value}r.sendDominantSpeakerEvent()}this.xmpp.sendDominantSpeakerEvent(e)},_.sendActiveDeviceListEvent=function(e){var t=_._getAllCallStatsInstances();if(t.size){var n=t,i=Array.isArray(n),r=0;for(n=i?n:n["function"==typeof Symbol&&"function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var o;if(i){if(r>=n.length)break;o=n[r++]}else{if((r=n.next()).done)break;o=r.value}var a=o;c.a.sendActiveDeviceListEvent(e,a)}}else c.a.sendActiveDeviceListEvent(e,null)},_.prototype.associateStreamWithVideoTag=function(e,t,n,i,r,o){var a=this.callsStatsInstances.get(e.id);a&&a.associateStreamWithVideoTag(t,n,i,r,o)},_.sendGetUserMediaFailed=function(e){var t=e instanceof f.a?(function(e){var t=new Error;return t.stack=e.stack,t.name=(e.name||"Unknown error")+(e.gum&&e.gum.error&&e.gum.error.name?" - "+e.gum.error.name:""),t.constraintName=e.gum&&e.gum.constraints?JSON.stringify(e.gum.constraints):"",t.message=e.message,t})(e):e,n=_._getAllCallStatsInstances();if(n.size){var i=n,r=Array.isArray(i),o=0;for(i=r?i:i["function"==typeof Symbol&&"function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var a;if(r){if(o>=i.length)break;a=i[o++]}else{if((o=i.next()).done)break;a=o.value}var s=a;c.a.sendGetUserMediaFailed(t,s)}}else c.a.sendGetUserMediaFailed(t,null)},_.prototype.sendCreateOfferFailed=function(e,t){var n=this.callsStatsInstances.get(t.id);n&&n.sendCreateOfferFailed(e)},_.prototype.sendCreateAnswerFailed=function(e,t){var n=this.callsStatsInstances.get(t.id);n&&n.sendCreateAnswerFailed(e)},_.prototype.sendSetLocalDescFailed=function(e,t){var n=this.callsStatsInstances.get(t.id);n&&n.sendSetLocalDescFailed(e)},_.prototype.sendSetRemoteDescFailed=function(e,t){var n=this.callsStatsInstances.get(t.id);n&&n.sendSetRemoteDescFailed(e)},_.prototype.sendAddIceCandidateFailed=function(e,t){var n=this.callsStatsInstances.get(t.id);n&&n.sendAddIceCandidateFailed(e)},_.sendLog=function(e){var t=new Set,n=_.instances,i=Array.isArray(n),r=0;for(n=i?n:n["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var o;if(i){if(r>=n.length)break;o=n[r++]}else{if((r=n.next()).done)break;o=r.value}var a=o;if(a.callStatsApplicationLogsDisabled)return;a.callsStatsInstances.size&&t.add(a.callsStatsInstances.values().next().value)}if(t.size){var s=t,u=Array.isArray(s),d=0;for(s=u?s:s["function"==typeof Symbol&&"function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var l;if(u){if(d>=s.length)break;l=s[d++]}else{if((d=s.next()).done)break;l=d.value}var h=l;c.a.sendApplicationLog(e,h)}}else c.a.sendApplicationLog(e,null)},_.prototype.sendFeedback=function(e,t){return _.analytics.sendEvent(a.n,{rating:e,comment:t}),c.a.sendFeedback(this._getCallStatsConfID(),e,t)},_.LOCAL_JID=n(139).LOCAL_JID,_.reportGlobalError=function(e){e instanceof f.a&&e.gum?_.sendGetUserMediaFailed(e):_.sendLog(e)},_.sendAnalyticsAndLog=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e?(t="object"==typeof e?e:{name:e,properties:n},v.log(JSON.stringify(t)),this.analytics.sendEvent(e,n)):v.warn("No event or event name given.")},_.sendAnalytics=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.analytics.sendEvent(e,t)}}).call(this,"modules/statistics/statistics.js")},function(e,t,n){"use strict";(function(e){var i=n(4),r=n(35),o=n.n(r),a=n(1),s=Object(i.getLogger)(e),c={filterSpecialChars:function(e){return e?e.replace(/[\\\/\{,\}\+]/g,""):e},iceparams:function(e,t){var n,i,r=null;return(i=c.findLine(e,"a=ice-ufrag:",t))&&(n=c.findLine(e,"a=ice-pwd:",t))&&(r={ufrag:c.parseICEUfrag(i),pwd:c.parseICEPwd(n)}),r},parseICEUfrag:function(e){return e.substring(12)},buildICEUfrag:function(e){return"a=ice-ufrag:"+e},parseICEPwd:function(e){return e.substring(10)},buildICEPwd:function(e){return"a=ice-pwd:"+e},parseMID:function(e){return e.substring(6)},parseMLine:function(e){var t={},n=e.substring(2).split(" ");return t.media=n.shift(),t.port=n.shift(),t.proto=n.shift(),""===n[n.length-1]&&n.pop(),t.fmt=n,t},buildMLine:function(e){return"m="+e.media+" "+e.port+" "+e.proto+" "+e.fmt.join(" ")},parseRTPMap:function(e){var t={},n=e.substring(9).split(" ");return t.id=n.shift(),n=n[0].split("/"),t.name=n.shift(),t.clockrate=n.shift(),t.channels=n.length?n.shift():"1",t},parseSCTPMap:function(e){var t=e.substring(10).split(" ");return[t[0],t[1],t.length>2?t[2]:null]},buildRTPMap:function(e){var t="a=rtpmap:"+e.getAttribute("id")+" "+e.getAttribute("name")+"/"+e.getAttribute("clockrate");return e.getAttribute("channels")&&"1"!==e.getAttribute("channels")&&(t+="/"+e.getAttribute("channels")),t},parseCrypto:function(e){var t={},n=e.substring(9).split(" ");return t.tag=n.shift(),t["crypto-suite"]=n.shift(),t["key-params"]=n.shift(),n.length&&(t["session-params"]=n.join(" ")),t},parseFingerprint:function(e){var t={},n=e.substring(14).split(" ");return t.hash=n.shift(),t.fingerprint=n.shift(),t},parseFmtp:function(e){var t=[],n=e.split(" ");n.shift(),n=n.join(" ").split(";");for(var i=0;i<n.length;i++){for(var r=n[i].split("=")[0];r.length&&" "===r[0];)r=r.substring(1);var o=n[i].split("=")[1];r&&o?t.push({name:r,value:o}):r&&t.push({name:"",value:r})}return t},parseICECandidate:function(e){var t={},n=e.split(" ");t.foundation=n[0].substring(12),t.component=n[1],t.protocol=n[2].toLowerCase(),t.priority=n[3],t.ip=n[4],t.port=n[5],t.type=n[7],t.generation=0;for(var i=8;i<n.length;i+=2)switch(n[i]){case"raddr":t["rel-addr"]=n[i+1];break;case"rport":t["rel-port"]=n[i+1];break;case"generation":t.generation=n[i+1];break;case"tcptype":t.tcptype=n[i+1];break;default:s.log("parseICECandidate not translating \""+n[i]+"\" = \""+n[i+1]+"\"")}return t.network="1",t.id=Math.random().toString(36).substr(2,10),t},buildICECandidate:function(e){var t=["a=candidate:"+e.foundation,e.component,e.protocol,e.priority,e.ip,e.port,"typ",e.type].join(" ");switch(t+=" ",e.type){case"srflx":case"prflx":case"relay":e.hasOwnAttribute("rel-addr")&&e.hasOwnAttribute("rel-port")&&(t+="raddr",t+=" ",t+=e["rel-addr"],t+=" ",t+="rport",t+=" ",t+=e["rel-port"],t+=" ")}return e.hasOwnAttribute("tcptype")&&(t+="tcptype",t+=" ",t+=e.tcptype,t+=" "),t+="generation",(t+=" ")+(e.hasOwnAttribute("generation")?e.generation:"0")},parseSSRC:function(e){for(var t=new Map,n=e.split("\r\n"),i=0;i<n.length;i++)if("a=ssrc:"===n[i].substring(0,7)){var r=n[i].split("a=ssrc:")[1].split(" ")[0];t.get(r)||t.set(r,[]),t.get(r).push(n[i])}return t},parseRTCPFB:function(e){var t=e.substr(10).split(" "),n={};return n.pt=t.shift(),n.type=t.shift(),n.params=t,n},parseExtmap:function(e){var t=e.substr(9).split(" "),n={};return n.value=t.shift(),-1===n.value.indexOf("/")?n.direction="both":(n.direction=n.value.substr(n.value.indexOf("/")+1),n.value=n.value.substr(0,n.value.indexOf("/"))),n.uri=t.shift(),n.params=t,n},findLine:function(e,t,n){for(var i=e.split("\r\n"),r=0;r<i.length;r++)if(i[r].substring(0,t.length)===t)return i[r];if(!n)return!1;i=n.split("\r\n");for(var o=0;o<i.length;o++)if(i[o].substring(0,t.length)===t)return i[o];return!1},findLines:function(e,t,n){for(var i=e.split("\r\n"),r=[],o=0;o<i.length;o++)i[o].substring(0,t.length)===t&&r.push(i[o]);if(r.length||!n)return r;i=n.split("\r\n");for(var a=0;a<i.length;a++)i[a].substring(0,t.length)===t&&r.push(i[a]);return r},candidateToJingle:function(e){if(0===e.indexOf("candidate:"))e="a="+e;else if("a=candidate:"!==e.substring(0,12))return s.log("parseCandidate called with a line that is not a candidate line"),s.log(e),null;"\r\n"===e.substring(e.length-2)&&(e=e.substring(0,e.length-2));var t={},n=e.split(" ");if("typ"!==n[6])return s.log("did not find typ in the right place"),s.log(e),null;t.foundation=n[0].substring(12),t.component=n[1],t.protocol=n[2].toLowerCase(),t.priority=n[3],t.ip=n[4],t.port=n[5],t.type=n[7],t.generation="0";for(var i=8;i<n.length;i+=2)switch(n[i]){case"raddr":t["rel-addr"]=n[i+1];break;case"rport":t["rel-port"]=n[i+1];break;case"generation":t.generation=n[i+1];break;case"tcptype":t.tcptype=n[i+1];break;default:s.log("not translating \""+n[i]+"\" = \""+n[i+1]+"\"")}return t.network="1",t.id=Math.random().toString(36).substr(2,10),t},candidateFromJingle:function(e){var t="a=candidate:";t+=e.getAttribute("foundation"),t+=" ",t+=e.getAttribute("component"),t+=" ";var n=e.getAttribute("protocol");switch(a.a.isFirefox()&&"ssltcp"===n.toLowerCase()&&(n="tcp"),t+=n,t+=" ",t+=e.getAttribute("priority"),t+=" ",t+=e.getAttribute("ip"),t+=" ",t+=e.getAttribute("port"),t+=" ",t+="typ",t+=" "+e.getAttribute("type"),t+=" ",e.getAttribute("type")){case"srflx":case"prflx":case"relay":e.getAttribute("rel-addr")&&e.getAttribute("rel-port")&&(t+="raddr",t+=" ",t+=e.getAttribute("rel-addr"),t+=" ",t+="rport",t+=" ",t+=e.getAttribute("rel-port"),t+=" ")}return"tcp"===n.toLowerCase()&&(t+="tcptype",t+=" ",t+=e.getAttribute("tcptype"),t+=" "),t+="generation",t+=" ",(t+=e.getAttribute("generation")||"0")+"\r\n"},parsePrimaryVideoSsrc:function(e){var t=e.ssrcs.map(function(e){return e.id}).filter(function(e,t,n){return n.indexOf(e)===t}).length,n=e.ssrcGroups&&e.ssrcGroups.length||0;if(!(t>1&&0===n)){var i=null;if(1===t)i=e.ssrcs[0].id;else if(2===t){var r=e.ssrcGroups.find(function(e){return"FID"===e.semantics});r&&(i=r.ssrcs.split(" ")[0])}else if(t>=3){var o=e.ssrcGroups.find(function(e){return"SIM"===e.semantics});o&&(i=o.ssrcs.split(" ")[0])}return i}},generateSsrc:function(){return o.a.randomInt(1,4294967295)},getSsrcAttribute:function(e,t,n){for(var i=0;i<e.ssrcs.length;++i){var r=e.ssrcs[i];if(r.id===t&&r.attribute===n)return r.value}},parseGroupSsrcs:function(e){return e.ssrcs.split(" ").map(function(e){return parseInt(e,10)})},getMedia:function(e,t){return e.media.find(function(e){return e.type===t})},getUfrag:function(e){var t=e.split("\n").filter(function(e){return e.startsWith("a=ice-ufrag:")});if(t.length>0)return t[0].substr("a=ice-ufrag:".length)},preferVideoCodec:function(e,t){var n=null;if(e&&t){for(var i=0;i<e.rtp.length;++i){var r=e.rtp[i];if(r.codec&&r.codec.toLowerCase()===t.toLowerCase()){n=r.payload;break}}if(n){var o=e.payloads.toString().split(" ").map(function(e){return parseInt(e,10)}),a=o.indexOf(n);o.splice(a,1),o.unshift(n),e.payloads=o.join(" ")}}},stripVideoCodec:function(e,t){if(e&&t){var n=[],i=e.rtp,r=Array.isArray(i),o=0;for(i=r?i:i["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var a;if(r){if(o>=i.length)break;a=i[o++]}else{if((o=i.next()).done)break;a=o.value}var s=a;s.codec&&s.codec.toLowerCase()===t.toLowerCase()&&n.push(s.payload)}if(n.length>0){var c=n.map(function(e){return"apt="+e}),u=e.fmtp.filter(function(e){return-1!==c.indexOf(e.config)});n.push.apply(n,_toConsumableArray(u.map(function(e){return e.payload})));var d=e.payloads.toString().split(" ").map(Number).filter(function(e){return-1===n.indexOf(e)});0===d.length?(e.port=0,e.direction="inactive",e.payloads="*"):e.payloads=d.join(" "),e.rtp=e.rtp.filter(function(e){return-1!==d.indexOf(e.payload)}),e.fmtp=e.fmtp.filter(function(e){return-1!==d.indexOf(e.payload)}),e.rtcpFb&&(e.rtcpFb=e.rtcpFb.filter(function(e){return-1!==d.indexOf(e.payload)}))}}}};t.a=c}).call(this,"modules/xmpp/SDPUtil.js")},function(e,t,n){"use strict";function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){r(e,t,n[t])})}return e}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"t",function(){return o}),n.d(t,"u",function(){return a}),n.d(t,"v",function(){return s}),n.d(t,"w",function(){return c}),n.d(t,"a",function(){return u}),n.d(t,"b",function(){return d}),n.d(t,"c",function(){return l}),n.d(t,"d",function(){return h}),n.d(t,"e",function(){return p}),n.d(t,"f",function(){return f}),n.d(t,"g",function(){return m}),n.d(t,"h",function(){return v}),n.d(t,"i",function(){return g}),n.d(t,"j",function(){return y}),n.d(t,"k",function(){return _}),n.d(t,"l",function(){return S}),n.d(t,"m",function(){return E}),n.d(t,"n",function(){return b}),n.d(t,"o",function(){return C}),n.d(t,"p",function(){return T}),n.d(t,"q",function(){return A}),n.d(t,"r",function(){return R}),n.d(t,"s",function(){return k}),n.d(t,"z",function(){return w}),n.d(t,"B",function(){return I}),n.d(t,"A",function(){return P}),n.d(t,"C",function(){return D}),n.d(t,"D",function(){return O}),n.d(t,"E",function(){return N}),n.d(t,"F",function(){return M}),n.d(t,"J",function(){return L}),n.d(t,"G",function(){return x}),n.d(t,"H",function(){return F}),n.d(t,"I",function(){return j}),n.d(t,"K",function(){return U}),n.d(t,"L",function(){return H}),n.d(t,"M",function(){return J}),n.d(t,"N",function(){return B}),n.d(t,"x",function(){return G}),n.d(t,"y",function(){return V}),n.d(t,"O",function(){return q});var o="operational",a="page",s="track",c="ui",u="restart",d="session-accept.timeout",l="session-initiate.received",h="session-initiate.timeout",p="terminate",f="transport-replace.received",m="transport-replace.success",v="decline",g="established",y="failed",_="switch.to.jvb",S="available.device",E="connection.disconnected",b="feedback",C="ice.duration",T="ice.establishment.duration.diff",A="ice.state.changed",R="track.no-bytes-sent",k="track.unmuted",w=function(){return{action:"bridge.down",actionSubject:"bridge.down",type:o}},I=function(e,t,n){return{type:o,action:"connection.failed",attributes:i({error_type:e,error_message:t},n)}};function P(e,t){return{action:e,attributes:t,source:"conference",type:o}}var D=function(e,t){var n="connection.stage.reached";return{action:n,actionSubject:e,attributes:t,source:n,type:o}},O=function(e,t,n){return{attributes:{participant_id:e,region:t,rtt:n},name:"e2e_rtt",type:o}},N=function(){return{action:"focus.left",actionSubject:"focus.left",type:o}},M=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:o,source:"get.user.media",action:e,attributes:t}},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:o,source:"peer.conn.status",action:"duration",attributes:e}},x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:o,action:e,source:"jingle",attributes:t}},F=function(e,t){return{attributes:{media_type:e,value:t},action:"track.no.data.from.source",type:o}},j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:o,action:e,source:"p2p",attributes:t}},U=function(){return{type:o,action:"remotely.muted"}},H=function(e){return{type:o,action:"rtp.stats",attributes:e}},J=function(e){return{type:o,action:"rtt.by.region",attributes:e}},B=function(e){return{type:o,action:"transport.stats",attributes:e}};function G(e,t,n){return{type:o,action:"audio.output.problem",attributes:{userID:e,localAudioLevels:t,remoteAudioLevels:n}}}var V=function(e,t){return{type:o,action:"bridge-channel.error",attributes:{code:e,reason:t}}},q=function(e){return D("ttfm",e)}},function(e,t){e.exports={CREATE_ANSWER_FAILED:"rtc.create_answer_failed",CREATE_OFFER_FAILED:"rtc.create_offer_failed",DATA_CHANNEL_OPEN:"rtc.data_channel_open",ENDPOINT_CONN_STATUS_CHANGED:"rtc.endpoint_conn_status_changed",DOMINANT_SPEAKER_CHANGED:"rtc.dominant_speaker_changed",LASTN_ENDPOINT_CHANGED:"rtc.lastn_endpoint_changed",GRANTED_PERMISSIONS:"rtc.granted_permissions",IS_SELECTED_CHANGED:"rtc.is_selected_change",LASTN_VALUE_CHANGED:"rtc.lastn_value_changed",LOCAL_TRACK_SSRC_UPDATED:"rtc.local_track_ssrc_updated",TRACK_ATTACHED:"rtc.track_attached",REMOTE_TRACK_ADDED:"rtc.remote_track_added",REMOTE_TRACK_MUTE:"rtc.remote_track_mute",REMOTE_TRACK_REMOVED:"rtc.remote_track_removed",REMOTE_TRACK_UNMUTE:"rtc.remote_track_unmute",SET_LOCAL_DESCRIPTION_FAILED:"rtc.set_local_description_failed",SET_REMOTE_DESCRIPTION_FAILED:"rtc.set_remote_description_failed",AUDIO_OUTPUT_DEVICE_CHANGED:"rtc.audio_output_device_changed",DEVICE_LIST_CHANGED:"rtc.device_list_changed",DEVICE_LIST_WILL_CHANGE:"rtc.device_list_will_change",DEVICE_LIST_AVAILABLE:"rtc.device_list_available",ENDPOINT_MESSAGE_RECEIVED:"rtc.endpoint_message_received",LOCAL_UFRAG_CHANGED:"rtc.local_ufrag_changed",REMOTE_UFRAG_CHANGED:"rtc.remote_ufrag_changed"}},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r}),n.d(t,"c",function(){return o});var i="audio",r="presenter",o="video"},function(e,t,n){"use strict";(function(e){var i=n(7),r=n(41),o=n.n(r),a=n(20),s=n.n(a),c=n(4),u=n(14),d=n.n(u),l=n(17),h=n(24),p=n(9),f=n(31),m=n.n(f),v=n(1),g=n(8),y=n.n(g),_=n(42),S=n(6),E=n(5),b=n(12),C=n.n(b);function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){A(e,t,n[t])})}return e}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var R=Object(c.getLogger)(e);v.a.usesAdapter()&&n(152);var k,w,I=new s.a,P=["audio","video"],D={video:{height:{ideal:720,max:720,min:240}}},O=5,N="default",M=!1,L=!1,x=!1,F=!1,j=!1,U=!1,H=document.createElement("audio"),J=void 0!==H.setSinkId;function B(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={audio:!1,video:!1},i=v.a.isFirefox()||v.a.isSafari()||v.a.isReactNative();if(e.indexOf("video")>=0){if(n.video={mandatory:{},optional:[]},t.cameraDeviceId)i&&(n.video.deviceId=t.cameraDeviceId),n.video.mandatory.sourceId=t.cameraDeviceId;else{var r=t.facingMode||o.a.USER;i&&(n.video.facingMode=r),n.video.optional.push({facingMode:r})}(t.minFps||t.maxFps||t.fps)&&((t.minFps||t.fps)&&(t.minFps=t.minFps||t.fps,n.video.mandatory.minFrameRate=t.minFps),t.maxFps&&(n.video.mandatory.maxFrameRate=t.maxFps)),(function(e,t,n){m.a[n]&&(t&&(e.video.width={ideal:m.a[n].width},e.video.height={ideal:m.a[n].height}),e.video.mandatory.minWidth=m.a[n].width,e.video.mandatory.minHeight=m.a[n].height),e.video.mandatory.minWidth&&(e.video.mandatory.maxWidth=e.video.mandatory.minWidth),e.video.mandatory.minHeight&&(e.video.mandatory.maxHeight=e.video.mandatory.minHeight)})(n,i,t.resolution)}return e.indexOf("audio")>=0&&(v.a.isReactNative()?n.audio=!0:v.a.isFirefox()?t.micDeviceId?n.audio={mandatory:{},deviceId:t.micDeviceId,optional:[{sourceId:t.micDeviceId}]}:n.audio=!0:(n.audio={mandatory:{},optional:[]},t.micDeviceId&&(i&&(n.audio.deviceId=t.micDeviceId),n.audio.optional.push({sourceId:t.micDeviceId})),n.audio.optional.push({echoCancellation:!x&&!L},{googEchoCancellation:!x&&!L},{googAutoGainControl:!j&&!L},{googNoiseSuppression:!F&&!L},{googHighpassFilter:!U&&!L},{googNoiseSuppression2:!F&&!L},{googEchoCancellation2:!x&&!L},{googAutoGainControl2:!j&&!L}))),e.indexOf("screen")>=0&&(v.a.isChrome()?n.video={mandatory:G(T({},t,{source:"screen"})),optional:[]}:v.a.isFirefox()&&(n.video={mozMediaSource:"window",mediaSource:"window",frameRate:t.frameRate||{min:O,max:O}})),e.indexOf("desktop")>=0&&(n.video={mandatory:G(T({},t,{source:"desktop"})),optional:[]},v.a.isElectron()&&t.screenShareAudio&&t.desktopStream.indexOf("screen")>=0&&(n.audio={mandatory:{chromeMediaSource:n.video.mandatory.chromeMediaSource}},delete n.video.mandatory.chromeMediaSourceId)),t.bandwidth&&(n.video||(n.video={mandatory:{},optional:[]}),n.video.optional.push({bandwidth:t.bandwidth})),v.a.isFirefox()&&t.firefox_fake_device&&(n.fake=!0),n}function G(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.desktopStream,n=e.frameRate,i=void 0===n?{min:O,max:O}:n,r=i.max,o=i.min,a={chromeMediaSource:e.source,maxWidth:window.screen.width,maxHeight:window.screen.height};return"number"==typeof o&&(a.minFrameRate=o),"number"==typeof r&&(a.maxFrameRate=r),void 0!==t&&(a.chromeMediaSourceId=t),a}function V(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={frameRate:O},n=e.desktopSharingFrameRate;return n&&n.max&&(t.frameRate=n.max),t}function q(e,t){var n=Boolean(t)&&t.getAudioTracks().length>0,i=Boolean(t)&&t.getVideoTracks().length>0,r={};-1!==e.indexOf("video")&&(r.video=i),-1!==e.indexOf("audio")&&(r.audio=n),I.emit(y.a.GRANTED_PERMISSIONS,r)}function K(e){var t=e.filter(function(e){return"audioinput"===e.kind}).length,n=e.filter(function(e){return"audiooutput"===e.kind}).length,r=e.filter(function(e){return"videoinput"===e.kind}).length,o=e.filter(function(e){return"videooutput"===e.kind}).length;e.forEach(function(e){var a={audio_input_device_count:t,audio_output_device_count:n,video_input_device_count:r,video_output_device_count:o,device_id:e.deviceId,device_group_id:e.groupId,device_kind:e.kind,device_label:e.label};E.a.sendAnalytics(i.l,a)})}var W=new((function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,I))}return _inherits(t,e),_createClass(t,[{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"boolean"==typeof t.disableAEC&&(x=t.disableAEC,R.info("Disable AEC: "+x)),"boolean"==typeof t.disableNS&&(F=t.disableNS,R.info("Disable NS: "+F)),"boolean"==typeof t.disableAP&&(L=t.disableAP,R.info("Disable AP: "+L)),"boolean"==typeof t.disableAGC&&(j=t.disableAGC,R.info("Disable AGC: "+j)),"boolean"==typeof t.disableHPF&&(U=t.disableHPF,R.info("Disable HPF: "+U)),k=void 0,window.clearInterval(w),w=void 0,this.enumerateDevices=(function(){if(navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices)return function(e){navigator.mediaDevices.enumerateDevices().then(e,function(){return e([])})}})(),v.a.usesNewGumFlow()?(this.RTCPeerConnectionType=RTCPeerConnection,this.attachMediaStream=z(function(e,t){e&&(e.srcObject=t)}),this.getStreamID=function(e){return e.id},this.getTrackID=function(e){return e.id}):(v.a.isChromiumBased()||v.a.isReactNative())&&(this.RTCPeerConnectionType=RTCPeerConnection,this.attachMediaStream=z(function(e,t){return(function(e,t){var n,i="srcObject";i in e||(i="mozSrcObject")in e||(i=null),i?e[i]=t:(t&&((n=t.jitsiObjectURL)||(t.jitsiObjectURL=n=URL.createObjectURL(t))),e.src=n||"")})(e,t),e}),this.getStreamID=function(e){var t=e.id;return"number"==typeof t?t:S.a.filterSpecialChars(t)},this.getTrackID=function(e){return e.id},MediaStream.prototype.getVideoTracks||(MediaStream.prototype.getVideoTracks=function(){return this.videoTracks}),MediaStream.prototype.getAudioTracks||(MediaStream.prototype.getAudioTracks=function(){return this.audioTracks})),this._initPCConstraints(t),_.a.init(t,this.getUserMediaWithConstraints.bind(this)),this.isDeviceListAvailable()&&this.enumerateDevices(function(t){k=t.splice(0),R.debug("Available devices: ",k),K(k),I.emit(y.a.DEVICE_LIST_AVAILABLE,k);var n=function(){return e.enumerateDevices(function(e){(function(e){return e.length!==k.length||e.map(t).sort().join("")!==k.map(t).sort().join("");function t(e){return JSON.stringify({kind:e.kind,deviceId:e.deviceId,groupId:e.groupId,label:e.label,facing:e.facing})}})(e)&&(function(e){k=e.slice(0),R.info("list of media devices has changed:",k),K(k),I.emit(y.a.DEVICE_LIST_WILL_CHANGE,e),I.emit(y.a.DEVICE_LIST_CHANGED,e)})(e)})};v.a.supportsDeviceChangeEvent()?navigator.mediaDevices.addEventListener("devicechange",n):w=window.setInterval(n,3e3)})}},{key:"_initPCConstraints",value:function(e){v.a.isFirefox()?this.pcConstraints={}:(v.a.isChromiumBased()||v.a.isReactNative())&&(this.pcConstraints={optional:[{googHighStartBitrate:0},{googPayloadPadding:!0},{googScreencastMinBitrate:100},{googCpuOveruseDetection:!0},{googCpuOveruseEncodeUsage:!0},{googCpuUnderuseThreshold:55},{googCpuOveruseThreshold:85}]},e.useIPv6&&this.pcConstraints.optional.push({googIPv6:!0}),this.p2pPcConstraints=JSON.parse(JSON.stringify(this.pcConstraints))),this.p2pPcConstraints=this.p2pPcConstraints||this.pcConstraints}},{key:"getUserMediaWithConstraints",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=B(e,t);return R.info("Get media constraints",n),new Promise(function(t,i){navigator.mediaDevices.getUserMedia(n).then(function(n){R.log("onUserMediaSuccess"),q(e,n),t(n)}).catch(function(t){R.warn("Failed to get access to local media.  "+t+" "+n+" "),q(e,void 0),i(new l.a(t,n,e))})})}},{key:"_newGetUserMediaWithConstraints",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(n,i){navigator.mediaDevices.getUserMedia(t).then(function(t){R.log("onUserMediaSuccess"),q(e,t),n(t)}).catch(function(n){R.warn("Failed to get access to local media.  "+n+" "+t+" "),q(e,void 0),i(new l.a(n,t,e))})})}},{key:"_newGetDesktopMedia",value:function(e){var t=this;return _.a.isSupported()&&v.a.supportsVideo()?new Promise(function(n,i){_.a.obtainStream(t._parseDesktopSharingOptions(e),function(e){n(e)},function(e){i(e)})}):Promise.reject(new Error("Desktop sharing is not supported!"))}},{key:"obtainAudioAndVideoPermissions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.devices=e.devices||[].concat(P),e.resolution=e.resolution||720,e.devices.includes("desktop")&&!_.a.isSupported()?Promise.reject(new Error("Desktop sharing is not supported!")):this._getAudioAndVideoStreams(e).then(function(t){return(function(e,t){var n,i,r,o=[];if(e){var a=e.audioVideo;if(a){var s=a.getAudioTracks();if(s.length){n=new MediaStream;for(var c=0;c<s.length;c++)n.addTrack(s[c])}var u=a.getVideoTracks();if(u.length){r=new MediaStream;for(var d=0;d<u.length;d++)r.addTrack(u[d])}}else n=e.audio,r=e.video;i=e.desktop}if(i){var l=i,h=l.stream,f=l.sourceId,m=l.sourceType;o.push({stream:h,sourceId:f,sourceType:m,track:h.getVideoTracks()[0],mediaType:p.c,videoType:C.a.DESKTOP})}return n&&o.push({stream:n,track:n.getAudioTracks()[0],mediaType:p.a,videoType:null}),r&&o.push({stream:r,track:r.getVideoTracks()[0],mediaType:p.c,videoType:C.a.CAMERA,resolution:t}),o})(t,e.resolution)})}},{key:"_getAudioAndVideoStreams",value:function(e){var t=this,n=e.devices.includes("desktop");return e.devices=e.devices.filter(function(e){return"desktop"!==e}),(e.devices.length?this.getUserMediaWithConstraints(e.devices,e):Promise.resolve(null)).then(function(n){var i=t._getMissingTracks(e.devices,n);return i.length?(t.stopMediaStream(n),t.getUserMediaWithConstraints(i,e).then(function(){return Promise.reject(new l.a({name:"UnknownError"},B(e.devices,e),i))})):n}).then(function(i){if(!n)return{audioVideo:i};if(e.desktopSharingSourceDevice)throw t.stopMediaStream(i),new Error("Using a camera as screenshare source isnot supported on this browser.");return new Promise(function(n,r){_.a.obtainStream(t._parseDesktopSharingOptions(e),function(e){return n({audioVideo:i,desktop:e})},function(e){i&&t.stopMediaStream(i),r(e)})})})}},{key:"_getMissingTracks",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=[],i=e.includes("audio"),r=t&&t.getAudioTracks().length>0;i&&!r&&n.push("audio");var o=e.includes("video"),a=t&&t.getVideoTracks().length>0;return o&&!a&&n.push("video"),n}},{key:"_parseDesktopSharingOptions",value:function(e){return T({},e.desktopSharingExtensionExternalInstallation,{desktopSharingSources:e.desktopSharingSources,gumOptions:{frameRate:e.desktopSharingFrameRate},trackOptions:V(e)})}},{key:"newObtainAudioAndVideoPermissions",value:function(e){var t=this;R.info("Using the new gUM flow");var n=[],i=function(){if(-1===(e.devices||[]).indexOf("desktop"))return Promise.resolve();var t=e.desktopSharingExtensionExternalInstallation,n=e.desktopSharingSourceDevice,i=e.desktopSharingSources,r=e.desktopSharingFrameRate;if(n){var o=k&&k.find(function(e){return"videoinput"===e.kind&&(e.deviceId===n||e.label===n)});if(!o)return Promise.reject(new l.a({name:"ConstraintNotSatisfiedError"},{},[n]));var a=this._parseDesktopSharingOptions(e),s=a.gumOptions,c=a.trackOptions,u={video:T({},s,{deviceId:o.deviceId})};return this._newGetUserMediaWithConstraints(["video"],u).then(function(e){var t=e&&e.getTracks()[0];return(t&&t.applyConstraints?t.applyConstraints(c):Promise.resolve()).then(function(){return{sourceType:"device",stream:e}})})}return this._newGetDesktopMedia({desktopSharingExtensionExternalInstallation:t,desktopSharingSources:i,desktopSharingFrameRate:r})}.bind(this),r=function(){var t=(e.devices||["audio","video"]).filter(function(e){return"audio"===e||"video"===e&&v.a.supportsVideo()});if(!t.length)return Promise.resolve();var n=(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=JSON.parse(JSON.stringify(t.constraints||D));if(e.indexOf("video")>=0)if(n.video||(n.video={}),t.cameraDeviceId)n.video.deviceId=t.cameraDeviceId;else{var i=t.facingMode||o.a.USER;n.video.facingMode=i}else n.video=!1;return e.indexOf("audio")>=0?(n.audio&&"boolean"!=typeof n.audio||(n.audio={}),v.a.isFirefox()||v.a.isSafari()?n.audio={deviceId:t.micDeviceId,autoGainControl:!j&&!L,echoCancellation:!x&&!L,noiseSuppression:!F&&!L}:(n.audio.optional||(n.audio.optional=[]),n.audio.optional.push({sourceId:t.micDeviceId},{echoCancellation:!x&&!L},{googEchoCancellation:!x&&!L},{googAutoGainControl:!j&&!L},{googNoiseSuppression:!F&&!L},{googHighpassFilter:!U&&!L},{googNoiseSuppression2:!F&&!L},{googEchoCancellation2:!x&&!L},{googAutoGainControl2:!j&&!L}))):n.audio=!1,e.indexOf("desktop")>=0&&(n.video&&"boolean"!=typeof n.video||(n.video={}),n.video={mandatory:G(T({},t,{source:"desktop"}))}),n})(t,e);return R.info("Got media constraints: ",n),this._newGetUserMediaWithConstraints(t,n)}.bind(this);return i().then(function(e){if(e){var t=e.stream,i=e.sourceId,r=e.sourceType,o=t.getAudioTracks();if(o.length){var a=new MediaStream(o);n.push({stream:a,sourceId:i,sourceType:r,track:a.getAudioTracks()[0]})}var s=t.getVideoTracks();if(s.length){var c=new MediaStream(s);n.push({stream:c,sourceId:i,sourceType:r,track:c.getVideoTracks()[0],videoType:C.a.DESKTOP})}}}).then(r).then(function(t){if(t){var i=t.getAudioTracks();if(i.length){var r=new MediaStream(i);n.push({stream:r,track:r.getAudioTracks()[0],effects:e.effects})}var o=t.getVideoTracks();if(o.length){var a=new MediaStream(o);n.push({stream:a,track:a.getVideoTracks()[0],videoType:C.a.CAMERA,effects:e.effects})}}}).then(function(){return n}).catch(function(e){return n.forEach(function(e){var n=e.stream;t.stopMediaStream(n)}),Promise.reject(e)})}},{key:"isDeviceListAvailable",value:function(){return Boolean(navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices)}},{key:"isDeviceChangeAvailable",value:function(e){return"output"!==e&&"audiooutput"!==e||J}},{key:"stopMediaStream",value:function(e){if(e){e.getTracks().forEach(function(e){e.stop&&e.stop()}),e.stop&&e.stop(),e.release&&e.release();var t=e.jitsiObjectURL;t&&(delete e.jitsiObjectURL,URL.revokeObjectURL(t))}}},{key:"isDesktopSharingEnabled",value:function(){return _.a.isSupported()}},{key:"setAudioOutputDevice",value:function(e){return this.isDeviceChangeAvailable("output")?H.setSinkId(e).then(function(){N=e,M=!0,R.log("Audio output device set to "+e),I.emit(y.a.AUDIO_OUTPUT_DEVICE_CHANGED,e)}):Promise.reject(new Error("Audio output device change is not supported"))}},{key:"getAudioOutputDevice",value:function(){return N}},{key:"getCurrentlyAvailableMediaDevices",value:function(){return k}},{key:"getEventDataForActiveDevice",value:function(e){var t=[],n={deviceId:e.deviceId,kind:e.kind,label:e.label,groupId:e.groupId};return t.push(n),{deviceList:t}}},{key:"setSuspendVideo",value:function(e,t){e.optional||(e.optional=[]),e.optional=e.optional.filter(function(e){return!e.hasOwnProperty("googSuspendBelowMinBitrate")}),t&&e.optional.push({googSuspendBelowMinBitrate:"true"})}}]),t})(h.a));function z(e){return function(t,n){var i=e.apply(W,arguments);return n&&W.isDeviceChangeAvailable("output")&&n.getAudioTracks&&n.getAudioTracks().length&&M&&t.setSinkId(W.getAudioOutputDevice()).catch(function(e){var n=new l.a(e,null,["audiooutput"]);d.a.callUnhandledRejectionHandler({promise:this,reason:n}),R.warn("Failed to set audio output device for the element. Default audio output device will be used instead",t,n)}),i}}t.a=W}).call(this,"modules/RTC/RTCUtils.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return T});var i=n(4),r=n(74),o=(n(14),n(3)),a=n(65),s=n(24),c=n(29),u=n(9),d=n(1),l=n(8),h=n.n(l),p=n(10),f=n(5),m=n(80),v=n(12),g=n.n(v);function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=Object(i.getLogger)(e),S=0,E=0;function b(e,t){var n=[],i=null;return e.forEach(function(e){e.mediaType===u.a?i=t.micDeviceId:e.videoType===g.a.CAMERA&&(i=t.cameraDeviceId),E=Object(c.c)(E);var r=new a.a((function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){y(e,t,n[t])})}return e})({},e,{deviceId:i,facingMode:t.facingMode,rtcId:E,effects:t.effects}));n.push(r)}),n}function C(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(function(e){var t=e.sourceId,n=e.sourceType,i=e.stream,r=e.track,o=e.videoType,s=e.effects,u=r.getSettings(),d=u.deviceId,l=u.facingMode;return E=Object(c.c)(E),new a.a({deviceId:d,facingMode:l,mediaType:r.kind,rtcId:E,sourceId:t,sourceType:n,stream:i,track:r,videoType:o||null,effects:s})})}var T=(function(e){function t(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).conference=e,n.peerConnections=new Map,n.localTracks=[],n.options=i,n._channel=null,n._channelOpen=!1,n._lastN=-1,n._lastNEndpoints=null,n._maxFrameHeight=void 0,n._pinnedEndpoint=null,n._selectedEndpoints=[],n._lastNChangeListener=n._onLastNChanged.bind(_assertThisInitialized(n)),n._onDeviceListChanged=n._onDeviceListChanged.bind(_assertThisInitialized(n)),n._updateAudioOutputForAudioTracks=n._updateAudioOutputForAudioTracks.bind(_assertThisInitialized(n)),p.a.isDeviceChangeAvailable("output")&&(p.a.addListener(h.a.AUDIO_OUTPUT_DEVICE_CHANGED,n._updateAudioOutputForAudioTracks),p.a.addListener(h.a.DEVICE_LIST_CHANGED,n._onDeviceListChanged)),n}return _inherits(t,e),_createClass(t,[{key:"destroy",value:function(){p.a.removeListener(h.a.AUDIO_OUTPUT_DEVICE_CHANGED,this._updateAudioOutputForAudioTracks),p.a.removeListener(h.a.DEVICE_LIST_CHANGED,this._onDeviceListChanged),this.removeListener(h.a.LASTN_ENDPOINT_CHANGED,this._lastNChangeListener),this._channelOpenListener&&this.removeListener(h.a.DATA_CHANNEL_OPEN,this._channelOpenListener)}},{key:"initializeBridgeChannel",value:function(e,t){var n=this;this._channel=new r.a(e,t,this.eventEmitter),this._channelOpenListener=function(){n._channelOpen=!0;try{n._channel.sendPinnedEndpointMessage(n._pinnedEndpoint),n._channel.sendSelectedEndpointsMessage(n._selectedEndpoints),void 0!==n._maxFrameHeight&&n._channel.sendReceiverVideoConstraintMessage(n._maxFrameHeight)}catch(e){}n.removeListener(h.a.DATA_CHANNEL_OPEN,n._channelOpenListener),n._channelOpenListener=null,-1!==n._lastN&&n._channel.sendSetLastNMessage(n._lastN)},this.addListener(h.a.DATA_CHANNEL_OPEN,this._channelOpenListener),this.addListener(h.a.LASTN_ENDPOINT_CHANGED,this._lastNChangeListener)}},{key:"_onDeviceListChanged",value:function(){this._updateAudioOutputForAudioTracks(p.a.getAudioOutputDevice())}},{key:"_onLastNChanged",value:function(){var e,t,n=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=this._lastNEndpoints||[];this._lastNEndpoints=i,e=r.filter(function(e){return!n.isInLastN(e)}),t=i.filter(function(e){return-1===r.indexOf(e)}),this.conference.eventEmitter.emit(o.LAST_N_ENDPOINTS_CHANGED,e,t)}},{key:"onCallEnded",value:function(){this._channel&&(this._channel&&"websocket"===this._channel.mode&&this._channel.close(),this._channel=null,this._channelOpen=!1)}},{key:"setReceiverVideoConstraint",value:function(e){this._maxFrameHeight=e,this._channel&&this._channelOpen&&this._channel.sendReceiverVideoConstraintMessage(e)}},{key:"selectEndpoints",value:function(e){this._selectedEndpoints=e,this._channel&&this._channelOpen&&this._channel.sendSelectedEndpointsMessage(e)}},{key:"pinEndpoint",value:function(e){this._pinnedEndpoint=e,this._channel&&this._channelOpen&&this._channel.sendPinnedEndpointMessage(e)}},{key:"createPeerConnection",value:function(e,n,i,r){var o=t.getPCConstraints(i);void 0!==r.abtestSuspendVideo&&(p.a.setSuspendVideo(o,r.abtestSuspendVideo),f.a.analytics.addPermanentProperties({abtestSuspendVideo:r.abtestSuspendVideo})),d.a.supportsInsertableStreams()&&(_.debug("E2EE - setting insertable streams constraints"),n.forceEncodedAudioInsertableStreams=!0,n.forceEncodedVideoInsertableStreams=!0),d.a.supportsSdpSemantics()&&(n.sdpSemantics="plan-b"),n.bundlePolicy="max-bundle",S=Object(c.c)(S);var a=new m.a(this,S,e,n,o,i,r);return this.peerConnections.set(a.id,a),a}},{key:"_removePeerConnection",value:function(e){var t=e.id;return!!this.peerConnections.has(t)&&(this.peerConnections.delete(t),!0)}},{key:"addLocalTrack",value:function(e){if(!e)throw new Error("track must not be null nor undefined");this.localTracks.push(e),e.conference=this.conference}},{key:"getLastN",value:function(){return this._lastN}},{key:"getLocalVideoTrack",value:function(){var e=this.getLocalTracks(u.c);return e.length?e[0]:void 0}},{key:"getLocalAudioTrack",value:function(){var e=this.getLocalTracks(u.a);return e.length?e[0]:void 0}},{key:"getLocalTracks",value:function(e){var t=this.localTracks.slice();return void 0!==e&&(t=t.filter(function(t){return t.getType()===e})),t}},{key:"getRemoteTracks",value:function(e){var t=[],n=this.peerConnections.values(),i=Array.isArray(n),r=0;for(n=i?n:n["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var o;if(i){if(r>=n.length)break;o=n[r++]}else{if((r=n.next()).done)break;o=r.value}var a=o.getRemoteTracks(void 0,e);a&&(t=t.concat(a))}return t}},{key:"setAudioMute",value:function(e){var t=[];return this.getLocalTracks(u.a).forEach(function(n){t.push(e?n.mute():n.unmute())}),Promise.all(t)}},{key:"removeLocalTrack",value:function(e){var t=this.localTracks.indexOf(e);-1!==t&&this.localTracks.splice(t,1)}},{key:"removeRemoteTracks",value:function(e){var t=[],n=this.peerConnections.values(),i=Array.isArray(n),r=0;for(n=i?n:n["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var o;if(i){if(r>=n.length)break;o=n[r++]}else{if((r=n.next()).done)break;o=r.value}var a=o.removeRemoteTracks(e);t=t.concat(a)}return _.debug("Removed remote tracks for "+e+" count: "+t.length),t}},{key:"closeBridgeChannel",value:function(){this._channel&&(this._channel.close(),this._channelOpen=!1,this.removeListener(h.a.LASTN_ENDPOINT_CHANGED,this._lastNChangeListener))}},{key:"setAudioLevel",value:function(e,t,n,i){var r=e.getTrackBySSRC(t);r&&(r.isAudioTrack()?(r.isLocal(),r.setAudioLevel(n,e)):_.warn("Received audio level for non-audio track: "+t))}},{key:"sendChannelMessage",value:function(e,t){if(!this._channel)throw new Error("Channel support is disabled!");this._channel.sendMessage(e,t)}},{key:"setLastN",value:function(e){this._lastN!==e&&(this._lastN=e,this._channel&&this._channelOpen&&this._channel.sendSetLastNMessage(e),this.eventEmitter.emit(h.a.LASTN_VALUE_CHANGED,e))}},{key:"isInLastN",value:function(e){return!this._lastNEndpoints||this._lastNEndpoints.indexOf(e)>-1}},{key:"_updateAudioOutputForAudioTracks",value:function(e){var t=this.getRemoteTracks(u.a),n=Array.isArray(t),i=0;for(t=n?t:t["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var r;if(n){if(i>=t.length)break;r=t[i++]}else{if((i=t.next()).done)break;r=i.value}r.setAudioOutput(e)}}}],[{key:"newCreateLocalTracks",value:function(e){return C(e)}},{key:"obtainAudioAndVideoPermissions",value:function(e){var t=d.a.usesNewGumFlow();return(t?p.a.newObtainAudioAndVideoPermissions(e):p.a.obtainAudioAndVideoPermissions(e)).then(function(n){return t?C(n):b(n,e)})}},{key:"addListener",value:function(e,t){p.a.addListener(e,t)}},{key:"removeListener",value:function(e,t){p.a.removeListener(e,t)}},{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.options=e,p.a.init(this.options)}},{key:"getPCConstraints",value:function(e){var t=e?p.a.p2pPcConstraints:p.a.pcConstraints;return t?JSON.parse(JSON.stringify(t)):{}}},{key:"attachMediaStream",value:function(e,t){return p.a.attachMediaStream(e,t)}},{key:"getStreamID",value:function(e){return p.a.getStreamID(e)}},{key:"getTrackID",value:function(e){return p.a.getTrackID(e)}},{key:"isDeviceListAvailable",value:function(){return p.a.isDeviceListAvailable()}},{key:"isDeviceChangeAvailable",value:function(e){return p.a.isDeviceChangeAvailable(e)}},{key:"isWebRtcSupported",value:function(){return d.a.isSupported()}},{key:"getAudioOutputDevice",value:function(){return p.a.getAudioOutputDevice()}},{key:"getCurrentlyAvailableMediaDevices",value:function(){return p.a.getCurrentlyAvailableMediaDevices()}},{key:"getEventDataForActiveDevice",value:function(e){return p.a.getEventDataForActiveDevice(e)}},{key:"setAudioOutputDevice",value:function(e){return p.a.setAudioOutputDevice(e)}},{key:"isUserStream",value:function(e){return t.isUserStreamById(p.a.getStreamID(e))}},{key:"isUserStreamById",value:function(e){return e&&"mixedmslabel"!==e&&"default"!==e}},{key:"enumerateDevices",value:function(e){p.a.enumerateDevices(e)}},{key:"stopMediaStream",value:function(e){p.a.stopMediaStream(e)}},{key:"isDesktopSharingEnabled",value:function(){return p.a.isDesktopSharingEnabled()}}]),t})(s.a)}).call(this,"modules/RTC/RTC.js")},function(e,t){e.exports={CAMERA:"camera",DESKTOP:"desktop"}},function(e,t,n){"use strict";n.r(t),n.d(t,"CHROME_EXTENSION_GENERIC_ERROR",function(){return i}),n.d(t,"CHROME_EXTENSION_INSTALLATION_ERROR",function(){return r}),n.d(t,"CHROME_EXTENSION_USER_GESTURE_REQUIRED",function(){return o}),n.d(t,"CHROME_EXTENSION_USER_CANCELED",function(){return a}),n.d(t,"CONSTRAINT_FAILED",function(){return s}),n.d(t,"ELECTRON_DESKTOP_PICKER_ERROR",function(){return c}),n.d(t,"ELECTRON_DESKTOP_PICKER_NOT_FOUND",function(){return u}),n.d(t,"FIREFOX_EXTENSION_NEEDED",function(){return d}),n.d(t,"GENERAL",function(){return l}),n.d(t,"NOT_FOUND",function(){return h}),n.d(t,"PERMISSION_DENIED",function(){return p}),n.d(t,"TRACK_IS_DISPOSED",function(){return f}),n.d(t,"TRACK_NO_STREAM_FOUND",function(){return m}),n.d(t,"UNSUPPORTED_RESOLUTION",function(){return v});var i="gum.chrome_extension_generic_error",r="gum.chrome_extension_installation_error",o="gum.chrome_extension_user_gesture_required",a="gum.chrome_extension_user_canceled",s="gum.constraint_failed",c="gum.electron_desktop_picker_error",u="gum.electron_desktop_picker_not_found",d="gum.firefox_extension_needed",l="gum.general",h="gum.not_found",p="gum.permission_denied",f="track.track_is_disposed",m="track.no_stream_found",v="gum.unsupported_resolution"},function(e,t){var n=[],i=window.onerror,r=window.onunhandledrejection;window.onerror=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n.forEach(function(e){return e.apply(void 0,t)}),i&&i.apply(void 0,t)},window.onunhandledrejection=function(e){n.forEach(function(t){return t(null,null,null,null,e.reason)}),r&&r(e)};var o={addHandler:function(e){n.push(e)},callErrorHandler:function(e){var t=window.onerror;t&&t(null,null,null,null,e)},callUnhandledRejectionHandler:function(e){var t=window.onunhandledrejection;t&&t(e)}};e.exports=o},function(e,t,n){"use strict";n.r(t),n.d(t,"LOCAL_TRACK_STOPPED",function(){return i}),n.d(t,"TRACK_AUDIO_LEVEL_CHANGED",function(){return r}),n.d(t,"TRACK_AUDIO_OUTPUT_CHANGED",function(){return o}),n.d(t,"TRACK_MUTE_CHANGED",function(){return a}),n.d(t,"TRACK_VIDEOTYPE_CHANGED",function(){return s}),n.d(t,"NO_DATA_FROM_SOURCE",function(){return c});var i="track.stopped",r="track.audioLevelsChanged",o="track.audioOutputChanged",a="track.trackMuteChanged",s="track.videoTypeChanged",c="track.no_data_from_source"},function(e,t,n){"use strict";var i={};n.r(i),n.d(i,"CHROME",function(){return a}),n.d(i,"OPERA",function(){return s}),n.d(i,"FIREFOX",function(){return c}),n.d(i,"INTERNET_EXPLORER",function(){return u}),n.d(i,"SAFARI",function(){return d}),n.d(i,"NWJS",function(){return l}),n.d(i,"ELECTRON",function(){return h}),n.d(i,"REACT_NATIVE",function(){return p}),n.d(i,"UNKNOWN",function(){return f}),n(64);var r=n(77),o=n.n(r),a="chrome",s="opera",c="firefox",u="iexplorer",d="safari",l="nwjs",h="electron",p="react-native",f="unknown",m={Chrome:a,Chromium:a,Opera:s,Firefox:c,"Internet Explorer":u,Safari:d};function v(){var e=navigator.userAgent;if(e.match(/Electron/)){var t=e.match(/Electron\/([\d.]+)/)[1];return{name:h,version:t}}}function g(){var e=navigator.userAgent;if(e.match(/JitsiMeetNW/)){var t=e.match(/JitsiMeetNW\/([\d.]+)/)[1];return{name:l,version:t}}}function y(){var e,t,n=navigator.userAgent.match(/\b(react[ \t_-]*native)(?:\/(\S+))?/i);if(n||"ReactNative"===navigator.product)return n&&n.length>2&&(t=n[1],e=n[2]),t||(t="react-native"),e||(e="unknown"),{name:p,version:e}}function _(e){for(var t,n=[y,v,g],i=0;i<n.length;i++)if(t=n[i]())return t;var r=e.getBrowserName();return r in m?{name:m[r],version:e.getBrowserVersion()}:(t=(function(){var e=navigator.userAgent,t={name:f,version:void 0};if(e.match(/Chrome/)&&!e.match(/Edge/))if(e.match(/Edg(A?)/)){var n=e.match(/Chrome\/([\d.]+)/)[1];Number.parseInt(n,10)>72&&(t.name=a,t.version=n)}else t.name=a,t.version=e.match(/Chrome\/([\d.]+)/)[1];return t})())||{name:f,version:void 0}}var S=(function(){function e(t){var n,i;if(_classCallCheck(this,e),this._bowser=o.a.getParser(navigator.userAgent),void 0===t){var r=_(this._bowser);n=r.name,i=r.version}else t.name in m?(n=m[t.name],i=t.version):(n=f,i=void 0);this._name=n,this._version=i}return _createClass(e,[{key:"getName",value:function(){return this._name}},{key:"isChrome",value:function(){return this._name===a}},{key:"isOpera",value:function(){return this._name===s}},{key:"isFirefox",value:function(){return this._name===c}},{key:"isIExplorer",value:function(){return this._name===u}},{key:"isSafari",value:function(){return this._name===d}},{key:"isNWJS",value:function(){return this._name===l}},{key:"isElectron",value:function(){return this._name===h}},{key:"isReactNative",value:function(){return this._name===p}},{key:"getVersion",value:function(){return this._version}},{key:"_checkCondition",value:function(e){if(this._version)return this._bowser.satisfies(e)}},{key:"isVersionGreaterThan",value:function(e){return this._checkCondition(_defineProperty({},this._name,">"+e))}},{key:"isVersionLessThan",value:function(e){return this._checkCondition(_defineProperty({},this._name,"<"+e))}},{key:"isVersionEqualTo",value:function(e){return this._checkCondition(_defineProperty({},this._name,"~"+e))}}]),e})(),E=(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"getItem",value:function(){}},{key:"setItem",value:function(){}},{key:"removeItem",value:function(){}},{key:"key",value:function(){}}]),e})(),b=new((function(e){function t(){var e,n;_classCallCheck(this,t),e=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this));try{n=window.localStorage}catch(n){}return e.storage=n||new E,e}return _inherits(t,E),_createClass(t,[{key:"getItem",value:function(e){return this.storage.getItem(e)}},{key:"setItem",value:function(e,t){return this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){return this.storage.removeItem(e)}},{key:"key",value:function(e){return this.storage.key(e)}}]),t})());n.d(t,"a",function(){return S}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return b})},function(e,t,n){"use strict";var i=n(13),r={};function o(e,t,n){if("object"==typeof e&&void 0!==e.name)switch(this.gum={error:e,constraints:t,devices:n&&Array.isArray(n)?n.slice(0):void 0},e.name){case"NotAllowedError":case"PermissionDeniedError":case"SecurityError":this.name=i.PERMISSION_DENIED,this.message=r[this.name]+(this.gum.devices||[]).join(", ");break;case"DevicesNotFoundError":case"NotFoundError":this.name=i.NOT_FOUND,this.message=r[this.name]+(this.gum.devices||[]).join(", ");break;case"ConstraintNotSatisfiedError":case"OverconstrainedError":var o=e.constraintName||e.constraint;t&&t.video&&(!n||n.indexOf("video")>-1)&&("minWidth"===o||"maxWidth"===o||"minHeight"===o||"maxHeight"===o||"width"===o||"height"===o||"deviceId"===o)?(this.name=i.UNSUPPORTED_RESOLUTION,this.message=r[this.name]+(function(e,t){if(t&&t.video&&t.video.mandatory)switch(e){case"width":return t.video.mandatory.minWidth;case"height":return t.video.mandatory.minHeight;default:return t.video.mandatory[e]||""}return""})(o,t)):(this.name=i.CONSTRAINT_FAILED,this.message=r[this.name]+e.constraintName);break;default:this.name=i.GENERAL,this.message=e.message||r[this.name]}else{if("string"!=typeof e)throw new Error("Invalid arguments");r[e]?(this.name=e,this.message=t||r[e]):this.message=e}this.stack=e.stack||(new Error).stack}r[i.UNSUPPORTED_RESOLUTION]="Video resolution is not supported: ",r[i.CHROME_EXTENSION_INSTALLATION_ERROR]="Failed to install Chrome extension",r[i.CHROME_EXTENSION_USER_GESTURE_REQUIRED]="Failed to install Chrome extension - installations can only be initiated by a user gesture.",r[i.CHROME_EXTENSION_USER_CANCELED]="User canceled Chrome's screen sharing prompt",r[i.CHROME_EXTENSION_GENERIC_ERROR]="Unknown error from Chrome extension",r[i.ELECTRON_DESKTOP_PICKER_ERROR]="Unkown error from desktop picker",r[i.ELECTRON_DESKTOP_PICKER_NOT_FOUND]="Failed to detect desktop picker",r[i.GENERAL]="Generic getUserMedia error",r[i.PERMISSION_DENIED]="User denied permission to use device(s): ",r[i.NOT_FOUND]="Requested device(s) was/were not found: ",r[i.CONSTRAINT_FAILED]="Constraint could not be satisfied: ",r[i.TRACK_IS_DISPOSED]="Track has been already disposed",r[i.TRACK_NO_STREAM_FOUND]="Track does not have an associated Media Stream",o.prototype=Object.create(Error.prototype),o.prototype.constructor=o,t.a=o},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n(1),r=n(6);function o(e){for(var t=e.split("\r\nm="),n=1,i=t.length;n<i;n++){var r="m="+t[n];n!==i-1&&(r+="\r\n"),t[n]=r}var o=t.shift()+"\r\n";this.media=t,this.raw=o+t.join(""),this.session=o}o.prototype.failICE=!1,o.prototype.removeTcpCandidates=!1,o.prototype.removeUdpCandidates=!1,o.prototype.getMediaSsrcMap=function(){for(var e,t=this,n={},i=function(i){e=r.a.findLines(t.media[i],"a=ssrc:");var o={mediaindex:i,mid:r.a.parseMID(r.a.findLine(t.media[i],"a=mid:")),ssrcs:{},ssrcGroups:[]};n[i]=o,e.forEach(function(e){var t=e.substring(7).split(" ")[0];o.ssrcs[t]||(o.ssrcs[t]={ssrc:t,lines:[]}),o.ssrcs[t].lines.push(e)}),(e=r.a.findLines(t.media[i],"a=ssrc-group:")).forEach(function(e){var t=e.indexOf(" "),n=e.substr(0,t).substr(13),i=e.substr(14+n.length).split(" ");i.length&&o.ssrcGroups.push({semantics:n,ssrcs:i})})},o=0;o<t.media.length;o++)i(o);return n},o.prototype.containsSSRC=function(e){var t=this.getMediaSsrcMap(),n=!1;return Object.keys(t).forEach(function(i){n||t[i].ssrcs[e]&&(n=!0)}),n},o.prototype.mangle=function(){var e,t,n,i,o,a;for(e=0;e<this.media.length;e++)if((n=this.media[e].split("\r\n")).pop(),"audio"===(i=r.a.parseMLine(n.shift())).media){for(o="",i.fmt.length=0,t=0;t<n.length;t++){if("a=rtpmap:"===n[t].substr(0,9)){if("CN"===(a=r.a.parseRTPMap(n[t])).name||"ISAC"===a.name)continue;i.fmt.push(a.id)}o+=n[t]+"\r\n"}this.media[e]=r.a.buildMLine(i)+"\r\n"+o}this.raw=this.session+this.media.join("")},o.prototype.toJingle=function(e,t){var n,o,a,s,c,u,d,l;if((s=r.a.findLines(this.session,"a=group:")).length)for(n=0;n<s.length;n++){var h=(l=s[n].split(" ")).shift().substr(8);for(e.c("group",{xmlns:"urn:xmpp:jingle:apps:grouping:0",semantics:h}),o=0;o<l.length;o++)e.c("content",{name:l[o]}).up();e.up()}for(n=0;n<this.media.length;n++)if("audio"===(c=r.a.parseMLine(this.media[n].split("\r\n")[0])).media||"video"===c.media||"application"===c.media){var p=r.a.findLine(this.media[n],"a=ssrc:");d=!!p&&p.substring(7).split(" ")[0],e.c("content",{creator:t,name:c.media});var f=r.a.findLine(this.media[n],"a=mid:");if(f){var m=r.a.parseMID(f);e.attrs({name:m})}if(r.a.findLine(this.media[n],"a=rtpmap:").length){for(e.c("description",{xmlns:"urn:xmpp:jingle:apps:rtp:1",media:c.media}),d&&e.attrs({ssrc:d}),o=0;o<c.fmt.length;o++){u=r.a.findLine(this.media[n],"a=rtpmap:"+c.fmt[o]),e.c("payload-type",r.a.parseRTPMap(u));var v=r.a.findLine(this.media[n],"a=fmtp:"+c.fmt[o]);if(v)for(l=r.a.parseFmtp(v),a=0;a<l.length;a++)e.c("parameter",l[a]).up();this.rtcpFbToJingle(n,e,c.fmt[o]),e.up()}var g=r.a.findLines(this.media[n],"a=crypto:",this.session);if(g.length&&(e.c("encryption",{required:1}),g.forEach(function(t){return e.c("crypto",r.a.parseCrypto(t)).up()}),e.up()),d){var y=r.a.parseSSRC(this.media[n]),_=Array.isArray(y),S=0;for(y=_?y:y["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var E;if(_){if(S>=y.length)break;E=y[S++]}else{if((S=y.next()).done)break;E=S.value}var b=_slicedToArray(E,2),C=b[0],T=b[1];e.c("source",{ssrc:C,xmlns:"urn:xmpp:jingle:apps:rtp:ssma:0"}),T.forEach(function(t){var n=t.indexOf(" "),i=t.substr(n+1);if(e.c("parameter"),-1===i.indexOf(":"))e.attrs({name:i});else{var o=i.split(":",2)[0];e.attrs({name:o});var a=i.split(":",2)[1];a=r.a.filterSpecialChars(a),e.attrs({value:a})}e.up()}),e.up()}r.a.findLines(this.media[n],"a=ssrc-group:").forEach(function(t){var n=t.indexOf(" "),i=t.substr(0,n).substr(13),r=t.substr(14+i.length).split(" ");r.length&&(e.c("ssrc-group",{semantics:i,xmlns:"urn:xmpp:jingle:apps:rtp:ssma:0"}),r.forEach(function(t){return e.c("source",{ssrc:t}).up()}),e.up())})}var A=r.a.findLines(this.media[n],"a=rid");if(A.length&&i.a.usesRidsForSimulcast()){var R=A.map(function(e){return e.split(":")[1]}).map(function(e){return e.split(" ")[0]});R.forEach(function(t){e.c("source",{rid:t,xmlns:"urn:xmpp:jingle:apps:rtp:ssma:0"}),e.up()}),r.a.findLine(this.media[n],"a=simulcast")&&(e.c("rid-group",{semantics:"SIM",xmlns:"urn:xmpp:jingle:apps:rtp:ssma:0"}),R.forEach(function(t){e.c("source",{rid:t}).up()}),e.up())}if(r.a.findLine(this.media[n],"a=rtcp-mux")&&e.c("rtcp-mux").up(),this.rtcpFbToJingle(n,e,"*"),(s=r.a.findLines(this.media[n],"a=extmap:")).length)for(o=0;o<s.length;o++){if(l=r.a.parseExtmap(s[o]),e.c("rtp-hdrext",{xmlns:"urn:xmpp:jingle:apps:rtp:rtp-hdrext:0",uri:l.uri,id:l.value}),l.hasOwnProperty("direction"))switch(l.direction){case"sendonly":e.attrs({senders:"responder"});break;case"recvonly":e.attrs({senders:"initiator"});break;case"sendrecv":e.attrs({senders:"both"});break;case"inactive":e.attrs({senders:"none"})}e.up()}e.up()}this.transportToJingle(n,e);var k=this.media[n];r.a.findLine(k,"a=sendrecv",this.session)?e.attrs({senders:"both"}):r.a.findLine(k,"a=sendonly",this.session)?e.attrs({senders:"initiator"}):r.a.findLine(k,"a=recvonly",this.session)?e.attrs({senders:"responder"}):r.a.findLine(k,"a=inactive",this.session)&&e.attrs({senders:"none"}),"0"!==c.port||r.a.findLine(k,"a=bundle-only",this.session)||e.attrs({senders:"rejected"}),e.up()}return e.up(),e},o.prototype.transportToJingle=function(e,t){var n,i=this;t.c("transport");var o=r.a.findLine(this.media[e],"a=sctpmap:",i.session);if(o){var a=r.a.parseSCTPMap(o);t.c("sctpmap",{xmlns:"urn:xmpp:jingle:transports:dtls-sctp:1",number:a[0],protocol:a[1]}),a.length>2&&t.attrs({streams:a[2]}),t.up()}if(r.a.findLines(this.media[e],"a=fingerprint:",this.session).forEach(function(o){(n=r.a.parseFingerprint(o)).xmlns="urn:xmpp:jingle:apps:dtls:0",t.c("fingerprint").t(n.fingerprint),delete n.fingerprint,(o=r.a.findLine(i.media[e],"a=setup:",i.session))&&(n.setup=o.substr(8)),t.attrs(n),t.up()}),n=r.a.iceparams(this.media[e],this.session)){n.xmlns="urn:xmpp:jingle:transports:ice-udp:1",t.attrs(n);var s=r.a.findLines(this.media[e],"a=candidate:",this.session);s.length&&s.forEach(function(e){var n=r.a.candidateToJingle(e);i.failICE&&(n.ip="1.1.1.1");var o=n&&"string"==typeof n.protocol?n.protocol.toLowerCase():"";i.removeTcpCandidates&&("tcp"===o||"ssltcp"===o)||i.removeUdpCandidates&&"udp"===o||t.c("candidate",n).up()})}t.up()},o.prototype.rtcpFbToJingle=function(e,t,n){r.a.findLines(this.media[e],"a=rtcp-fb:"+n).forEach(function(e){var n=r.a.parseRTCPFB(e);"trr-int"===n.type?(t.c("rtcp-fb-trr-int",{xmlns:"urn:xmpp:jingle:apps:rtp:rtcp-fb:0",value:n.params[0]}),t.up()):(t.c("rtcp-fb",{xmlns:"urn:xmpp:jingle:apps:rtp:rtcp-fb:0",type:n.type}),n.params.length>0&&t.attrs({subtype:n.params[0]}),t.up())})},o.prototype.rtcpFbFromJingle=function(e,t){var n="",i=e.find('>rtcp-fb-trr-int[xmlns="urn:xmpp:jingle:apps:rtp:rtcp-fb:0"]');return i.length&&(n+="a=rtcp-fb:* trr-int ",i.attr("value")?n+=i.attr("value"):n+="0",n+="\r\n"),(i=e.find('>rtcp-fb[xmlns="urn:xmpp:jingle:apps:rtp:rtcp-fb:0"]')).each(function(){n+="a=rtcp-fb:"+t+" "+$(this).attr("type"),$(this).attr("subtype")&&(n+=" "+$(this).attr("subtype")),n+="\r\n"}),n},o.prototype.fromJingle=function(e){var t=this,n=Date.now();this.raw="v=0\r\no=- "+n+" 2 IN IP4 0.0.0.0\r\ns=-\r\nt=0 0\r\n";var i=$(e).find('>group[xmlns="urn:xmpp:jingle:apps:grouping:0"]');i.length&&i.each(function(e,n){var i=$(n).find(">content").map(function(e,t){return t.getAttribute("name")}).get();i.length>0&&(t.raw+="a=group:"+(n.getAttribute("semantics")||n.getAttribute("type"))+" "+i.join(" ")+"\r\n")}),this.session=this.raw,e.find(">content").each(function(){var e=t.jingle2media($(this));t.media.push(e)}),this.raw=this.session+this.media.join("")},o.prototype.jingle2media=function(e){var t=e.find("description"),n="",i=this,o=e.find('>transport>sctpmap[xmlns="urn:xmpp:jingle:transports:dtls-sctp:1"]'),a={media:t.attr("media"),port:"1"};if("rejected"===e.attr("senders")&&(a.port="0"),e.find(">transport>fingerprint").length||t.find("encryption").length?a.proto=o.length?"DTLS/SCTP":"RTP/SAVPF":a.proto="RTP/AVPF",o.length){n+="m=application "+a.port+" DTLS/SCTP "+o.attr("number")+"\r\n",n+="a=sctpmap:"+o.attr("number")+" "+o.attr("protocol");var s=o.attr("streams");n+=s?" "+s+"\r\n":"\r\n"}else a.fmt=t.find("payload-type").map(function(){return this.getAttribute("id")}).get(),n+=r.a.buildMLine(a)+"\r\n";switch(n+="c=IN IP4 0.0.0.0\r\n",o.length||(n+="a=rtcp:1 IN IP4 0.0.0.0\r\n"),(a=e.find('>transport[xmlns="urn:xmpp:jingle:transports:ice-udp:1"]')).length&&(a.attr("ufrag")&&(n+=r.a.buildICEUfrag(a.attr("ufrag"))+"\r\n"),a.attr("pwd")&&(n+=r.a.buildICEPwd(a.attr("pwd"))+"\r\n"),a.find(">fingerprint").each(function(){n+="a=fingerprint:"+this.getAttribute("hash"),n+=" "+$(this).text(),n+="\r\n",this.getAttribute("setup")&&(n+="a=setup:"+this.getAttribute("setup")+"\r\n")})),e.attr("senders")){case"initiator":n+="a=sendonly\r\n";break;case"responder":n+="a=recvonly\r\n";break;case"none":n+="a=inactive\r\n";break;case"both":n+="a=sendrecv\r\n"}return n+="a=mid:"+e.attr("name")+"\r\n",t.find("rtcp-mux").length&&(n+="a=rtcp-mux\r\n"),t.find("encryption").length&&t.find("encryption>crypto").each(function(){n+="a=crypto:"+this.getAttribute("tag"),n+=" "+this.getAttribute("crypto-suite"),n+=" "+this.getAttribute("key-params"),this.getAttribute("session-params")&&(n+=" "+this.getAttribute("session-params")),n+="\r\n"}),t.find("payload-type").each(function(){n+=r.a.buildRTPMap(this)+"\r\n",$(this).find(">parameter").length&&(n+="a=fmtp:"+this.getAttribute("id")+" ",n+=$(this).find("parameter").map(function(){var e=this.getAttribute("name");return(e?e+"=":"")+this.getAttribute("value")}).get().join("; "),n+="\r\n"),n+=i.rtcpFbFromJingle($(this),this.getAttribute("id"))}),n+=i.rtcpFbFromJingle(t,"*"),(a=t.find('>rtp-hdrext[xmlns="urn:xmpp:jingle:apps:rtp:rtp-hdrext:0"]')).each(function(){n+="a=extmap:"+this.getAttribute("id")+" "+this.getAttribute("uri")+"\r\n"}),e.find('>transport[xmlns="urn:xmpp:jingle:transports:ice-udp:1"]>candidate').each(function(){var e=this.getAttribute("protocol");e="string"==typeof e?e.toLowerCase():"",i.removeTcpCandidates&&("tcp"===e||"ssltcp"===e)||i.removeUdpCandidates&&"udp"===e||(i.failICE&&this.setAttribute("ip","1.1.1.1"),n+=r.a.candidateFromJingle(this))}),e.find('description>ssrc-group[xmlns="urn:xmpp:jingle:apps:rtp:ssma:0"]').each(function(){var e=this.getAttribute("semantics"),t=$(this).find(">source").map(function(){return this.getAttribute("ssrc")}).get();t.length&&(n+="a=ssrc-group:"+e+" "+t.join(" ")+"\r\n")}),(a=e.find('description>source[xmlns="urn:xmpp:jingle:apps:rtp:ssma:0"]')).each(function(){var e=this.getAttribute("ssrc");$(this).find(">parameter").each(function(){var t=this.getAttribute("name"),i=this.getAttribute("value");i=r.a.filterSpecialChars(i),n+="a=ssrc:"+e+" "+t,i&&i.length&&(n+=":"+i),n+="\r\n"})}),n}},function(e,t,n){"use strict";n.r(t),n.d(t,"AUTHENTICATION_REQUIRED",function(){return i}),n.d(t,"CHAT_ERROR",function(){return r}),n.d(t,"CONFERENCE_DESTROYED",function(){return o}),n.d(t,"CONFERENCE_MAX_USERS",function(){return a}),n.d(t,"CONNECTION_ERROR",function(){return s}),n.d(t,"NOT_ALLOWED_ERROR",function(){return c}),n.d(t,"FOCUS_DISCONNECTED",function(){return u}),n.d(t,"FOCUS_LEFT",function(){return d}),n.d(t,"GRACEFUL_SHUTDOWN",function(){return l}),n.d(t,"INCOMPATIBLE_SERVER_VERSIONS",function(){return h}),n.d(t,"OFFER_ANSWER_FAILED",function(){return p}),n.d(t,"PASSWORD_NOT_SUPPORTED",function(){return f}),n.d(t,"PASSWORD_REQUIRED",function(){return m}),n.d(t,"RESERVATION_ERROR",function(){return v}),n.d(t,"SETUP_FAILED",function(){return g}),n.d(t,"VIDEOBRIDGE_NOT_AVAILABLE",function(){return y});var i="conference.authenticationRequired",r="conference.chatError",o="conference.destroyed",a="conference.max_users",s="conference.connectionError",c="conference.connectionError.notAllowed",u="conference.focusDisconnected",d="conference.focusLeft",l="conference.gracefulShutdown",h="conference.incompatible_server_versions",p="conference.offerAnswerFailed",f="conference.passwordNotSupported",m="conference.passwordRequired",v="conference.reservationError",g="conference.setup_failed",y="conference.videobridgeNotAvailable"},function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(e){return"function"==typeof e}function r(e){return"object"==typeof e&&null!==e}function o(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,a,s,c,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||r(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var d=new Error('Uncaught, unspecified "error" event. ('+t+")");throw d.context=t,d}if(o(n=this._events[e]))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(r(n))for(s=Array.prototype.slice.call(arguments,1),a=(u=n.slice()).length,c=0;c<a;c++)u[c].apply(this,s);return!0},n.prototype.addListener=function(e,t){var a;if(!i(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t),this._events[e]?r(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,r(this._events[e])&&!this._events[e].warned&&(a=o(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&a>0&&this._events[e].length>a&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){if(!i(t))throw TypeError("listener must be a function");var n=!1;function r(){this.removeListener(e,r),n||(n=!0,t.apply(this,arguments))}return r.listener=t,this.on(e,r),this},n.prototype.removeListener=function(e,t){var n,o,a,s;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(a=(n=this._events[e]).length,o=-1,n===t||i(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(r(n)){for(s=a;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){o=s;break}if(o<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(o,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(i(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(i(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,n){"use strict";n.r(t),n.d(t,"DETECTOR_STATE_CHANGE",function(){return i}),n.d(t,"AUDIO_INPUT_STATE_CHANGE",function(){return r}),n.d(t,"NO_AUDIO_INPUT",function(){return o}),n.d(t,"VAD_NOISY_DEVICE",function(){return a}),n.d(t,"VAD_REPORT_PUBLISHED",function(){return s}),n.d(t,"VAD_SCORE_PUBLISHED",function(){return c}),n.d(t,"VAD_TALK_WHILE_MUTED",function(){return u});var i="detector_state_change",r="audio_input_state_changed",o="no_audio_input_detected",a="detection.vad_noise_device",s="vad-report-published",c="detection.vad_score_published",u="detection.vad_talk_while_muted"},function(e,t,n){var i=n(140),r=n(141);t.write=r,t.parse=i.parse,t.parseFmtpConfig=i.parseFmtpConfig,t.parseParams=i.parseParams,t.parsePayloads=i.parsePayloads,t.parseRemoteCandidates=i.parseRemoteCandidates,t.parseImageAttributes=i.parseImageAttributes,t.parseSimulcastStreamList=i.parseSimulcastStreamList},function(e,t,n){"use strict";n.r(t),n.d(t,"STATUS_AVAILABLE",function(){return i}),n.d(t,"STATUS_UNDEFINED",function(){return r}),n.d(t,"STATUS_BUSY",function(){return o}),n.d(t,"STATE_ON",function(){return a}),n.d(t,"STATE_OFF",function(){return s}),n.d(t,"STATE_PENDING",function(){return c}),n.d(t,"STATE_RETRYING",function(){return u}),n.d(t,"STATE_FAILED",function(){return d}),n.d(t,"ERROR_NO_CONNECTION",function(){return l}),n.d(t,"ERROR_SESSION_EXISTS",function(){return h});var i="available",r="undefined",o="busy",a="on",s="off",c="pending",u="retrying",d="failed",l="error_no_connection",h="error_session_already_exists"},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n(20),r=n.n(i),o=(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new r.a;_classCallCheck(this,e),this.eventEmitter=t,this.addEventListener=this.on=this.addListener,this.removeEventListener=this.off=this.removeListener}return _createClass(e,[{key:"addListener",value:function(e,t){var n=this;return this.eventEmitter.addListener(e,t),function(){return n.removeEventListener(e,t)}}},{key:"removeListener",value:function(e,t){this.eventEmitter.removeListener(e,t)}}]),e})()},function(e,t,n){"use strict";n.r(t),n.d(t,"CONNECTION_DISCONNECTED",function(){return i}),n.d(t,"CONNECTION_ESTABLISHED",function(){return r}),n.d(t,"CONNECTION_FAILED",function(){return o}),n.d(t,"WRONG_STATE",function(){return a});var i="connection.connectionDisconnected",r="connection.connectionEstablished",o="connection.connectionFailed",a="connection.wrongState"},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r}),n.d(t,"c",function(){return o}),n.d(t,"d",function(){return a});var i="statistics.audioLevel",r="statistics.before_disposed",o="statistics.byte_sent_stats",a="statistics.connectionstats"},function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"c",function(){return o}),n.d(t,"a",function(){return c});var i=n(22);function r(e){return parseInt(e.ssrcs.split(" ")[0],10)}function o(e){return parseInt(e.ssrcs.split(" ")[1],10)}function a(e){return e.ssrcs?e.ssrcs.map(function(e){return e.id}).filter(function(e,t,n){return n.indexOf(e)===t}).length:0}var s=(function(){function e(t){if(_classCallCheck(this,e),!t)throw new Error("mLine is undefined");this.mLine=t}return _createClass(e,[{key:"getSSRCAttrValue",value:function(e,t){var n=this.ssrcs.find(function(n){return n.id===e&&n.attribute===t});return n&&n.value}},{key:"removeSSRC",value:function(e){this.mLine.ssrcs&&this.mLine.ssrcs.length&&(this.mLine.ssrcs=this.mLine.ssrcs.filter(function(t){return t.id!==e}))}},{key:"addSSRCAttribute",value:function(e){this.ssrcs.push(e)}},{key:"findGroup",value:function(e,t){return this.ssrcGroups.find(function(n){return n.semantics===e&&(!t||t===n.ssrcs)})}},{key:"findGroups",value:function(e){return this.ssrcGroups.filter(function(t){return t.semantics===e})}},{key:"findGroupByPrimarySSRC",value:function(e,t){return this.ssrcGroups.find(function(n){return n.semantics===e&&r(n)===t})}},{key:"findSSRCByMSID",value:function(e){return this.ssrcs.find(function(t){return"msid"===t.attribute&&(null===e||t.value===e)})}},{key:"getSSRCCount",value:function(){return a(this.mLine)}},{key:"containsAnySSRCGroups",value:function(){return void 0!==this.mLine.ssrcGroups}},{key:"getPrimaryVideoSsrc",value:function(){var e=this.mLine.type;if("video"!==e)throw new Error("getPrimarySsrc doesn't work with '"+e+"'");if(1===a(this.mLine))return this.mLine.ssrcs[0].id;if(this.mLine.ssrcGroups){var t=this.findGroup("SIM");if(t)return r(t);var n=this.findGroup("FID");if(n)return r(n);var i=this.findGroup("FEC-FR");if(i)return r(i)}}},{key:"getRtxSSRC",value:function(e){var t=this.findGroupByPrimarySSRC("FID",e);return t&&o(t)}},{key:"getSSRCs",value:function(){return this.ssrcs.map(function(e){return e.id}).filter(function(e,t,n){return n.indexOf(e)===t})}},{key:"getPrimaryVideoSSRCs",value:function(){var e=this.mLine.type;if("video"!==e)throw new Error("getPrimaryVideoSSRCs doesn't work with "+e);var t=this.getSSRCs(),n=this.ssrcGroups,i=Array.isArray(n),r=0;for(n=i?n:n["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var a;if(i){if(r>=n.length)break;a=n[r++]}else{if((r=n.next()).done)break;a=r.value}var s=a;if("FID"===s.semantics||"FEC-FR"===s.semantics){var c=o(s);t.splice(t.indexOf(c),1)}}return t}},{key:"dumpSSRCGroups",value:function(){return JSON.stringify(this.mLine.ssrcGroups)}},{key:"removeGroupsWithSSRC",value:function(e){this.mLine.ssrcGroups&&(this.mLine.ssrcGroups=this.mLine.ssrcGroups.filter(function(t){return-1===t.ssrcs.indexOf(""+e)}))}},{key:"removeGroupsBySemantics",value:function(e){this.mLine.ssrcGroups&&(this.mLine.ssrcGroups=this.mLine.ssrcGroups.filter(function(t){return t.semantics!==e}))}},{key:"replaceSSRC",value:function(e,t){this.mLine.ssrcs&&this.mLine.ssrcs.forEach(function(n){n.id===e&&(n.id=t)})}},{key:"addSSRCGroup",value:function(e){this.ssrcGroups.push(e)}},{key:"ssrcs",get:function(){return this.mLine.ssrcs||(this.mLine.ssrcs=[]),this.mLine.ssrcs},set:function(e){this.mLine.ssrcs=e}},{key:"direction",get:function(){return this.mLine.direction},set:function(e){this.mLine.direction=e}},{key:"ssrcGroups",get:function(){return this.mLine.ssrcGroups||(this.mLine.ssrcGroups=[]),this.mLine.ssrcGroups},set:function(e){this.mLine.ssrcGroups=e}}]),e})(),c=(function(){function e(t){_classCallCheck(this,e),this.parsedSDP=i.parse(t)}return _createClass(e,[{key:"selectMedia",value:function(e){var t=this.parsedSDP.media.find(function(t){return t.type===e});return t?new s(t):null}},{key:"toRawSDP",value:function(){return i.write(this.parsedSDP)}}]),e})()},function(e,t,n){"use strict";n.r(t),n.d(t,"LOCAL_STATS_UPDATED",function(){return i}),n.d(t,"REMOTE_STATS_UPDATED",function(){return r});var i="cq.local_stats_updated",r="cq.remote_stats_updated"},function(e,t,n){"use strict";function i(e){var t=e;return e>=Number.MAX_SAFE_INTEGER&&(t=0),t+1}function r(e){return e.length>0?e.reduce(function(e,t){return e+t})/e.length:0}function o(e){return e.filter(function(e){return e>=0})}n.d(t,"c",function(){return i}),n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o})},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i={ACCEPT:"session-accept",CONNECTION_ERROR:"connection-error-encountered",INITIATE:"session-initiate",TERMINATE:"session-terminate",TRANSPORT_INFO:"transport-info",UNAVAILABLE:"unavailable"}},function(e,t){e.exports={1080:{width:1920,height:1080,order:8},fullhd:{width:1920,height:1080,order:8},720:{width:1280,height:720,order:7},hd:{width:1280,height:720,order:7},960:{width:960,height:720,order:6},540:{width:960,height:540,order:5},qhd:{width:960,height:540,order:5},360:{width:640,height:360,order:4},640:{width:640,height:480,order:3},vga:{width:640,height:480,order:3},180:{width:320,height:180,order:2},320:{width:320,height:240,order:1}}},function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o});var i="pending",r="active",o="ended"},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return P});var i,r=n(1),o=n(14),a=n.n(o),s=n(4).getLogger(e),c="createOffer",u="createAnswer",d="setLocalDescription",l="setRemoteDescription",h="addIceCandidate",p="getUserMedia",f="iceConnectionFailure",m="applicationLog",v="fabricHold",g="fabricResume",y="audioMute",_="audioUnmute",S="videoPause",E="videoResume",b="screenShareStart",C="screenShareStop",T="dominantSpeaker",A="activeDeviceList",R="jitsi",k="error",w="event",I="mstWithUserID",P=(function(){function e(t,n){_classCallCheck(this,e),this.confID=n.confID,this.tpc=t,this.peerconnection=t.peerconnection,this.remoteUserID=n.remoteUserID||R,this.hasFabric=!1,e.fabrics.add(this),e.backendInitialized&&(this._addNewFabric(),1===e.fabrics.size&&e._emptyReportQueue(this))}return _createClass(e,null,[{key:"_addNewFabricCallback",value:function(t,n){e.backend}},{key:"_initCallback",value:function(t,n){if(s.log("CallStats Status: err="+t+" msg="+n),"success"===t){e.backendInitialized=!0;var i=!1,r=null,o=e.fabrics.values(),a=Array.isArray(o),c=0;for(o=a?o:o["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var u;if(a){if(c>=o.length)break;u=o[c++]}else{if((c=o.next()).done)break;u=c.value}var d=u;d.hasFabric||(s.debug("addNewFabric - initCallback"),d._addNewFabric()&&(i=!0,r||(r=d)))}i&&e._emptyReportQueue(r)}}},{key:"_emptyReportQueue",value:function(t){var n=t.confID,i=t.peerconnection,r=e.reportsQueue,o=Array.isArray(r),a=0;for(r=o?r:r["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var s;if(o){if(a>=r.length)break;s=r[a++]}else{if((a=r.next()).done)break;s=a.value}var c=s;if(c.type===k){var u=c.data;e._reportError(t,u.type,u.error,u.pc||i)}else if(c.type===w){var d=c.data;e.backend.sendFabricEvent(c.pc||i,d.event,n,d.eventData)}else if(c.type===I){var l=c.data;e.backend.associateMstWithUserID(c.pc||i,l.callStatsId,n,l.ssrc,l.usageLabel,l.containerId)}}e.reportsQueue.length=0}},{key:"_reportError",value:function(t,n,i,r){var o=i;o||(s.warn("No error is passed!"),o=new Error("Unknown error")),e.backendInitialized&&t?e.backend.reportError(r,t.confID,n,o):e.reportsQueue.push({type:k,data:{error:o,pc:r,type:n}})}},{key:"_reportEvent",value:function(t,n,i){var r=t&&t.peerconnection,o=t&&t.confID;e.backendInitialized&&t?e.backend.sendFabricEvent(r,n,o,i):e.reportsQueue.push({confID:o,pc:r,type:w,data:{event:n,eventData:i}})}},{key:"_traceAndCatchBackendCalls",value:function(e){for(var t=function(t){var n=e[t];e[t]=function(){try{for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return n.apply(e,i)}catch(e){a.a.callErrorHandler(e)}}},n=0,i=["associateMstWithUserID","sendFabricEvent","sendUserFeedback"];n<i.length;n++){t(i[n])}for(var o=function(t){var n=e[t];e[t]=function(){for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];s.debug(t,r),n.apply(e,r)}},c=0,u=["associateMstWithUserID","sendFabricEvent","sendUserFeedback"];c<u.length;c++){o(u[c])}var d=e.reportError;e.reportError=function(t,n,i){for(var o=arguments.length,c=new Array(o>3?o-3:0),u=3;u<o;u++)c[u-3]=arguments[u];i===m?r.a.isReactNative()||console&&console.debug("reportError",t,n,i):s.debug.apply(s,["reportError",t,n,i].concat(c));try{d.call.apply(d,[e,t,n,i].concat(c))}catch(e){i===m?console&&console.error("reportError",e):a.a.callErrorHandler(e)}}}},{key:"initBackend",value:function(t){if(e.backend)throw new Error("CallStats backend has been initialized already!");try{var n,i=callstats;if(e.backend=new i,e._traceAndCatchBackendCalls(e.backend),e.userID={aliasName:t.aliasName,userName:t.userName},e.callStatsID=t.callStatsID,e.callStatsSecret=t.callStatsSecret,t.applicationName&&(n={applicationVersion:t.applicationName+" ("+r.a.getName()+")"}),t.confID){var o=t.confID.match(/.*\/(.*)\/.*/);n.siteID=o&&o[1]||"/"}e.backend.initialize(e.callStatsID,e.callStatsSecret,e.userID,e._initCallback,void 0,n);var c=t.getWiFiStatsMethod;return c&&(e.backend.attachWifiStatsHandler(c),c().then(function(e){e&&s.info("Reported wifi addresses:",JSON.parse(e).addresses)}).catch(function(){})),!0}catch(t){return a.a.callErrorHandler(t),e.backend=null,!1}}},{key:"isBackendInitialized",value:function(){return Boolean(e.backend)}},{key:"sendActiveDeviceListEvent",value:function(t,n){e._reportEvent(n,A,t)}},{key:"sendApplicationLog",value:function(t,n){try{e._reportError(n,m,t,n&&n.peerconnection)}catch(t){console&&"function"==typeof console.error&&console.error("sendApplicationLog failed",t)}}},{key:"sendFeedback",value:function(t,n,i){return new Promise(function(r,o){e.backend?e.backend.sendUserFeedback(t,{userID:e.userID,overall:n,comment:i},function(e,t){"success"===e?r(t):o(t)}):o("Failed to submit feedback to CallStats - no backend")})}},{key:"sendGetUserMediaFailed",value:function(t,n){e._reportError(n,p,t,null)}},{key:"sendMuteEvent",value:function(t,n,i){var r;r="video"===n?t?S:E:t?y:_,e._reportEvent(i,r)}},{key:"fabrics",get:function(){return i||(i=new Set),i}}]),_createClass(e,[{key:"_addNewFabric",value:function(){s.info("addNewFabric",this.remoteUserID);try{var t={remoteEndpointType:this.tpc.isP2P?e.backend.endpointType.peer:e.backend.endpointType.server},n=e.backend.addNewFabric(this.peerconnection,this.remoteUserID,e.backend.fabricUsage.multiplex,this.confID,t,e._addNewFabricCallback);return this.hasFabric=!0,"success"===n.status}catch(e){return a.a.callErrorHandler(e),!1}}},{key:"associateStreamWithVideoTag",value:function(t,n,i,r,o){if(e.backend){var a=n?e.userID:i;e.backendInitialized?e.backend.associateMstWithUserID(this.peerconnection,a,this.confID,t,r,o):e.reportsQueue.push({type:I,pc:this.peerconnection,data:{callStatsId:a,containerId:o,ssrc:t,usageLabel:r}})}}},{key:"sendDominantSpeakerEvent",value:function(){e._reportEvent(this,T)}},{key:"sendTerminateEvent",value:function(){e.backendInitialized&&e.backend.sendFabricEvent(this.peerconnection,e.backend.fabricEvent.fabricTerminated,this.confID),e.fabrics.delete(this)}},{key:"sendIceConnectionFailedEvent",value:function(){e._reportError(this,f,null,this.peerconnection)}},{key:"sendCreateOfferFailed",value:function(t){e._reportError(this,c,t,this.peerconnection)}},{key:"sendCreateAnswerFailed",value:function(t){e._reportError(this,u,t,this.peerconnection)}},{key:"sendResumeOrHoldEvent",value:function(t){e._reportEvent(this,t?g:v)}},{key:"sendScreenSharingEvent",value:function(t,n){var i;n&&(i={ssrc:n}),e._reportEvent(this,t?b:C,i)}},{key:"sendSetLocalDescFailed",value:function(t){e._reportError(this,d,t,this.peerconnection)}},{key:"sendSetRemoteDescFailed",value:function(t){e._reportError(this,l,t,this.peerconnection)}},{key:"sendAddIceCandidateFailed",value:function(t){e._reportError(this,h,t,this.peerconnection)}}]),e})();P.backend=null,P.reportsQueue=[],P.backendInitialized=!1,P.callStatsID=null,P.callStatsSecret=null,P.userID=null}).call(this,"modules/statistics/CallStats.js")},function(e,t,n){"use strict";(function(e){var i,r,o=n(4),a=n(16),s=n(96),c=n.n(s),u=Object(o.getLogger)(e);function d(){return(Math.random().toString(16)+"000000000").substr(2,8)}t.a={get callStatsUserName(){return i||(i=a.c.getItem("callStatsUserName"))||(e=c.a.generateUsername(),u.log("generated callstats uid",e),i=e,a.c.setItem("callStatsUserName",i)),i;var e},get machineId(){return r||(r=a.c.getItem("cometchatRtcID"))||(e=d()+d()+d()+d(),u.log("generated id",e),r=e,a.c.setItem("cometchatRtcID",r)),r;var e},get sessionId(){return a.c.getItem("sessionId")},set sessionId(e){e?a.c.setItem("sessionId",e):a.c.removeItem("sessionId")}}}).call(this,"modules/settings/Settings.js")},function(e,t){function n(e,t){return Math.floor(Math.random()*(t-e+1))+e}function i(e){return e[n(0,e.length-1)]}var r={randomHexDigit:function(){return i("0123456789abcdef")},randomHexString:function(e){for(var t="";e--;)t+=this.randomHexDigit();return t},randomElement:i,randomAlphanumStr:function(e){for(var t="",n=0;n<e;n+=1)t+=i("0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ");return t},randomInt:n};e.exports=r},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n(24);function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(function(){return function e(){_classCallCheck(this,e)}})();return(function(t){function n(){var e,t;_classCallCheck(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(t=_possibleConstructorReturn(this,(e=_getPrototypeOf(n)).call.apply(e,[this].concat(r)))).connection=null,t}return _inherits(n,e),_createClass(n,[{key:"init",value:function(e){this.connection=e}}]),n})()}t.b=r();var o=r(i.a)},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return b}),n.d(t,"b",function(){return C}),n.d(t,"c",function(){return T});var i=n(4),r=n(2),o=(n(144),n(35)),a=n.n(o),s=n(39),c=n(25),u=n(1),d=n(93),l=n(99),h=n(106),p=n(107),f=n(108),m=n(109),v=n(24),g=n(59),y=(n(14),n(0)),_=n.n(y),S=n(40),E=Object(i.getLogger)(e),b=[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"},{urls:"stun:stun2.l.google.com:19302"}],C="type",T=(function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).connection=null,i.disconnectInProgress=!1,i.connectionTimes={},i.options=e,i.token=n,i.authenticatedUser=!1,Object(h.a)(),Object(m.a)(),i.connection=(function(e){var t=e.enableWebsocketResume,n=e.serviceUrl,i=void 0===n?"/http-bind":n,r=e.token,o=e.websocketKeepAlive;return r&&(i+=(-1===i.indexOf("?")?"?":"&")+"token="+r),new S.a({enableWebsocketResume:t,serviceUrl:i,websocketKeepAlive:o})})({enableWebsocketResume:e.enableWebsocketResume,serviceUrl:e.serviceUrl||e.bosh,token:n,websocketKeepAlive:e.websocketKeepAlive}),i._initStrophePlugins(),i.caps=new g.b(i.connection,i.options.clientNode),i.initFeaturesList(),$(window).on("beforeunload unload",function(e){i.disconnect(e).catch(function(){})}),i}return _inherits(t,e),_createClass(t,[{key:"initFeaturesList",value:function(){this.caps.addFeature("urn:xmpp:jingle:1"),this.caps.addFeature("urn:xmpp:jingle:apps:rtp:1"),this.caps.addFeature("urn:xmpp:jingle:transports:ice-udp:1"),this.caps.addFeature("urn:xmpp:jingle:apps:dtls:0"),this.caps.addFeature("urn:xmpp:jingle:transports:dtls-sctp:1"),this.caps.addFeature("urn:xmpp:jingle:apps:rtp:audio"),this.caps.addFeature("urn:xmpp:jingle:apps:rtp:video"),!this.options.disableRtx&&u.a.supportsRtx()&&this.caps.addFeature("urn:ietf:rfc:4588"),this.caps.addFeature("urn:ietf:rfc:5761"),this.caps.addFeature("urn:ietf:rfc:5888"),u.a.isChrome()&&!0===this.options.enableLipSync&&(E.info("Lip-sync enabled !"),this.caps.addFeature("http://jitsi.org/meet/lipsync")),this.connection.rayo&&this.caps.addFeature("urn:xmpp:rayo:client:1"),u.a.supportsInsertableStreams()&&this.caps.addFeature("https://jitsi.org/meet/e2ee")}},{key:"isPingSupported",value:function(){return!1!==this._pingSupported}},{key:"getConnection",value:function(){return this.connection}},{key:"connectionHandler",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,o=window.performance.now(),a=r.Strophe.getStatusString(n).toLowerCase();if(this.connectionTimes[a]=o,E.log("(TIME) Strophe "+a+(i?"["+i+"]":"")+":\t",o),this.eventEmitter.emit(_.a.CONNECTION_STATUS_CHANGED,t,n,i),n===r.Strophe.Status.CONNECTED||n===r.Strophe.Status.ATTACHED){(this.options.useStunTurn||this.options.p2p&&this.options.p2p.useStunTurn)&&this.connection.jingle.getStunAndTurnCredentials(),E.info("My Jabber ID: "+this.connection.jid),this._resetState();var u=this.connection.domain;this.caps.getFeaturesAndIdentities(u).then(function(t){var n=t.features,i=t.identities;n.has(r.Strophe.NS.PING)?(e._pingSupported=!0,e.connection.ping.startInterval(u)):E.warn("Ping NOT supported by "+u),i.forEach(function(t){"speakerstats"===t.type&&(e.speakerStatsComponentAddress=t.name),"conference_duration"===t.type&&(e.conferenceDurationComponentAddress=t.name)}),(e.speakerStatsComponentAddress||e.conferenceDurationComponentAddress)&&e.connection.addHandler(e._onPrivateMessage.bind(e),null,"message",null,null)}).catch(function(e){}),t.password&&(this.authenticatedUser=!0),this.connection&&this.connection.connected&&r.Strophe.getResourceFromJid(this.connection.jid)&&this.eventEmitter.emit(c.CONNECTION_ESTABLISHED,r.Strophe.getResourceFromJid(this.connection.jid))}else if(n===r.Strophe.Status.CONNFAIL)"x-strophe-bad-non-anon-jid"===i?this.anonymousConnectionFailed=!0:this.connectionFailed=!0,this.lastErrorMsg=i,"giving-up"===i&&this.eventEmitter.emit(c.CONNECTION_FAILED,s.OTHER_ERROR,i);else if(n===r.Strophe.Status.ERROR)this.lastErrorMsg=i;else if(n===r.Strophe.Status.DISCONNECTED){this.connection.ping.stopInterval();var d=Boolean(this.disconnectInProgress),l=i||this.lastErrorMsg;if(this.anonymousConnectionFailed)this.eventEmitter.emit(c.CONNECTION_FAILED,s.PASSWORD_REQUIRED);else if(this.connectionFailed)this.eventEmitter.emit(c.CONNECTION_FAILED,s.OTHER_ERROR,l,void 0,this._getConnectionFailedReasonDetails());else if(d)this.eventEmitter.emit(c.CONNECTION_DISCONNECTED,l);else{var h=r.Strophe.getLastErrorStatus();h>=500&&h<600?this.eventEmitter.emit(c.CONNECTION_FAILED,s.SERVER_ERROR,l||"server-error",void 0,this._getConnectionFailedReasonDetails()):this.eventEmitter.emit(c.CONNECTION_FAILED,s.CONNECTION_DROPPED_ERROR,l||"connection-dropped-error",void 0,this._getConnectionFailedReasonDetails())}}else n===r.Strophe.Status.AUTHFAIL&&this.eventEmitter.emit(c.CONNECTION_FAILED,s.PASSWORD_REQUIRED,i,t)}},{key:"_connect",value:function(e,t){this._resetState(),this.connection.connect(e,t,this.connectionHandler.bind(this,{jid:e,password:t}))}},{key:"attach",value:function(e){this._resetState();var t=this.connectionTimes.attaching=window.performance.now();E.log("(TIME) Strophe Attaching:\t",t),this.connection.attach(e.jid,e.sid,parseInt(e.rid,10)+1,this.connectionHandler.bind(this,{jid:e.jid,password:e.password}))}},{key:"_resetState",value:function(){this.anonymousConnectionFailed=!1,this.connectionFailed=!1,this.lastErrorMsg=void 0,this.disconnectInProgress=void 0}},{key:"connect",value:function(e,t){if(!e){var n=this.options.hosts,i=n.anonymousdomain,r=n.domain,o=i||r,a=window.location;if(i){var s=a&&a.search;(s&&-1!==s.indexOf("login=true")||this.token)&&(o=r)}e=o||a&&a.hostname}return this._connect(e,t)}},{key:"createRoom",value:function(e,t,n){var i=e+"@"+this.options.hosts.muc+"/",r=n?n(this.connection.jid,this.authenticatedUser):a.a.randomHexString(8).toLowerCase();return E.info("JID "+this.connection.jid+" using MUC nickname "+r),i+=r,this.connection.emuc.createRoom(i,null,t)}},{key:"getJid",value:function(){return this.connection.jid}},{key:"getJingleLog",value:function(){var e=this.connection.jingle;return e?e.getLog():{}}},{key:"getXmppLog",value:function(){return(this.connection.logger||{}).log||null}},{key:"dial",value:function(){var e;(e=this.connection.rayo).dial.apply(e,arguments)}},{key:"ping",value:function(e){var t=this;return new Promise(function(n,i){t.isPingSupported()?t.connection.ping.ping(t.connection.domain,n,i,e):i("PING operation is not supported by the server")})}},{key:"getSessions",value:function(){return this.connection.jingle.sessions}},{key:"disconnect",value:function(e){var t=this;return this.disconnectInProgress?this.disconnectInProgress:this.connection?(this.disconnectInProgress=new Promise(function(e){t.eventEmitter.on(_.a.CONNECTION_STATUS_CHANGED,function n(i,o){o===r.Strophe.Status.DISCONNECTED&&(e(),t.eventEmitter.removeListener(_.a.CONNECTION_STATUS_CHANGED,n))})}),this._cleanupXmppConnection(e),this.disconnectInProgress):Promise.resolve()}},{key:"_cleanupXmppConnection",value:function(e){if(!this.connection.isUsingWebSocket&&this.connection.flush(),!this.connection.isUsingWebSocket&&null!=e){var t=e.type;if(("beforeunload"===t||"unload"===t)&&(this.connection.options.sync=!0,this.connection.sendUnavailableBeacon()))return}this.connection.disconnect(),!0!==this.connection.options.sync&&this.connection.flush()}},{key:"_initStrophePlugins",value:function(){var e={jvb:{iceServers:[]},p2p:{iceServers:[]}},t=this.options.p2p&&this.options.p2p.stunServers||b;Array.isArray(t)&&(E.info("P2P STUN servers: ",t),e.p2p.iceServers=t),this.options.p2p&&this.options.p2p.iceTransportPolicy&&(E.info("P2P ICE transport policy: ",this.options.p2p.iceTransportPolicy),e.p2p.iceTransportPolicy=this.options.p2p.iceTransportPolicy),this.connection.addConnectionPlugin("emuc",new d.a(this)),this.connection.addConnectionPlugin("jingle",new l.a(this,this.eventEmitter,e)),this.connection.addConnectionPlugin("ping",new p.a(this)),this.connection.addConnectionPlugin("rayo",new f.a)}},{key:"_getConnectionFailedReasonDetails",value:function(){var e={};if(this.options.deploymentInfo&&this.options.deploymentInfo.shard&&this.connection.lastResponseHeaders){var t={};this.connection.lastResponseHeaders.trim().split(/[\r\n]+/).forEach(function(e){var n=e.split(": "),i=n.shift(),r=n.join(": ");t[i]=r}),e.shard_changed=this.options.deploymentInfo.shard!==t["x-jitsi-shard"]}return e.suspend_time=this.connection.ping.getPingSuspendTime(),e.time_since_last_success=this.connection.getTimeSinceLastSuccess(),e}},{key:"sendDominantSpeakerEvent",value:function(e){if(this.speakerStatsComponentAddress&&e){var t=Object(r.$msg)({to:this.speakerStatsComponentAddress});t.c("speakerstats",{xmlns:"http://jitsi.org/jitmeet",room:e}).up(),this.connection.send(t)}}},{key:"tryParseJSONAndVerify",value:function(e){try{var t=JSON.parse(e);if(t&&"object"==typeof t){var n=t[C];if(void 0!==n)return t;E.debug("parsing valid json but does not have correct structure","topic: ",n)}}catch(e){return!1}return!1}},{key:"_onPrivateMessage",value:function(e){var t=e.getAttribute("from");if(t===this.speakerStatsComponentAddress||t===this.conferenceDurationComponentAddress){var n=$(e).find(">json-message").text(),i=this.tryParseJSONAndVerify(n);return i&&"speakerstats"===i[C]&&i.users&&this.eventEmitter.emit(_.a.SPEAKER_STATS_RECEIVED,i.users),i&&"conference_duration"===i[C]&&i.created_timestamp&&this.eventEmitter.emit(_.a.CONFERENCE_TIMESTAMP_RECEIVED,i.created_timestamp),!0}}}]),t})(v.a)}).call(this,"modules/xmpp/xmpp.js")},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r});var i="signaling.peerMuted",r="signaling.peerVideoType"},function(e,t,n){"use strict";n.r(t),n.d(t,"CONNECTION_DROPPED_ERROR",function(){return i}),n.d(t,"OTHER_ERROR",function(){return r}),n.d(t,"PASSWORD_REQUIRED",function(){return o}),n.d(t,"SERVER_ERROR",function(){return a});var i="connection.droppedError",r="connection.otherError",o="connection.passwordRequired",a="connection.serverError"},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return u});var i=n(4),r=n(2),o=(n(145),n(24)),a=n(97),s=n(98),c=Object(i.getLogger)(e),u=(function(e){function t(e){var n,i=e.enableWebsocketResume,o=e.websocketKeepAlive,a=e.serviceUrl;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._options={enableWebsocketResume:void 0===i||i,websocketKeepAlive:void 0===o?24e4:Number(o)},n._resumeRetryN=0,n._stropheConn=new r.Strophe.Connection(a),n._usesWebsocket=a.startsWith("ws:")||a.startsWith("wss:"),n._stropheConn.maxRetries=3,n._lastSuccessTracker=new s.a,n._lastSuccessTracker.startTracking(n._stropheConn),n._deferredIQs=[],n}return _inherits(t,e),_createClass(t,null,[{key:"Events",get:function(){return{CONN_STATUS_CHANGED:"CONN_STATUS_CHANGED"}}},{key:"Status",get:function(){return r.Strophe.Status}}]),_createClass(t,[{key:"addConnectionPlugin",value:function(e,t){this[e]=t,t.init(this)}},{key:"addHandler",value:function(){var e;(e=this._stropheConn).addHandler.apply(e,arguments)}},{key:"attach",value:function(e,t,n,i){for(var r,o=arguments.length,a=new Array(o>4?o-4:0),s=4;s<o;s++)a[s-4]=arguments[s];(r=this._stropheConn).attach.apply(r,[e,t,n,this._stropheConnectionCb.bind(this,i)].concat(a))}},{key:"connect",value:function(e,t,n){for(var i,r=arguments.length,o=new Array(r>3?r-3:0),a=3;a<r;a++)o[a-3]=arguments[a];(i=this._stropheConn).connect.apply(i,[e,t,this._stropheConnectionCb.bind(this,n)].concat(o))}},{key:"_stropheConnectionCb",value:function(e,n){this._status=n;for(var i=!1,o=arguments.length,a=new Array(o>2?o-2:0),s=2;s<o;s++)a[s-2]=arguments[s];n===r.Strophe.Status.CONNECTED||n===r.Strophe.Status.ATTACHED?(this._maybeEnableStreamResume(),this._maybeStartWSKeepAlive(),this._processDeferredIQs()):n===r.Strophe.Status.DISCONNECTED&&((i=this._tryResumingConnection())||clearTimeout(this._wsKeepAlive)),i||(e.apply(void 0,[n].concat(a)),this.eventEmitter.emit(t.Events.CONN_STATUS_CHANGED,n))}},{key:"_clearDeferredIQs",value:function(){var e=this._deferredIQs,t=Array.isArray(e),n=0;for(e=t?e:e["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var i;if(t){if(n>=e.length)break;i=e[n++]}else{if((n=e.next()).done)break;i=n.value}i.reject(new Error("disconnect"))}this._deferredIQs=[]}},{key:"closeWebsocket",value:function(){this._stropheConn._proto&&this._stropheConn._proto.socket&&this._stropheConn._proto.socket.close()}},{key:"disconnect",value:function(){var e;clearTimeout(this._resumeTimeout),clearTimeout(this._wsKeepAlive),this._clearDeferredIQs(),(e=this._stropheConn).disconnect.apply(e,arguments)}},{key:"flush",value:function(){var e;(e=this._stropheConn).flush.apply(e,arguments)}},{key:"getTimeSinceLastSuccess",value:function(){return this._lastSuccessTracker.getTimeSinceLastSuccess()}},{key:"_maybeEnableStreamResume",value:function(){if(this._options.enableWebsocketResume){var e=this._stropheConn.streamManagement;this.isUsingWebSocket?e?e.isSupported()?e.getResumeToken()||(c.info("Enabling XEP-0198 stream management"),e.enable(!0)):c.warn("Stream resume enabled, but XEP-0198 is not supported by the server"):c.warn("Stream resume enabled, but Strophe streamManagement plugin is not installed"):c.warn("Stream resume enabled, but WebSockets are not enabled")}}},{key:"_maybeStartWSKeepAlive",value:function(){var e=this,t=this._options.websocketKeepAlive;if(this._usesWebsocket&&t>0){this._wsKeepAlive||c.info("WebSocket keep alive interval: "+t+"ms"),clearTimeout(this._wsKeepAlive);var n=.2*t+.8*Math.random()*t;c.debug("Scheduling next WebSocket keep-alive in "+n+"ms"),this._wsKeepAlive=setTimeout(function(){var t=e.service.replace("wss://","https://").replace("ws://","http://");fetch(t).catch(function(e){}).then(function(){return e._maybeStartWSKeepAlive()})},n)}}},{key:"_processDeferredIQs",value:function(){var e=this,t=function(t){if(t.iq){clearTimeout(t.timeout);var n=Date.now()-t.start;e.sendIQ(t.iq,function(e){return t.resolve(e)},function(e){return t.reject(e)},n)}},n=this._deferredIQs,i=Array.isArray(n),r=0;for(n=i?n:n["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var o;if(i){if(r>=n.length)break;o=n[r++]}else{if((r=n.next()).done)break;o=r.value}t(o)}this._deferredIQs=[]}},{key:"send",value:function(e){if(!this.connected)throw new Error("Not connected");this._stropheConn.send(e)}},{key:"sendIQ",value:function(e,t,n,i){if(this.connected)return this._stropheConn.sendIQ(e,t,n,i);n("Not connected")}},{key:"sendIQ2",value:function(e,t){var n=this,i=t.timeout;return new Promise(function(t,r){if(n.connected)n.sendIQ(e,function(e){return t(e)},function(e){return r(e)});else{var o={iq:e,resolve:t,reject:r,start:Date.now(),timeout:setTimeout(function(){o.iq=void 0,r(void 0)},i)};n._deferredIQs.push(o)}})}},{key:"sendPresence",value:function(e,t,n,i){this.connected?this._stropheConn.sendPresence(e,t,n,i):n("Not connected")}},{key:"sendUnavailableBeacon",value:function(){if(!navigator.sendBeacon||this._stropheConn.disconnecting||!this._stropheConn.connected)return!1;this._stropheConn._changeConnectStatus(r.Strophe.Status.DISCONNECTING),this._stropheConn.disconnecting=!0;var e=this._stropheConn._proto._buildBody().attrs({type:"terminate"}),t=Object(r.$pres)({xmlns:r.Strophe.NS.CLIENT,type:"unavailable"});e.cnode(t.tree());var n=navigator.sendBeacon(-1===this.service.indexOf("https://")?"https:"+this.service:this.service,r.Strophe.serialize(e.tree()));return c.info("Successfully send unavailable beacon "+n),this._stropheConn._proto._abortAllRequests(),this._stropheConn._doDisconnect(),!0}},{key:"_tryResumingConnection",value:function(){var e=this,t=this._stropheConn.streamManagement,n=t&&t.getResumeToken();if(n){clearTimeout(this._resumeTimeout),this._resumeRetryN=Math.min(3,this._resumeRetryN+1);var i=Object(a.a)(this._resumeRetryN,1500,3);return c.info("Will try to resume the XMPP connection in "+i+"ms"),this._resumeTimeout=setTimeout(function(){c.info("Trying to resume the XMPP connection");var i=new URL(e._stropheConn.service),r=i.search;r+=-1===r.indexOf("?")?"?previd="+n:"&previd="+n,i.search=r,e._stropheConn.service=i.toString(),t.resume()},i),!0}return!1}},{key:"connected",get:function(){return this._status===r.Strophe.Status.CONNECTED||this._status===r.Strophe.Status.ATTACHED}},{key:"disco",get:function(){return this._stropheConn.disco}},{key:"disconnecting",get:function(){return!0===this._stropheConn.disconnecting}},{key:"domain",get:function(){return this._stropheConn.domain}},{key:"isUsingWebSocket",get:function(){return this._usesWebsocket}},{key:"jid",get:function(){return this._stropheConn.jid}},{key:"lastResponseHeaders",get:function(){return this._stropheConn._proto&&this._stropheConn._proto.lastResponseHeaders}},{key:"logger",get:function(){return this._stropheConn.logger}},{key:"options",get:function(){return this._stropheConn.options}},{key:"service",get:function(){return this._stropheConn.service}},{key:"status",get:function(){return this._status}}]),t})(o.a)}).call(this,"modules/xmpp/XmppConnection.js")},function(e,t){e.exports={ENVIRONMENT:"environment",USER:"user"}},function(e,t,n){"use strict";(function(e){var i=n(17),r=n(13),o=n(1);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=n(4).getLogger(e);n(14);var c=!1,u=!1,d=null,l={intChromeExtPromise:null,obtainStream:null,init:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{desktopSharingChromeDisabled:!1,desktopSharingChromeExtId:null,desktopSharingFirefoxDisabled:!1},t=arguments.length>1?arguments[1]:void 0;this.options=e,d=t,this.obtainStream=this._createObtainStreamMethod(e),this.obtainStream||s.info("Desktop sharing disabled")},_createObtainStreamMethod:function(e){var t=this;return o.a.isNWJS()?function(e,t,n){window.JitsiMeetNW.obtainDesktopStream(t,function(e,t){var o;o=e&&"InvalidStateError"===e.name?new i.a(r.CHROME_EXTENSION_USER_CANCELED):new i.a(e,t,["desktop"]),"function"==typeof n&&n(o)})}:o.a.isElectron()?this.obtainScreenOnElectron:o.a.isChrome()||o.a.isOpera()?o.a.supportsGetDisplayMedia()&&!e.desktopSharingChromeDisabled?this.obtainScreenFromGetDisplayMedia:e.desktopSharingChromeDisabled||!e.desktopSharingChromeExtId?null:(s.info("Using Chrome extension for desktop sharing"),this.intChromeExtPromise=(function(e){return(function(e){0===$("link[rel=chrome-webstore-item]").length&&$("head").append('<link rel="chrome-webstore-item">'),$("link[rel=chrome-webstore-item]").attr("href",h(e))})(e),new Promise(function(t){p(function(e,n){c=e,u=n,s.info("Chrome extension installed: "+c+" updateRequired: "+u),t()},e)})})(e).then(function(){t.intChromeExtPromise=null}),this.obtainScreenFromExtension):o.a.isFirefox()?e.desktopSharingFirefoxDisabled?null:o.a.supportsGetDisplayMedia()?this.obtainScreenFromGetDisplayMedia:this.obtainScreenOnFirefox:o.a.isSafari()&&o.a.supportsGetDisplayMedia()?this.obtainScreenFromGetDisplayMedia:(s.log("Screen sharing not supported by the current browser: ",o.a.getName()),null)},isSupported:function(){return null!==this.obtainStream},obtainScreenOnFirefox:function(e,t,n){!(function(e,t,n){d(["screen"],e).then(function(e){return t({stream:e})},n)})(e.gumOptions,t,n)},obtainScreenOnElectron:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;if(window.JitsiMeetScreenObtainer&&window.JitsiMeetScreenObtainer.openDesktopPicker){var o=e.desktopSharingSources,a=e.gumOptions;window.JitsiMeetScreenObtainer.openDesktopPicker({desktopSharingSources:o||this.options.desktopSharingChromeSources},function(e,i){return f({response:{streamId:e,streamType:i,screenShareAudio:arguments.length>2&&void 0!==arguments[2]&&arguments[2]},gumOptions:a},t,n)},function(e){return n(new i.a(r.ELECTRON_DESKTOP_PICKER_ERROR,e))})}else n(new i.a(r.ELECTRON_DESKTOP_PICKER_NOT_FOUND))},obtainScreenFromExtension:function(e,t,n){var o=this;if(null===this.intChromeExtPromise){var a=this.options,d=a.desktopSharingChromeExtId,l=a.desktopSharingChromeSources,h=e.gumOptions,p={desktopSharingChromeExtId:d,desktopSharingChromeSources:e.desktopSharingSources||l,gumOptions:h};c?(function(e,t,n){var o=p.desktopSharingChromeSources,a=p.desktopSharingChromeExtId,c=p.gumOptions;chrome.runtime.sendMessage(a,{getStream:!0,sources:o},function(e){if(e)s.log("Response from extension: ",e),f({response:e,gumOptions:c},t,n);else{var o=chrome.runtime.lastError;n(o instanceof Error?o:new i.a(r.CHROME_EXTENSION_GENERIC_ERROR,o))}})})(0,t,n):(u&&alert("Jitsi Desktop Streamer requires update. Changes will take effect after next Chrome restart."),this.handleExternalInstall(e,t,n))}else this.intChromeExtPromise.then(function(){o.obtainScreenFromExtension(e,t,n)})},handleExternalInstall:function(e,t,n,i){var r=h(this.options);e.listener("waitingForExtension",r),this.checkForChromeExtensionOnInterval(e,t,n,i)},checkForChromeExtensionOnInterval:function(e,t,n){var o=this;!1!==e.checkAgain()?(function(e,t,n){return new Promise(function(n,i){var r=1,o=window.setInterval(function(){p(function(e){e?(window.clearInterval(o),n()):0==--r&&(i(),window.clearInterval(o))},e)},t)})})(this.options,e.interval).then(function(){c=!0,e.listener("extensionFound"),o.obtainScreenFromExtension(e,t,n)}).catch(function(){o.checkForChromeExtensionOnInterval(e,t,n)}):n(new i.a(r.CHROME_EXTENSION_INSTALLATION_ERROR))},obtainScreenFromGetDisplayMedia:function(e,t,n){s.info("Using getDisplayMedia for screen sharing"),(navigator.getDisplayMedia?navigator.getDisplayMedia.bind(navigator):navigator.mediaDevices.getDisplayMedia.bind(navigator.mediaDevices))({video:!0,audio:!0}).then(function(n){var i;if(n&&n.getTracks()&&n.getTracks().length>0){var r=n.getVideoTracks()[0];r&&(i=r.applyConstraints(e.trackOptions))}else i=Promise.resolve();i.then(function(){return t({stream:n,sourceId:n.id})})}).catch(function(){return n(new i.a(r.CHROME_EXTENSION_USER_CANCELED))})}};function h(e){return"https://chrome.google.com/webstore/detail/"+e.desktopSharingChromeExtId}function p(e,t){"undefined"!=typeof chrome&&chrome&&chrome.runtime?chrome.runtime.sendMessage(t.desktopSharingChromeExtId,{getVersion:!0},function(n){if(!n||!n.version)return s.warn("Extension not installed?: ",chrome.runtime.lastError),void e(!1,!1);var i=n.version;s.log("Extension version is: "+i);var r=(function(e,t){try{for(var n=e.split("."),i=t.split("."),r=Math.max(n.length,i.length),o=0;o<r;o++){var a=0,s=0;if(o<n.length&&(a=parseInt(n[o],10)),o<i.length&&(s=parseInt(i[o],10)),isNaN(a)||isNaN(s))return!0;if(a!==s)return a>s}return!1}catch(e){return!0}})(t.desktopSharingChromeMinExtVersion,i);e(!r,r)}):e(!1,!1)}function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{response:{},gumOptions:{}},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,o=e.response||{},s=o.streamId,c=o.streamType,u=o.screenShareAudio,l=o.error;if(s){var h=(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){a(e,t,n[t])})}return e})({desktopStream:s,screenShareAudio:u},e.gumOptions);d(["desktop"],h).then(function(e){return t({stream:e,sourceId:s,sourceType:c})},n)}else{if(""===s)return void n(new i.a(r.CHROME_EXTENSION_USER_CANCELED));n(new i.a(r.CHROME_EXTENSION_GENERIC_ERROR,l))}}t.a=l}).call(this,"modules/RTC/ScreenObtainer.js")},function(e,t){var n;n=(function(){return this})();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return g}),n.d(t,"b",function(){return y});var i=n(4),r=n(3),o=n(15),a=n(9),s=n(1),c=n(8),u=n.n(c),d=n(5),l=n(7);function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){p(e,t,n[t])})}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=Object(i.getLogger)(e),m=500,v=1e4,g={ACTIVE:"active",INACTIVE:"inactive",INTERRUPTED:"interrupted",RESTORING:"restoring"},y=(function(){function e(t,n,i){_classCallCheck(this,e),this.rtc=t,this.conference=n,this.trackTimers={},this.connStatusFromJvb={},this.outOfLastNTimeout="number"==typeof i.outOfLastNTimeout?i.outOfLastNTimeout:m,this.rtcMuteTimeout="number"==typeof i.rtcMuteTimeout?i.rtcMuteTimeout:v,this.rtcMutedTimestamp={},f.info("RtcMuteTimeout set to: "+this.rtcMuteTimeout),this.enteredLastNTimestamp=new Map,this.restoringTimers=new Map,this.connectionStatusMap=new Map}return _createClass(e,null,[{key:"_getNewStateForJvbMode",value:function(e,t,n,i,r){return e?i?g.ACTIVE:s.a.supportsVideoMuteOnConnInterrupted()?r?t?n?g.INTERRUPTED:g.RESTORING:g.INACTIVE:g.ACTIVE:t?g.ACTIVE:g.INACTIVE:g.INTERRUPTED}},{key:"_getNewStateForP2PMode",value:function(e,t){return s.a.supportsVideoMuteOnConnInterrupted()?e||!t?g.ACTIVE:g.INTERRUPTED:g.ACTIVE}}]),_createClass(e,[{key:"_getVideoFrozenTimeout",value:function(e){return this.rtc.isInLastN(e)?this.rtcMuteTimeout:this.outOfLastNTimeout}},{key:"init",value:function(){this._onEndpointConnStatusChanged=this.onEndpointConnStatusChanged.bind(this),this.rtc.addListener(u.a.ENDPOINT_CONN_STATUS_CHANGED,this._onEndpointConnStatusChanged),this._onP2PStatus=this.refreshConnectionStatusForAll.bind(this),this.conference.on(r.P2P_STATUS,this._onP2PStatus),this._onUserLeft=this.onUserLeft.bind(this),this.conference.on(r.USER_LEFT,this._onUserLeft),s.a.supportsVideoMuteOnConnInterrupted()&&(this._onTrackRtcMuted=this.onTrackRtcMuted.bind(this),this.rtc.addListener(u.a.REMOTE_TRACK_MUTE,this._onTrackRtcMuted),this._onTrackRtcUnmuted=this.onTrackRtcUnmuted.bind(this),this.rtc.addListener(u.a.REMOTE_TRACK_UNMUTE,this._onTrackRtcUnmuted),this._onRemoteTrackAdded=this.onRemoteTrackAdded.bind(this),this.conference.on(r.TRACK_ADDED,this._onRemoteTrackAdded),this._onRemoteTrackRemoved=this.onRemoteTrackRemoved.bind(this),this.conference.on(r.TRACK_REMOVED,this._onRemoteTrackRemoved),this._onSignallingMuteChanged=this.onSignallingMuteChanged.bind(this),this._onTrackVideoTypeChanged=this.onTrackVideoTypeChanged.bind(this)),this._onLastNChanged=this._onLastNChanged.bind(this),this.conference.on(r.LAST_N_ENDPOINTS_CHANGED,this._onLastNChanged),this._onLastNValueChanged=this.refreshConnectionStatusForAll.bind(this),this.rtc.on(u.a.LASTN_VALUE_CHANGED,this._onLastNValueChanged)}},{key:"dispose",value:function(){this.rtc.removeListener(u.a.ENDPOINT_CONN_STATUS_CHANGED,this._onEndpointConnStatusChanged),s.a.supportsVideoMuteOnConnInterrupted()&&(this.rtc.removeListener(u.a.REMOTE_TRACK_MUTE,this._onTrackRtcMuted),this.rtc.removeListener(u.a.REMOTE_TRACK_UNMUTE,this._onTrackRtcUnmuted),this.conference.off(r.TRACK_ADDED,this._onRemoteTrackAdded),this.conference.off(r.TRACK_REMOVED,this._onRemoteTrackRemoved)),this.conference.off(r.LAST_N_ENDPOINTS_CHANGED,this._onLastNChanged),this.rtc.removeListener(u.a.LASTN_VALUE_CHANGED,this._onLastNValueChanged),this.conference.off(r.P2P_STATUS,this._onP2PStatus),this.conference.off(r.USER_LEFT,this._onUserLeft);for(var e=0,t=Object.keys(this.trackTimers);e<t.length;e++){var n=t[e];this.clearTimeout(n),this.clearRtcMutedTimestamp(n)}for(var i in this.connectionStatusMap)this.connectionStatusMap.hasOwnProperty(i)&&this.onUserLeft(i);this.connStatusFromJvb={}}},{key:"onEndpointConnStatusChanged",value:function(e,t){f.debug("Detector RTCEvents.ENDPOINT_CONN_STATUS_CHANGED("+Date.now()+"): "+e+": "+t),e!==this.conference.myUserId()&&(this.connStatusFromJvb[e]=t,this.figureOutConnectionStatus(e))}},{key:"_changeConnectionStatus",value:function(e,t){if(e.getConnectionStatus()!==t){var n=e.getId();e._setConnectionStatus(t),f.debug("Emit endpoint conn status("+Date.now()+") "+n+": "+t),d.a.sendLog(JSON.stringify({id:"peer.conn.status",participant:n,status:t})),this.conference.eventEmitter.emit(r.PARTICIPANT_CONN_STATUS_CHANGED,n,t)}}},{key:"clearTimeout",value:function(e){this.trackTimers[e]&&(window.clearTimeout(this.trackTimers[e]),this.trackTimers[e]=null)}},{key:"clearRtcMutedTimestamp",value:function(e){this.rtcMutedTimestamp[e]=null}},{key:"onRemoteTrackAdded",value:function(e){var t=this;e.isLocal()||e.getType()!==a.c||(f.debug("Detector on remote track added for: "+e.getParticipantId()),e.on(o.TRACK_MUTE_CHANGED,this._onSignallingMuteChanged),e.on(o.TRACK_VIDEOTYPE_CHANGED,function(n){return t._onTrackVideoTypeChanged(e,n)}))}},{key:"onRemoteTrackRemoved",value:function(e){if(!e.isLocal()&&e.getType()===a.c){var t=e.getParticipantId();f.debug("Detector on remote track removed: "+t),e.off(o.TRACK_MUTE_CHANGED,this._onSignallingMuteChanged),this.clearTimeout(t),this.clearRtcMutedTimestamp(t),this.figureOutConnectionStatus(t)}}},{key:"isVideoTrackFrozen",value:function(e){if(!s.a.supportsVideoMuteOnConnInterrupted())return!1;var t=e.getId(),n=e.hasAnyVideoTrackWebRTCMuted(),i=this.rtcMutedTimestamp[t],r=this._getVideoFrozenTimeout(t);return n&&"number"==typeof i&&Date.now()-i>=r}},{key:"refreshConnectionStatusForAll",value:function(){var e=this.conference.getParticipants(),t=Array.isArray(e),n=0;for(e=t?e:e["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var i;if(t){if(n>=e.length)break;i=e[n++]}else{if((n=e.next()).done)break;i=n.value}var r=i;this.figureOutConnectionStatus(r.getId())}}},{key:"figureOutConnectionStatus",value:function(t){var n=this.conference.getParticipantById(t);if(n){var i=this.conference.isP2PActive(),r=this._isRestoringTimedout(t),o=0===this.rtc.getLastN(),s=n.isVideoMuted()||o,c=this.isVideoTrackFrozen(n),u=this.rtc.isInLastN(t),d=this.connStatusFromJvb[t];"boolean"!=typeof d&&(f.debug("Assuming connection active by JVB - no notification"),d=!0);var l=i?e._getNewStateForP2PMode(s,c):e._getNewStateForJvbMode(d,u,r,s,c);l!==g.RESTORING&&this._clearRestoringTimer(t),f.debug("Figure out conn status for "+t+", is video muted: "+s+" is active(jvb): "+d+" video track frozen: "+c+" p2p mode: "+i+" is in last N: "+u+" currentStatus => newStatus: "+n.getConnectionStatus()+" => "+l);var p=this.connectionStatusMap[t]||{};if(!("p2p"in p&&"connectionStatus"in p&&p.p2p===i&&p.connectionStatus===l)){var m=Date.now();if(this.maybeSendParticipantConnectionStatusEvent(t,m),this.connectionStatusMap[t]=h({},p,{connectionStatus:l,p2p:i,startedMs:m}),!("videoType"in this.connectionStatusMap[t])){var v=n.getTracksByMediaType(a.c);Array.isArray(v)&&0!==v.length&&(this.connectionStatusMap[t].videoType=v[0].videoType)}}this._changeConnectionStatus(n,l)}else f.debug("figure out conn status - no participant for: "+t)}},{key:"maybeSendParticipantConnectionStatusEvent",value:function(e,t){var n=this.connectionStatusMap[e];n&&"startedMs"in n&&"videoType"in n&&"connectionStatus"in n&&"p2p"in n&&(n.value=t-n.startedMs,d.a.sendAnalytics(Object(l.J)(n)))}},{key:"_onLastNChanged",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Date.now();f.debug("leaving/entering lastN",e,t,n);var i=e,r=Array.isArray(i),o=0;for(i=r?i:i["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var a;if(r){if(o>=i.length)break;a=i[o++]}else{if((o=i.next()).done)break;a=o.value}var s=a;this.enteredLastNTimestamp.delete(s),this._clearRestoringTimer(s),this.figureOutConnectionStatus(s)}var c=t,u=Array.isArray(c),d=0;for(c=u?c:c["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var l;if(u){if(d>=c.length)break;l=c[d++]}else{if((d=c.next()).done)break;l=d.value}var h=l;this.enteredLastNTimestamp.set(h,n),this.figureOutConnectionStatus(h)}}},{key:"_clearRestoringTimer",value:function(e){var t=this.restoringTimers.get(e);t&&(clearTimeout(t),this.restoringTimers.delete(e))}},{key:"_isRestoringTimedout",value:function(e){var t=this,n=this.enteredLastNTimestamp.get(e);return!!(n&&Date.now()-n>=1e4)||(this.restoringTimers.get(e)||this.restoringTimers.set(e,setTimeout(function(){return t.figureOutConnectionStatus(e)},1e4)),!1)}},{key:"onUserLeft",value:function(e){this.maybeSendParticipantConnectionStatusEvent(e,Date.now()),delete this.connectionStatusMap[e]}},{key:"onTrackRtcMuted",value:function(e){var t=this,n=e.getParticipantId(),i=this.conference.getParticipantById(n);if(f.debug("Detector track RTC muted: "+n,Date.now()),i&&(this.rtcMutedTimestamp[n]=Date.now(),!i.isVideoMuted())){this.clearTimeout(n);var r=this._getVideoFrozenTimeout(n);this.trackTimers[n]=window.setTimeout(function(){f.debug("Set RTC mute timeout for: "+n+"                     of "+r+" ms"),t.clearTimeout(n),t.figureOutConnectionStatus(n)},r)}}},{key:"onTrackRtcUnmuted",value:function(e){var t=e.getParticipantId();f.debug("Detector track RTC unmuted: "+t,Date.now()),this.clearTimeout(t),this.clearRtcMutedTimestamp(t),this.figureOutConnectionStatus(t)}},{key:"onSignallingMuteChanged",value:function(e){var t=e.getParticipantId();f.debug("Detector on track signalling mute changed: "+t,e.isMuted()),this.figureOutConnectionStatus(t)}},{key:"onTrackVideoTypeChanged",value:function(e,t){var n=e.getParticipantId(),i=Date.now();this.maybeSendParticipantConnectionStatusEvent(n,i),this.connectionStatusMap[n]=h({},this.connectionStatusMap[n]||{},{videoType:t,startedMs:i})}}]),e})()}).call(this,"modules/connectivity/ParticipantConnectionStatus.js")},function(e,t,n){"use strict";var i={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};i.localCName=i.generateIdentifier(),i.splitLines=function(e){return e.trim().split("\n").map(function(e){return e.trim()})},i.splitSections=function(e){return e.split("\nm=").map(function(e,t){return(t>0?"m="+e:e).trim()+"\r\n"})},i.getDescription=function(e){var t=i.splitSections(e);return t&&t[0]},i.getMediaSections=function(e){var t=i.splitSections(e);return t.shift(),t},i.matchPrefix=function(e,t){return i.splitLines(e).filter(function(e){return 0===e.indexOf(t)})},i.parseCandidate=function(e){for(var t,n={foundation:(t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" "))[0],component:parseInt(t[1],10),protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]},i=8;i<t.length;i+=2)switch(t[i]){case"raddr":n.relatedAddress=t[i+1];break;case"rport":n.relatedPort=parseInt(t[i+1],10);break;case"tcptype":n.tcpType=t[i+1];break;case"ufrag":n.ufrag=t[i+1],n.usernameFragment=t[i+1];break;default:n[t[i]]=t[i+1]}return n},i.writeCandidate=function(e){var t=[];t.push(e.foundation),t.push(e.component),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);var n=e.type;return t.push("typ"),t.push(n),"host"!==n&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},i.parseIceOptions=function(e){return e.substr(14).split(" ")},i.parseRtpMap=function(e){var t=e.substr(9).split(" "),n={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),n.name=t[0],n.clockRate=parseInt(t[1],10),n.channels=3===t.length?parseInt(t[2],10):1,n.numChannels=n.channels,n},i.writeRtpMap=function(e){var t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);var n=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==n?"/"+n:"")+"\r\n"},i.parseExtmap=function(e){var t=e.substr(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1]}},i.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+"\r\n"},i.parseFmtp=function(e){for(var t,n={},i=e.substr(e.indexOf(" ")+1).split(";"),r=0;r<i.length;r++)n[(t=i[r].trim().split("="))[0].trim()]=t[1];return n},i.writeFmtp=function(e){var t="",n=e.payloadType;if(void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){var i=[];Object.keys(e.parameters).forEach(function(t){e.parameters[t]?i.push(t+"="+e.parameters[t]):i.push(t)}),t+="a=fmtp:"+n+" "+i.join(";")+"\r\n"}return t},i.parseRtcpFb=function(e){var t=e.substr(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},i.writeRtcpFb=function(e){var t="",n=e.payloadType;return void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach(function(e){t+="a=rtcp-fb:"+n+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"}),t},i.parseSsrcMedia=function(e){var t=e.indexOf(" "),n={ssrc:parseInt(e.substr(7,t-7),10)},i=e.indexOf(":",t);return i>-1?(n.attribute=e.substr(t+1,i-t-1),n.value=e.substr(i+1)):n.attribute=e.substr(t+1),n},i.parseSsrcGroup=function(e){var t=e.substr(13).split(" ");return{semantics:t.shift(),ssrcs:t.map(function(e){return parseInt(e,10)})}},i.getMid=function(e){var t=i.matchPrefix(e,"a=mid:")[0];if(t)return t.substr(6)},i.parseFingerprint=function(e){var t=e.substr(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1]}},i.getDtlsParameters=function(e,t){return{role:"auto",fingerprints:i.matchPrefix(e+t,"a=fingerprint:").map(i.parseFingerprint)}},i.writeDtlsParameters=function(e,t){var n="a=setup:"+t+"\r\n";return e.fingerprints.forEach(function(e){n+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"}),n},i.parseCryptoLine=function(e){var t=e.substr(9).split(" ");return{tag:parseInt(t[0],10),cryptoSuite:t[1],keyParams:t[2],sessionParams:t.slice(3)}},i.writeCryptoLine=function(e){return"a=crypto:"+e.tag+" "+e.cryptoSuite+" "+("object"==typeof e.keyParams?i.writeCryptoKeyParams(e.keyParams):e.keyParams)+(e.sessionParams?" "+e.sessionParams.join(" "):"")+"\r\n"},i.parseCryptoKeyParams=function(e){if(0!==e.indexOf("inline:"))return null;var t=e.substr(7).split("|");return{keyMethod:"inline",keySalt:t[0],lifeTime:t[1],mkiValue:t[2]?t[2].split(":")[0]:void 0,mkiLength:t[2]?t[2].split(":")[1]:void 0}},i.writeCryptoKeyParams=function(e){return e.keyMethod+":"+e.keySalt+(e.lifeTime?"|"+e.lifeTime:"")+(e.mkiValue&&e.mkiLength?"|"+e.mkiValue+":"+e.mkiLength:"")},i.getCryptoParameters=function(e,t){return i.matchPrefix(e+t,"a=crypto:").map(i.parseCryptoLine)},i.getIceParameters=function(e,t){var n=i.matchPrefix(e+t,"a=ice-ufrag:")[0],r=i.matchPrefix(e+t,"a=ice-pwd:")[0];return n&&r?{usernameFragment:n.substr(12),password:r.substr(10)}:null},i.writeIceParameters=function(e){return"a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n"},i.parseRtpParameters=function(e){for(var t={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},n=i.splitLines(e)[0].split(" "),r=3;r<n.length;r++){var o=n[r],a=i.matchPrefix(e,"a=rtpmap:"+o+" ")[0];if(a){var s=i.parseRtpMap(a),c=i.matchPrefix(e,"a=fmtp:"+o+" ");switch(s.parameters=c.length?i.parseFmtp(c[0]):{},s.rtcpFeedback=i.matchPrefix(e,"a=rtcp-fb:"+o+" ").map(i.parseRtcpFb),t.codecs.push(s),s.name.toUpperCase()){case"RED":case"ULPFEC":t.fecMechanisms.push(s.name.toUpperCase())}}}return i.matchPrefix(e,"a=extmap:").forEach(function(e){t.headerExtensions.push(i.parseExtmap(e))}),t},i.writeRtpDescription=function(e,t){var n="";n+="m="+e+" ",n+=t.codecs.length>0?"9":"0",n+=" UDP/TLS/RTP/SAVPF ",n+=t.codecs.map(function(e){return void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType}).join(" ")+"\r\n",n+="c=IN IP4 0.0.0.0\r\n",n+="a=rtcp:9 IN IP4 0.0.0.0\r\n",t.codecs.forEach(function(e){n+=i.writeRtpMap(e),n+=i.writeFmtp(e),n+=i.writeRtcpFb(e)});var r=0;return t.codecs.forEach(function(e){e.maxptime>r&&(r=e.maxptime)}),r>0&&(n+="a=maxptime:"+r+"\r\n"),n+="a=rtcp-mux\r\n",t.headerExtensions&&t.headerExtensions.forEach(function(e){n+=i.writeExtmap(e)}),n},i.parseRtpEncodingParameters=function(e){var t,n=[],r=i.parseRtpParameters(e),o=-1!==r.fecMechanisms.indexOf("RED"),a=-1!==r.fecMechanisms.indexOf("ULPFEC"),s=i.matchPrefix(e,"a=ssrc:").map(function(e){return i.parseSsrcMedia(e)}).filter(function(e){return"cname"===e.attribute}),c=s.length>0&&s[0].ssrc,u=i.matchPrefix(e,"a=ssrc-group:FID").map(function(e){return e.substr(17).split(" ").map(function(e){return parseInt(e,10)})});u.length>0&&u[0].length>1&&u[0][0]===c&&(t=u[0][1]),r.codecs.forEach(function(e){if("RTX"===e.name.toUpperCase()&&e.parameters.apt){var i={ssrc:c,codecPayloadType:parseInt(e.parameters.apt,10)};c&&t&&(i.rtx={ssrc:t}),n.push(i),o&&((i=JSON.parse(JSON.stringify(i))).fec={ssrc:c,mechanism:a?"red+ulpfec":"red"},n.push(i))}}),0===n.length&&c&&n.push({ssrc:c});var d=i.matchPrefix(e,"b=");return d.length&&(d=0===d[0].indexOf("b=TIAS:")?parseInt(d[0].substr(7),10):0===d[0].indexOf("b=AS:")?1e3*parseInt(d[0].substr(5),10)*.95-16e3:void 0,n.forEach(function(e){e.maxBitrate=d})),n},i.parseRtcpParameters=function(e){var t={},n=i.matchPrefix(e,"a=ssrc:").map(function(e){return i.parseSsrcMedia(e)}).filter(function(e){return"cname"===e.attribute})[0];n&&(t.cname=n.value,t.ssrc=n.ssrc);var r=i.matchPrefix(e,"a=rtcp-rsize");t.reducedSize=r.length>0,t.compound=0===r.length;var o=i.matchPrefix(e,"a=rtcp-mux");return t.mux=o.length>0,t},i.parseMsid=function(e){var t,n=i.matchPrefix(e,"a=msid:");if(1===n.length)return{stream:(t=n[0].substr(7).split(" "))[0],track:t[1]};var r=i.matchPrefix(e,"a=ssrc:").map(function(e){return i.parseSsrcMedia(e)}).filter(function(e){return"msid"===e.attribute});return r.length>0?{stream:(t=r[0].value.split(" "))[0],track:t[1]}:void 0},i.parseSctpDescription=function(e){var t,n=i.parseMLine(e),r=i.matchPrefix(e,"a=max-message-size:");r.length>0&&(t=parseInt(r[0].substr(19),10)),isNaN(t)&&(t=65536);var o=i.matchPrefix(e,"a=sctp-port:");if(o.length>0)return{port:parseInt(o[0].substr(12),10),protocol:n.fmt,maxMessageSize:t};if(i.matchPrefix(e,"a=sctpmap:").length>0){var a=i.matchPrefix(e,"a=sctpmap:")[0].substr(10).split(" ");return{port:parseInt(a[0],10),protocol:a[1],maxMessageSize:t}}},i.writeSctpDescription=function(e,t){var n=[];return n="DTLS/SCTP"!==e.protocol?["m="+e.kind+" 9 "+e.protocol+" "+t.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+t.port+"\r\n"]:["m="+e.kind+" 9 "+e.protocol+" "+t.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+t.port+" "+t.protocol+" 65535\r\n"],void 0!==t.maxMessageSize&&n.push("a=max-message-size:"+t.maxMessageSize+"\r\n"),n.join("")},i.generateSessionId=function(){return Math.random().toString().substr(2,21)},i.writeSessionBoilerplate=function(e,t,n){var r=void 0!==t?t:2;return"v=0\r\no="+(n||"thisisadapterortc")+" "+(e||i.generateSessionId())+" "+r+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},i.writeMediaSection=function(e,t,n,r){var o=i.writeRtpDescription(e.kind,t);if(o+=i.writeIceParameters(e.iceGatherer.getLocalParameters()),o+=i.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===n?"actpass":"active"),o+="a=mid:"+e.mid+"\r\n",e.direction?o+="a="+e.direction+"\r\n":e.rtpSender&&e.rtpReceiver?o+="a=sendrecv\r\n":e.rtpSender?o+="a=sendonly\r\n":e.rtpReceiver?o+="a=recvonly\r\n":o+="a=inactive\r\n",e.rtpSender){var a="msid:"+r.id+" "+e.rtpSender.track.id+"\r\n";o+="a="+a,o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+a,e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+a,o+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+i.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+i.localCName+"\r\n"),o},i.getDirection=function(e,t){for(var n=i.splitLines(e),r=0;r<n.length;r++)switch(n[r]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return n[r].substr(2)}return t?i.getDirection(t):"sendrecv"},i.getKind=function(e){return i.splitLines(e)[0].split(" ")[0].substr(2)},i.isRejected=function(e){return"0"===e.split(" ",2)[1]},i.parseMLine=function(e){var t=i.splitLines(e)[0].substr(2).split(" ");return{kind:t[0],port:parseInt(t[1],10),protocol:t[2],fmt:t.slice(3).join(" ")}},i.parseOLine=function(e){var t=i.matchPrefix(e,"o=")[0].substr(2).split(" ");return{username:t[0],sessionId:t[1],sessionVersion:parseInt(t[2],10),netType:t[3],addressType:t[4],address:t[5]}},i.isValidSDP=function(e){if("string"!=typeof e||0===e.length)return!1;for(var t=i.splitLines(e),n=0;n<t.length;n++)if(t[n].length<2||"="!==t[n].charAt(1))return!1;return!0},e.exports=i},function(e,t,n){"use strict";t.a={getFocusRecordingUpdate:function(e){var t=e&&e.getElementsByTagName("jibri-recording-status")[0];if(t)return{error:t.getAttribute("failure_reason"),initiator:t.getAttribute("initiator"),recordingMode:t.getAttribute("recording_mode"),sessionID:t.getAttribute("session_id"),status:t.getAttribute("status")}},getHiddenDomainUpdate:function(e){var t=e.getElementsByTagName("live-stream-view-url")[0],n=t&&t.textContent,i=e.getElementsByTagName("mode")[0],r=i&&i.textContent&&i.textContent.toLowerCase(),o=e.getElementsByTagName("session_id")[0];return{liveStreamViewURL:n,mode:r,sessionID:o&&o.textContent}},getSessionIdFromIq:function(e){var t=e&&e.getElementsByTagName("jibri")[0];return t&&t.getAttribute("session_id")},getSessionId:function(e){var t=e.getElementsByTagName("session_id")[0];return t&&t.textContent},isFromFocus:function(e){return e.getAttribute("from").includes("focus")}}},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return A});var i=n(7),r=n(4),o=n(2),a=n(100),s=n(1),c=n(101),u=n(32),d=n(18),l=n(50),h=n(6),p=n(102),f=n(8),m=n.n(f),v=n(5),g=n(0),y=n.n(g),_=n(104),S=n(14),E=n.n(S),b=n(40),C=Object(r.getLogger)(e),T=1e4,A=(function(e){function t(e,n,i,r,o,a,s,c){var u;return _classCallCheck(this,t),(u=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n,i,r,o,a,c)))._bridgeSessionId=null,u._cachedOldLocalSdp=void 0,u._cachedNewLocalSdp=void 0,u._iceCheckingStartedTimestamp=null,u._gatheringStartedTimestamp=null,u._localVideoActive=!0,u._remoteVideoActive=!0,u._gatheringReported=!1,u.lasticecandidate=!1,u.closed=!1,u.isP2P=s,u.signalingLayer=new p.a,u.modificationQueue=new _.a,u.wasConnected=!1,u.establishmentDuration=void 0,u._xmppListeners=[],u._xmppListeners.push(r.addEventListener(b.a.Events.CONN_STATUS_CHANGED,u.onXmppStatusChanged.bind(_assertThisInitialized(u)))),u}return _inherits(t,e),_createClass(t,null,[{key:"parseVideoSenders",value:function(e){var t=e.find('>content[name="video"]');if(t.length){var n=t[0].getAttribute("senders");if("both"===n||"initiator"===n||"responder"===n||"none"===n)return n}return null}}]),_createClass(t,[{key:"_assertNotEnded",value:function(){return this.state!==u.b}},{key:"doInitialize",value:function(e){var t=this;this.failICE=Boolean(e.failICE),this.lasticecandidate=!1,this.options=e,this.isReconnect=!1,this.wasstable=!1,this.webrtcIceUdpDisable=Boolean(e.webrtcIceUdpDisable),this.webrtcIceTcpDisable=Boolean(e.webrtcIceTcpDisable);var n={disableRtx:e.disableRtx};if(e.gatherStats&&(n.maxstats=300),n.capScreenshareBitrate=!1,this.isP2P){n.disableSimulcast=!0,n.disableH264=e.p2p&&e.p2p.disableH264,n.preferH264=e.p2p&&e.p2p.preferH264;var r=this._abtestSuspendVideoEnabled(e);void 0!==r&&(n.abtestSuspendVideo=r)}else n.disableSimulcast=e.disableSimulcast||e.preferH264&&!e.disableH264,n.preferH264=e.preferH264,n.enableLayerSuspension=e.enableLayerSuspension,e.testing&&e.testing.capScreenshareBitrate&&"number"==typeof e.testing.capScreenshareBitrate&&(n.capScreenshareBitrate=Math.random()<e.testing.capScreenshareBitrate,v.a.analytics.addPermanentProperties({capScreenshareBitrate:n.capScreenshareBitrate}));e.startSilent&&(n.startSilent=!0),this.peerconnection=this.rtc.createPeerConnection(this.signalingLayer,this.iceConfig,this.isP2P,n),this.peerconnection.onicecandidate=function(e){if(e){var n=e.candidate,r=window.performance.now();if(n){null===t._gatheringStartedTimestamp&&(t._gatheringStartedTimestamp=r);var o=n.protocol;if("string"==typeof o)if("tcp"===(o=o.toLowerCase())||"ssltcp"===o){if(t.webrtcIceTcpDisable)return}else if("udp"===o&&t.webrtcIceUdpDisable)return}else t._gatheringReported||(v.a.sendAnalytics(i.o,{phase:"gathering",value:r-t._gatheringStartedTimestamp,p2p:t.isP2P,initiator:t.isInitiator}),t._gatheringReported=!0);t.sendIceCandidate(n)}},this.peerconnection.onsignalingstatechange=function(){"stable"===t.peerconnection.signalingState?t.wasstable=!0:"closed"!==t.peerconnection.signalingState&&"closed"!==t.peerconnection.connectionState||t.room.eventEmitter.emit(y.a.SUSPEND_DETECTED,t)},this.peerconnection.oniceconnectionstatechange=function(){var e=window.performance.now();switch(t.isP2P||(t.room.connectionTimes["ice.state."+t.peerconnection.iceConnectionState]=e),C.log("(TIME) ICE "+t.peerconnection.iceConnectionState+" P2P? "+t.isP2P+":\t",e),v.a.sendAnalytics(i.q,{p2p:t.isP2P,state:t.peerconnection.iceConnectionState,signaling_state:t.peerconnection.signalingState,reconnect:t.isReconnect,value:e}),t.room.eventEmitter.emit(y.a.ICE_CONNECTION_STATE_CHANGED,t,t.peerconnection.iceConnectionState),t.peerconnection.iceConnectionState){case"checking":t._iceCheckingStartedTimestamp=e;break;case"connected":if("stable"===t.peerconnection.signalingState&&t.isReconnect&&t.room.eventEmitter.emit(y.a.CONNECTION_RESTORED,t),!t.wasConnected&&t.wasstable){v.a.sendAnalytics(i.o,{phase:"checking",value:e-t._iceCheckingStartedTimestamp,p2p:t.isP2P,initiator:t.isInitiator});var n=Math.min(t._iceCheckingStartedTimestamp,t._gatheringStartedTimestamp);t.establishmentDuration=e-n,v.a.sendAnalytics(i.o,{phase:"establishment",value:t.establishmentDuration,p2p:t.isP2P,initiator:t.isInitiator}),t.wasConnected=!0,t.room.eventEmitter.emit(y.a.CONNECTION_ESTABLISHED,t)}t.isReconnect=!1;break;case"disconnected":t.isReconnect=!0,t.wasstable&&t.room.eventEmitter.emit(y.a.CONNECTION_INTERRUPTED,t);break;case"failed":t.room.eventEmitter.emit(y.a.CONNECTION_ICE_FAILED,t)}},this.peerconnection.onnegotiationneeded=function(){var e=t.peerconnection.signalingState,n=t.peerconnection.remoteDescription;if(t.room.eventEmitter.emit(y.a.PEERCONNECTION_READY,t),s.a.usesUnifiedPlan()&&"stable"===e&&n&&"string"==typeof n.sdp){C.debug("onnegotiationneeded fired on "+t.peerconnection+" in state: "+e);t.modificationQueue.push(function(e){var n=new d.a(t.peerconnection.localDescription.sdp);t._renegotiate().then(function(){var i=new d.a(t.peerconnection.localDescription.sdp);t.notifyMySSRCUpdate(n,i),e()},e)},function(e){e||C.debug("onnegotiationneeded executed - OK")})}},this.signalingLayer.setChatRoom(this.room),!this.isP2P&&e.enableLayerSuspension&&this.rtc.addListener(m.a.IS_SELECTED_CHANGED,function(e){t.peerconnection.setIsSelected(e),C.info("Doing local O/A due to IS_SELECTED_CHANGED event"),t.modificationQueue.push(function(e){t._renegotiate().then(e).catch(e)})})}},{key:"sendIceCandidate",value:function(e){var t=this,n=new d.a(this.peerconnection.localDescription.sdp);if(e&&e.candidate.length&&!this.lasticecandidate){var i=h.a.iceparams(n.media[e.sdpMLineIndex],n.session),r=h.a.candidateToJingle(e.candidate);if(!i||!r)return;i.xmlns="urn:xmpp:jingle:transports:ice-udp:1",this.usedrip?(0===this.dripContainer.length&&setTimeout(function(){0!==t.dripContainer.length&&(t.sendIceCandidates(t.dripContainer),t.dripContainer=[])},20),this.dripContainer.push(e)):this.sendIceCandidates([e])}else C.log("sendIceCandidate: last candidate."),this.lasticecandidate=!0}},{key:"sendIceCandidates",value:function(e){var t=this;if(this._assertNotEnded("sendIceCandidates")){C.log("sendIceCandidates",e);for(var n=Object(o.$iq)({to:this.remoteJid,type:"set"}).c("jingle",{xmlns:"urn:xmpp:jingle:1",action:"transport-info",initiator:this.initiatorJid,sid:this.sid}),i=new d.a(this.peerconnection.localDescription.sdp),r=function(r){var o=e.filter(function(e){return e.sdpMLineIndex===r}),a=h.a.parseMLine(i.media[r].split("\r\n")[0]);if(o.length>0){var s=h.a.iceparams(i.media[r],i.session);s.xmlns="urn:xmpp:jingle:transports:ice-udp:1",n.c("content",{creator:t.initiatorJid===t.localJid?"initiator":"responder",name:o[0].sdpMid?o[0].sdpMid:a.media}).c("transport",s);for(var c=0;c<o.length;c++){var u=h.a.candidateToJingle(o[c].candidate);t.failICE&&(u.ip="1.1.1.1"),n.c("candidate",u).up()}var d=h.a.findLine(i.media[r],"a=fingerprint:",i.session);if(d){var l=h.a.parseFingerprint(d);l.required=!0,n.c("fingerprint",{xmlns:"urn:xmpp:jingle:apps:dtls:0"}).t(l.fingerprint),delete l.fingerprint,n.attrs(l),n.up()}n.up(),n.up()}},a=0;a<i.media.length;a++)r(a);this.connection.sendIQ(n,null,this.newJingleErrorHandler(n),T)}}},{key:"sendIceFailedNotification",value:function(){var e=Object(o.$iq)({to:this.remoteJid,type:"set"}).c("jingle",{xmlns:"urn:xmpp:jingle:1",action:"session-info",initiator:this.initiatorJid,sid:this.sid}).c("ice-state",{xmlns:"http://jitsi.org/protocol/focus"}).t("failed").up();this._bridgeSessionId&&e.c("bridge-session",{xmlns:"http://jitsi.org/protocol/focus",id:this._bridgeSessionId}),this.connection.sendIQ2(e,{timeout:65}).catch(this.newJingleErrorHandler(e))}},{key:"addIceCandidates",value:function(e){var t=this;if("closed"!==this.peerconnection.signalingState){var n=[];e.find(">content>transport>candidate").each(function(e,t){var i=h.a.candidateFromJingle(t);i=i.replace("\r\n","").replace("a=","");var r=new RTCIceCandidate({sdpMLineIndex:0,sdpMid:"",candidate:i});n.push(r)}),n.length&&(C.debug("Queued add ("+n.length+") ICE candidates task..."),this.modificationQueue.push(function(e){var i=n,r=Array.isArray(i),o=0;for(i=r?i:i["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var a;if(r){if(o>=i.length)break;a=i[o++]}else{if((o=i.next()).done)break;a=o.value}var s=a;t.peerconnection.addIceCandidate(s).then(function(){return C.debug("addIceCandidate ok!")},function(e){return C.debug("addIceCandidate failed!")})}e()}))}else C.warn("Ignored add ICE candidate when in closed state")}},{key:"readSsrcInfo",value:function(e){var t=this;$(e).find('>description>source[xmlns="urn:xmpp:jingle:apps:rtp:ssma:0"]').each(function(e,n){var i=Number(n.getAttribute("ssrc"));t.isP2P?t.signalingLayer.setSSRCOwner(i,o.Strophe.getResourceFromJid(t.remoteJid)):$(n).find('>ssrc-info[xmlns="http://jitsi.org/jitmeet"]').each(function(e,n){var r=n.getAttribute("owner");r&&r.length&&(isNaN(i)||i<0?C.warn("Invalid SSRC "+i+" value received for "+r):t.signalingLayer.setSSRCOwner(i,o.Strophe.getResourceFromJid(r)))})})}},{key:"generateRecvonlySsrc",value:function(){this.peerconnection&&this.peerconnection.generateRecvonlySsrc()}},{key:"acceptOffer",value:function(e,t,n,i){var r=this;this.setOfferAnswerCycle(e,function(){r.sendSessionAccept(t,n)},n,i)}},{key:"invite",value:function(e){var t=this;if(!this.isInitiator)throw new Error("Trying to invite from the responder session");this.modificationQueue.push(function(n){var i=e,r=Array.isArray(i),o=0;for(i=r?i:i["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var a;if(r){if(o>=i.length)break;a=i[o++]}else{if((o=i.next()).done)break;a=o.value}var s=a;t.peerconnection.addTrack(s,!0)}t.peerconnection.createOffer(t.mediaConstraints).then(function(e){t.peerconnection.setLocalDescription(e).then(function(){t.sendSessionInitiate(t.peerconnection.localDescription.sdp),n()},function(e){})},function(e){n(e)})},function(e){e||C.debug("invite executed - OK")})}},{key:"sendSessionInitiate",value:function(e){var t=Object(o.$iq)({to:this.remoteJid,type:"set"}).c("jingle",{xmlns:"urn:xmpp:jingle:1",action:"session-initiate",initiator:this.initiatorJid,sid:this.sid});new d.a(e).toJingle(t,this.isInitiator?"initiator":"responder"),t=t.tree(),C.info("Session-initiate: ",t),this.connection.sendIQ(t,function(){C.info('Got RESULT for "session-initiate"')},function(e){},T)}},{key:"setAnswer",value:function(e){if(!this.isInitiator)throw new Error("Trying to set an answer on the responder session");this.setOfferAnswerCycle(e,function(){C.info("setAnswer - succeeded")},function(e){})}},{key:"setOfferAnswerCycle",value:function(e,t,n,i){var r=this;this.modificationQueue.push(function(t){if(i){var n=i,o=Array.isArray(n),a=0;for(n=o?n:n["function"==typeof Symbol&&"function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var s;if(o){if(a>=n.length)break;s=n[a++]}else{if((a=n.next()).done)break;s=a.value}var c=s;r.peerconnection.addTrack(c)}}var l=r._processNewJingleOfferIq(e),h=r.peerconnection.localDescription.sdp,p=$(e).find('>bridge-session[xmlns="http://jitsi.org/protocol/focus"]').attr("id");p!==r._bridgeSessionId&&(r._bridgeSessionId=p),r._renegotiate(l.raw).then(function(){if(r.state===u.c&&(r.state=u.a,r.isP2P&&!r._localVideoActive&&r.sendContentModify(r._localVideoActive)),h){var e=new d.a(r.peerconnection.localDescription.sdp);r.notifyMySSRCUpdate(new d.a(h),e)}t()},function(e){t(e)})},function(e){e?n(e):t()})}},{key:"replaceTransport",value:function(e,t,n){var i=this;this.room.eventEmitter.emit(y.a.ICE_RESTARTING,this);var r=e.clone();e.find(">content[name='data']").attr("senders","rejected"),e.find(">content>description>source").remove(),e.find(">content>description>ssrc-group").remove();var o=e.find(">content>transport>fingerprint");o.attr("hash","sha-1"),o.text("00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00"),this.setOfferAnswerCycle(e,function(){i.setOfferAnswerCycle(r,function(){var e=new d.a(i.peerconnection.localDescription.sdp);i.sendTransportAccept(e,t,n),i.room.eventEmitter.emit(y.a.ICE_RESTART_SUCCESS,i,r)},n)},n)}},{key:"sendSessionAccept",value:function(e,t){var n=this,i=new d.a(this.peerconnection.localDescription.sdp),r=Object(o.$iq)({to:this.remoteJid,type:"set"}).c("jingle",{xmlns:"urn:xmpp:jingle:1",action:"session-accept",initiator:this.initiatorJid,responder:this.responderJid,sid:this.sid});this.webrtcIceTcpDisable&&(i.removeTcpCandidates=!0),this.webrtcIceUdpDisable&&(i.removeUdpCandidates=!0),this.failICE&&(i.failICE=!0),i.toJingle(r,this.initiatorJid===this.localJid?"initiator":"responder",null),r=r.tree(),C.info("Sending session-accept",r),this.connection.sendIQ(r,e,this.newJingleErrorHandler(r,function(e){t(e),n.room.eventEmitter.emit(y.a.SESSION_ACCEPT_TIMEOUT,n)}),T)}},{key:"sendContentModify",value:function(e){var t=e?"both":"none",n=Object(o.$iq)({to:this.remoteJid,type:"set"}).c("jingle",{xmlns:"urn:xmpp:jingle:1",action:"content-modify",initiator:this.initiatorJid,sid:this.sid}).c("content",{name:"video",senders:t});C.info("Sending content-modify, video senders: "+t),this.connection.sendIQ(n,null,this.newJingleErrorHandler(n),T)}},{key:"sendTransportAccept",value:function(e,t,n){var i=this,r=Object(o.$iq)({to:this.remoteJid,type:"set"}).c("jingle",{xmlns:"urn:xmpp:jingle:1",action:"transport-accept",initiator:this.initiatorJid,sid:this.sid});e.media.forEach(function(t,n){var o=h.a.parseMLine(t.split("\r\n")[0]);r.c("content",{creator:i.initiatorJid===i.localJid?"initiator":"responder",name:o.media}),e.transportToJingle(n,r),r.up()}),r=r.tree(),C.info("Sending transport-accept: ",r),this.connection.sendIQ(r,t,this.newJingleErrorHandler(r,n),T)}},{key:"sendTransportReject",value:function(e,t){var n=Object(o.$iq)({to:this.remoteJid,type:"set"}).c("jingle",{xmlns:"urn:xmpp:jingle:1",action:"transport-reject",initiator:this.initiatorJid,sid:this.sid});n=n.tree(),C.info("Sending 'transport-reject",n),this.connection.sendIQ(n,e,this.newJingleErrorHandler(n,t),T)}},{key:"setSenderVideoConstraint",value:function(e){return this.peerconnection.setSenderVideoConstraint(e)}},{key:"terminate",value:function(e,t,n){if(this.state!==u.b){if(!n||Boolean(n.sendSessionTerminate)){var i=Object(o.$iq)({to:this.remoteJid,type:"set"}).c("jingle",{xmlns:"urn:xmpp:jingle:1",action:"session-terminate",initiator:this.initiatorJid,sid:this.sid}).c("reason").c(n&&n.reason||"success");n&&n.reasonDescription&&i.up().c("text").t(n.reasonDescription),i=i.tree(),C.info("Sending session-terminate",i),this.connection.sendIQ(i,e,this.newJingleErrorHandler(i,t),T)}else C.info("Skipped sending session-terminate for "+this);this.connection.jingle.terminate(this.sid)}}},{key:"onTerminated",value:function(e,t){C.info("Session terminated "+this,e,t),this._xmppListeners.forEach(function(e){return e()}),this._xmppListeners=[],this.close()}},{key:"onXmppStatusChanged",value:function(e){e===b.a.Status.CONNECTED&&this._cachedOldLocalSdp&&(C.info("Sending SSRC update on reconnect"),this.notifyMySSRCUpdate(this._cachedOldLocalSdp,this._cachedNewLocalSdp))}},{key:"_parseSsrcInfoFromSourceAdd",value:function(e,t){var n=[];return $(e).each(function(e,i){var r=$(i).attr("name"),o="";$(i).find('ssrc-group[xmlns="urn:xmpp:jingle:apps:rtp:ssma:0"]').each(function(){var e=this.getAttribute("semantics"),t=$(this).find(">source").map(function(){return this.getAttribute("ssrc")}).get();t.length&&(o+="a=ssrc-group:"+e+" "+t.join(" ")+"\r\n")}),$(i).find('source[xmlns="urn:xmpp:jingle:apps:rtp:ssma:0"]').each(function(){var e=$(this).attr("ssrc");t.containsSSRC(e)?C.warn("Source-add request for existing SSRC: "+e):$(this).find(">parameter").each(function(){o+="a=ssrc:"+e+" "+$(this).attr("name"),$(this).attr("value")&&$(this).attr("value").length&&(o+=":"+$(this).attr("value")),o+="\r\n"})}),t.media.forEach(function(e,t){h.a.findLine(e,"a=mid:"+r)&&(n[t]||(n[t]=""),n[t]+=o)})}),n}},{key:"addRemoteStream",value:function(e){this._addOrRemoveRemoteStream(!0,e)}},{key:"removeRemoteStream",value:function(e){this._addOrRemoveRemoteStream(!1,e)}},{key:"_addOrRemoveRemoteStream",value:function(e,t){var n=this,i=e?"addRemoteStream":"removeRemoteStream";e&&this.readSsrcInfo(t),this.modificationQueue.push(function(r){if(n.peerconnection.localDescription&&n.peerconnection.localDescription.sdp){C.log("Processing "+i),C.log("ICE connection state: ",n.peerconnection.iceConnectionState);var o=new d.a(n.peerconnection.localDescription.sdp),a=new d.a(n.peerconnection.remoteDescription.sdp),s=e?n._parseSsrcInfoFromSourceAdd(t,a):n._parseSsrcInfoFromSourceRemove(t,a),c=e?n._processRemoteAddSource(s):n._processRemoteRemoveSource(s);n._renegotiate(c.raw).then(function(){var e=new d.a(n.peerconnection.localDescription.sdp);C.log(i+" - OK, SDPs: ",o,e),n.notifyMySSRCUpdate(o,e),r()},function(e){r(e)})}else r(i+" - localDescription not ready yet")})}},{key:"_processNewJingleOfferIq",value:function(e){var t=new d.a("");return this.webrtcIceTcpDisable&&(t.removeTcpCandidates=!0),this.webrtcIceUdpDisable&&(t.removeUdpCandidates=!0),this.failICE&&(t.failICE=!0),t.fromJingle(e),this.readSsrcInfo($(e).find(">content")),t}},{key:"_processRemoteRemoveSource",value:function(e){var t=s.a.usesPlanB()?new d.a(this.peerconnection.remoteDescription.sdp):new d.a(this.peerconnection.peerconnection.remoteDescription.sdp);return e.forEach(function(e,n){(e=e.split("\r\n")).pop(),s.a.usesPlanB()?e.forEach(function(e){t.media[n]=t.media[n].replace(e+"\r\n","")}):e.forEach(function(e){var n=t.media.findIndex(function(t){return t.includes(e)});n>-1&&(t.media[n]=t.media[n].replace(e+"\r\n",""),s.a.isFirefox()&&(t.media[n]=t.media[n].replace("a=sendonly","a=inactive")))})}),t.raw=t.session+t.media.join(""),t}},{key:"_processRemoteAddSource",value:function(e){var t=new d.a(this.peerconnection.remoteDescription.sdp);return e.forEach(function(e,n){t.media[n]+=e}),t.raw=t.session+t.media.join(""),t}},{key:"_renegotiate",value:function(e){if("closed"===this.peerconnection.signalingState){var t=new Error("Attempted to renegotiate in state closed");return this.room.eventEmitter.emit(y.a.RENEGOTIATION_FAILED,t,this),Promise.reject(t)}var n=e||this.peerconnection.remoteDescription.sdp;if(!n){var i=new Error("Can not renegotiate without remote description, current state: "+this.state);return this.room.eventEmitter.emit(y.a.RENEGOTIATION_FAILED,i,this),Promise.reject(i)}var r=new RTCSessionDescription({type:this.isInitiator?"answer":"offer",sdp:n});return this.isInitiator?this._initiatorRenegotiate(r):this._responderRenegotiate(r)}},{key:"_responderRenegotiate",value:function(e){var t=this;return C.debug("Renegotiate: setting remote description"),this.peerconnection.setRemoteDescription(e).then(function(){return C.debug("Renegotiate: creating answer"),t.peerconnection.createAnswer(t.mediaConstraints).then(function(e){return C.debug("Renegotiate: setting local description"),t.peerconnection.setLocalDescription(e)})})}},{key:"_initiatorRenegotiate",value:function(e){var t=this;return C.debug("Renegotiate: creating offer"),this.peerconnection.createOffer(this.mediaConstraints).then(function(n){return C.debug("Renegotiate: setting local description"),t.peerconnection.setLocalDescription(n).then(function(){return C.debug("Renegotiate: setting remote description"),t.peerconnection.setRemoteDescription(e)})})}},{key:"replaceTrack",value:function(e,t){var n=this,i=function(i){var r=n.peerconnection.localDescription.sdp;s.a.usesPlanB()&&(n.peerconnection.options.capScreenshareBitrate&&e&&t&&t.isVideoTrack()&&n.peerconnection.clearRecvonlySsrc(),!e&&t&&t.isVideoTrack()?n.peerconnection.clearRecvonlySsrc():e&&e.isVideoTrack()&&!t&&(n.peerconnection.clearRecvonlySsrc(),n.peerconnection.generateRecvonlySsrc())),n.peerconnection.replaceTrack(e,t).then(function(o){var a=Promise.resolve();o&&(e||t)&&n.state===u.a&&(a=n._renegotiate().then(function(){var e=new d.a(n.peerconnection.localDescription.sdp);n.notifyMySSRCUpdate(new d.a(r),e)},i)),a.then(function(){t&&!n.isP2P&&n.peerconnection.setMaxBitRate(t),i()},i)}).catch(function(e){i(e)})};return new Promise(function(e,t){n.modificationQueue.push(i,function(n){n?t(n):(C.info("Replace track done!"),e())})})}},{key:"_parseSsrcInfoFromSourceRemove",value:function(e,t){var n=[];return $(e).each(function(e,i){var r=$(i).attr("name"),o="";$(i).find('ssrc-group[xmlns="urn:xmpp:jingle:apps:rtp:ssma:0"]').each(function(){var e=this.getAttribute("semantics"),t=$(this).find(">source").map(function(){return this.getAttribute("ssrc")}).get();t.length&&(o+="a=ssrc-group:"+e+" "+t.join(" ")+"\r\n")});var a=[];$(i).find('source[xmlns="urn:xmpp:jingle:apps:rtp:ssma:0"]').each(function(){var e=$(this).attr("ssrc");a.push(e)}),t.media.forEach(function(e,t){h.a.findLine(e,"a=mid:"+r)&&(n[t]||(n[t]=""),a.forEach(function(i){var r=h.a.findLines(e,"a=ssrc:"+i);r.length&&(n[t]+=r.join("\r\n")+"\r\n")}),n[t]+=o)})}),n}},{key:"_verifyNoSSRCChanged",value:function(e,t){var n=new d.a(this.peerconnection.localDescription.sdp),i=new l.a(t,n),r=i.getNewMedia();if(Object.keys(r).length)return!1;var o=(i=new l.a(n,t)).getNewMedia();return!Object.keys(o).length}},{key:"addTrackAsUnmute",value:function(e){return this._addRemoveTrackAsMuteUnmute(!1,e)}},{key:"removeTrackAsMute",value:function(e){return this._addRemoveTrackAsMuteUnmute(!0,e)}},{key:"_addRemoveTrackAsMuteUnmute",value:function(e,t){var n=this;if(!t)return Promise.reject('invalid "track" argument value');var i=e?"removeTrackMute":"addTrackUnmute",r=function(r){var o=n.peerconnection;if(o){var a=o.localDescription.sdp;(e?o.removeTrackMute(t):o.addTrackUnmute(t)).then(function(e){e&&a&&o.remoteDescription.sdp?n._renegotiate().then(function(){n._verifyNoSSRCChanged(i,new d.a(a)),r()}):r()},r)}else r("Error:  tried "+i+" track with no active peerconnection")};return new Promise(function(e,t){n.modificationQueue.push(r,function(n){n?t(n):e()})})}},{key:"setMediaTransferActive",value:function(e,t){var n=this;if(!this.peerconnection)return Promise.reject('Can not modify transfer active state, before "initialize" is called');var i=e?"audio active":"audio inactive",r=t?"video active":"video inactive";C.info("Queued make "+r+", "+i+" task...");var o=function(i){var r=n.state===u.a,o=n.peerconnection.setAudioTransferActive(e);n._localVideoActive!==t&&(n._localVideoActive=t,n.isP2P&&r&&n.sendContentModify(t));var a=n.peerconnection.setVideoTransferActive(n._localVideoActive&&n._remoteVideoActive);r&&(o||a)?n._renegotiate().then(i,i):i()};return new Promise(function(e,t){n.modificationQueue.push(o,function(n){n?t(n):e()})})}},{key:"modifyContents",value:function(e){var n=this,i=t.parseVideoSenders(e);null!==i&&(C.debug(this+" queued \"content-modify\" task(video senders=\""+i+"\")"),this.modificationQueue.push(function(e){n._assertNotEnded("content-modify")&&n._modifyRemoteVideoActive(i)?n._renegotiate().then(e,e):e()},function(e){}))}},{key:"_modifyRemoteVideoActive",value:function(e){var t="both"===e||"initiator"===e&&this.isInitiator||"responder"===e&&!this.isInitiator;return t!==this._remoteVideoActive&&(C.debug(this+" new remote video active: "+t),this._remoteVideoActive=t),this.peerconnection.setVideoTransferActive(this._localVideoActive&&this._remoteVideoActive)}},{key:"notifyMySSRCUpdate",value:function(e,t){if(this.state===u.a){if(!this.connection.connected)return this._cachedOldLocalSdp||(this._cachedOldLocalSdp=e),this._cachedNewLocalSdp=t,void C.warn("Not sending SSRC update while the signaling is disconnected");this._cachedOldLocalSdp=void 0,this._cachedNewLocalSdp=void 0;var n=new l.a(t,e),i=Object(o.$iq)({to:this.remoteJid,type:"set"}).c("jingle",{xmlns:"urn:xmpp:jingle:1",action:"source-remove",initiator:this.initiatorJid,sid:this.sid});n.toJingle(i)?(C.info("Sending source-remove",i.tree()),this.connection.sendIQ(i,null,this.newJingleErrorHandler(i),T)):C.log("removal not necessary"),n=new l.a(e,t);var r=Object(o.$iq)({to:this.remoteJid,type:"set"}).c("jingle",{xmlns:"urn:xmpp:jingle:1",action:"source-add",initiator:this.initiatorJid,sid:this.sid});n.toJingle(r)?(C.info("Sending source-add",r.tree()),this.connection.sendIQ(r,null,this.newJingleErrorHandler(r),T)):C.log("addition not necessary")}else C.warn("Skipping SSRC update in '"+this.state+" ' state.")}},{key:"newJingleErrorHandler",value:function(e,t){var n=this;return function(e){var i={},r=$(e).find("error");if(r.length){i.code=r.attr("code");var o=$(e).find("error :first");o.length&&(i.reason=o[0].tagName);var a=r.find(">text");a.length&&(i.msg=a.text())}e||(i.reason="timeout"),i.session=n.toString(),t?t(i):n.state===u.b&&"item-not-found"===i.reason?C.debug("Jingle error: "+JSON.stringify(i)):E.a.callErrorHandler(new Error("Jingle error: "+JSON.stringify(i)))}}},{key:"getIceConnectionState",value:function(){return this.peerconnection.getConnectionState()}},{key:"close",value:function(){var e=this;this.state=u.b,this.establishmentDuration=void 0,this.peerconnection&&(this.peerconnection.onicecandidate=null,this.peerconnection.oniceconnectionstatechange=null,this.peerconnection.onnegotiationneeded=null,this.peerconnection.onsignalingstatechange=null),this.modificationQueue.clear(),this.modificationQueue.push(function(t){e.signalingLayer.setChatRoom(null),e.peerconnection&&e.peerconnection.close(),t()}),this.modificationQueue.shutdown()}},{key:"toString",value:function(){return"JingleSessionPC[p2p="+this.isP2P+",initiator="+this.isInitiator+",sid="+this.sid+"]"}},{key:"_abtestSuspendVideoEnabled",value:function(e){var t=e.abTesting;if(t&&t.enableSuspendVideoTest){var n=this._getInitiatorJid();return Object(a.integerHash)(n)%2==0}}}]),t})(c.a)}).call(this,"modules/xmpp/JingleSessionPC.js")},function(e,t,n){"use strict";n.r(t),n.d(t,"DEVICE_LIST_CHANGED",function(){return i}),n.d(t,"PERMISSION_PROMPT_IS_SHOWN",function(){return r});var i="mediaDevices.devicechange",r="mediaDevices.permissionPromptIsShown"},function(e,t,n){(function(e,n){var i="__lodash_hash_undefined__",r=9007199254740991,o="[object Arguments]",a="[object Boolean]",s="[object Date]",c="[object Function]",u="[object GeneratorFunction]",d="[object Map]",l="[object Number]",h="[object Object]",p="[object RegExp]",f="[object Set]",m="[object String]",v="[object Symbol]",g="[object ArrayBuffer]",y="[object DataView]",_="[object Float32Array]",S="[object Float64Array]",E="[object Int8Array]",b="[object Int16Array]",C="[object Int32Array]",T="[object Uint8Array]",A="[object Uint8ClampedArray]",R="[object Uint16Array]",k="[object Uint32Array]",w=/\w*$/,I=/^\[object .+?Constructor\]$/,P=/^(?:0|[1-9]\d*)$/,D={};D[o]=D["[object Array]"]=D[g]=D[y]=D[a]=D[s]=D[_]=D[S]=D[E]=D[b]=D[C]=D[d]=D[l]=D[h]=D[p]=D[f]=D[m]=D[v]=D[T]=D[A]=D[R]=D[k]=!0,D["[object Error]"]=D[c]=D["[object WeakMap]"]=!1;var O="object"==typeof e&&e&&e.Object===Object&&e,N="object"==typeof self&&self&&self.Object===Object&&self,M=O||N||Function("return this")(),L=t&&!t.nodeType&&t,x=L&&"object"==typeof n&&n&&!n.nodeType&&n,F=x&&x.exports===L;function j(e,t){return e.set(t[0],t[1]),e}function U(e,t){return e.add(t),e}function H(e,t,n,i){var r=-1,o=e?e.length:0;for(i&&o&&(n=e[++r]);++r<o;)n=t(n,e[r],r,e);return n}function J(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function B(e){var t=-1,n=Array(e.size);return e.forEach(function(e,i){n[++t]=[i,e]}),n}function G(e,t){return function(n){return e(t(n))}}function V(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}var q,K=Array.prototype,W=Function.prototype,z=Object.prototype,$=M["__core-js_shared__"],Q=(q=/[^.]+$/.exec($&&$.keys&&$.keys.IE_PROTO||""))?"Symbol(src)_1."+q:"",X=W.toString,Y=z.hasOwnProperty,Z=z.toString,ee=RegExp("^"+X.call(Y).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),te=F?M.Buffer:void 0,ne=M.Symbol,ie=M.Uint8Array,re=G(Object.getPrototypeOf,Object),oe=Object.create,ae=z.propertyIsEnumerable,se=K.splice,ce=Object.getOwnPropertySymbols,ue=te?te.isBuffer:void 0,de=G(Object.keys,Object),le=xe(M,"DataView"),he=xe(M,"Map"),pe=xe(M,"Promise"),fe=xe(M,"Set"),me=xe(M,"WeakMap"),ve=xe(Object,"create"),ge=Je(le),ye=Je(he),_e=Je(pe),Se=Je(fe),Ee=Je(me),be=ne?ne.prototype:void 0,Ce=be?be.valueOf:void 0;function Te(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Ae(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Re(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function ke(e){this.__data__=new Ae(e)}function we(e,t){var n=Ge(e)||(function(e){return(function(e){return(function(e){return!!e&&"object"==typeof e})(e)&&Ve(e)})(e)&&Y.call(e,"callee")&&(!ae.call(e,"callee")||Z.call(e)==o)})(e)?(function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i})(e.length,String):[],i=n.length,r=!!i;for(var a in e)!t&&!Y.call(e,a)||r&&("length"==a||Ue(a,i))||n.push(a);return n}function Ie(e,t,n){var i=e[t];Y.call(e,t)&&Be(i,n)&&(void 0!==n||t in e)||(e[t]=n)}function Pe(e,t){for(var n=e.length;n--;)if(Be(e[n][0],t))return n;return-1}function De(e,t,n,i,r,I,P){var O;if(i&&(O=I?i(e,r,I,P):i(e)),void 0!==O)return O;if(!We(e))return e;var N=Ge(e);if(N){if(O=(function(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&Y.call(e,"index")&&(n.index=e.index,n.input=e.input),n})(e),!t)return(function(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t})(e,O)}else{var M=je(e),L=M==c||M==u;if(qe(e))return(function(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n})(e,t);if(M==h||M==o||L&&!I){if(J(e))return I?e:{};if(O=(function(e){return"function"!=typeof e.constructor||He(e)?{}:We(t=re(e))?oe(t):{};var t})(L?{}:e),!t)return(function(e,t){return Me(e,Fe(e),t)})(e,(function(e,t){return e&&Me(t,ze(t),e)})(O,e))}else{if(!D[M])return I?e:{};O=(function(e,t,n,i){var r,o,c,u=e.constructor;switch(t){case g:return Ne(e);case a:case s:return new u(+e);case y:return(function(e,t){var n=i?Ne(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)})(e);case _:case S:case E:case b:case C:case T:case A:case R:case k:return(function(e,t){var n=i?Ne(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)})(e);case d:return(function(e,t,n){return H(i?n(B(e),!0):B(e),j,new e.constructor)})(e,0,n);case l:case m:return new u(e);case p:return(c=new(o=e).constructor(o.source,w.exec(o))).lastIndex=o.lastIndex,c;case f:return(function(e,t,n){return H(i?n(V(e),!0):V(e),U,new e.constructor)})(e,0,n);case v:return r=e,Ce?Object(Ce.call(r)):{}}})(e,M,De,t)}}P||(P=new ke);var x=P.get(e);if(x)return x;if(P.set(e,O),!N)var F=n?(function(e){return(function(e,t,n){var i=ze(e);return Ge(e)?i:(function(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e})(i,n(e))})(e,0,Fe)})(e):ze(e);return(function(e,t){for(var n=-1,i=e?e.length:0;++n<i&&!1!==t(e[n],n););})(F||e,function(r,o){F&&(r=e[o=r]),Ie(O,o,De(r,t,n,i,o,e,P))}),O}function Oe(e){return!(!We(e)||(t=e,Q&&Q in t))&&(Ke(e)||J(e)?ee:I).test(Je(e));var t}function Ne(e){var t=new e.constructor(e.byteLength);return new ie(t).set(new ie(e)),t}function Me(e,t,n,i){n||(n={});for(var r=-1,o=t.length;++r<o;){var a=t[r],s=i?i(n[a],e[a],a,n,e):void 0;Ie(n,a,void 0===s?e[a]:s)}return n}function Le(e,t){var n,i,r=e.__data__;return("string"==(i=typeof(n=t))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?r["string"==typeof t?"string":"hash"]:r.map}function xe(e,t){var n=(function(e,t){return null==e?void 0:e[t]})(e,t);return Oe(n)?n:void 0}Te.prototype.clear=function(){this.__data__=ve?ve(null):{}},Te.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Te.prototype.get=function(e){var t=this.__data__;if(ve){var n=t[e];return n===i?void 0:n}return Y.call(t,e)?t[e]:void 0},Te.prototype.has=function(e){var t=this.__data__;return ve?void 0!==t[e]:Y.call(t,e)},Te.prototype.set=function(e,t){return this.__data__[e]=ve&&void 0===t?i:t,this},Ae.prototype.clear=function(){this.__data__=[]},Ae.prototype.delete=function(e){var t=this.__data__,n=Pe(t,e);return!(n<0||(n==t.length-1?t.pop():se.call(t,n,1),0))},Ae.prototype.get=function(e){var t=this.__data__,n=Pe(t,e);return n<0?void 0:t[n][1]},Ae.prototype.has=function(e){return Pe(this.__data__,e)>-1},Ae.prototype.set=function(e,t){var n=this.__data__,i=Pe(n,e);return i<0?n.push([e,t]):n[i][1]=t,this},Re.prototype.clear=function(){this.__data__={hash:new Te,map:new(he||Ae),string:new Te}},Re.prototype.delete=function(e){return Le(this,e).delete(e)},Re.prototype.get=function(e){return Le(this,e).get(e)},Re.prototype.has=function(e){return Le(this,e).has(e)},Re.prototype.set=function(e,t){return Le(this,e).set(e,t),this},ke.prototype.clear=function(){this.__data__=new Ae},ke.prototype.delete=function(e){return this.__data__.delete(e)},ke.prototype.get=function(e){return this.__data__.get(e)},ke.prototype.has=function(e){return this.__data__.has(e)},ke.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Ae){var i=n.__data__;if(!he||i.length<199)return i.push([e,t]),this;n=this.__data__=new Re(i)}return n.set(e,t),this};var Fe=ce?G(ce,Object):function(){return[]},je=function(e){return Z.call(e)};function Ue(e,t){return!!(t=null==t?r:t)&&("number"==typeof e||P.test(e))&&e>-1&&e%1==0&&e<t}function He(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||z)}function Je(e){if(null!=e){try{return X.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Be(e,t){return e===t||e!=e&&t!=t}(le&&je(new le(new ArrayBuffer(1)))!=y||he&&je(new he)!=d||pe&&"[object Promise]"!=je(pe.resolve())||fe&&je(new fe)!=f||me&&"[object WeakMap]"!=je(new me))&&(je=function(e){var t=Z.call(e),n=t==h?e.constructor:void 0,i=n?Je(n):void 0;if(i)switch(i){case ge:return y;case ye:return d;case _e:return"[object Promise]";case Se:return f;case Ee:return"[object WeakMap]"}return t});var Ge=Array.isArray;function Ve(e){return null!=e&&(function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r})(e.length)&&!Ke(e)}var qe=ue||function(){return!1};function Ke(e){var t=We(e)?Z.call(e):"";return t==c||t==u}function We(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function ze(e){return Ve(e)?we(e):(function(e){if(!He(e))return de(e);var t=[];for(var n in Object(e))Y.call(e,n)&&"constructor"!=n&&t.push(n);return t})(e)}n.exports=function(e){return De(e,!0,!0)}}).call(this,n(43),n(70)(e))},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n(6);function r(e,t){if(!t)return!1;if(e.length!==t.length)return!1;for(var n=0,i=e.length;n<i;n++)if(e[n]instanceof Array&&t[n]instanceof Array){if(!e[n].equals(t[n]))return!1}else if(e[n]!==t[n])return!1;return!0}function o(e,t){if(this.mySDP=e,this.otherSDP=t,!e)throw new Error('"mySDP" is undefined!');if(!t)throw new Error('"otherSDP" is undefined!')}o.prototype.getNewMedia=function(){var e=this.mySDP.getMediaSsrcMap(),t=this.otherSDP.getMediaSsrcMap(),n={};return Object.keys(t).forEach(function(i){var o=e[i],a=t[i];o||!a?(Object.keys(a.ssrcs).forEach(function(e){-1===Object.keys(o.ssrcs).indexOf(e)?(n[i]||(n[i]={mediaindex:a.mediaindex,mid:a.mid,ssrcs:{},ssrcGroups:[]}),n[i].ssrcs[e]=a.ssrcs[e]):a.ssrcs[e].lines&&o.ssrcs[e].lines&&void 0!==o.ssrcs[e].lines.find(function(e){return-1!==e.indexOf("msid")})!=(void 0!==a.ssrcs[e].lines.find(function(e){return-1!==e.indexOf("msid")}))&&(n[i]||(n[i]={mediaindex:a.mediaindex,mid:a.mid,ssrcs:{},ssrcGroups:[]}),n[i].ssrcs[e]=a.ssrcs[e])}),a.ssrcGroups.forEach(function(e){for(var t=!1,s=0;s<o.ssrcGroups.length;s++){var c=o.ssrcGroups[s];if(e.semantics===c.semantics&&r(e.ssrcs,c.ssrcs)){t=!0;break}}t||(n[i]||(n[i]={mediaindex:a.mediaindex,mid:a.mid,ssrcs:{},ssrcGroups:[]}),n[i].ssrcGroups.push(e))})):n[i]=a}),n},o.prototype.toJingle=function(e){var t=this.getNewMedia(),n=!1;return Object.keys(t).forEach(function(r){n=!0;var o=t[r];e.c("content",{name:o.mid}),e.c("description",{xmlns:"urn:xmpp:jingle:apps:rtp:1",media:o.mid}),Object.keys(o.ssrcs).forEach(function(t){var n=o.ssrcs[t];e.c("source",{xmlns:"urn:xmpp:jingle:apps:rtp:ssma:0"}),e.attrs({ssrc:n.ssrc}),n.lines.forEach(function(t){var n=t.indexOf(" "),r=t.substr(n+1);if(e.c("parameter"),-1===r.indexOf(":"))e.attrs({name:r});else{var o=r.split(":",2),a=o[0],s=i.a.filterSpecialChars(o[1]);e.attrs({name:a}),e.attrs({value:s})}e.up()}),e.up()}),o.ssrcGroups.forEach(function(t){t.ssrcs.length&&(e.c("ssrc-group",{semantics:t.semantics,xmlns:"urn:xmpp:jingle:apps:rtp:ssma:0"}),t.ssrcs.forEach(function(t){e.c("source",{ssrc:t}).up()}),e.up())}),e.up(),e.up()}),n}},function(e,t){var n,i,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!(function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(e){i=a}})();var c,u=[],d=!1,l=-1;function h(){d&&c&&(d=!1,c.length?u=c.concat(u):l=-1,u.length&&p())}function p(){if(!d){var e=s(h);d=!0;for(var t=u.length;t;){for(c=u,u=[];++l<t;)c&&c[l].run();l=-1,t=u.length}c=null,d=!1,(function(e){if(i===clearTimeout)return clearTimeout(e);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}})(e)}}function f(e,t){this.fun=e,this.array=t}function m(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new f(e,t)),1!==u.length||d||s(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),window.AudioContext=window.AudioContext||window.webkitAudioContext;var i=null;function r(e,t,n){this.stream=e,this.intervalId=null,this.intervalMilis=t,this.audioLevel=0,this.callback=n}window.AudioContext&&(i=new AudioContext).suspend&&i.suspend(),r.prototype.start=function(){if(r.isLocalStatsSupported()){i.resume();var e=i.createAnalyser();e.smoothingTimeConstant=.8,e.fftSize=2048,i.createMediaStreamSource(this.stream).connect(e);var t=this;this.intervalId=setInterval(function(){var n=new Uint8Array(e.frequencyBinCount);e.getByteTimeDomainData(n);var i=(function(e){for(var t=0,n=e.length,i=0;i<n;i++)t<e[i]&&(t=e[i]);return parseFloat(((t-127)/128).toFixed(3))})(n);i!==t.audioLevel&&(t.audioLevel=(function(e,t){var n=t-e;return parseFloat((n>.2?t-.2:n<-.4?t+.4:e).toFixed(3))})(i,t.audioLevel),t.callback(t.audioLevel))},this.intervalMilis)}},r.prototype.stop=function(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)},r.isLocalStatsSupported=function(){return Boolean(i)}},function(e,t,n){var i=n(138),r={loadScript:function(e,t,n,r,o,a){var s=document,c=s.createElement("script"),u=s.getElementsByTagName("script")[0];if(c.async=t,r){var d=i();if(d){var l=d.src,h=l.substring(0,l.lastIndexOf("/")+1);l&&h&&(e=h+e)}}o&&(c.onload=o),a&&(c.onerror=a),c.src=e,n?u.parentNode.insertBefore(c,u):u.parentNode.appendChild(c)}};e.exports=r},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return h});var i=n(20),r=n.n(i),o=n(4),a=n(15),s=n(9),c=n(10),u=Object(o.getLogger)(e),d={track_mute:"onmute",track_unmute:"onunmute",track_ended:"onended"};function l(e,t){e.oninactive=t}var h=(function(e){function t(e,n,i,r,o,a){var s;return _classCallCheck(this,t),(s=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).addEventListener=s.addListener,s.removeEventListener=s.off=s.removeListener,s.containers=[],s.conference=e,s.audioLevel=-1,s.type=o,s.track=i,s.videoType=a,s.handlers=new Map,s.disposed=!1,s._streamInactiveHandler=r,s._setStream(n),s}return _inherits(t,e),_createClass(t,[{key:"_setHandler",value:function(e,t){if(d.hasOwnProperty(e)&&(t?this.handlers.set(e,t):this.handlers.delete(e),this.stream)){var n=this.stream.getTracks(),i=Array.isArray(n),r=0;for(n=i?n:n["function"==typeof Symbol&&"function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var o;if(i){if(r>=n.length)break;o=n[r++]}else{if((r=n.next()).done)break;o=r.value}o[d[e]]=t}}}},{key:"_unregisterHandlers",value:function(){if(this.stream){var e=this.handlers.keys(),t=Array.isArray(e),n=0;for(e=t?e:e["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var i;if(t){if(n>=e.length)break;i=e[n++]}else{if((n=e.next()).done)break;i=n.value}var r=i,o=this.stream.getVideoTracks(),a=Array.isArray(o),s=0;for(o=a?o:o["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var c;if(a){if(s>=o.length)break;c=o[s++]}else{if((s=o.next()).done)break;c=s.value}c[d[r]]=void 0}}this._streamInactiveHandler&&l(this.stream,void 0)}else u.warn(this+": unable to unregister handlers - no stream object")}},{key:"_setStream",value:function(e){if(this.stream!==e&&(this.stream=e,this.stream)){var t=this.handlers.keys(),n=Array.isArray(t),i=0;for(t=n?t:t["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var r;if(n){if(i>=t.length)break;r=t[i++]}else{if((i=t.next()).done)break;r=i.value}var o=r;this._setHandler(o,this.handlers.get(o))}this._streamInactiveHandler&&l(this.stream,this._streamInactiveHandler)}}},{key:"getType",value:function(){return this.type}},{key:"isAudioTrack",value:function(){return this.getType()===s.a}},{key:"isWebRTCTrackMuted",value:function(){return this.track&&this.track.muted}},{key:"isVideoTrack",value:function(){return this.getType()===s.c}},{key:"isLocal",value:function(){throw new Error("Not implemented by subclass")}},{key:"isLocalAudioTrack",value:function(){return this.isAudioTrack()&&this.isLocal()}},{key:"getOriginalStream",value:function(){return this.stream}},{key:"getStreamId",value:function(){return this.stream?this.stream.id:null}},{key:"getTrack",value:function(){return this.track}},{key:"getTrackLabel",value:function(){return this.track.label}},{key:"getTrackId",value:function(){return this.track?this.track.id:null}},{key:"getUsageLabel",value:function(){return this.isAudioTrack()?"mic":this.videoType?this.videoType:"default"}},{key:"_maybeFireTrackAttached",value:function(e){this.conference&&e&&this.conference._onTrackAttach(this,e)}},{key:"attach",value:function(e){this.stream&&(this._onTrackAttach(e),c.a.attachMediaStream(e,this.stream)),this.containers.push(e),this._maybeFireTrackAttached(e),this._attachTTFMTracker(e)}},{key:"detach",value:function(e){for(var t=this.containers,n=t.length-1;n>=0;--n){var i=t[n];e||(this._onTrackDetach(i),c.a.attachMediaStream(i,null)),e&&i!==e||t.splice(n,1)}e&&(this._onTrackDetach(e),c.a.attachMediaStream(e,null))}},{key:"_onTrackAttach",value:function(e){}},{key:"_onTrackDetach",value:function(e){}},{key:"_attachTTFMTracker",value:function(e){}},{key:"dispose",value:function(){return this.removeAllListeners(),this.disposed=!0,Promise.resolve()}},{key:"isScreenSharing",value:function(){}},{key:"getId",value:function(){return this.stream?c.a.getStreamID(this.stream):null}},{key:"isActive",value:function(){return void 0===this.stream.active||this.stream.active}},{key:"setAudioLevel",value:function(e,t){this.audioLevel!==e&&(this.audioLevel=e,this.emit(a.TRACK_AUDIO_LEVEL_CHANGED,e,t))}},{key:"getMSID",value:function(){var e=this.getStreamId(),t=this.getTrackId();return e&&t?e+" "+t:null}},{key:"setAudioOutput",value:function(e){var t=this;return c.a.isDeviceChangeAvailable("output")?this.isVideoTrack()?Promise.resolve():Promise.all(this.containers.map(function(t){return t.setSinkId(e).catch(function(e){throw u.warn("Failed to change audio output device on element. Default or previously set audio output device will be used.",t,e),e})})).then(function(){t.emit(a.TRACK_AUDIO_OUTPUT_CHANGED,e)}):Promise.reject(new Error("Audio output device change is not supported"))}}]),t})(r.a)}).call(this,"modules/RTC/JitsiTrack.js")},function(e,t,n){"use strict";function i(e){var t=window.AudioContext||window.webkitAudioContext;if(t)return new t(e)}n.d(t,"a",function(){return i})},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var i=n(20),r=n.n(i),o=n(11),a=n(55),s=n(21),c=(function(e){function t(e,n,i){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._procNodeSampleRate=e,r._vadProcessor=n,r._localTrack=i,r._bufferResidue=new Float32Array([]),r._audioContext=Object(a.a)({sampleRate:n.getRequiredPCMFrequency()}),r._vadSampleSize=n.getSampleLength(),r._onAudioProcess=r._onAudioProcess.bind(_assertThisInitialized(r)),r._initializeAudioContext(),r}return _inherits(t,e),_createClass(t,[{key:"_initializeAudioContext",value:function(){this._audioSource=this._audioContext.createMediaStreamSource(this._localTrack.stream),this._audioProcessingNode=this._audioContext.createScriptProcessor(this._procNodeSampleRate,1,1)}},{key:"_onAudioProcess",value:function(e){for(var t=e.inputBuffer.getChannelData(0),n=[].concat(_toConsumableArray(this._bufferResidue),_toConsumableArray(t)),i=Date.now(),r=0;r+this._vadSampleSize<n.length;r+=this._vadSampleSize){var o=n.slice(r,r+this._vadSampleSize),a=this._vadProcessor.calculateAudioFrameVAD(o.slice());this.emit(s.VAD_SCORE_PUBLISHED,{timestamp:i,score:a,pcmData:o,deviceId:this._localTrack.getDeviceId()})}this._bufferResidue=n.slice(r,n.length)}},{key:"_connectAudioGraph",value:function(){this._audioProcessingNode.onaudioprocess=this._onAudioProcess,this._audioSource.connect(this._audioProcessingNode),this._audioProcessingNode.connect(this._audioContext.destination)}},{key:"_disconnectAudioGraph",value:function(){this._audioProcessingNode.onaudioprocess=function(){},this._audioProcessingNode.disconnect(),this._audioSource.disconnect()}},{key:"_cleanupResources",value:function(){this._disconnectAudioGraph(),this._localTrack.stopStream()}},{key:"getDeviceId",value:function(){return this._localTrack.getDeviceId()}},{key:"getTrackLabel",value:function(){return this._localTrack.getDeviceLabel()}},{key:"start",value:function(){this._connectAudioGraph()}},{key:"stop",value:function(){this._disconnectAudioGraph(),this._bufferResidue=[]}},{key:"destroy",value:function(){this._destroyed||(this._cleanupResources(),this._destroyed=!0)}}],[{key:"create",value:function(e,n,i){return o.a.obtainAudioAndVideoPermissions({devices:["audio"],micDeviceId:e}).then(function(r){if(!r[0])throw new Error("Failed to create jitsi local track for device id: "+e);return new t(n,i,r[0])})}}]),t})(r.a)},function(e,t,n){"use strict";n.r(t),n.d(t,"E2E_RTT_CHANGED",function(){return i});var i="e2eping.e2e_rtt_changed"},function(e,t,n){(function(e,n){var i="__lodash_hash_undefined__",r=1,o=2,a=9007199254740991,s="[object Arguments]",c="[object Array]",u="[object AsyncFunction]",d="[object Boolean]",l="[object Date]",h="[object Error]",p="[object Function]",f="[object GeneratorFunction]",m="[object Map]",v="[object Number]",g="[object Null]",y="[object Object]",_="[object Proxy]",S="[object RegExp]",E="[object Set]",b="[object String]",C="[object Symbol]",T="[object Undefined]",A="[object ArrayBuffer]",R="[object DataView]",k=/^\[object .+?Constructor\]$/,w=/^(?:0|[1-9]\d*)$/,I={};I["[object Float32Array]"]=I["[object Float64Array]"]=I["[object Int8Array]"]=I["[object Int16Array]"]=I["[object Int32Array]"]=I["[object Uint8Array]"]=I["[object Uint8ClampedArray]"]=I["[object Uint16Array]"]=I["[object Uint32Array]"]=!0,I[s]=I[c]=I[A]=I[d]=I[R]=I[l]=I[h]=I[p]=I[m]=I[v]=I[y]=I[S]=I[E]=I[b]=I["[object WeakMap]"]=!1;var P="object"==typeof e&&e&&e.Object===Object&&e,D="object"==typeof self&&self&&self.Object===Object&&self,O=P||D||Function("return this")(),N=t&&!t.nodeType&&t,M=N&&"object"==typeof n&&n&&!n.nodeType&&n,L=M&&M.exports===N,x=L&&P.process,F=(function(){try{return x&&x.binding&&x.binding("util")}catch(e){}})(),j=F&&F.isTypedArray;function U(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}function H(e){var t=-1,n=Array(e.size);return e.forEach(function(e,i){n[++t]=[i,e]}),n}function J(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}var B,G,V,q=Array.prototype,K=Function.prototype,W=Object.prototype,z=O["__core-js_shared__"],$=K.toString,Q=W.hasOwnProperty,X=(B=/[^.]+$/.exec(z&&z.keys&&z.keys.IE_PROTO||""))?"Symbol(src)_1."+B:"",Y=W.toString,Z=RegExp("^"+$.call(Q).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ee=L?O.Buffer:void 0,te=O.Symbol,ne=O.Uint8Array,ie=W.propertyIsEnumerable,re=q.splice,oe=te?te.toStringTag:void 0,ae=Object.getOwnPropertySymbols,se=ee?ee.isBuffer:void 0,ce=(G=Object.keys,V=Object,function(e){return G(V(e))}),ue=Fe(O,"DataView"),de=Fe(O,"Map"),le=Fe(O,"Promise"),he=Fe(O,"Set"),pe=Fe(O,"WeakMap"),fe=Fe(Object,"create"),me=Je(ue),ve=Je(de),ge=Je(le),ye=Je(he),_e=Je(pe),Se=te?te.prototype:void 0,Ee=Se?Se.valueOf:void 0;function be(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Ce(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Te(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Ae(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Te;++t<n;)this.add(e[t])}function Re(e){var t=this.__data__=new Ce(e);this.size=t.size}function ke(e,t){var n=Ve(e),i=!n&&Ge(e),r=!n&&!i&&qe(e),o=!n&&!i&&!r&&Qe(e),a=n||i||r||o,s=a?(function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i})(e.length,String):[],c=s.length;for(var u in e)!t&&!Q.call(e,u)||a&&("length"==u||r&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||He(u,c))||s.push(u);return s}function we(e,t){for(var n=e.length;n--;)if(Be(e[n][0],t))return n;return-1}function Ie(e){return null==e?void 0===e?T:g:oe&&oe in Object(e)?(function(e){var t=Q.call(e,oe),n=e[oe];try{e[oe]=void 0}catch(e){}var i=Y.call(e);return t?e[oe]=n:delete e[oe],i})(e):(function(e){return Y.call(e)})(e)}function Pe(e){return $e(e)&&Ie(e)==s}function De(e,t,n,i,a){return e===t||(null==e||null==t||!$e(e)&&!$e(t)?e!=e&&t!=t:(function(e,t,n,i,a,u){var p=Ve(e),f=Ve(t),g=p?c:Ue(e),_=f?c:Ue(t),T=(g=g==s?y:g)==y,k=(_=_==s?y:_)==y,w=g==_;if(w&&qe(e)){if(!qe(t))return!1;p=!0,T=!1}if(w&&!T)return u||(u=new Re),p||Qe(e)?Me(e,t,n,i,a,u):(function(e,t,n,i,a,s,c){switch(n){case R:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case A:return!(e.byteLength!=t.byteLength||!s(new ne(e),new ne(t)));case d:case l:case v:return Be(+e,+t);case h:return e.name==t.name&&e.message==t.message;case S:case b:return e==t+"";case m:var u=H;case E:var p=i&r;if(u||(u=J),e.size!=t.size&&!p)return!1;var f=c.get(e);if(f)return f==t;i|=o,c.set(e,t);var g=Me(u(e),u(t),i,a,s,c);return c.delete(e),g;case C:if(Ee)return Ee.call(e)==Ee.call(t)}return!1})(e,t,g,n,i,a,u);if(!(n&r)){var I=T&&Q.call(e,"__wrapped__"),P=k&&Q.call(t,"__wrapped__");if(I||P){var D=I?e.value():e,O=P?t.value():t;return u||(u=new Re),a(D,O,n,i,u)}}return!!w&&(u||(u=new Re),(function(e,t,n,i,o,a){var s=n&r,c=Le(e),u=c.length;if(u!=Le(t).length&&!s)return!1;for(var d=u;d--;){var l=c[d];if(!(s?l in t:Q.call(t,l)))return!1}var h=a.get(e);if(h&&a.get(t))return h==t;var p=!0;a.set(e,t),a.set(t,e);for(var f=s;++d<u;){var m=e[l=c[d]],v=t[l];if(i)var g=s?i(v,m,l,t,e,a):i(m,v,l,e,t,a);if(!(void 0===g?m===v||o(m,v,n,i,a):g)){p=!1;break}f||(f="constructor"==l)}if(p&&!f){var y=e.constructor,_=t.constructor;y!=_&&"constructor"in e&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof _&&_ instanceof _)&&(p=!1)}return a.delete(e),a.delete(t),p})(e,t,n,i,a,u))})(e,t,n,i,De,a))}function Oe(e){return!(!ze(e)||(t=e,X&&X in t))&&(Ke(e)?Z:k).test(Je(e));var t}function Ne(e){if(n=(t=e)&&t.constructor,t!==("function"==typeof n&&n.prototype||W))return ce(e);var t,n,i=[];for(var r in Object(e))Q.call(e,r)&&"constructor"!=r&&i.push(r);return i}function Me(e,t,n,i,a,s){var c=n&r,u=e.length,d=t.length;if(u!=d&&!(c&&d>u))return!1;var l=s.get(e);if(l&&s.get(t))return l==t;var h=-1,p=!0,f=n&o?new Ae:void 0;for(s.set(e,t),s.set(t,e);++h<u;){var m=e[h],v=t[h];if(i)var g=c?i(v,m,h,t,e,s):i(m,v,h,e,t,s);if(void 0!==g){if(g)continue;p=!1;break}if(f){if(!U(t,function(e,t){if(r=t,!f.has(r)&&(m===e||a(m,e,n,i,s)))return f.push(t);var r})){p=!1;break}}else if(m!==v&&!a(m,v,n,i,s)){p=!1;break}}return s.delete(e),s.delete(t),p}function Le(e){return(function(e,t,n){var i=Xe(e);return Ve(e)?i:(function(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e})(i,n(e))})(e,0,je)}function xe(e,t){var n,i,r=e.__data__;return("string"==(i=typeof(n=t))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?r["string"==typeof t?"string":"hash"]:r.map}function Fe(e,t){var n=(function(e,t){return null==e?void 0:e[t]})(e,t);return Oe(n)?n:void 0}be.prototype.clear=function(){this.__data__=fe?fe(null):{},this.size=0},be.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},be.prototype.get=function(e){var t=this.__data__;if(fe){var n=t[e];return n===i?void 0:n}return Q.call(t,e)?t[e]:void 0},be.prototype.has=function(e){var t=this.__data__;return fe?void 0!==t[e]:Q.call(t,e)},be.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=fe&&void 0===t?i:t,this},Ce.prototype.clear=function(){this.__data__=[],this.size=0},Ce.prototype.delete=function(e){var t=this.__data__,n=we(t,e);return!(n<0||(n==t.length-1?t.pop():re.call(t,n,1),--this.size,0))},Ce.prototype.get=function(e){var t=this.__data__,n=we(t,e);return n<0?void 0:t[n][1]},Ce.prototype.has=function(e){return we(this.__data__,e)>-1},Ce.prototype.set=function(e,t){var n=this.__data__,i=we(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this},Te.prototype.clear=function(){this.size=0,this.__data__={hash:new be,map:new(de||Ce),string:new be}},Te.prototype.delete=function(e){var t=xe(this,e).delete(e);return this.size-=t?1:0,t},Te.prototype.get=function(e){return xe(this,e).get(e)},Te.prototype.has=function(e){return xe(this,e).has(e)},Te.prototype.set=function(e,t){var n=xe(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this},Ae.prototype.add=Ae.prototype.push=function(e){return this.__data__.set(e,i),this},Ae.prototype.has=function(e){return this.__data__.has(e)},Re.prototype.clear=function(){this.__data__=new Ce,this.size=0},Re.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Re.prototype.get=function(e){return this.__data__.get(e)},Re.prototype.has=function(e){return this.__data__.has(e)},Re.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Ce){var i=n.__data__;if(!de||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new Te(i)}return n.set(e,t),this.size=n.size,this};var je=ae?function(e){return null==e?[]:(e=Object(e),(function(e,t){for(var n=-1,i=null==e?0:e.length,r=0,o=[];++n<i;){var a=e[n];t(a)&&(o[r++]=a)}return o})(ae(e),function(t){return ie.call(e,t)}))}:function(){return[]},Ue=Ie;function He(e,t){return!!(t=null==t?a:t)&&("number"==typeof e||w.test(e))&&e>-1&&e%1==0&&e<t}function Je(e){if(null!=e){try{return $.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Be(e,t){return e===t||e!=e&&t!=t}(ue&&Ue(new ue(new ArrayBuffer(1)))!=R||de&&Ue(new de)!=m||le&&"[object Promise]"!=Ue(le.resolve())||he&&Ue(new he)!=E||pe&&"[object WeakMap]"!=Ue(new pe))&&(Ue=function(e){var t=Ie(e),n=t==y?e.constructor:void 0,i=n?Je(n):"";if(i)switch(i){case me:return R;case ve:return m;case ge:return"[object Promise]";case ye:return E;case _e:return"[object WeakMap]"}return t});var Ge=Pe((function(){return arguments})())?Pe:function(e){return $e(e)&&Q.call(e,"callee")&&!ie.call(e,"callee")},Ve=Array.isArray,qe=se||function(){return!1};function Ke(e){if(!ze(e))return!1;var t=Ie(e);return t==p||t==f||t==u||t==_}function We(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=a}function ze(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function $e(e){return null!=e&&"object"==typeof e}var Qe=j?(function(e){return function(t){return e(t)}})(j):function(e){return $e(e)&&We(e.length)&&!!I[Ie(e)]};function Xe(e){return null!=(t=e)&&We(t.length)&&!Ke(t)?ke(e):Ne(e);var t}n.exports=function(e,t){return De(e,t)}}).call(this,n(43),n(70)(e))},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return u}),n.d(t,"b",function(){return h});var i=n(2),r=n(0),o=n.n(r),a=n(24);n(4).getLogger(e);var s=["category","type","lang","name"],c=["category","type","lang"],u="Feature version mismatch";function d(e,t){var n=0;return c.some(function(i){return 0!==(n=e[i]>t[i]?1:e[i]<t[i]&&-1)}),n}function l(e,t){var n=e.sort(d).reduce(function(e,t){return s.reduce(function(e,n,i){return e+(0===i?"":"/")+(t[n]?t[n]:"")},"")+"<"},""),r=t.sort().reduce(function(e,t){return e+t+"<"},"");return Object(i.b64_sha1)(n+r)}var h=(function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"http://jitsi.org/jitsimeet";if(_classCallCheck(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).node=r,e.disco=n.disco,!e.disco)throw new Error("Missing strophe-plugins (disco plugin is required)!");e.versionToCapabilities=Object.create(null),e.jidToVersion=Object.create(null),e.version="",e.rooms=new Set;var a=n.emuc;return a.addListener(o.a.EMUC_ROOM_ADDED,function(t){return e._addChatRoom(t)}),a.addListener(o.a.EMUC_ROOM_REMOVED,function(t){return e._removeChatRoom(t)}),Object.keys(a.rooms).forEach(function(t){e._addChatRoom(a.rooms[t])}),i.Strophe.addNamespace("CAPS","http://jabber.org/protocol/caps"),e.disco.addFeature(i.Strophe.NS.CAPS),n.addHandler(e._handleCaps.bind(_assertThisInitialized(e)),i.Strophe.NS.CAPS),e._onMucMemberLeft=e._removeJidToVersionEntry.bind(_assertThisInitialized(e)),_possibleConstructorReturn(e)}return _inherits(t,e),_createClass(t,[{key:"addFeature",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.disco.addFeature(e),this._generateVersion(),t&&this.submit()}},{key:"removeFeature",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.disco.removeFeature(e),this._generateVersion(),t&&this.submit()}},{key:"submit",value:function(){this.rooms.forEach(function(e){return e.sendPresence()})}},{key:"getFeatures",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3,i=e in this.jidToVersion?this.jidToVersion[e]:null;if(!(i&&i.version in this.versionToCapabilities)){var r=i?i.node+"#"+i.version:null;return this._getDiscoInfo(e,r,n).then(function(e){var n=e.features,o=e.identities;if(i){var a=l(Array.from(o),Array.from(n)),s=i.node+"#"+a;return s===r?(t.versionToCapabilities[s]=n,n):t.versionToCapabilities[s]?t.versionToCapabilities[s]:Promise.reject(u)}})}return Promise.resolve(this.versionToCapabilities[i.version])}},{key:"getFeaturesAndIdentities",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;return this._getDiscoInfo(e,null,t)}},{key:"_getDiscoInfo",value:function(e,t,n){var i=this;return new Promise(function(r,o){return i.disco.info(e,t,function(e){var t=new Set,n=new Set;$(e).find(">query>feature").each(function(e,n){return t.add(n.getAttribute("var"))}),$(e).find(">query>identity").each(function(e,t){return n.add({type:t.getAttribute("type"),name:t.getAttribute("name"),category:t.getAttribute("category")})}),r({features:t,identities:n})},o,n)})}},{key:"_addChatRoom",value:function(e){this.rooms.add(e),e.addListener(o.a.MUC_MEMBER_LEFT,this._onMucMemberLeft),this._fixChatRoomPresenceMap(e)}},{key:"_removeChatRoom",value:function(e){this.rooms.delete(e),e.removeListener(o.a.MUC_MEMBER_LEFT,this._onMucMemberLeft)}},{key:"_fixChatRoomPresenceMap",value:function(e){e.addToPresence("c",{attributes:{xmlns:i.Strophe.NS.CAPS,hash:"sha-1",node:this.node,ver:this.version}})}},{key:"_notifyVersionChanged",value:function(){var e=this;this.rooms.forEach(function(t){return e._fixChatRoomPresenceMap(t)})}},{key:"_generateVersion",value:function(){this.version=l(this.disco._identities,this.disco._features),this._notifyVersionChanged()}},{key:"_handleCaps",value:function(e){var t=e.getAttribute("from"),n=e.querySelector("c"),i=n.getAttribute("ver"),r=n.getAttribute("node"),a=this.jidToVersion[t];return this.jidToVersion[t]={version:i,node:r},a&&a.version!==i&&this.eventEmitter.emit(o.a.PARTCIPANT_FEATURES_CHANGED,t),!0}},{key:"_removeJidToVersionEntry",value:function(e){e in this.jidToVersion&&delete this.jidToVersion[e]}}]),t})(a.a)}).call(this,"modules/xmpp/Caps.js")},function(e,t,n){"use strict";n.r(t),n.d(t,"ON",function(){return i}),n.d(t,"OFF",function(){return r});var i="on",r="off"},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return v}),n.d(t,"b",function(){return g});var i=n(4),r=n(22),o=n.n(r),a=n(15),s=n(1),c=n(8),u=n.n(c),d=n(9),l=n(12),h=Object(i.getLogger)(e),p="1",f="2",m="3",v=[p,f,m],g=(function(){function e(t){_classCallCheck(this,e),this.pc=t,this.simulcastEncodings=[{active:!0,maxBitrate:s.a.isFirefox()?25e5:2e5,rid:p,scaleResolutionDownBy:s.a.isFirefox()?1:4},{active:!0,maxBitrate:7e5,rid:f,scaleResolutionDownBy:2},{active:!0,maxBitrate:s.a.isFirefox()?2e5:25e5,rid:m,scaleResolutionDownBy:s.a.isFirefox()?4:1}],this.simulcastStreamConstraints=[]}return _createClass(e,[{key:"_ensureCorrectOrderOfSsrcs",value:function(e){var t=o.a.parse(e.sdp);return t.media.forEach(function(e){if("audio"!==e.type&&e.ssrcGroups&&e.ssrcGroups.length){var t=[];e.ssrcGroups[0].ssrcs.split(" ").forEach(function(n){var i=e.ssrcs.filter(function(e){return e.id.toString()===n});t=t.concat(i)}),e.ssrcs=t}}),new RTCSessionDescription({type:e.type,sdp:o.a.write(t)})}},{key:"_getStreamEncodings",value:function(e){return this.pc.isSimulcastOn()&&e.isVideoTrack()?this.simulcastEncodings:[{active:!0}]}},{key:"_insertUnifiedPlanSimulcastReceive",value:function(e){if(s.a.usesSdpMungingForSimulcast())return e;var t=o.a.parse(e.sdp),n=t.media.findIndex(function(e){return"video"===e.type});if(t.media[n].rids&&(t.media[n].simulcast_03||t.media[n].simulcast))return t.media.forEach(function(e,i){"video"===e.type&&i!==n&&(t.media[i].rids=void 0,t.media[i].simulcast=void 0,t.media[i].simulcast_03=void 0)}),new RTCSessionDescription({type:e.type,sdp:o.a.write(t)});t.media[n].rids=[{id:p,direction:"recv"},{id:f,direction:"recv"},{id:m,direction:"recv"}];var i=s.a.isFirefox()&&s.a.isVersionGreaterThan(71)?"recv "+v.join(";"):"recv rid="+v.join(";");return t.media[n].simulcast_03={value:i},new RTCSessionDescription({type:e.type,sdp:o.a.write(t)})}},{key:"_setSimulcastStreamConstraints",value:function(e){if(!s.a.isReactNative()){var t=e.getSettings().height;for(var n in this.simulcastEncodings)this.simulcastEncodings.hasOwnProperty(n)&&this.simulcastStreamConstraints.push({height:t/this.simulcastEncodings[n].scaleResolutionDownBy,rid:this.simulcastEncodings[n].rid})}}},{key:"addTrack",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.getTrack();if(t){var i={direction:"sendrecv",streams:[e.getOriginalStream()],sendEncodings:[]};s.a.isFirefox()||(i.sendEncodings=this._getStreamEncodings(e)),this.pc.peerconnection.addTransceiver(n,i)}else this.pc.peerconnection.addTrack(n);e.isVideoTrack()&&e.videoType===l.CAMERA&&this.pc.isSimulcastOn()&&this._setSimulcastStreamConstraints(e.getTrack())}},{key:"addTrackUnmute",value:function(e){var t=this,n=e.getType(),i=e.getTrack(),r=this.pc.peerconnection.getTransceivers().find(function(e){return e.receiver&&e.receiver.track&&e.receiver.track.kind===n});return r?(h.debug("Adding "+e+" on "+this.pc),"recvonly"===r.direction?(this.pc.peerconnection.addStream(e.getOriginalStream()),this.setEncodings(e),this.pc.localTracks.set(e.rtcId,e),r.direction="sendrecv",Promise.resolve(!1)):r.sender.replaceTrack(i).then(function(){return t.pc.localTracks.set(e.rtcId,e),Promise.resolve(!1)})):Promise.reject(new Error("RTCRtpTransceiver for "+n+" not found"))}},{key:"removeTrackMute",value:function(e){var t=this,n=e.getType(),i=this.pc.peerconnection.getTransceivers().find(function(t){return t.sender&&t.sender.track&&t.sender.track.id===e.getTrackId()});return i?(h.debug("Removing "+e+" on "+this.pc),i.sender.replaceTrack(null).then(function(){return t.pc.localTracks.delete(e.rtcId),Promise.resolve(!1)})):Promise.reject(new Error("RTCRtpTransceiver for "+n+" not found"))}},{key:"replaceTrack",value:function(e,t){var n=this;if(e&&t){var i=t.getType(),r=t.getOriginalStream(),o=i===d.a?r.getAudioTracks()[0]:r.getVideoTracks()[0],s=this.pc.peerconnection.getTransceivers().find(function(e){return e.receiver.track.kind===i&&!e.stopped});return s?(h.debug("Replacing "+e+" with "+t+" on "+this.pc),s.sender.replaceTrack(o).then(function(){var i=n.pc.localSSRCs.get(e.rtcId);n.pc.localTracks.delete(e.rtcId),n.pc.localSSRCs.delete(e.rtcId),n.pc._addedStreams=n.pc._addedStreams.filter(function(e){return e!==r}),n.pc.localTracks.set(t.rtcId,t),n.pc._addedStreams.push(r),n.pc.localSSRCs.set(t.rtcId,i),n.pc.eventEmitter.emit(u.a.LOCAL_TRACK_SSRC_UPDATED,t,n.pc._extractPrimarySSRC(i))})):Promise.reject(new Error("replace track failed"))}if(e&&!t){if(!this.removeTrackMute(e))return Promise.reject(new Error("replace track failed"));this.pc.localTracks.delete(e.rtcId),this.pc.localSSRCs.delete(e.rtcId)}else if(t&&!e){var c=this.pc.localSSRCs.get(t.rtcId);if(!this.addTrackUnmute(t))return Promise.reject(new Error("replace track failed"));t.emit(a.TRACK_MUTE_CHANGED,t),this.pc.localTracks.set(t.rtcId,t),this.pc.localSSRCs.set(t.rtcId,c)}return Promise.resolve(!1)}},{key:"setAudioTransferActive",value:function(e){return this.setMediaTransferActive("audio",e)}},{key:"setEncodings",value:function(e){var t=this.pc.peerconnection.getTransceivers().find(function(t){return t.sender&&t.sender.track&&t.sender.track.kind===e.getType()}),n=t.sender.getParameters();n.encodings=this._getStreamEncodings(e),t.sender.setParameters(n)}},{key:"setMediaTransferActive",value:function(e,t){var n=this.pc.peerconnection.getTransceivers().filter(function(t){return t.receiver&&t.receiver.track&&t.receiver.track.kind===e}),i=Array.from(this.pc.localTracks.values()).filter(function(t){return t.getType()===e});return t?n.forEach(function(e){if(i.length){e.direction="sendrecv";var t=e.sender.getParameters();t&&t.encodings&&t.encodings.length&&(t.encodings.forEach(function(e){e.active=!0}),e.sender.setParameters(t))}else e.direction="recvonly"}):n.forEach(function(e){e.direction="inactive"}),!1}},{key:"setVideoTransferActive",value:function(e){return this.setMediaTransferActive("video",e)}}]),e})()}).call(this,"modules/RTC/TPCUtils.js")},function(e,t){e.exports=(function(){"use strict";function e(t,n,i){_classCallCheck(this,e),this._userId=t,this.setDisplayName(n),this._isLocalStats=i||!1,this.setDominantSpeaker(!1),this.totalDominantSpeakerTime=0,this._dominantSpeakerStart=0,this._hasLeft=!1}return _createClass(e,[{key:"getUserId",value:function(){return this._userId}},{key:"getDisplayName",value:function(){return this.displayName}},{key:"setDisplayName",value:function(e){this.displayName=e}},{key:"isLocalStats",value:function(){return this._isLocalStats}},{key:"isDominantSpeaker",value:function(){return this._dominantSpeakerStart>0}},{key:"setDominantSpeaker",value:function(e){if(!this.isDominantSpeaker()&&e)this._dominantSpeakerStart=Date.now();else if(this.isDominantSpeaker()&&!e){var t=Date.now()-this._dominantSpeakerStart;this.totalDominantSpeakerTime+=t,this._dominantSpeakerStart=0}}},{key:"getTotalDominantSpeakerTime",value:function(){var e=this.totalDominantSpeakerTime;return this.isDominantSpeaker()&&(e+=Date.now()-this._dominantSpeakerStart),e}},{key:"hasLeft",value:function(){return this._hasLeft}},{key:"markAsHasLeft",value:function(){this._hasLeft=!0,this.setDominantSpeaker(!1)}}]),e})()},function(e,t){e.exports={IDENTITY_UPDATED:"authentication.identity_updated"}},function(module,exports,__webpack_require__){(function(process,global){var __WEBPACK_AMD_DEFINE_RESULT__;!(function(){"use strict";var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_MD5_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_MD5_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS?root=global:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_MD5_NO_COMMON_JS&&"object"==typeof module&&module.exports,AMD=__webpack_require__(137),ARRAY_BUFFER=!root.JS_MD5_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[128,32768,8388608,-2147483648],SHIFT=[0,8,16,24],OUTPUT_TYPES=["hex","array","digest","buffer","arrayBuffer","base64"],BASE64_ENCODE_CHAR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),blocks=[],buffer8;if(ARRAY_BUFFER){var buffer=new ArrayBuffer(68);buffer8=new Uint8Array(buffer),blocks=new Uint32Array(buffer)}!root.JS_MD5_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!ARRAY_BUFFER||!root.JS_MD5_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});var createOutputMethod=function(e){return function(t){return new Md5(!0).update(t)[e]()}},createMethod=function(){var e=createOutputMethod("hex");NODE_JS&&(e=nodeWrap(e)),e.create=function(){return new Md5},e.update=function(t){return e.create().update(t)};for(var t=0;t<OUTPUT_TYPES.length;++t){var n=OUTPUT_TYPES[t];e[n]=createOutputMethod(n)}return e},nodeWrap=function nodeWrap(method){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),nodeMethod=function(e){if("string"==typeof e)return crypto.createHash("md5").update(e,"utf8").digest("hex");if(null==e)throw ERROR;return e.constructor===ArrayBuffer&&(e=new Uint8Array(e)),Array.isArray(e)||ArrayBuffer.isView(e)||e.constructor===Buffer?crypto.createHash("md5").update(new Buffer(e)).digest("hex"):method(e)};return nodeMethod};function Md5(e){if(e)blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks,this.buffer8=buffer8;else if(ARRAY_BUFFER){var t=new ArrayBuffer(68);this.buffer8=new Uint8Array(t),this.blocks=new Uint32Array(t)}else this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.h0=this.h1=this.h2=this.h3=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}Md5.prototype.update=function(e){if(!this.finalized){var t,n=typeof e;if("string"!==n){if("object"!==n)throw ERROR;if(null===e)throw ERROR;if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||ARRAY_BUFFER&&ArrayBuffer.isView(e)))throw ERROR;t=!0}for(var i,r,o=0,a=e.length,s=this.blocks,c=this.buffer8;o<a;){if(this.hashed&&(this.hashed=!1,s[0]=s[16],s[16]=s[1]=s[2]=s[3]=s[4]=s[5]=s[6]=s[7]=s[8]=s[9]=s[10]=s[11]=s[12]=s[13]=s[14]=s[15]=0),t)if(ARRAY_BUFFER)for(r=this.start;o<a&&r<64;++o)c[r++]=e[o];else for(r=this.start;o<a&&r<64;++o)s[r>>2]|=e[o]<<SHIFT[3&r++];else if(ARRAY_BUFFER)for(r=this.start;o<a&&r<64;++o)(i=e.charCodeAt(o))<128?c[r++]=i:i<2048?(c[r++]=192|i>>6,c[r++]=128|63&i):i<55296||i>=57344?(c[r++]=224|i>>12,c[r++]=128|i>>6&63,c[r++]=128|63&i):(i=65536+((1023&i)<<10|1023&e.charCodeAt(++o)),c[r++]=240|i>>18,c[r++]=128|i>>12&63,c[r++]=128|i>>6&63,c[r++]=128|63&i);else for(r=this.start;o<a&&r<64;++o)(i=e.charCodeAt(o))<128?s[r>>2]|=i<<SHIFT[3&r++]:i<2048?(s[r>>2]|=(192|i>>6)<<SHIFT[3&r++],s[r>>2]|=(128|63&i)<<SHIFT[3&r++]):i<55296||i>=57344?(s[r>>2]|=(224|i>>12)<<SHIFT[3&r++],s[r>>2]|=(128|i>>6&63)<<SHIFT[3&r++],s[r>>2]|=(128|63&i)<<SHIFT[3&r++]):(i=65536+((1023&i)<<10|1023&e.charCodeAt(++o)),s[r>>2]|=(240|i>>18)<<SHIFT[3&r++],s[r>>2]|=(128|i>>12&63)<<SHIFT[3&r++],s[r>>2]|=(128|i>>6&63)<<SHIFT[3&r++],s[r>>2]|=(128|63&i)<<SHIFT[3&r++]);this.lastByteIndex=r,this.bytes+=r-this.start,r>=64?(this.start=r-64,this.hash(),this.hashed=!0):this.start=r}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Md5.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[t>>2]|=EXTRA[3&t],t>=56&&(this.hashed||this.hash(),e[0]=e[16],e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.bytes<<3,e[15]=this.hBytes<<3|this.bytes>>>29,this.hash()}},Md5.prototype.hash=function(){var e,t,n,i,r,o,a=this.blocks;this.first?t=((t=((e=((e=a[0]-680876937)<<7|e>>>25)-271733879<<0)^(n=((n=(-271733879^(i=((i=(-1732584194^2004318071&e)+a[1]-117830708)<<12|i>>>20)+e<<0)&(-271733879^e))+a[2]-1126478375)<<17|n>>>15)+i<<0)&(i^e))+a[3]-1316259209)<<22|t>>>10)+n<<0:(e=this.h0,t=this.h1,n=this.h2,t=((t+=((e=((e+=((i=this.h3)^t&(n^i))+a[0]-680876936)<<7|e>>>25)+t<<0)^(n=((n+=(t^(i=((i+=(n^e&(t^n))+a[1]-389564586)<<12|i>>>20)+e<<0)&(e^t))+a[2]+606105819)<<17|n>>>15)+i<<0)&(i^e))+a[3]-1044525330)<<22|t>>>10)+n<<0),t=((t+=((e=((e+=(i^t&(n^i))+a[4]-176418897)<<7|e>>>25)+t<<0)^(n=((n+=(t^(i=((i+=(n^e&(t^n))+a[5]+1200080426)<<12|i>>>20)+e<<0)&(e^t))+a[6]-1473231341)<<17|n>>>15)+i<<0)&(i^e))+a[7]-45705983)<<22|t>>>10)+n<<0,t=((t+=((e=((e+=(i^t&(n^i))+a[8]+1770035416)<<7|e>>>25)+t<<0)^(n=((n+=(t^(i=((i+=(n^e&(t^n))+a[9]-1958414417)<<12|i>>>20)+e<<0)&(e^t))+a[10]-42063)<<17|n>>>15)+i<<0)&(i^e))+a[11]-1990404162)<<22|t>>>10)+n<<0,t=((t+=((e=((e+=(i^t&(n^i))+a[12]+1804603682)<<7|e>>>25)+t<<0)^(n=((n+=(t^(i=((i+=(n^e&(t^n))+a[13]-40341101)<<12|i>>>20)+e<<0)&(e^t))+a[14]-1502002290)<<17|n>>>15)+i<<0)&(i^e))+a[15]+1236535329)<<22|t>>>10)+n<<0,t=((t+=((i=((i+=(t^n&((e=((e+=(n^i&(t^n))+a[1]-165796510)<<5|e>>>27)+t<<0)^t))+a[6]-1069501632)<<9|i>>>23)+e<<0)^e&((n=((n+=(e^t&(i^e))+a[11]+643717713)<<14|n>>>18)+i<<0)^i))+a[0]-373897302)<<20|t>>>12)+n<<0,t=((t+=((i=((i+=(t^n&((e=((e+=(n^i&(t^n))+a[5]-701558691)<<5|e>>>27)+t<<0)^t))+a[10]+38016083)<<9|i>>>23)+e<<0)^e&((n=((n+=(e^t&(i^e))+a[15]-660478335)<<14|n>>>18)+i<<0)^i))+a[4]-405537848)<<20|t>>>12)+n<<0,t=((t+=((i=((i+=(t^n&((e=((e+=(n^i&(t^n))+a[9]+568446438)<<5|e>>>27)+t<<0)^t))+a[14]-1019803690)<<9|i>>>23)+e<<0)^e&((n=((n+=(e^t&(i^e))+a[3]-187363961)<<14|n>>>18)+i<<0)^i))+a[8]+1163531501)<<20|t>>>12)+n<<0,t=((t+=((i=((i+=(t^n&((e=((e+=(n^i&(t^n))+a[13]-1444681467)<<5|e>>>27)+t<<0)^t))+a[2]-51403784)<<9|i>>>23)+e<<0)^e&((n=((n+=(e^t&(i^e))+a[7]+1735328473)<<14|n>>>18)+i<<0)^i))+a[12]-1926607734)<<20|t>>>12)+n<<0,t=((t+=((o=(i=((i+=((r=t^n)^(e=((e+=(r^i)+a[5]-378558)<<4|e>>>28)+t<<0))+a[8]-2022574463)<<11|i>>>21)+e<<0)^e)^(n=((n+=(o^t)+a[11]+1839030562)<<16|n>>>16)+i<<0))+a[14]-35309556)<<23|t>>>9)+n<<0,t=((t+=((o=(i=((i+=((r=t^n)^(e=((e+=(r^i)+a[1]-1530992060)<<4|e>>>28)+t<<0))+a[4]+1272893353)<<11|i>>>21)+e<<0)^e)^(n=((n+=(o^t)+a[7]-155497632)<<16|n>>>16)+i<<0))+a[10]-1094730640)<<23|t>>>9)+n<<0,t=((t+=((o=(i=((i+=((r=t^n)^(e=((e+=(r^i)+a[13]+681279174)<<4|e>>>28)+t<<0))+a[0]-358537222)<<11|i>>>21)+e<<0)^e)^(n=((n+=(o^t)+a[3]-722521979)<<16|n>>>16)+i<<0))+a[6]+76029189)<<23|t>>>9)+n<<0,t=((t+=((o=(i=((i+=((r=t^n)^(e=((e+=(r^i)+a[9]-640364487)<<4|e>>>28)+t<<0))+a[12]-421815835)<<11|i>>>21)+e<<0)^e)^(n=((n+=(o^t)+a[15]+530742520)<<16|n>>>16)+i<<0))+a[2]-995338651)<<23|t>>>9)+n<<0,t=((t+=((i=((i+=(t^((e=((e+=(n^(t|~i))+a[0]-198630844)<<6|e>>>26)+t<<0)|~n))+a[7]+1126891415)<<10|i>>>22)+e<<0)^((n=((n+=(e^(i|~t))+a[14]-1416354905)<<15|n>>>17)+i<<0)|~e))+a[5]-57434055)<<21|t>>>11)+n<<0,t=((t+=((i=((i+=(t^((e=((e+=(n^(t|~i))+a[12]+1700485571)<<6|e>>>26)+t<<0)|~n))+a[3]-1894986606)<<10|i>>>22)+e<<0)^((n=((n+=(e^(i|~t))+a[10]-1051523)<<15|n>>>17)+i<<0)|~e))+a[1]-2054922799)<<21|t>>>11)+n<<0,t=((t+=((i=((i+=(t^((e=((e+=(n^(t|~i))+a[8]+1873313359)<<6|e>>>26)+t<<0)|~n))+a[15]-30611744)<<10|i>>>22)+e<<0)^((n=((n+=(e^(i|~t))+a[6]-1560198380)<<15|n>>>17)+i<<0)|~e))+a[13]+1309151649)<<21|t>>>11)+n<<0,t=((t+=((i=((i+=(t^((e=((e+=(n^(t|~i))+a[4]-145523070)<<6|e>>>26)+t<<0)|~n))+a[11]-1120210379)<<10|i>>>22)+e<<0)^((n=((n+=(e^(i|~t))+a[2]+718787259)<<15|n>>>17)+i<<0)|~e))+a[9]-343485551)<<21|t>>>11)+n<<0,this.first?(this.h0=e+1732584193<<0,this.h1=t-271733879<<0,this.h2=n-1732584194<<0,this.h3=i+271733878<<0,this.first=!1):(this.h0=this.h0+e<<0,this.h1=this.h1+t<<0,this.h2=this.h2+n<<0,this.h3=this.h3+i<<0)},Md5.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,i=this.h3;return HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[15&i]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15]},Md5.prototype.toString=Md5.prototype.hex,Md5.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,i=this.h3;return[255&e,e>>8&255,e>>16&255,e>>24&255,255&t,t>>8&255,t>>16&255,t>>24&255,255&n,n>>8&255,n>>16&255,n>>24&255,255&i,i>>8&255,i>>16&255,i>>24&255]},Md5.prototype.array=Md5.prototype.digest,Md5.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(16),t=new Uint32Array(e);return t[0]=this.h0,t[1]=this.h1,t[2]=this.h2,t[3]=this.h3,e},Md5.prototype.buffer=Md5.prototype.arrayBuffer,Md5.prototype.base64=function(){for(var e,t,n,i="",r=this.array(),o=0;o<15;)e=r[o++],t=r[o++],n=r[o++],i+=BASE64_ENCODE_CHAR[e>>>2]+BASE64_ENCODE_CHAR[63&(e<<4|t>>>4)]+BASE64_ENCODE_CHAR[63&(t<<2|n>>>6)]+BASE64_ENCODE_CHAR[63&n];return e=r[o],i+(BASE64_ENCODE_CHAR[e>>>2]+BASE64_ENCODE_CHAR[e<<4&63]+"==")};var exports=createMethod();COMMON_JS?module.exports=exports:(root.md5=exports,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))})()}).call(this,__webpack_require__(51),__webpack_require__(43))},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return S});var i=n(4),r=n(54),o=n(17),a=n(13),s=n(15),c=n(1),u=n(10),d=n(41),l=n.n(d),h=n(9),p=n(8),f=n.n(p),m=n(12),v=n.n(m),g=n(7),y=n(5),_=Object(i.getLogger)(e),S=(function(e){function t(e){var n,i=e.deviceId,r=e.facingMode,o=e.mediaType,a=e.resolution,d=e.rtcId,l=e.sourceId,h=e.sourceType,p=e.stream,m=e.track,g=e.videoType,y=e.effects,_=void 0===y?[]:y;_classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,null,p,m,function(){return n.emit(s.LOCAL_TRACK_STOPPED)},o,g)))._setEffectInProgress=!1;var S=_.find(function(e){return e.isEnabled(_assertThisInitialized(n))});return S&&n._startStreamEffect(S),n.rtcId=d,n.sourceId=l,n.sourceType=h,c.a.usesNewGumFlow()?(n.resolution=m.getSettings().height,n._constraints=m.getConstraints(),Object.keys(n._constraints).length||g!==v.a.CAMERA||(n._constraints={height:m.getSettings().height,width:m.getSettings().width})):n.resolution=c.a.isFirefox()?null:a,n.deviceId=i,n._prevSetMuted=Promise.resolve(),n._facingMode=r,n._trackEnded=!1,n._hasSentData=!1,n._testDataSent=!0,n._realDeviceId=""===n.deviceId?void 0:n.deviceId,n._trackMutedTS=0,n._onDeviceListWillChange=function(e){var t=n._realDeviceId;n._setRealDeviceIdFromDeviceList(e),(void 0===n.getTrack().readyState&&void 0!==n._realDeviceId&&!e.find(function(e){return e.deviceId===n._realDeviceId})||void 0!==t&&void 0===n._realDeviceId)&&(n._trackEnded=!0)},n.isAudioTrack()&&u.a.isDeviceChangeAvailable("output")&&(n._onAudioOutputDeviceChanged=n.setAudioOutput.bind(_assertThisInitialized(n)),u.a.addListener(f.a.AUDIO_OUTPUT_DEVICE_CHANGED,n._onAudioOutputDeviceChanged)),u.a.addListener(f.a.DEVICE_LIST_WILL_CHANGE,n._onDeviceListWillChange),n._initNoDataFromSourceHandlers(),n}return _inherits(t,e),_createClass(t,[{key:"isEnded",value:function(){return this.isVideoTrack()&&this.isMuted()?this._trackEnded:"ended"===this.getTrack().readyState||this._trackEnded}},{key:"_initNoDataFromSourceHandlers",value:function(){var e=this;this._isNoDataFromSourceEventsEnabled()&&(this._setHandler("track_mute",function(){e._trackMutedTS=window.performance.now(),e._fireNoDataFromSourceEvent()}),this._setHandler("track_unmute",function(){e._fireNoDataFromSourceEvent(),y.a.sendAnalyticsAndLog(g.s,{media_type:e.getType(),track_type:"local",value:window.performance.now()-e._trackMutedTS})}),this.isVideoTrack()&&this.videoType===v.a.CAMERA&&this._setHandler("track_ended",function(){e.isReceivingData()||e._fireNoDataFromSourceEvent()}))}},{key:"_isNoDataFromSourceEventsEnabled",value:function(){return!this.isVideoTrack()||this.videoType!==v.a.DESKTOP}},{key:"_fireNoDataFromSourceEvent",value:function(){var e=!this.isReceivingData();this.emit(s.NO_DATA_FROM_SOURCE,e),y.a.sendAnalytics(Object(g.H)(this.getType(),e)),y.a.sendLog(JSON.stringify({name:s.NO_DATA_FROM_SOURCE,log:e}))}},{key:"_setRealDeviceIdFromDeviceList",value:function(e){var t=this.getTrack(),n=t.kind+"input",i=e.find(function(e){return e.kind===n&&e.label===t.label});if(!i&&"default"===this._realDeviceId){var r=(t.label||"").replace("Default - ","");i=e.find(function(e){return e.kind===n&&e.label===r})}this._realDeviceId=i?i.deviceId:void 0}},{key:"_setStream",value:function(e){_get(_getPrototypeOf(t.prototype),"_setStream",this).call(this,e),e?(this.storedMSID=this.getMSID(),_.debug("Setting new MSID: "+this.storedMSID+" on "+this)):_.debug("Setting 'null' stream on "+this)}},{key:"_startStreamEffect",value:function(e){this._streamEffect=e,this._originalStream=this.stream,this._setStream(this._streamEffect.startEffect(this._originalStream))}},{key:"_stopStreamEffect",value:function(){this._streamEffect&&(this._streamEffect.stopEffect(),this._setStream(this._originalStream))}},{key:"_switchStreamEffect",value:function(e){this._streamEffect&&(this._stopStreamEffect(),this._streamEffect=void 0),e&&this._startStreamEffect(e)}},{key:"setEffect",value:function(e){var t=this;if(void 0===this._streamEffect&&void 0===e)return Promise.resolve();if(void 0!==e&&!e.isEnabled(this))return Promise.reject(new Error("Incompatible effect instance!"));if(!0===this._setEffectInProgress)return Promise.reject(new Error("setEffect already in progress!"));if(this.isMuted()&&!this.isAudioTrack())return this._streamEffect=e,Promise.resolve();var n=this.conference;return n?(this._setEffectInProgress=!0,c.a.usesUnifiedPlan()?(this._switchStreamEffect(e),this.isVideoTrack()&&this.containers.forEach(function(e){return u.a.attachMediaStream(e,t.stream)}),n.replaceTrack(this,this).then(function(){t._setEffectInProgress=!1}).catch(function(e){t._setEffectInProgress=!1,t._switchStreamEffect()})):n.removeTrack(this).then(function(){return t._switchStreamEffect(e),t.isVideoTrack()&&t.containers.forEach(function(e){return u.a.attachMediaStream(e,t.stream)}),n.addTrack(t)}).then(function(){t._setEffectInProgress=!1}).catch(function(e){t._setEffectInProgress=!1,t._switchStreamEffect()})):(this._switchStreamEffect(e),Promise.resolve())}},{key:"mute",value:function(){return this._queueSetMuted(!0)}},{key:"unmute",value:function(){return this._queueSetMuted(!1)}},{key:"_queueSetMuted",value:function(e){var t=this._setMuted.bind(this,e);return this._prevSetMuted=this._prevSetMuted.then(t,t),this._prevSetMuted}},{key:"_setMuted",value:function(e){var t=this;if(this.isMuted()===e)return Promise.resolve();if(this.disposed)return Promise.reject(new o.a(a.TRACK_IS_DISPOSED));var n=Promise.resolve(),i=function(){return _.info("Mute "+t+": "+e)};if(this.isAudioTrack()||this.videoType===v.a.DESKTOP||!c.a.doesVideoMuteByStreamRemove())i(),this.track&&(this.track.enabled=!e);else if(e)n=new Promise(function(e,n){i(),t._removeStreamFromConferenceAsMute(function(){t._streamEffect&&t._stopStreamEffect(),t._unregisterHandlers(),t.stopStream(),t._setStream(null),e()},n)});else{i();var r={cameraDeviceId:this.getDeviceId(),devices:[h.c],effects:this._streamEffect?[this._streamEffect]:[],facingMode:this.getCameraFacingMode()};c.a.usesNewGumFlow()?n=u.a.newObtainAudioAndVideoPermissions(_extends({},r,{constraints:{video:this._constraints}})):(this.resolution&&(r.resolution=this.resolution),n=u.a.obtainAudioAndVideoPermissions(r)),n=n.then(function(e){var n=t.getType()===h.b?h.c:t.getType(),i=c.a.usesNewGumFlow()?e.find(function(e){return e.track.kind===n}):e.find(function(e){return e.mediaType===n});if(!i)throw new o.a(a.TRACK_NO_STREAM_FOUND);return t._setStream(i.stream),t.track=i.track,t.videoType!==i.videoType&&(_.warn(t+": video type has changed after unmute!",t.videoType,i.videoType),t.videoType=i.videoType),t._streamEffect&&t._startStreamEffect(t._streamEffect),t.containers.map(function(e){return u.a.attachMediaStream(e,t.stream)}),t._addStreamToConferenceAsUnmute()})}return n.then(function(){return t._sendMuteStatus(e)}).then(function(){return t.emit(s.TRACK_MUTE_CHANGED,t)})}},{key:"_addStreamToConferenceAsUnmute",value:function(){var e=this;return this.conference?new Promise(function(t,n){e.conference._addLocalTrackAsUnmute(e).then(t,function(e){return n(new Error(e))})}):Promise.resolve()}},{key:"_removeStreamFromConferenceAsMute",value:function(e,t){this.conference?this.conference._removeLocalTrackAsMute(this).then(e,function(e){return t(new Error(e))}):e()}},{key:"_sendMuteStatus",value:function(e){var t=this;return this.conference&&this.conference.room?new Promise(function(n){t.conference.room[t.isAudioTrack()?"setAudioMute":"setVideoMute"](e,n)}):Promise.resolve()}},{key:"dispose",value:function(){var e=this;this._switchStreamEffect();var n=Promise.resolve();return this.conference&&(n=this.conference.removeTrack(this)),this.stream&&(this.stopStream(),this.detach()),u.a.removeListener(f.a.DEVICE_LIST_WILL_CHANGE,this._onDeviceListWillChange),this._onAudioOutputDeviceChanged&&u.a.removeListener(f.a.AUDIO_OUTPUT_DEVICE_CHANGED,this._onAudioOutputDeviceChanged),n.then(function(){return _get(_getPrototypeOf(t.prototype),"dispose",e).call(e)})}},{key:"isMuted",value:function(){return!(this.stream&&(!this.isVideoTrack()||this.isActive())&&this.track&&this.track.enabled)}},{key:"_setConference",value:function(e){this.conference=e;for(var t=0;t<this.containers.length;t++)this._maybeFireTrackAttached(this.containers[t])}},{key:"isLocal",value:function(){return!0}},{key:"getDeviceId",value:function(){return this._realDeviceId||this.deviceId}},{key:"getParticipantId",value:function(){return this.conference&&this.conference.myUserId()}},{key:"_onByteSentStatsReceived",value:function(e,t){var n=this;t>0&&(this._hasSentData=!0);var i=e.getConnectionState();this._testDataSent&&"connected"===i&&(setTimeout(function(){n._hasSentData||(_.warn(n+" 'bytes sent' <= 0:                         "+t),y.a.analytics.sendEvent(g.r,{media_type:n.getType()}))},3e3),this._testDataSent=!1)}},{key:"getCameraFacingMode",value:function(){if(this.isVideoTrack()&&this.videoType===v.a.CAMERA){var e;try{e=this.track.getSettings()}catch(e){}return e&&"facingMode"in e?e.facingMode:void 0!==this._facingMode?this._facingMode:l.a.USER}}},{key:"stopStream",value:function(){this._stopStreamInProgress=!0;try{u.a.stopMediaStream(this.stream)}finally{this._stopStreamInProgress=!1}}},{key:"_switchCamera",value:function(){this.isVideoTrack()&&this.videoType===v.a.CAMERA&&"function"==typeof this.track._switchCamera&&(this.track._switchCamera(),this._facingMode=this._facingMode===l.a.ENVIRONMENT?l.a.USER:l.a.ENVIRONMENT)}},{key:"isReceivingData",value:function(){return!(!this.isVideoTrack()||!this.isMuted()&&!this._stopStreamInProgress&&this.videoType!==v.a.DESKTOP)||!!this.stream&&(this._effectEnabled?this._originalStream:this.stream).getTracks().some(function(e){return!("readyState"in e&&"live"!==e.readyState||"muted"in e&&!0===e.muted)})}},{key:"toString",value:function(){return"LocalTrack["+this.rtcId+","+this.getType()+"]"}}]),t})(r.a)}).call(this,"modules/RTC/JitsiLocalTrack.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return u});var i=n(20),r=n(4),o=n(3),a=n(21),s=n(56),c=Object(r.getLogger)(e),u=(function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._createVADProcessor=n,i._vadEmitter=null,i._isVADEmitterRunning=!1,i._detectionServices=[],i._vadInitTracker=Promise.resolve(),i._processVADScore=i._processVADScore.bind(_assertThisInitialized(i)),e.on(o.TRACK_ADDED,i._trackAdded.bind(_assertThisInitialized(i))),e.on(o.TRACK_REMOVED,i._trackRemoved.bind(_assertThisInitialized(i))),e.on(o.TRACK_MUTE_CHANGED,i._trackMuteChanged.bind(_assertThisInitialized(i))),i}return _inherits(t,e),_createClass(t,[{key:"addVADDetectionService",value:function(e){var t=this;this._detectionServices.push(e),e.on(a.DETECTOR_STATE_CHANGE,function(){!t._detectionServices.filter(function(e){return!0===e.isActive()}).length&&t._isVADEmitterRunning?t._stopVADEmitter():t._isVADEmitterRunning||t._startVADEmitter()})}},{key:"_startVADEmitter",value:function(){this._vadEmitter.on(a.VAD_SCORE_PUBLISHED,this._processVADScore),this._vadEmitter.start(),this._isVADEmitterRunning=!0}},{key:"_stopVADEmitter",value:function(){this._vadEmitter.removeListener(a.VAD_SCORE_PUBLISHED,this._processVADScore),this._vadEmitter.stop(),this._isVADEmitterRunning=!1}},{key:"_processVADScore",value:function(e){var t=this._detectionServices,n=Array.isArray(t),i=0;for(t=n?t:t["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var r;if(n){if(i>=t.length)break;r=t[i++]}else{if((i=t.next()).done)break;r=i.value}r.processVADScore(e)}}},{key:"_changeDetectorsMuteState",value:function(e){var t=this._detectionServices,n=Array.isArray(t),i=0;for(t=n?t:t["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var r;if(n){if(i>=t.length)break;r=t[i++]}else{if((i=t.next()).done)break;r=i.value}r.changeMuteState(e)}}},{key:"_trackAdded",value:function(e){var t=this;e.isLocalAudioTrack()&&(this._vadInitTracker=this._vadInitTracker.then(function(){return t._createVADProcessor()}).then(function(t){return s.a.create(e.getDeviceId(),4096,t)}).then(function(n){c.debug("Created VAD emitter for track: ",e.getTrackLabel()),t._vadEmitter=n,t._changeDetectorsMuteState(e.isMuted())}))}},{key:"_trackMuteChanged",value:function(e){var t=this;e.isLocalAudioTrack()&&(this._vadInitTracker=this._vadInitTracker.then(function(){t._changeDetectorsMuteState(e.isMuted())}))}},{key:"_trackRemoved",value:function(e){var t=this;e.isLocalAudioTrack()&&(this._vadInitTracker=this._vadInitTracker.then(function(){c.debug("Removing track from VAD detection - ",e.getTrackLabel()),t._vadEmitter&&(t._stopVADEmitter(),t._vadEmitter.destroy(),t._vadEmitter=null);var n=t._detectionServices,i=Array.isArray(n),r=0;for(n=i?n:n["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var o;if(i){if(r>=n.length)break;o=n[r++]}else{if((r=n.next()).done)break;o=r.value}o.reset()}}))}}]),t})(i.EventEmitter)}).call(this,"modules/detection/VADAudioAnalyser.js")},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n(2),r=n(46),o=(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,e),this._connection=t.connection,this._mode=t.mode,this._setSessionID(t.sessionID),this.setStatus(t.status)}return _createClass(e,[{key:"getError",value:function(){return this._error}},{key:"getID",value:function(){return this._sessionID}},{key:"getInitiator",value:function(){return this._initiator}},{key:"getLiveStreamViewURL",value:function(){return this._liveStreamViewURL}},{key:"getStatus",value:function(){return this._status}},{key:"getTerminator",value:function(){return this._terminator}},{key:"getMode",value:function(){return this._mode}},{key:"setError",value:function(e){this._error=e}},{key:"setLiveStreamViewURL",value:function(e){this._liveStreamViewURL=e}},{key:"setStatus",value:function(e){this._status=e}},{key:"setInitiator",value:function(e){this._initiator=e}},{key:"setTerminator",value:function(e){this._terminator=e}},{key:"start",value:function(e){var t=this,n=e.appData,i=e.broadcastId,o=e.focusMucJid,a=e.streamId;return new Promise(function(e,s){t._connection.sendIQ(t._createIQ({action:"start",appData:n,focusMucJid:o,broadcastId:i,streamId:a}),function(n){t.setStatus("pending"),t._setSessionID(r.a.getSessionIdFromIq(n)),e()},function(e){t._setErrorFromIq(e),s(e)})})}},{key:"stop",value:function(e){var t=this,n=e.focusMucJid;return new Promise(function(e,i){t._connection.sendIQ(t._createIQ({action:"stop",focusMucJid:n}),e,i)})}},{key:"_createIQ",value:function(e){var t=e.action,n=e.appData,r=e.broadcastId,o=e.focusMucJid,a=e.streamId;return Object(i.$iq)({to:o,type:"set"}).c("jibri",{xmlns:"http://jitsi.org/protocol/jibri",action:t,app_data:n,recording_mode:this._mode,streamid:a,you_tube_broadcast_id:r}).up()}},{key:"_setErrorFromIq",value:function(e){var t=e.getElementsByTagName("error")[0];this.setError(t.children[0].tagName)}},{key:"_setSessionID",value:function(e){this._sessionID=e}}]),e})()},function(e,t,n){"use strict";var i=n(20),r=n.n(i),o=n(9),a=n(1),s=n(11),c=n(8),u=n.n(c),d=n(5),l=n(48);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p="microphone",f="camera";t.a=new((function(){function e(){var t=this;_classCallCheck(this,e),this._eventEmitter=new r.a,this._grantedPermissions={},s.a.addListener(u.a.DEVICE_LIST_CHANGED,function(e){return t._eventEmitter.emit(l.DEVICE_LIST_CHANGED,e)}),s.a.addListener(u.a.DEVICE_LIST_AVAILABLE,function(e){return t._logOutputDevice(t.getAudioOutputDevice(),e)}),s.a.addListener(u.a.GRANTED_PERMISSIONS,function(e){return t._handleGrantedPermissions(e)}),this._permissionsApiSupported=new Promise(function(e){navigator.permissions?navigator.permissions.query({name:f}).then(function(){return e(!0)},function(){return e(!1)}):e(!1)})}return _createClass(e,[{key:"_handleGrantedPermissions",value:function(e){this._grantedPermissions=(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){h(e,t,n[t])})}return e})({},this._grantedPermissions,e)}},{key:"_logOutputDevice",value:function(e,t){var n=t.find(function(t){return"audiooutput"===t.kind&&t.deviceId===e});n&&d.a.sendActiveDeviceListEvent(s.a.getEventDataForActiveDevice(n))}},{key:"enumerateDevices",value:function(e){s.a.enumerateDevices(e)}},{key:"isDeviceListAvailable",value:function(){return s.a.isDeviceListAvailable()}},{key:"isDeviceChangeAvailable",value:function(e){return s.a.isDeviceChangeAvailable(e)}},{key:"isDevicePermissionGranted",value:function(e){var t=this;return new Promise(function(n){e in t._grantedPermissions?n(t._grantedPermissions[e]):t._permissionsApiSupported.then(function(t){if(!t)return a.a.isSafari()?void n(!0):void n(!1);var i=[];switch(e){case o.c:i.push(navigator.permissions.query({name:f}));break;case o.a:i.push(navigator.permissions.query({name:p}));break;default:i.push(navigator.permissions.query({name:f})),i.push(navigator.permissions.query({name:p}))}Promise.all(i).then(function(e){return n(e.every(function(e){return"granted"===(e.state||e.status)}))},function(){return n(!1)})})})}},{key:"isMultipleAudioInputSupported",value:function(){return!a.a.isFirefox()}},{key:"getAudioOutputDevice",value:function(){return s.a.getAudioOutputDevice()}},{key:"setAudioOutputDevice",value:function(e){var t=s.a.getCurrentlyAvailableMediaDevices();return t&&t.length>0&&this._logOutputDevice(e,s.a.getCurrentlyAvailableMediaDevices()),s.a.setAudioOutputDevice(e)}},{key:"addEventListener",value:function(e,t){this._eventEmitter.addListener(e,t)}},{key:"removeEventListener",value:function(e,t){this._eventEmitter.removeListener(e,t)}},{key:"emitEvent",value:function(e){for(var t,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];(t=this._eventEmitter).emit.apply(t,[e].concat(i))}},{key:"supportsVideo",value:function(){return a.a.supportsVideo()}}]),e})())},function(e,t){var n={trace:0,debug:1,info:2,log:3,warn:4,error:5};a.consoleTransport=console;var i=[a.consoleTransport];a.addGlobalTransport=function(e){-1===i.indexOf(e)&&i.push(e)},a.removeGlobalTransport=function(e){var t=i.indexOf(e);-1!==t&&i.splice(t,1)};var r={};function o(){var e=arguments[0],t=arguments[1],o=Array.prototype.slice.call(arguments,2);if(!(n[t]<e.level))for(var a=!(e.options.disableCallerInfo||r.disableCallerInfo)&&(function(){var e={methodName:"",fileLocation:"",line:null,column:null},t=new Error,n=t.stack?t.stack.split("\n"):[];if(!n||n.length<1)return e;var i=null;return n[3]&&(i=n[3].match(/\s*at\s*(.+?)\s*\((\S*)\s*:(\d*)\s*:(\d*)\)/)),!i||i.length<=4?(0===n[2].indexOf("log@")?e.methodName=n[3].substr(0,n[3].indexOf("@")):e.methodName=n[2].substr(0,n[2].indexOf("@")),e):(e.methodName=i[1],e.fileLocation=i[2],e.line=i[3],e.column=i[4],e)})(),s=i.concat(e.transports),c=0;c<s.length;c++){var u=s[c],d=u[t];if(d&&"function"==typeof d){var l=[];l.push((new Date).toISOString()),e.id&&l.push("["+e.id+"]"),a&&a.methodName.length>1&&l.push("<"+a.methodName+">: ");var h=l.concat(o);d.bind(u).apply(u,h)}}}function a(e,t,i,r){this.id=t,this.options=r||{},this.transports=i,this.transports||(this.transports=[]),this.level=n[e];for(var a=Object.keys(n),s=0;s<a.length;s++)this[a[s]]=o.bind(null,this,a[s])}a.setGlobalOptions=function(e){r=e||{}},a.prototype.setLevel=function(e){this.level=n[e]},e.exports=a,a.levels={TRACE:"trace",DEBUG:"debug",INFO:"info",LOG:"log",WARN:"warn",ERROR:"error"}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){var n=e.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w\/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-\.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(e){return e.encoding?"rtpmap:%d %s/%s/%s":e.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(e){return null!=e.address?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%d trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(e){return null!=e.subtype?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))? (\S*)(?: (\S*))?/,names:["value","direction","uri","config"],format:function(e){return"extmap:%d"+(e.direction?"/%s":"%v")+" %s"+(e.config?" %s":"")}},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(e){return null!=e.sessionConfig?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(e){var t="candidate:%s %d %s %d %s %d typ %s";return t+=null!=e.raddr?" raddr %s rport %d":"%v%v",t+=null!=e.tcptype?" tcptype %s":"%v",null!=e.generation&&(t+=" generation %d"),(t+=null!=e["network-id"]?" network-id %d":"%v")+(null!=e["network-cost"]?" network-cost %d":"%v")}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_]*)(?::(.*))?/,names:["id","attribute","value"],format:function(e){var t="ssrc:%d";return null!=e.attribute&&(t+=" %s",null!=e.value&&(t+=":%s")),t}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_\/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(e){return null!=e.maxMessageSize?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(e){return e.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(e){return"imageattr:%s %s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(e){return"simulcast:%s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{push:"invalid",names:["value"]}]};Object.keys(n).forEach(function(e){n[e].forEach(function(e){e.reg||(e.reg=/(.*)/),e.format||(e.format="%s")})})},function(e,t,n){var i=n(148),r="audio/webm",o="audio/ogg",a=function(e){this.track=e,this.recorder=null,this.data=null,this.name=null,this.startTime=null};function s(e){if(void 0===e.recorder)throw new Error("Passed an object to startRecorder which is not a TrackRecorder object");e.recorder.start(),e.startTime=new Date}function c(e){if(void 0===e.recorder)throw new Error("Passed an object to stopRecorder which is not a TrackRecorder object");e.recorder.stop()}function u(){if(MediaRecorder.isTypeSupported(r))return r;if(MediaRecorder.isTypeSupported(o))return o;throw new Error("unable to create a MediaRecorder with the right mimetype!")}function d(e){this.recorders=[],this.fileType=u(),this.isRecording=!1,this.jitsiConference=e}d.determineCorrectFileType=u,d.prototype.addTrack=function(e){if(e.isAudioTrack()){var t=this.instantiateTrackRecorder(e);this.recorders.push(t),this.updateNames(),this.isRecording&&s(t)}},d.prototype.instantiateTrackRecorder=function(e){var t=new a(e),n=t.track.getOriginalStream(),i=(function(){if("undefined"!=typeof MediaStream)return new MediaStream;throw new Error("cannot create a clean mediaStream")})();return n.getAudioTracks().forEach(function(e){return i.addTrack(e)}),t.recorder=new MediaRecorder(i,{mimeType:this.fileType}),t.data=[],t.recorder.ondataavailable=function(e){e.data.size>0&&t.data.push(e.data)},t},d.prototype.removeTrack=function(e){if(!e.isVideoTrack()){var t,n=this.recorders;for(t=0;t<n.length;t++)if(n[t].track.getParticipantId()===e.getParticipantId()){var i=n[t];this.isRecording?c(i):n.splice(t,1)}this.updateNames()}},d.prototype.updateNames=function(){var e=this.jitsiConference;this.recorders.forEach(function(t){if(t.track.isLocal())t.name="the transcriber";else{var n=t.track.getParticipantId(),i=e.getParticipantById(n).getDisplayName();"undefined"!==i&&(t.name=i)}})},d.prototype.start=function(){if(this.isRecording)throw new Error("audiorecorder is already recording");this.isRecording=!0,this.recorders.forEach(function(e){return s(e)}),console.log("Started the recording of the audio. There are currently "+this.recorders.length+" recorders active.")},d.prototype.stop=function(){this.isRecording=!1,this.recorders.forEach(function(e){return c(e)}),console.log("stopped recording")},d.prototype.download=function(){var e=this;this.recorders.forEach(function(t){var n=new Blob(t.data,{type:e.fileType}),i=URL.createObjectURL(n),r=document.createElement("a");document.body.appendChild(r),r.style="display: none",r.href=i,r.download="test."+e.fileType.split("/")[1],r.click(),window.URL.revokeObjectURL(i)})},d.prototype.getRecordingResults=function(){var e=this;if(this.isRecording)throw new Error("cannot get blobs because the AudioRecorder is still recording!");this.updateNames();var t=[];return this.recorders.forEach(function(n){return t.push(new i(new Blob(n.data,{type:e.fileType}),n.name,n.startTime))}),t},d.prototype.getFileType=function(){return this.fileType},e.exports=d},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return c});var i=n(4),r=n(15),o=n(11),a=n(5);Object(i.getLogger)(e);var s=3e3;function c(){return new Promise(function(e){o.a.enumerateDevices(function(t){var n=[],i=t.filter(function(e){return"audioinput"===e.kind}),c=Array.isArray(i),d=0;for(i=c?i:i["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var l;if(c){if(d>=i.length)break;l=i[d++]}else{if((d=i.next()).done)break;l=d.value}var h=l,p=o.a.obtainAudioAndVideoPermissions({devices:["audio"],micDeviceId:h.deviceId}).then(function(e){var t=e[0],n=t.getOriginalStream();return a.a.startLocalStats(n,t.setAudioLevel.bind(t)),t.addEventListener(r.LOCAL_TRACK_STOPPED,function(){a.a.stopLocalStats(n)}),t});n.push(p)}Promise.allSettled(n).then(function(t){var n=t.filter(function(e){return"fulfilled"===e.status}),i=t.filter(function(e){return"rejected"===e.status}),o=n.map(function(e){return e.value});i.map(function(e){return e.value});var a=function(t){t.on(r.TRACK_AUDIO_LEVEL_CHANGED,function(n){n>.008&&(u(o),e({deviceId:t.deviceId,deviceLabel:t.track.label}))})},c=o,d=Array.isArray(c),l=0;for(c=d?c:c["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var h;if(d){if(l>=c.length)break;h=c[l++]}else{if((l=c.next()).done)break;h=l.value}a(h)}setTimeout(function(){u(o),e({deviceId:"",deviceLabel:""})},s)})})})}function u(e){var t=e,n=Array.isArray(t),i=0;for(t=n?t:t["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var r;if(n){if(i>=t.length)break;r=t[i++]}else{if((i=t.next()).done)break;r=i.value}r.stopStream()}}}).call(this,"modules/detection/ActiveDeviceDetector.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return u});var i=n(4),r=n(8),o=n.n(r),a=n(7),s=n(5);n(14);var c=Object(i.getLogger)(e),u=(function(){function e(t,n,i){if(_classCallCheck(this,e),!t&&!n)throw new TypeError("At least peerconnection or wsUrl must be given");if(t&&n)throw new TypeError("Just one of peerconnection or wsUrl must be given");if(t?c.debug("constructor() with peerconnection"):c.debug("constructor() with wsUrl:\""+n+"\""),this._channel=null,this._eventEmitter=i,this._mode=null,this._areRetriesEnabled=!1,this._closedFromClient=!1,t){var r=t.createDataChannel("JVB data channel",{protocol:"http://jitsi.org/protocols/colibri"});this._handleChannel(r),this._mode="datachannel"}else n&&(this._areRetriesEnabled=!0,this._wsUrl=n,this._initWebSocket())}return _createClass(e,[{key:"_initWebSocket",value:function(){var e=new WebSocket(this._wsUrl);this._handleChannel(e),this._mode="websocket"}},{key:"_startConnectionRetries",value:function(){var e=this,t=1;this._retryTimeout=setTimeout(function n(){e.isOpen()||(e._initWebSocket(e._wsUrl),t=Math.min(2*t,60),e._retryTimeout=setTimeout(n,1e3*t))},1e3*t)}},{key:"_stopConnectionRetries",value:function(){this._retryTimeout&&(clearTimeout(this._retryTimeout),this._retryTimeout=void 0)}},{key:"_retryWebSocketConnection",value:function(e){var t=this;if(this._areRetriesEnabled){var n=e.code,i=e.reason;s.a.sendAnalytics(Object(a.y)(n,i)),this._areRetriesEnabled=!1,this._eventEmitter.once(o.a.DATA_CHANNEL_OPEN,function(){t._stopConnectionRetries(),t._areRetriesEnabled=!0}),this._startConnectionRetries()}}},{key:"close",value:function(){if(this._closedFromClient=!0,this._stopConnectionRetries(),this._areRetriesEnabled=!1,this._channel){try{this._channel.close()}catch(e){}this._channel=null}}},{key:"isOpen",value:function(){return this._channel&&("open"===this._channel.readyState||this._channel.readyState===WebSocket.OPEN)}},{key:"sendMessage",value:function(e,t){this._send({colibriClass:"EndpointMessage",msgPayload:t,to:e})}},{key:"sendSetLastNMessage",value:function(e){var t={colibriClass:"LastNChangedEvent",lastN:e};this._send(t),c.log("Channel lastN set to: "+e)}},{key:"sendPinnedEndpointMessage",value:function(e){c.log("sending pinned changed notification to the bridge for endpoint ",e),this._send({colibriClass:"PinnedEndpointChangedEvent",pinnedEndpoint:e||null})}},{key:"sendSelectedEndpointsMessage",value:function(e){c.log("sending selected changed notification to the bridge for endpoints",e),this._send({colibriClass:"SelectedEndpointsChangedEvent",selectedEndpoints:e})}},{key:"sendReceiverVideoConstraintMessage",value:function(e){c.log("sending a ReceiverVideoConstraint message with a maxFrameHeight of "+e+" pixels"),this._send({colibriClass:"ReceiverVideoConstraint",maxFrameHeight:e})}},{key:"_handleChannel",value:function(e){var t=this,n=this._eventEmitter;e.onopen=function(){c.info(t._mode+" channel opened"),n.emit(o.a.DATA_CHANNEL_OPEN)},e.onerror=function(e){t._mode},e.onmessage=function(e){var t,i=e.data;try{t=JSON.parse(i)}catch(i){return}var r=t.colibriClass;switch(r){case"DominantSpeakerEndpointChangeEvent":var a=t.dominantSpeakerEndpoint;c.info("Channel new dominant speaker event: ",a),n.emit(o.a.DOMINANT_SPEAKER_CHANGED,a);break;case"EndpointConnectivityStatusChangeEvent":var s=t.endpoint,u="true"===t.active;c.info("Endpoint connection status changed: "+s+" active ? "+u),n.emit(o.a.ENDPOINT_CONN_STATUS_CHANGED,s,u);break;case"EndpointMessage":n.emit(o.a.ENDPOINT_MESSAGE_RECEIVED,t.from,t.msgPayload);break;case"LastNEndpointsChangeEvent":var d=t.lastNEndpoints;c.info("Channel new last-n event: ",d,t),n.emit(o.a.LASTN_ENDPOINT_CHANGED,d,t);break;case"SelectedUpdateEvent":var l=t.isSelected;c.info("SelectedUpdateEvent isSelected? "+l),n.emit(o.a.IS_SELECTED_CHANGED,l);break;default:c.debug("Channel JSON-formatted message: ",t),n.emit("rtc.datachannel."+r,t)}},e.onclose=function(e){c.info("Channel closed by "+(t._closedFromClient?"client":"server")),"websocket"===t._mode&&(t._closedFromClient||t._retryWebSocketConnection(e)),t._channel=null},this._channel=e}},{key:"_send",value:function(e){var t=this._channel;this.isOpen(),t.send(JSON.stringify(e))}},{key:"mode",get:function(){return this._mode}}]),e})()}).call(this,"modules/RTC/BridgeChannel.js")},function(e,t,n){"use strict";(function(e){var i=n(7),r=n(4),o=n(1);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=Object(r.getLogger)(e);t.a=new((function(){function e(){_classCallCheck(this,e),this.reset()}return _createClass(e,[{key:"reset",value:function(){this.disposed=!1,this.analyticsHandlers=new Set,this.cache=[],this.permanentProperties={},this.conferenceName="",this.addPermanentProperties({user_agent:navigator.userAgent,browser_name:o.a.getName()})}},{key:"dispose",value:function(){s.warn("Disposing of analytics adapter."),this.analyticsHandlers&&this.analyticsHandlers.size>0&&this.analyticsHandlers.forEach(function(e){"function"==typeof e.dispose&&e.dispose()}),this.setAnalyticsHandlers([]),this.disposed=!0}},{key:"setAnalyticsHandlers",value:function(e){var t=this;if(!this.disposed){this.analyticsHandlers=new Set(e),this._setUserProperties();var n=this.cache;this.cache=null,n&&n.forEach(function(e){return t._sendEvent(e)})}}},{key:"_setUserProperties",value:function(){var e=this;this.analyticsHandlers.forEach(function(t){try{t.setUserProperties(e.permanentProperties)}catch(t){s.warn("Error in setUserProperties method of one of the analytics handlers: "+t)}})}},{key:"addPermanentProperties",value:function(e){this.permanentProperties=(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){a(e,t,n[t])})}return e})({},this.permanentProperties,e),this._setUserProperties()}},{key:"setConferenceName",value:function(e){this.conferenceName=e,this.addPermanentProperties({conference_name:e})}},{key:"sendEvent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.disposed){var n=null;"string"==typeof e?n={type:i.t,action:e,actionSubject:e,source:e,attributes:t}:"object"==typeof e&&(n=e),this._verifyRequiredFields(n)&&this._sendEvent(n)}}},{key:"_verifyRequiredFields",value:function(e){if(!e)return!1;e.type||(e.type=i.t);var t=e.type;return(t===i.t||t===i.u||t===i.w||t===i.v)&&(t===i.u?Boolean(e.name):(e.action=e.action||e.name||e.actionSubject,e.actionSubject=e.actionSubject||e.name||e.action,e.source=e.source||e.name||e.action||e.actionSubject,!!(e.action&&e.actionSubject&&e.source)&&!!(t!==i.v||(e.objectType=e.objectType||"generic-object-type",e.containerType=e.containerType||"conference","conference"!==e.containerType||e.containerId||(e.containerId=this.conferenceName),e.objectType&&e.objectId&&e.containerType&&e.containerId))))}},{key:"_maybeCacheEvent",value:function(e){return!!this.cache&&(this.cache.push(e),this.cache.length>100&&this.cache.splice(0,1),!0)}},{key:"_sendEvent",value:function(e){this._maybeCacheEvent(e)||this.analyticsHandlers.forEach(function(t){try{t.sendEvent(e)}catch(e){s.warn("Error sending analytics event: "+e)}})}}]),e})())}).call(this,"modules/statistics/AnalyticsAdapter.js")},function(e,t,n){"use strict";(function(e,i){n.d(t,"a",function(){return s});var r=n(4),o=n(16),a=Object(r.getLogger)(e),s=(function(e){function t(){var e;return _classCallCheck(this,t),e=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)),a.info("This appears to be "+e.getName()+", ver: "+e.getVersion()),e}return _inherits(t,e),_createClass(t,[{key:"doesVideoMuteByStreamRemove",value:function(){return this.isChromiumBased()||this.isSafari()}},{key:"supportsP2P",value:function(){return!this.usesUnifiedPlan()}},{key:"isChromiumBased",value:function(){return this.isChrome()||this.isElectron()||this.isNWJS()||this.isOpera()}},{key:"isSupported",value:function(){return this.isChromiumBased()||this.isFirefox()||this.isReactNative()||this.isSafari()&&!this.isVersionLessThan("12.1")}},{key:"isUserInteractionRequiredForUnmute",value:function(){return this.isFirefox()&&this.isVersionLessThan("68")||this.isSafari()}},{key:"supportsVideoMuteOnConnInterrupted",value:function(){return this.isChromiumBased()||this.isReactNative()||this.isSafari()}},{key:"supportsBandwidthStatistics",value:function(){return!this.isFirefox()&&!this.isSafari()}},{key:"supportsDeviceChangeEvent",value:function(){return navigator.mediaDevices&&void 0!==navigator.mediaDevices.ondevicechange&&void 0!==navigator.mediaDevices.addEventListener}},{key:"supportsLocalCandidateRttStatistics",value:function(){return this.isChromiumBased()||this.isReactNative()||this.isSafari()}},{key:"supportsRTTStatistics",value:function(){return!this.isFirefox()}},{key:"supportsRtpSender",value:function(){return this.isFirefox()||this.isSafari()}},{key:"supportsRtx",value:function(){return!this.isFirefox()}},{key:"supportsVideo",value:function(){return!0}},{key:"usesPlanB",value:function(){return!this.usesUnifiedPlan()}},{key:"usesSdpMungingForSimulcast",value:function(){return this.isChromiumBased()||this.isSafari()}},{key:"usesUnifiedPlan",value:function(){return!!this.isFirefox()||!(!this.isSafari()||void 0===window.RTCRtpTransceiver)&&Object.keys(RTCRtpTransceiver.prototype).indexOf("currentDirection")>-1}},{key:"usesNewGumFlow",value:function(){return this.isChrome()?!this.isVersionLessThan(61):!(!this.isFirefox()&&!this.isSafari())||!!this.isChromiumBased()&&this._getChromiumBasedVersion()>=61}},{key:"usesAdapter",value:function(){return this.usesNewGumFlow()}},{key:"usesRidsForSimulcast",value:function(){return!1}},{key:"supportsGetDisplayMedia",value:function(){return void 0!==navigator.getDisplayMedia||void 0!==navigator.mediaDevices&&void 0!==navigator.mediaDevices.getDisplayMedia}},{key:"supportsInsertableStreams",value:function(){return Boolean(void 0!==window.RTCRtpSender&&window.RTCRtpSender.prototype.createEncodedVideoStreams)}},{key:"supportsSdpSemantics",value:function(){return this.isChromiumBased()&&this._getChromiumBasedVersion()>=65}},{key:"_getChromiumBasedVersion",value:function(){if(this.isChromiumBased()){if(this.isNWJS())return Number.parseInt(i.versions.chromium,10);var e=navigator.userAgent;if(e.match(/Chrome/))return Number.parseInt(e.match(/Chrome\/([\d.]+)/)[1],10)}return-1}}]),t})(o.a)}).call(this,"modules/browser/BrowserCapabilities.js",n(51))},function(e,t,n){e.exports=(function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&("function"==typeof Symbol?Symbol.toStringTag:"@@toStringTag")&&Object.defineProperty(e,"function"==typeof Symbol?Symbol.toStringTag:"@@toStringTag",{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=90)})({17:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var i=n(18),r=(function(){function e(){}return e.getFirstMatch=function(e,t){var n=t.match(e);return n&&n.length>0&&n[1]||""},e.getSecondMatch=function(e,t){var n=t.match(e);return n&&n.length>1&&n[2]||""},e.matchAndReturnConst=function(e,t,n){if(e.test(t))return n},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map(function(e){return parseInt(e,10)||0});if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map(function(e){return parseInt(e,10)||0});if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,n,i){void 0===i&&(i=!1);var r=e.getVersionPrecision(t),o=e.getVersionPrecision(n),a=Math.max(r,o),s=0,c=e.map([t,n],function(t){var n=a-e.getVersionPrecision(t),i=t+new Array(n+1).join(".0");return e.map(i.split("."),function(e){return new Array(20-e.length).join("0")+e}).reverse()});for(i&&(s=a-Math.min(r,o)),a-=1;a>=s;){if(c[0][a]>c[1][a])return 1;if(c[0][a]===c[1][a]){if(a===s)return 0;a-=1}else if(c[0][a]<c[1][a])return-1}},e.map=function(e,t){var n,i=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n+=1)i.push(t(e[n]));return i},e.getBrowserAlias=function(e){return i.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return i.BROWSER_MAP[e]||""},e})();t.default=r,e.exports=t.default},18:function(e,t,n){"use strict";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var i,r=(i=n(91))&&i.__esModule?i:{default:i},o=n(18);function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var s=(function(){function e(){}var t;return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new r.default(e,t)},e.parse=function(e){return new r.default(e).getResult()},(t=[{key:"BROWSER_MAP",get:function(){return o.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return o.ENGINE_MAP}},{key:"OS_MAP",get:function(){return o.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return o.PLATFORMS_MAP}}])&&a(e,t),e})();t.default=s,e.exports=t.default},91:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var i=c(n(92)),r=c(n(93)),o=c(n(94)),a=c(n(95)),s=c(n(17));function c(e){return e&&e.__esModule?e:{default:e}}var u=(function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=i.default.find(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some(function(t){return e.test(t)});throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=r.default.find(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some(function(t){return e.test(t)});throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=o.default.find(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some(function(t){return e.test(t)});throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=a.default.find(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some(function(t){return e.test(t)});throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return _extends({},this.parsedResult)},t.satisfies=function(e){var t=this,n={},i=0,r={},o=0;if(Object.keys(e).forEach(function(t){var a=e[t];"string"==typeof a?(r[t]=a,o+=1):"object"==typeof a&&(n[t]=a,i+=1)}),i>0){var a=Object.keys(n),s=a.find(function(e){return t.isOS(e)});if(s){var c=this.satisfies(n[s]);if(void 0!==c)return c}var u=a.find(function(e){return t.isPlatform(e)});if(u){var d=this.satisfies(n[u]);if(void 0!==d)return d}}if(o>0){var l=Object.keys(r).find(function(e){return t.isBrowser(e,!0)});if(void 0!==l)return this.compareVersion(r[l])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var n=this.getBrowserName().toLowerCase(),i=e.toLowerCase(),r=s.default.getBrowserTypeByAlias(i);return t&&r&&(i=r.toLowerCase()),i===n},t.compareVersion=function(e){var t=[0],n=e,i=!1,r=this.getBrowserVersion();if("string"==typeof r)return">"===e[0]||"<"===e[0]?(n=e.substr(1),"="===e[1]?(i=!0,n=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?n=e.substr(1):"~"===e[0]&&(i=!0,n=e.substr(1)),t.indexOf(s.default.compareVersions(r,n,i))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e){return this.isBrowser(e)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some(function(e){return t.is(e)})},e})();t.default=u,e.exports=t.default},92:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var i,r=(i=n(17))&&i.__esModule?i:{default:i},o=/version\/(\d+(\.?_?\d+)+)/i,a=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},n=r.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||r.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},n=r.default.getFirstMatch(o,e)||r.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},n=r.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||r.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},n=r.default.getFirstMatch(o,e)||r.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},n=r.default.getFirstMatch(o,e)||r.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},n=r.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||r.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},n=r.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||r.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},n=r.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||r.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},n=r.default.getFirstMatch(o,e)||r.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},n=r.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||r.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},n=r.default.getFirstMatch(o,e)||r.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},n=r.default.getFirstMatch(o,e)||r.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},n=r.default.getFirstMatch(o,e)||r.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},n=r.default.getFirstMatch(o,e)||r.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},n=r.default.getFirstMatch(o,e)||r.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},n=r.default.getFirstMatch(o,e)||r.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},n=r.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||r.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=r.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||r.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},n=r.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},n=r.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},n=r.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},n=r.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},n=r.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},n=r.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},n=r.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},n=r.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},n=r.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},n=r.default.getFirstMatch(o,e)||r.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},n=r.default.getFirstMatch(o,e)||r.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},n=r.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},n=r.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||r.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},n=r.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||r.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},n=r.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},n=r.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||r.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},n=r.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},n=r.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t={name:"Android Browser"},n=r.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},n=r.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},n=r.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:r.default.getFirstMatch(t,e),version:r.default.getSecondMatch(t,e)}}}];t.default=a,e.exports=t.default},93:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var i,r=(i=n(17))&&i.__esModule?i:{default:i},o=n(18),a=[{test:[/Roku\/DVP/],describe:function(e){var t=r.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:o.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=r.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.WindowsPhone,version:t}}},{test:[/windows/i],describe:function(e){var t=r.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=r.default.getWindowsVersionName(t);return{name:o.OS_MAP.Windows,version:t,versionName:n}}},{test:[/macintosh/i],describe:function(e){var t=r.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=r.default.getMacOSVersionName(t),i={name:o.OS_MAP.MacOS,version:t};return n&&(i.versionName=n),i}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=r.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:o.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t=r.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),n=r.default.getAndroidVersionName(t),i={name:o.OS_MAP.Android,version:t};return n&&(i.versionName=n),i}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=r.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:o.OS_MAP.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=r.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||r.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||r.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:o.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=r.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=r.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:o.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:o.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=r.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.PlayStation4,version:t}}}];t.default=a,e.exports=t.default},94:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var i,r=(i=n(17))&&i.__esModule?i:{default:i},o=n(18),a=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=r.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:o.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe:function(e){var t=r.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:o.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}}];t.default=a,e.exports=t.default},95:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var i,r=(i=n(17))&&i.__esModule?i:{default:i},o=n(18),a=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:o.ENGINE_MAP.Blink};var t=r.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:o.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:o.ENGINE_MAP.Trident},n=r.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:o.ENGINE_MAP.Presto},n=r.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe:function(e){var t={name:o.ENGINE_MAP.Gecko},n=r.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:o.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:o.ENGINE_MAP.WebKit},n=r.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}];t.default=a,e.exports=t.default}})},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return h});var i=n(1),r=n(16),o=n(26),a=n(9);n(14);var s=n(4).getLogger(e),c={};function u(e,t){return!t||t<=0||!e||e<=0?0:Math.round(e/t*100)}function d(){this.loss={},this.bitrate={download:0,upload:0},this.resolution={},this.framerate=0}function l(){this.bandwidth={},this.bitrate={},this.packetLoss=null,this.transport=[]}function h(e,t,n,r){this._browserType=i.a.getName();var o=c[this._browserType];if(!o)throw"The browser type '"+this._browserType+"' isn't supported!";this._usesPromiseGetStats=i.a.isSafari()||i.a.isFirefox(),this._getStatValue=this._usesPromiseGetStats?this._defineNewGetStatValueMethod(o):this._defineGetStatValueMethod(o),this.peerconnection=e,this.baselineAudioLevelsReport=null,this.currentAudioLevelsReport=null,this.currentStatsReport=null,this.previousStatsReport=null,this.audioLevelReportHistory={},this.audioLevelsIntervalId=null,this.eventEmitter=r,this.conferenceStats=new l,this.audioLevelsIntervalMilis=t,this.statsIntervalId=null,this.statsIntervalMilis=n,this.ssrc2stats=new Map}c[r.b.FIREFOX]={ssrc:"ssrc",packetsReceived:"packetsReceived",packetsLost:"packetsLost",packetsSent:"packetsSent",bytesReceived:"bytesReceived",bytesSent:"bytesSent",framerateMean:"framerateMean",ip:"address",port:"port",protocol:"protocol"},c[r.b.CHROME]={receiveBandwidth:"googAvailableReceiveBandwidth",sendBandwidth:"googAvailableSendBandwidth",remoteAddress:"googRemoteAddress",transportType:"googTransportType",localAddress:"googLocalAddress",activeConnection:"googActiveConnection",ssrc:"ssrc",packetsReceived:"packetsReceived",packetsSent:"packetsSent",packetsLost:"packetsLost",bytesReceived:"bytesReceived",bytesSent:"bytesSent",googFrameHeightReceived:"googFrameHeightReceived",googFrameWidthReceived:"googFrameWidthReceived",googFrameHeightSent:"googFrameHeightSent",googFrameWidthSent:"googFrameWidthSent",googFrameRateReceived:"googFrameRateReceived",googFrameRateSent:"googFrameRateSent",audioInputLevel:"audioInputLevel",audioOutputLevel:"audioOutputLevel",currentRoundTripTime:"googRtt",remoteCandidateType:"googRemoteCandidateType",localCandidateType:"googLocalCandidateType",ip:"ip",port:"port",protocol:"protocol"},c[r.b.OPERA]=c[r.b.CHROME],c[r.b.NWJS]=c[r.b.CHROME],c[r.b.ELECTRON]=c[r.b.CHROME],c[r.b.SAFARI]=c[r.b.CHROME],c[r.b.REACT_NATIVE]=c[r.b.CHROME],d.prototype.setLoss=function(e){this.loss=e||{}},d.prototype.setResolution=function(e){this.resolution=e||{}},d.prototype.addBitrate=function(e){this.bitrate.download+=e.download,this.bitrate.upload+=e.upload},d.prototype.resetBitrate=function(){this.bitrate.download=0,this.bitrate.upload=0},d.prototype.setFramerate=function(e){this.framerate=e||0},h.prototype.stop=function(){this.audioLevelsIntervalId&&(clearInterval(this.audioLevelsIntervalId),this.audioLevelsIntervalId=null),this.statsIntervalId&&(clearInterval(this.statsIntervalId),this.statsIntervalId=null)},h.prototype.errorCallback=function(e){this.stop()},h.prototype.start=function(e){var t=this,n=this;e&&(this.audioLevelsIntervalId=setInterval(function(){n.peerconnection.getStats(function(e){var i;i=e&&e.result&&"function"==typeof e.result?e.result():e,n.currentAudioLevelsReport=i,t._usesPromiseGetStats?n.processNewAudioLevelReport():n.processAudioLevelReport(),n.baselineAudioLevelsReport=n.currentAudioLevelsReport},function(e){return n.errorCallback(e)})},n.audioLevelsIntervalMilis)),this.statsIntervalId=setInterval(function(){n.peerconnection.getStats(function(e){var i;i=e&&e.result&&"function"==typeof e.result?e.result():e,n.currentStatsReport=i;try{t._usesPromiseGetStats?n.processNewStatsReport():n.processStatsReport()}catch(e){}n.previousStatsReport=n.currentStatsReport},function(e){return n.errorCallback(e)})},n.statsIntervalMilis)},h.prototype._defineGetStatValueMethod=function(e){var t;switch(this._browserType){case r.b.CHROME:case r.b.OPERA:case r.b.NWJS:case r.b.ELECTRON:t=function(e,t){return e.stat(t)};break;case r.b.REACT_NATIVE:t=function(e,t){var n;return e.values.some(function(e){return!!e.hasOwnProperty(t)&&(n=e[t],!0)}),n};break;default:t=function(e,t){return e[t]}}return function(n,i){return t(n,(function(t){var n=e[t];if(n)return n;throw"The property '"+t+"' isn't supported!"})(i))}},h.prototype.getNonNegativeStat=function(e,t){var n=this._getStatValue(e,t);return"number"!=typeof n&&(n=Number(n)),isNaN(n)?0:Math.max(0,n)},h.prototype.processStatsReport=function(){var e=this;if(this.previousStatsReport){var t=this._getStatValue,n={};for(var i in this.currentStatsReport)if(this.currentStatsReport.hasOwnProperty(i)){var r=this.currentStatsReport[i];if(r){try{var a=t(r,"receiveBandwidth"),c=t(r,"sendBandwidth");(a||c)&&(this.conferenceStats.bandwidth={download:Math.round(a/1e3),upload:Math.round(c/1e3)})}catch(t){}if("googCandidatePair"===r.type)if("continue"===(function(){var n=void 0,i=void 0,o=void 0,a=void 0,s=void 0,c=void 0,u=void 0;try{if(!(n=t(r,"activeConnection")))return"continue";i=t(r,"remoteAddress"),u=t(r,"transportType"),a=t(r,"localAddress"),o=t(r,"localCandidateType"),s=t(r,"remoteCandidateType"),c=e.getNonNegativeStat(r,"currentRoundTripTime")}catch(e){}if(!i||!u||!a||"true"!==n)return"continue";var d=e.conferenceStats.transport;return d.some(function(e){return e.ip===i&&e.type===u&&e.localip===a})||d.push({ip:i,type:u,localip:a,p2p:e.peerconnection.isP2P,localCandidateType:o,remoteCandidateType:s,rtt:c}),"continue"})())continue;if("candidatepair"===r.type){if("succeeded"!==r.state||!r.selected)continue;var u=this.currentStatsReport[r.localCandidateId],l=this.currentStatsReport[r.remoteCandidateId];this.conferenceStats.transport.push({ip:l.ipAddress+":"+l.portNumber,type:u.transport,localip:u.ipAddress+":"+u.portNumber,p2p:this.peerconnection.isP2P,localCandidateType:u.candidateType,remoteCandidateType:l.candidateType})}if("ssrc"===r.type||"outboundrtp"===r.type||"inboundrtp"===r.type||"track"===r.type){var h=this.previousStatsReport[i],p=this.getNonNegativeStat(r,"ssrc");if("track"===r.type&&Array.isArray(r.ssrcIds)&&(p=Number(r.ssrcIds[0])),h&&p&&!0!==r.isRemote&&!0!==r.remoteSource){var f=this.ssrc2stats.get(p);f||(f=new d,this.ssrc2stats.set(p,f));var m=!0,v="packetsReceived",g=t(r,v);null!=g&&""!==g||(m=!1,null==(g=t(r,v="packetsSent"))&&s.warn("No packetsReceived nor packetsSent stat found")),(!g||g<0)&&(g=0);var y=this.getNonNegativeStat(h,v),_=Math.max(0,g-y),S=this.getNonNegativeStat(r,"packetsLost"),E=this.getNonNegativeStat(h,"packetsLost"),b=Math.max(0,S-E);f.setLoss({packetsTotal:_+b,packetsLost:b,isDownloadStream:m});var C=this.getNonNegativeStat(r,"bytesReceived"),T=this.getNonNegativeStat(h,"bytesReceived"),A=Math.max(0,C-T),R=0,k=t(r,"bytesSent");"number"!=typeof k&&"string"!=typeof k||(k=Number(k),isNaN(k)||(n[p]=k,k>0&&(R=k-t(h,"bytesSent")))),R=Math.max(0,R);var w=r.timestamp-h.timestamp,I=0,P=0;w>0&&(I=Math.round(8*A/w),P=Math.round(8*R/w)),f.addBitrate({download:I,upload:P});var D={height:null,width:null};try{var O=void 0,N=void 0;(O=t(r,"googFrameHeightReceived"))&&(N=t(r,"googFrameWidthReceived"))?(D.height=O,D.width=N):(O=t(r,"googFrameHeightSent"))&&(N=t(r,"googFrameWidthSent"))&&(D.height=O,D.width=N)}catch(t){}var M=void 0;try{M=t(r,"googFrameRateReceived")||t(r,"googFrameRateSent")||0}catch(t){try{M=this.getNonNegativeStat(r,"framerateMean")}catch(t){}}f.setFramerate(Math.round(M||0)),D.height&&D.width?f.setResolution(D):f.setResolution(null)}}}}this.eventEmitter.emit(o.c,this.peerconnection,n),this._processAndEmitReport()}},h.prototype._processAndEmitReport=function(){var e=this,t={download:0,upload:0},n={download:0,upload:0},i=0,r=0,a={},s={},c=0,d=0,l=0,h=0,p=this.ssrc2stats,f=Array.isArray(p),m=0;for(p=f?p:p["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var v;if(f){if(m>=p.length)break;v=p[m++]}else{if((m=p.next()).done)break;v=m.value}var g=_slicedToArray(v,2),y=g[0],_=g[1],S=_.loss,E=S.isDownloadStream?"download":"upload";t[E]+=S.packetsTotal,n[E]+=S.packetsLost,i+=_.bitrate.download,r+=_.bitrate.upload;var b=this.peerconnection.getTrackBySSRC(y);if(b){b.isAudioTrack()?(c+=_.bitrate.download,d+=_.bitrate.upload):(l+=_.bitrate.download,h+=_.bitrate.upload);var C=b.getParticipantId();if(C){var T=_.resolution;if(T.width&&T.height&&-1!==T.width&&-1!==T.height){var A=a[C]||{};A[y]=T,a[C]=A}if(0!==_.framerate){var R=s[C]||{};R[y]=_.framerate,s[C]=R}}}_.resetBitrate()}this.conferenceStats.bitrate={upload:r,download:i},this.conferenceStats.bitrate.audio={upload:d,download:c},this.conferenceStats.bitrate.video={upload:h,download:l},this.conferenceStats.packetLoss={total:u(n.download+n.upload,t.download+t.upload),download:u(n.download,t.download),upload:u(n.upload,t.upload)};var k,w={};Object.keys(this.audioLevelReportHistory).forEach(function(t){var n=e.audioLevelReportHistory[t],i=n.data,r=n.isLocal,o=i.reduce(function(e,t){return e+t})/i.length;if(r)k=o;else{var a=e.peerconnection.getTrackBySSRC(Number(t));if(a){var s=a.getParticipantId();s&&(w[s]=o)}}}),this.audioLevelReportHistory={},this.eventEmitter.emit(o.d,this.peerconnection,{bandwidth:this.conferenceStats.bandwidth,bitrate:this.conferenceStats.bitrate,packetLoss:this.conferenceStats.packetLoss,resolution:a,framerate:s,transport:this.conferenceStats.transport,localAvgAudioLevels:k,avgAudioLevels:w}),this.conferenceStats.transport=[]},h.prototype.processAudioLevelReport=function(){if(this.baselineAudioLevelsReport){var e=this._getStatValue;for(var t in this.currentAudioLevelsReport)if(this.currentAudioLevelsReport.hasOwnProperty(t)){var n=this.currentAudioLevelsReport[t];if("ssrc"===n.type||"track"===n.type){var i=this.baselineAudioLevelsReport[t],r=void 0,a=this.getNonNegativeStat(n,"ssrc");if(!a&&Array.isArray(n.ssrcIds)&&(a=Number(n.ssrcIds[0])),i)if(a){try{r=e(n,"audioInputLevel")||e(n,"audioOutputLevel")}catch(e){return s.warn("Audio Levels are not available in the statistics."),void clearInterval(this.audioLevelsIntervalId)}if(r){var c;c="ssrc"===n.type?!e(n,"packetsReceived"):!n.remoteSource,r/=32767,a in this.audioLevelReportHistory||(this.audioLevelReportHistory[a]={isLocal:c,data:[]}),this.audioLevelReportHistory[a].data.push(r),this.eventEmitter.emit(o.a,this.peerconnection,a,r,c)}}else Date.now()-n.timestamp<3e3&&s.warn("No ssrc: ");else s.warn(a+" not enough data")}}}},h.prototype._defineNewGetStatValueMethod=function(e){return function(t,n){return t[(function(t){var n=e[t];if(n)return n;throw"The property '"+t+"' isn't supported!"})(n)]}},h.prototype.getNonNegativeValue=function(e){var t=e;return"number"!=typeof t&&(t=Number(t)),isNaN(t)?0:Math.max(0,t)},h.prototype._calculateBitrate=function(e,t,n){var i=this.getNonNegativeValue(e[n]),r=this.getNonNegativeValue(t[n]),o=Math.max(0,i-r),a=e.timestamp-t.timestamp,s=0;return a>0&&(s=Math.round(8*o/a)),s},h.prototype.processNewStatsReport=function(){var e=this;if(this.previousStatsReport){var t=this._getStatValue,n={};this.currentStatsReport.forEach(function(i){if("candidate-pair"===i.type&&i.nominated&&"succeeded"===i.state){var r=i.availableIncomingBitrate,o=i.availableOutgoingBitrate;(r||o)&&(e.conferenceStats.bandwidth={download:Math.round(r/1e3),upload:Math.round(o/1e3)});var a=e.currentStatsReport.get(i.remoteCandidateId),s=e.currentStatsReport.get(i.localCandidateId);if(a&&s){var c=t(a,"ip")+":"+t(a,"port"),u=t(s,"ip")+":"+t(s,"port"),l=t(a,"protocol"),h=e.conferenceStats.transport;h.some(function(e){return e.ip===c&&e.type===l&&e.localip===u})||h.push({ip:c,type:l,localIp:u,p2p:e.peerconnection.isP2P,localCandidateType:s.candidateType,remoteCandidateType:a.candidateType,networkType:s.networkType,rtt:1e3*i.currentRoundTripTime})}}else if("inbound-rtp"===i.type||"outbound-rtp"===i.type){var p=e.previousStatsReport.get(i.id),f=e.getNonNegativeValue(i.ssrc);if(!p||!f)return;var m=e.ssrc2stats.get(f);m||(m=new d,e.ssrc2stats.set(f,m));var v=!0,g="packetsReceived";"outbound-rtp"===i.type&&(v=!1,g="packetsSent");var y=i[g];(!y||y<0)&&(y=0);var _=e.getNonNegativeValue(p[g]),S=Math.max(0,y-_),E=e.getNonNegativeValue(i.packetsLost),b=e.getNonNegativeValue(p.packetsLost),C=Math.max(0,E-b);m.setLoss({packetsTotal:S+C,packetsLost:C,isDownloadStream:v}),"inbound-rtp"===i.type?m.addBitrate({download:e._calculateBitrate(i,p,"bytesReceived"),upload:0}):(n[f]=e.getNonNegativeValue(i.bytesSent),m.addBitrate({download:0,upload:e._calculateBitrate(i,p,"bytesSent")}));var T=i.framerateMean;T&&m.setFramerate(Math.round(T||0))}else if("track"===i.type){var A={height:i.frameHeight,width:i.frameWidth},R=i.framesPerSecond;if(!R){var k=e.previousStatsReport.get(i.id);if(k){var w=i.timestamp-k.timestamp;w>0&&i.framesSent&&(R=(i.framesSent-k.framesSent)/w*1e3)}if(!R)return}var I=i.trackIdentifier,P=e.peerconnection.getSsrcByTrackId(I);if(!P)return;var D=e.ssrc2stats.get(P);D||(D=new d,e.ssrc2stats.set(P,D)),D.setFramerate(Math.round(R||0)),A.height&&A.width?D.setResolution(A):D.setResolution(null)}}),this.eventEmitter.emit(o.c,this.peerconnection,n),this._processAndEmitReport()}},h.prototype.processNewAudioLevelReport=function(){var e=this;this.baselineAudioLevelsReport&&this.currentAudioLevelsReport.forEach(function(t){if("track"===t.type){var n=t.audioLevel;if(n){var i=t.trackIdentifier,r=e.peerconnection.getSsrcByTrackId(i);if(r){var s=r===e.peerconnection.getLocalSSRC(e.peerconnection.getLocalTracks(a.a));e.eventEmitter.emit(o.a,e.peerconnection,r,n,s)}}}})}}).call(this,"modules/statistics/RTPStatsCollector.js")},function(e,t,n){"use strict";var i=n(45);function r(e,t,n,r,o){var a=i.writeRtpDescription(e.kind,t);if(a+=i.writeIceParameters(e.iceGatherer.getLocalParameters()),a+=i.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===n?"actpass":o||"active"),a+="a=mid:"+e.mid+"\r\n",e.rtpSender&&e.rtpReceiver?a+="a=sendrecv\r\n":e.rtpSender?a+="a=sendonly\r\n":e.rtpReceiver?a+="a=recvonly\r\n":a+="a=inactive\r\n",e.rtpSender){var s=e.rtpSender._initialTrackId||e.rtpSender.track.id;e.rtpSender._initialTrackId=s;var c="msid:"+(r?r.id:"-")+" "+s+"\r\n";a+="a="+c,a+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+c,e.sendEncodingParameters[0].rtx&&(a+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+c,a+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return a+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+i.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(a+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+i.localCName+"\r\n"),a}function o(e,t){var n={codecs:[],headerExtensions:[],fecMechanisms:[]},i=function(e,t){e=parseInt(e,10);for(var n=0;n<t.length;n++)if(t[n].payloadType===e||t[n].preferredPayloadType===e)return t[n]},r=function(e,t,n,r){var o=i(e.parameters.apt,n),a=i(t.parameters.apt,r);return o&&a&&o.name.toLowerCase()===a.name.toLowerCase()};return e.codecs.forEach(function(i){for(var o=0;o<t.codecs.length;o++){var a=t.codecs[o];if(i.name.toLowerCase()===a.name.toLowerCase()&&i.clockRate===a.clockRate){if("rtx"===i.name.toLowerCase()&&i.parameters&&a.parameters.apt&&!r(i,a,e.codecs,t.codecs))continue;(a=JSON.parse(JSON.stringify(a))).numChannels=Math.min(i.numChannels,a.numChannels),n.codecs.push(a),a.rtcpFeedback=a.rtcpFeedback.filter(function(e){for(var t=0;t<i.rtcpFeedback.length;t++)if(i.rtcpFeedback[t].type===e.type&&i.rtcpFeedback[t].parameter===e.parameter)return!0;return!1});break}}}),e.headerExtensions.forEach(function(e){for(var i=0;i<t.headerExtensions.length;i++){var r=t.headerExtensions[i];if(e.uri===r.uri){n.headerExtensions.push(r);break}}}),n}function a(e,t,n){return-1!=={offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[t][e].indexOf(n)}function s(e,t){var n=e.getRemoteCandidates().find(function(e){return t.foundation===e.foundation&&t.ip===e.ip&&t.port===e.port&&t.priority===e.priority&&t.protocol===e.protocol&&t.type===e.type});return n||e.addRemoteCandidate(t),!n}function c(e,t){var n=new Error(t);return n.name=e,n.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[e],n}e.exports=function(e,t){function n(t,n){n.addTrack(t),n.dispatchEvent(new e.MediaStreamTrackEvent("addtrack",{track:t}))}function u(t,n,i,r){var o=new Event("track");o.track=n,o.receiver=i,o.transceiver={receiver:i},o.streams=r,e.setTimeout(function(){t._dispatchEvent("track",o)})}var d=function(n){var r=this,o=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach(function(e){r[e]=o[e].bind(o)}),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",n=JSON.parse(JSON.stringify(n||{})),this.usingBundle="max-bundle"===n.bundlePolicy,"negotiate"===n.rtcpMuxPolicy)throw c("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(n.rtcpMuxPolicy||(n.rtcpMuxPolicy="require"),n.iceTransportPolicy){case"all":case"relay":break;default:n.iceTransportPolicy="all"}switch(n.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:n.bundlePolicy="balanced"}if(n.iceServers=(function(e,t){var n=!1;return(e=JSON.parse(JSON.stringify(e))).filter(function(e){if(e&&(e.urls||e.url)){var i=e.urls||e.url;e.url&&!e.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var r="string"==typeof i;return r&&(i=[i]),i=i.filter(function(e){return 0!==e.indexOf("turn:")||-1===e.indexOf("transport=udp")||-1!==e.indexOf("turn:[")||n?0===e.indexOf("stun:")&&t>=14393&&-1===e.indexOf("?transport=udp"):(n=!0,!0)}),delete e.url,e.urls=r?i[0]:i,!!i.length}})})(n.iceServers||[],t),this._iceGatherers=[],n.iceCandidatePoolSize)for(var a=n.iceCandidatePoolSize;a>0;a--)this._iceGatherers.push(new e.RTCIceGatherer({iceServers:n.iceServers,gatherPolicy:n.iceTransportPolicy}));else n.iceCandidatePoolSize=0;this._config=n,this.transceivers=[],this._sdpSessionId=i.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};Object.defineProperty(d.prototype,"localDescription",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(d.prototype,"remoteDescription",{configurable:!0,get:function(){return this._remoteDescription}}),d.prototype.onicecandidate=null,d.prototype.onaddstream=null,d.prototype.ontrack=null,d.prototype.onremovestream=null,d.prototype.onsignalingstatechange=null,d.prototype.oniceconnectionstatechange=null,d.prototype.onconnectionstatechange=null,d.prototype.onicegatheringstatechange=null,d.prototype.onnegotiationneeded=null,d.prototype.ondatachannel=null,d.prototype._dispatchEvent=function(e,t){this._isClosed||(this.dispatchEvent(t),"function"==typeof this["on"+e]&&this["on"+e](t))},d.prototype._emitGatheringStateChange=function(){var e=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",e)},d.prototype.getConfiguration=function(){return this._config},d.prototype.getLocalStreams=function(){return this.localStreams},d.prototype.getRemoteStreams=function(){return this.remoteStreams},d.prototype._createTransceiver=function(e,t){var n=this.transceivers.length>0,i={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:e,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&n)i.iceTransport=this.transceivers[0].iceTransport,i.dtlsTransport=this.transceivers[0].dtlsTransport;else{var r=this._createIceAndDtlsTransports();i.iceTransport=r.iceTransport,i.dtlsTransport=r.dtlsTransport}return t||this.transceivers.push(i),i},d.prototype.addTrack=function(t,n){if(this._isClosed)throw c("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");var i;if(this.transceivers.find(function(e){return e.track===t}))throw c("InvalidAccessError","Track already exists.");for(var r=0;r<this.transceivers.length;r++)this.transceivers[r].track||this.transceivers[r].kind!==t.kind||(i=this.transceivers[r]);return i||(i=this._createTransceiver(t.kind)),this._maybeFireNegotiationNeeded(),-1===this.localStreams.indexOf(n)&&this.localStreams.push(n),i.track=t,i.stream=n,i.rtpSender=new e.RTCRtpSender(t,i.dtlsTransport),i.rtpSender},d.prototype.addStream=function(e){var n=this;if(t>=15025)e.getTracks().forEach(function(t){n.addTrack(t,e)});else{var i=e.clone();e.getTracks().forEach(function(e,t){var n=i.getTracks()[t];e.addEventListener("enabled",function(e){n.enabled=e.enabled})}),i.getTracks().forEach(function(e){n.addTrack(e,i)})}},d.prototype.removeTrack=function(t){if(this._isClosed)throw c("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(t instanceof e.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var n=this.transceivers.find(function(e){return e.rtpSender===t});if(!n)throw c("InvalidAccessError","Sender was not created by this connection.");var i=n.stream;n.rtpSender.stop(),n.rtpSender=null,n.track=null,n.stream=null,-1===this.transceivers.map(function(e){return e.stream}).indexOf(i)&&this.localStreams.indexOf(i)>-1&&this.localStreams.splice(this.localStreams.indexOf(i),1),this._maybeFireNegotiationNeeded()},d.prototype.removeStream=function(e){var t=this;e.getTracks().forEach(function(e){var n=t.getSenders().find(function(t){return t.track===e});n&&t.removeTrack(n)})},d.prototype.getSenders=function(){return this.transceivers.filter(function(e){return!!e.rtpSender}).map(function(e){return e.rtpSender})},d.prototype.getReceivers=function(){return this.transceivers.filter(function(e){return!!e.rtpReceiver}).map(function(e){return e.rtpReceiver})},d.prototype._createIceGatherer=function(t,n){var i=this;if(n&&t>0)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var r=new e.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(r,"state",{value:"new",writable:!0}),this.transceivers[t].bufferedCandidateEvents=[],this.transceivers[t].bufferCandidates=function(e){var n=!e.candidate||0===Object.keys(e.candidate).length;r.state=n?"completed":"gathering",null!==i.transceivers[t].bufferedCandidateEvents&&i.transceivers[t].bufferedCandidateEvents.push(e)},r.addEventListener("localcandidate",this.transceivers[t].bufferCandidates),r},d.prototype._gather=function(t,n){var r=this,o=this.transceivers[n].iceGatherer;if(!o.onlocalcandidate){var a=this.transceivers[n].bufferedCandidateEvents;this.transceivers[n].bufferedCandidateEvents=null,o.removeEventListener("localcandidate",this.transceivers[n].bufferCandidates),o.onlocalcandidate=function(e){if(!(r.usingBundle&&n>0)){var a=new Event("icecandidate");a.candidate={sdpMid:t,sdpMLineIndex:n};var s=e.candidate,c=!s||0===Object.keys(s).length;if(c)"new"!==o.state&&"gathering"!==o.state||(o.state="completed");else{"new"===o.state&&(o.state="gathering"),s.component=1,s.ufrag=o.getLocalParameters().usernameFragment;var u=i.writeCandidate(s);a.candidate=_extends(a.candidate,i.parseCandidate(u)),a.candidate.candidate=u,a.candidate.toJSON=function(){return{candidate:a.candidate.candidate,sdpMid:a.candidate.sdpMid,sdpMLineIndex:a.candidate.sdpMLineIndex,usernameFragment:a.candidate.usernameFragment}}}var d=i.getMediaSections(r._localDescription.sdp);d[a.candidate.sdpMLineIndex]+=c?"a=end-of-candidates\r\n":"a="+a.candidate.candidate+"\r\n",r._localDescription.sdp=i.getDescription(r._localDescription.sdp)+d.join("");var l=r.transceivers.every(function(e){return e.iceGatherer&&"completed"===e.iceGatherer.state});"gathering"!==r.iceGatheringState&&(r.iceGatheringState="gathering",r._emitGatheringStateChange()),c||r._dispatchEvent("icecandidate",a),l&&(r._dispatchEvent("icecandidate",new Event("icecandidate")),r.iceGatheringState="complete",r._emitGatheringStateChange())}},e.setTimeout(function(){a.forEach(function(e){o.onlocalcandidate(e)})},0)}},d.prototype._createIceAndDtlsTransports=function(){var t=this,n=new e.RTCIceTransport(null);n.onicestatechange=function(){t._updateIceConnectionState(),t._updateConnectionState()};var i=new e.RTCDtlsTransport(n);return i.ondtlsstatechange=function(){t._updateConnectionState()},i.onerror=function(){Object.defineProperty(i,"state",{value:"failed",writable:!0}),t._updateConnectionState()},{iceTransport:n,dtlsTransport:i}},d.prototype._disposeIceAndDtlsTransports=function(e){var t=this.transceivers[e].iceGatherer;t&&(delete t.onlocalcandidate,delete this.transceivers[e].iceGatherer);var n=this.transceivers[e].iceTransport;n&&(delete n.onicestatechange,delete this.transceivers[e].iceTransport);var i=this.transceivers[e].dtlsTransport;i&&(delete i.ondtlsstatechange,delete i.onerror,delete this.transceivers[e].dtlsTransport)},d.prototype._transceive=function(e,n,r){var a=o(e.localCapabilities,e.remoteCapabilities);n&&e.rtpSender&&(a.encodings=e.sendEncodingParameters,a.rtcp={cname:i.localCName,compound:e.rtcpParameters.compound},e.recvEncodingParameters.length&&(a.rtcp.ssrc=e.recvEncodingParameters[0].ssrc),e.rtpSender.send(a)),r&&e.rtpReceiver&&a.codecs.length>0&&("video"===e.kind&&e.recvEncodingParameters&&t<15019&&e.recvEncodingParameters.forEach(function(e){delete e.rtx}),e.recvEncodingParameters.length?a.encodings=e.recvEncodingParameters:a.encodings=[{}],a.rtcp={compound:e.rtcpParameters.compound},e.rtcpParameters.cname&&(a.rtcp.cname=e.rtcpParameters.cname),e.sendEncodingParameters.length&&(a.rtcp.ssrc=e.sendEncodingParameters[0].ssrc),e.rtpReceiver.receive(a))},d.prototype.setLocalDescription=function(e){var t,n,r=this;if(-1===["offer","answer"].indexOf(e.type))return Promise.reject(c("TypeError",'Unsupported type "'+e.type+'"'));if(!a("setLocalDescription",e.type,r.signalingState)||r._isClosed)return Promise.reject(c("InvalidStateError","Can not set local "+e.type+" in state "+r.signalingState));if("offer"===e.type)t=i.splitSections(e.sdp),n=t.shift(),t.forEach(function(e,t){var n=i.parseRtpParameters(e);r.transceivers[t].localCapabilities=n}),r.transceivers.forEach(function(e,t){r._gather(e.mid,t)});else if("answer"===e.type){t=i.splitSections(r._remoteDescription.sdp),n=t.shift();var s=i.matchPrefix(n,"a=ice-lite").length>0;t.forEach(function(e,t){var a=r.transceivers[t],c=a.iceGatherer,u=a.iceTransport,d=a.dtlsTransport,l=a.localCapabilities,h=a.remoteCapabilities;if(!(i.isRejected(e)&&0===i.matchPrefix(e,"a=bundle-only").length||a.rejected)){var p=i.getIceParameters(e,n),f=i.getDtlsParameters(e,n);s&&(f.role="server"),r.usingBundle&&0!==t||(r._gather(a.mid,t),"new"===u.state&&u.start(c,p,s?"controlling":"controlled"),"new"===d.state&&d.start(f));var m=o(l,h);r._transceive(a,m.codecs.length>0,!1)}})}return r._localDescription={type:e.type,sdp:e.sdp},"offer"===e.type?r._updateSignalingState("have-local-offer"):r._updateSignalingState("stable"),Promise.resolve()},d.prototype.setRemoteDescription=function(r){var d=this;if(-1===["offer","answer"].indexOf(r.type))return Promise.reject(c("TypeError",'Unsupported type "'+r.type+'"'));if(!a("setRemoteDescription",r.type,d.signalingState)||d._isClosed)return Promise.reject(c("InvalidStateError","Can not set remote "+r.type+" in state "+d.signalingState));var l={};d.remoteStreams.forEach(function(e){l[e.id]=e});var h=[],p=i.splitSections(r.sdp),f=p.shift(),m=i.matchPrefix(f,"a=ice-lite").length>0,v=i.matchPrefix(f,"a=group:BUNDLE ").length>0;d.usingBundle=v;var g=i.matchPrefix(f,"a=ice-options:")[0];return d.canTrickleIceCandidates=!!g&&g.substr(14).split(" ").indexOf("trickle")>=0,p.forEach(function(a,c){var u=i.splitLines(a),p=i.getKind(a),g=i.isRejected(a)&&0===i.matchPrefix(a,"a=bundle-only").length,y=u[0].substr(2).split(" ")[2],_=i.getDirection(a,f),S=i.parseMsid(a),E=i.getMid(a)||i.generateIdentifier();if(g||"application"===p&&("DTLS/SCTP"===y||"UDP/DTLS/SCTP"===y))d.transceivers[c]={mid:E,kind:p,protocol:y,rejected:!0};else{var b,C,T,A,R,k,w,I,P;!g&&d.transceivers[c]&&d.transceivers[c].rejected&&(d.transceivers[c]=d._createTransceiver(p,!0));var D,O,N=i.parseRtpParameters(a);g||(D=i.getIceParameters(a,f),(O=i.getDtlsParameters(a,f)).role="client"),w=i.parseRtpEncodingParameters(a);var M=i.parseRtcpParameters(a),L=i.matchPrefix(a,"a=end-of-candidates",f).length>0,x=i.matchPrefix(a,"a=candidate:").map(function(e){return i.parseCandidate(e)}).filter(function(e){return 1===e.component});if(("offer"===r.type||"answer"===r.type)&&!g&&v&&c>0&&d.transceivers[c]&&(d._disposeIceAndDtlsTransports(c),d.transceivers[c].iceGatherer=d.transceivers[0].iceGatherer,d.transceivers[c].iceTransport=d.transceivers[0].iceTransport,d.transceivers[c].dtlsTransport=d.transceivers[0].dtlsTransport,d.transceivers[c].rtpSender&&d.transceivers[c].rtpSender.setTransport(d.transceivers[0].dtlsTransport),d.transceivers[c].rtpReceiver&&d.transceivers[c].rtpReceiver.setTransport(d.transceivers[0].dtlsTransport)),"offer"!==r.type||g)"answer"!==r.type||g||(C=(b=d.transceivers[c]).iceGatherer,T=b.iceTransport,A=b.dtlsTransport,R=b.rtpReceiver,k=b.sendEncodingParameters,I=b.localCapabilities,d.transceivers[c].recvEncodingParameters=w,d.transceivers[c].remoteCapabilities=N,d.transceivers[c].rtcpParameters=M,x.length&&"new"===T.state&&(!m&&!L||v&&0!==c?x.forEach(function(e){s(b.iceTransport,e)}):T.setRemoteCandidates(x)),v&&0!==c||("new"===T.state&&T.start(C,D,"controlling"),"new"===A.state&&A.start(O)),!o(b.localCapabilities,b.remoteCapabilities).codecs.filter(function(e){return"rtx"===e.name.toLowerCase()}).length&&b.sendEncodingParameters[0].rtx&&delete b.sendEncodingParameters[0].rtx,d._transceive(b,"sendrecv"===_||"recvonly"===_,"sendrecv"===_||"sendonly"===_),!R||"sendrecv"!==_&&"sendonly"!==_?delete b.rtpReceiver:(P=R.track,S?(l[S.stream]||(l[S.stream]=new e.MediaStream),n(P,l[S.stream]),h.push([P,R,l[S.stream]])):(l.default||(l.default=new e.MediaStream),n(P,l.default),h.push([P,R,l.default]))));else{(b=d.transceivers[c]||d._createTransceiver(p)).mid=E,b.iceGatherer||(b.iceGatherer=d._createIceGatherer(c,v)),x.length&&"new"===b.iceTransport.state&&(!L||v&&0!==c?x.forEach(function(e){s(b.iceTransport,e)}):b.iceTransport.setRemoteCandidates(x)),I=e.RTCRtpReceiver.getCapabilities(p),t<15019&&(I.codecs=I.codecs.filter(function(e){return"rtx"!==e.name})),k=b.sendEncodingParameters||[{ssrc:1001*(2*c+2)}];var F,j=!1;"sendrecv"===_||"sendonly"===_?(j=!b.rtpReceiver,R=b.rtpReceiver||new e.RTCRtpReceiver(b.dtlsTransport,p),j&&(P=R.track,S&&"-"===S.stream||(S?(l[S.stream]||(l[S.stream]=new e.MediaStream,Object.defineProperty(l[S.stream],"id",{get:function(){return S.stream}})),Object.defineProperty(P,"id",{get:function(){return S.track}}),F=l[S.stream]):(l.default||(l.default=new e.MediaStream),F=l.default)),F&&(n(P,F),b.associatedRemoteMediaStreams.push(F)),h.push([P,R,F]))):b.rtpReceiver&&b.rtpReceiver.track&&(b.associatedRemoteMediaStreams.forEach(function(t){var n,i,r=t.getTracks().find(function(e){return e.id===b.rtpReceiver.track.id});r&&(n=r,(i=t).removeTrack(n),i.dispatchEvent(new e.MediaStreamTrackEvent("removetrack",{track:n})))}),b.associatedRemoteMediaStreams=[]),b.localCapabilities=I,b.remoteCapabilities=N,b.rtpReceiver=R,b.rtcpParameters=M,b.sendEncodingParameters=k,b.recvEncodingParameters=w,d._transceive(d.transceivers[c],!1,j)}}}),void 0===d._dtlsRole&&(d._dtlsRole="offer"===r.type?"active":"passive"),d._remoteDescription={type:r.type,sdp:r.sdp},"offer"===r.type?d._updateSignalingState("have-remote-offer"):d._updateSignalingState("stable"),Object.keys(l).forEach(function(t){var n=l[t];if(n.getTracks().length){if(-1===d.remoteStreams.indexOf(n)){d.remoteStreams.push(n);var i=new Event("addstream");i.stream=n,e.setTimeout(function(){d._dispatchEvent("addstream",i)})}h.forEach(function(e){var t=e[0],i=e[1];n.id===e[2].id&&u(d,t,i,[n])})}}),h.forEach(function(e){e[2]||u(d,e[0],e[1],[])}),e.setTimeout(function(){d&&d.transceivers&&d.transceivers.forEach(function(e){e.iceTransport&&"new"===e.iceTransport.state&&e.iceTransport.getRemoteCandidates().length>0&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),e.iceTransport.addRemoteCandidate({}))})},4e3),Promise.resolve()},d.prototype.close=function(){this.transceivers.forEach(function(e){e.iceTransport&&e.iceTransport.stop(),e.dtlsTransport&&e.dtlsTransport.stop(),e.rtpSender&&e.rtpSender.stop(),e.rtpReceiver&&e.rtpReceiver.stop()}),this._isClosed=!0,this._updateSignalingState("closed")},d.prototype._updateSignalingState=function(e){this.signalingState=e;var t=new Event("signalingstatechange");this._dispatchEvent("signalingstatechange",t)},d.prototype._maybeFireNegotiationNeeded=function(){var t=this;"stable"===this.signalingState&&!0!==this.needNegotiation&&(this.needNegotiation=!0,e.setTimeout(function(){if(t.needNegotiation){t.needNegotiation=!1;var e=new Event("negotiationneeded");t._dispatchEvent("negotiationneeded",e)}},0))},d.prototype._updateIceConnectionState=function(){var e,t={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(e){e.iceTransport&&!e.rejected&&t[e.iceTransport.state]++}),e="new",t.failed>0?e="failed":t.checking>0?e="checking":t.disconnected>0?e="disconnected":t.new>0?e="new":t.connected>0?e="connected":t.completed>0&&(e="completed"),e!==this.iceConnectionState){this.iceConnectionState=e;var n=new Event("iceconnectionstatechange");this._dispatchEvent("iceconnectionstatechange",n)}},d.prototype._updateConnectionState=function(){var e,t={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(e){e.iceTransport&&e.dtlsTransport&&!e.rejected&&(t[e.iceTransport.state]++,t[e.dtlsTransport.state]++)}),t.connected+=t.completed,e="new",t.failed>0?e="failed":t.connecting>0?e="connecting":t.disconnected>0?e="disconnected":t.new>0?e="new":t.connected>0&&(e="connected"),e!==this.connectionState){this.connectionState=e;var n=new Event("connectionstatechange");this._dispatchEvent("connectionstatechange",n)}},d.prototype.createOffer=function(){var n=this;if(n._isClosed)return Promise.reject(c("InvalidStateError","Can not call createOffer after close"));var o=n.transceivers.filter(function(e){return"audio"===e.kind}).length,a=n.transceivers.filter(function(e){return"video"===e.kind}).length,s=arguments[0];if(s){if(s.mandatory||s.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==s.offerToReceiveAudio&&(o=!0===s.offerToReceiveAudio?1:!1===s.offerToReceiveAudio?0:s.offerToReceiveAudio),void 0!==s.offerToReceiveVideo&&(a=!0===s.offerToReceiveVideo?1:!1===s.offerToReceiveVideo?0:s.offerToReceiveVideo)}for(n.transceivers.forEach(function(e){"audio"===e.kind?--o<0&&(e.wantReceive=!1):"video"===e.kind&&--a<0&&(e.wantReceive=!1)});o>0||a>0;)o>0&&(n._createTransceiver("audio"),o--),a>0&&(n._createTransceiver("video"),a--);var u=i.writeSessionBoilerplate(n._sdpSessionId,n._sdpSessionVersion++);n.transceivers.forEach(function(r,o){var a=r.track,s=r.kind,c=r.mid||i.generateIdentifier();r.mid=c,r.iceGatherer||(r.iceGatherer=n._createIceGatherer(o,n.usingBundle));var u=e.RTCRtpSender.getCapabilities(s);t<15019&&(u.codecs=u.codecs.filter(function(e){return"rtx"!==e.name})),u.codecs.forEach(function(e){"H264"===e.name&&void 0===e.parameters["level-asymmetry-allowed"]&&(e.parameters["level-asymmetry-allowed"]="1"),r.remoteCapabilities&&r.remoteCapabilities.codecs&&r.remoteCapabilities.codecs.forEach(function(t){e.name.toLowerCase()===t.name.toLowerCase()&&e.clockRate===t.clockRate&&(e.preferredPayloadType=t.payloadType)})}),u.headerExtensions.forEach(function(e){(r.remoteCapabilities&&r.remoteCapabilities.headerExtensions||[]).forEach(function(t){e.uri===t.uri&&(e.id=t.id)})});var d=r.sendEncodingParameters||[{ssrc:1001*(2*o+1)}];a&&t>=15019&&"video"===s&&!d[0].rtx&&(d[0].rtx={ssrc:d[0].ssrc+1}),r.wantReceive&&(r.rtpReceiver=new e.RTCRtpReceiver(r.dtlsTransport,s)),r.localCapabilities=u,r.sendEncodingParameters=d}),"max-compat"!==n._config.bundlePolicy&&(u+="a=group:BUNDLE "+n.transceivers.map(function(e){return e.mid}).join(" ")+"\r\n"),u+="a=ice-options:trickle\r\n",n.transceivers.forEach(function(e,t){u+=r(e,e.localCapabilities,"offer",e.stream,n._dtlsRole),u+="a=rtcp-rsize\r\n",!e.iceGatherer||"new"===n.iceGatheringState||0!==t&&n.usingBundle||(e.iceGatherer.getLocalCandidates().forEach(function(e){e.component=1,u+="a="+i.writeCandidate(e)+"\r\n"}),"completed"===e.iceGatherer.state&&(u+="a=end-of-candidates\r\n"))});var d=new e.RTCSessionDescription({type:"offer",sdp:u});return Promise.resolve(d)},d.prototype.createAnswer=function(){var n=this;if(n._isClosed)return Promise.reject(c("InvalidStateError","Can not call createAnswer after close"));if("have-remote-offer"!==n.signalingState&&"have-local-pranswer"!==n.signalingState)return Promise.reject(c("InvalidStateError","Can not call createAnswer in signalingState "+n.signalingState));var a=i.writeSessionBoilerplate(n._sdpSessionId,n._sdpSessionVersion++);n.usingBundle&&(a+="a=group:BUNDLE "+n.transceivers.map(function(e){return e.mid}).join(" ")+"\r\n"),a+="a=ice-options:trickle\r\n";var s=i.getMediaSections(n._remoteDescription.sdp).length;n.transceivers.forEach(function(e,i){if(!(i+1>s)){if(e.rejected)return"application"===e.kind?"DTLS/SCTP"===e.protocol?a+="m=application 0 DTLS/SCTP 5000\r\n":a+="m=application 0 "+e.protocol+" webrtc-datachannel\r\n":"audio"===e.kind?a+="m=audio 0 UDP/TLS/RTP/SAVPF 0\r\na=rtpmap:0 PCMU/8000\r\n":"video"===e.kind&&(a+="m=video 0 UDP/TLS/RTP/SAVPF 120\r\na=rtpmap:120 VP8/90000\r\n"),void(a+="c=IN IP4 0.0.0.0\r\na=inactive\r\na=mid:"+e.mid+"\r\n");var c;e.stream&&("audio"===e.kind?c=e.stream.getAudioTracks()[0]:"video"===e.kind&&(c=e.stream.getVideoTracks()[0]),c&&t>=15019&&"video"===e.kind&&!e.sendEncodingParameters[0].rtx&&(e.sendEncodingParameters[0].rtx={ssrc:e.sendEncodingParameters[0].ssrc+1}));var u=o(e.localCapabilities,e.remoteCapabilities);!u.codecs.filter(function(e){return"rtx"===e.name.toLowerCase()}).length&&e.sendEncodingParameters[0].rtx&&delete e.sendEncodingParameters[0].rtx,a+=r(e,u,"answer",e.stream,n._dtlsRole),e.rtcpParameters&&e.rtcpParameters.reducedSize&&(a+="a=rtcp-rsize\r\n")}});var u=new e.RTCSessionDescription({type:"answer",sdp:a});return Promise.resolve(u)},d.prototype.addIceCandidate=function(e){var t,n=this;return e&&void 0===e.sdpMLineIndex&&!e.sdpMid?Promise.reject(new TypeError("sdpMLineIndex or sdpMid required")):new Promise(function(r,o){if(!n._remoteDescription)return o(c("InvalidStateError","Can not add ICE candidate without a remote description"));if(e&&""!==e.candidate){var a=e.sdpMLineIndex;if(e.sdpMid)for(var u=0;u<n.transceivers.length;u++)if(n.transceivers[u].mid===e.sdpMid){a=u;break}var d=n.transceivers[a];if(!d)return o(c("OperationError","Can not add ICE candidate"));if(d.rejected)return r();var l=Object.keys(e.candidate).length>0?i.parseCandidate(e.candidate):{};if("tcp"===l.protocol&&(0===l.port||9===l.port))return r();if(l.component&&1!==l.component)return r();if((0===a||a>0&&d.iceTransport!==n.transceivers[0].iceTransport)&&!s(d.iceTransport,l))return o(c("OperationError","Can not add ICE candidate"));var h=e.candidate.trim();0===h.indexOf("a=")&&(h=h.substr(2)),(t=i.getMediaSections(n._remoteDescription.sdp))[a]+="a="+(l.type?h:"end-of-candidates")+"\r\n",n._remoteDescription.sdp=i.getDescription(n._remoteDescription.sdp)+t.join("")}else for(var p=0;p<n.transceivers.length&&(n.transceivers[p].rejected||(n.transceivers[p].iceTransport.addRemoteCandidate({}),(t=i.getMediaSections(n._remoteDescription.sdp))[p]+="a=end-of-candidates\r\n",n._remoteDescription.sdp=i.getDescription(n._remoteDescription.sdp)+t.join(""),!n.usingBundle));p++);r()})},d.prototype.getStats=function(t){if(t&&t instanceof e.MediaStreamTrack){var n=null;if(this.transceivers.forEach(function(e){e.rtpSender&&e.rtpSender.track===t?n=e.rtpSender:e.rtpReceiver&&e.rtpReceiver.track===t&&(n=e.rtpReceiver)}),!n)throw c("InvalidAccessError","Invalid selector.");return n.getStats()}var i=[];return this.transceivers.forEach(function(e){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach(function(t){e[t]&&i.push(e[t].getStats())})}),Promise.all(i).then(function(e){var t=new Map;return e.forEach(function(e){e.forEach(function(e){t.set(e.id,e)})}),t})},["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"].forEach(function(t){var n=e[t];if(n&&n.prototype&&n.prototype.getStats){var i=n.prototype.getStats;n.prototype.getStats=function(){return i.apply(this).then(function(e){var t=new Map;return Object.keys(e).forEach(function(n){var i;e[n].type={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[(i=e[n]).type]||i.type,t.set(n,e[n])}),t})}}});var l=["createOffer","createAnswer"];return l.forEach(function(e){var t=d.prototype[e];d.prototype[e]=function(){var e=arguments;return"function"==typeof e[0]||"function"==typeof e[1]?t.apply(this,[arguments[2]]).then(function(t){"function"==typeof e[0]&&e[0].apply(null,[t])},function(t){"function"==typeof e[1]&&e[1].apply(null,[t])}):t.apply(this,arguments)}}),(l=["setLocalDescription","setRemoteDescription","addIceCandidate"]).forEach(function(e){var t=d.prototype[e];d.prototype[e]=function(){var e=arguments;return"function"==typeof e[1]||"function"==typeof e[2]?t.apply(this,arguments).then(function(){"function"==typeof e[1]&&e[1].apply(null)},function(t){"function"==typeof e[2]&&e[2].apply(null,[t])}):t.apply(this,arguments)}}),["getStats"].forEach(function(e){var t=d.prototype[e];d.prototype[e]=function(){var e=arguments;return"function"==typeof e[1]?t.apply(this,arguments).then(function(){"function"==typeof e[1]&&e[1].apply(null)}):t.apply(this,arguments)}}),d}},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return R});var i=n(4),r=n(133),o=n(22),a=n.n(o),s=n(14),c=n(81),u=n(3),d=n(9),l=n(12),h=n(82),p=n(11),f=n(10),m=n(1),v=n(8),g=n.n(v),y=n(83),_=n(61),S=n(18),E=n(84),b=n(27),C=n(6),T=n(38),A=Object(i.getLogger)(e);function R(e,t,i,o,a,s,c){var d=this;this.audioTransferActive=!(!0===c.startSilent),this._dtmfSender=void 0,this._dtmfTonesQueue=[],this.videoTransferActive=!0,this.rtc=e,this.id=t,this.isP2P=s,this.remoteTracks=new Map,this.localTracks=new Map,this._addedStreams=[],this.localSSRCs=new Map,this.localUfrag=null,this.remoteUfrag=null,this.signalingLayer=i,this._peerVideoTypeChanged=this._peerVideoTypeChanged.bind(this),this.signalingLayer.on(T.b,this._peerVideoTypeChanged),this._peerMutedChanged=this._peerMutedChanged.bind(this),this.signalingLayer.on(T.a,this._peerMutedChanged),this.options=c,this.peerconnection=new f.a.RTCPeerConnectionType(o,a),this.tpcUtils=new _.b(this),this.updateLog=[],this.stats={},this.statsinterval=null,this.maxstats=c.maxstats,this.interop=new r.a;var p=n(142);this.simulcast=new p({numOfLayers:_.a.length,explodeRemoteSimulcast:!1,usesUnifiedPlan:m.a.usesUnifiedPlan()}),this.sdpConsistency=new E.a(this.toString()),this.localSdpMunger=new h.a(this),this.eventEmitter=e.eventEmitter,this.rtxModifier=new y.a,this.trace=function(e,t){A.debug(e,t),d.updateLog.push({time:new Date,type:e,value:t||""})},this.onicecandidate=null,this.peerconnection.onicecandidate=function(e){d.trace("onicecandidate",JSON.stringify(e.candidate,null," ")),null!==d.onicecandidate&&d.onicecandidate(e)},m.a.usesPlanB()?(this.peerconnection.onaddstream=function(e){return d._remoteStreamAdded(e.stream)},this.peerconnection.onremovestream=function(e){return d._remoteStreamRemoved(e.stream)}):this.peerconnection.ontrack=function(e){var t=e.streams[0];d._remoteTrackAdded(t,e.track,e.transceiver),t.onremovetrack=function(e){d._remoteTrackRemoved(t,e.track)}},this.onsignalingstatechange=null,this.peerconnection.onsignalingstatechange=function(e){d.trace("onsignalingstatechange",d.signalingState),null!==d.onsignalingstatechange&&d.onsignalingstatechange(e)},this.oniceconnectionstatechange=null,this.peerconnection.oniceconnectionstatechange=function(e){d.trace("oniceconnectionstatechange",d.iceConnectionState),null!==d.oniceconnectionstatechange&&d.oniceconnectionstatechange(e)},this.onnegotiationneeded=null,this.peerconnection.onnegotiationneeded=function(e){d.trace("onnegotiationneeded"),null!==d.onnegotiationneeded&&d.onnegotiationneeded(e)},this.ondatachannel=null,this.peerconnection.ondatachannel=function(e){d.trace("ondatachannel"),null!==d.ondatachannel&&d.ondatachannel(e)},this.maxstats&&(this.statsinterval=window.setInterval(function(){d.getStats(function(e){if(e.result&&"function"==typeof e.result)for(var t=e.result(),n=function(e){var n=t[e];n.names().forEach(function(e){d._processStat(n,e,n.stat(e))})},i=0;i<t.length;++i)n(i);else e.forEach(function(e){return d._processStat(e,"",e)})},function(){})},1e3)),this.senderVideoMaxHeight=null;var v=function(e){e.isLocal()&&!e.isMuted()&&e.isVideoTrack()&&e.videoType===l.CAMERA&&d.senderVideoMaxHeight&&d.setSenderVideoConstraint(d.senderVideoMaxHeight).catch(function(e){})};this.rtc.conference.on(u.TRACK_ADDED,v),this.rtc.conference.on(u.TRACK_MUTE_CHANGED,v),A.info("Create new "+this)}R.prototype._processStat=function(e,t,n){var i=e.id+"-"+t,r=this.stats[i],o=new Date;r||(this.stats[i]=r={startTime:o,endTime:o,values:[],times:[]}),r.values.push(n),r.times.push(o.getTime()),r.values.length>this.maxstats&&(r.values.shift(),r.times.shift()),r.endTime=o};var k=function(e){return null==e?"":"type: "+e.type+"\r\n"+e.sdp};R.prototype.getConnectionState=function(){var e=this.peerconnection.iceConnectionState;return"completed"===e?"connected":e},R.prototype._getDesiredMediaDirection=function(e){var t=!0;return e===d.a?t=this.audioTransferActive:e===d.c&&(t=this.videoTransferActive),t?this.hasAnyTracksOfType(e)?"sendrecv":"recvonly":"inactive"},R.prototype.isSimulcastOn=function(){return!this.options.disableSimulcast},R.prototype._peerVideoTypeChanged=function(e,t){if(e){var n=this.getRemoteTracks(e,d.c);n.length&&n[0]._setVideoType(t)}},R.prototype._peerMutedChanged=function(e,t,n){if(e){var i=this.getRemoteTracks(e,t);i.length&&i[0].setMute(n)}},R.prototype.getLocalTracks=function(e){var t=Array.from(this.localTracks.values());return void 0!==e&&(t=t.filter(function(t){return t.getType()===e})),t},R.prototype.hasAnyTracksOfType=function(e){if(!e)throw new Error('"mediaType" is required');return this.getLocalTracks(e).length>0},R.prototype.getRemoteTracks=function(e,t){var n=[],i=e?[e]:this.remoteTracks.keys(),r=Array.isArray(i),o=0;for(i=r?i:i["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var a;if(r){if(o>=i.length)break;a=i[o++]}else{if((o=i.next()).done)break;a=o.value}var s=a,c=this.remoteTracks.get(s);if(c){var u=c.keys(),d=Array.isArray(u),l=0;for(u=d?u:u["function"==typeof Symbol&&"function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var h;if(d){if(l>=u.length)break;h=u[l++]}else{if((l=u.next()).done)break;h=l.value}var p=h;if(!t||t===p){var f=c.get(p);f&&n.push(f)}}}}return n},R.prototype.getTrackBySSRC=function(e){if("number"!=typeof e)throw new Error("SSRC "+e+" is not a number");var t=this.localTracks.values(),n=Array.isArray(t),i=0;for(t=n?t:t["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var r;if(n){if(i>=t.length)break;r=t[i++]}else{if((i=t.next()).done)break;r=i.value}var o=r;if(this.getLocalSSRC(o)===e)return o}var a=this.getRemoteTracks(),s=Array.isArray(a),c=0;for(a=s?a:a["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var u;if(s){if(c>=a.length)break;u=a[c++]}else{if((c=a.next()).done)break;u=c.value}var d=u;if(d.getSSRC()===e)return d}return null},R.prototype.getSsrcByTrackId=function(e){var t=function(t){return t.getTrack().id===e},n=this.getLocalTracks().find(t);if(n)return this.getLocalSSRC(n);var i=this.getRemoteTracks().find(t);return i?i.getSSRC():null},R.prototype._remoteStreamAdded=function(e){var t=this,n=p.a.getStreamID(e);if(p.a.isUserStreamById(n)){m.a.isChromiumBased()&&(e.onaddtrack=function(n){t._remoteTrackAdded(e,n.track)},e.onremovetrack=function(n){t._remoteTrackRemoved(e,n.track)});var i=e.getAudioTracks(),r=Array.isArray(i),o=0;for(i=r?i:i["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var a;if(r){if(o>=i.length)break;a=i[o++]}else{if((o=i.next()).done)break;a=o.value}var s=a;this._remoteTrackAdded(e,s)}var c=e.getVideoTracks(),u=Array.isArray(c),d=0;for(c=u?c:c["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var l;if(u){if(d>=c.length)break;l=c[d++]}else{if((d=c.next()).done)break;l=d.value}var h=l;this._remoteTrackAdded(e,h)}}else A.info(this+" ignored remote 'stream added' event for non-user streamid: "+n)},R.prototype._remoteTrackAdded=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=p.a.getStreamID(e),r=t.kind;if(this.isP2P||p.a.isUserStreamById(i))if(A.info(this+" remote track added:",i,r),r){var o,a=m.a.usesPlanB()?new S.a(this.remoteDescription.sdp):new S.a(this.peerconnection.remoteDescription.sdp);if(m.a.usesUnifiedPlan())if(n&&n.mid){var c=n.mid;o=a.media.filter(function(e){return C.a.findLine(e,"a=mid:"+c)})}else o=a.media.filter(function(e){var t=C.a.findLine(e,"a=msid");return void 0!==t&&i===t.substring(7).split(" ")[0]});else o=a.media.filter(function(e){return e.startsWith("m="+r)});if(o.length){var u=C.a.findLines(o[0],"a=ssrc:");if((u=u.filter(function(e){return-1!==e.indexOf("msid:"+i)})).length){var d=u[0].substring(7).split(" ")[0],l=Number(d),h=this.signalingLayer.getSSRCOwner(l);if(isNaN(l)||l<0)s.callErrorHandler(new Error("Invalid SSRC: "+d+" for remote track, msid: "+i+" media type: "+r));else if(h){A.log(this+" associated ssrc",h,l);var f=this.signalingLayer.getPeerMediaInfo(h,r);if(f){var v=f.muted,g=f.videoType;this._createRemoteTrack(h,e,t,r,g,l,v)}else s.callErrorHandler(new Error(this+": no peer media info available for "+h))}else s.callErrorHandler(new Error("No SSRC owner known for: "+l+" for remote track, msid: "+i+" media type: "+r))}else s.callErrorHandler(new Error("No SSRC lines for streamId "+i+" for remote track, media type: "+r))}else s.callErrorHandler(new Error("No media lines for type "+r+" found in remote SDP for remote track: "+i))}else s.callErrorHandler(new Error("MediaType undefined for remote track, stream id: "+i));else A.info(this+" ignored remote 'stream added' event for non-user streamid: "+i)},R.prototype._createRemoteTrack=function(e,t,n,i,r,o,a){var s=this.remoteTracks.get(e);s||(s=new Map,this.remoteTracks.set(e,s));var u=s.get(i);if(u&&u.getTrack()===n)A.info(this+" ignored duplicated remote track added event for: "+e+", "+i);else{var d=new c.a(this.rtc,this.rtc.conference,e,t,n,i,r,o,a,this.isP2P);s.set(i,d),this.eventEmitter.emit(g.a.REMOTE_TRACK_ADDED,d)}},R.prototype._remoteStreamRemoved=function(e){if(p.a.isUserStream(e)){var t=e.getVideoTracks(),n=Array.isArray(t),i=0;for(t=n?t:t["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var r;if(n){if(i>=t.length)break;r=t[i++]}else{if((i=t.next()).done)break;r=i.value}var o=r;this._remoteTrackRemoved(e,o)}var a=e.getAudioTracks(),s=Array.isArray(a),c=0;for(a=s?a:a["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var u;if(s){if(c>=a.length)break;u=a[c++]}else{if((c=a.next()).done)break;u=c.value}var d=u;this._remoteTrackRemoved(e,d)}}else{var l=p.a.getStreamID(e);A.info("Ignored remote 'stream removed' event for non-user stream "+l)}},R.prototype._remoteTrackRemoved=function(e,t){var n=p.a.getStreamID(e),i=t&&p.a.getTrackID(t);A.info(this+" - remote track removed: "+n+", "+i),n?i?this._removeRemoteTrackById(n,i)||A.warn(this+" Removed track not found for msid: "+n+",\n             track id: "+i):s.callErrorHandler(new Error(this+" remote track removal failed - no track ID")):s.callErrorHandler(new Error(this+" remote track removal failed - no stream ID"))},R.prototype._getRemoteTrackById=function(e,t){var n=this.remoteTracks.values(),i=Array.isArray(n),r=0;for(n=i?n:n["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var o;if(i){if(r>=n.length)break;o=n[r++]}else{if((r=n.next()).done)break;o=r.value}var a=o.values(),s=Array.isArray(a),c=0;for(a=s?a:a["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var u;if(s){if(c>=a.length)break;u=a[c++]}else{if((c=a.next()).done)break;u=c.value}var d=u;if(d.getStreamId()==e&&d.getTrackId()==t)return d}}},R.prototype.removeRemoteTracks=function(e){var t=[],n=this.remoteTracks.get(e);if(n){var i=n.get(d.a),r=n.get(d.c);i&&t.push(i),r&&t.push(r),this.remoteTracks.delete(e)}return A.debug(this+" removed remote tracks for "+e+" count: "+t.length),t},R.prototype._removeRemoteTrack=function(e){e.dispose();var t=e.getParticipantId(),n=this.remoteTracks.get(t);n&&n.delete(e.getType()),this.eventEmitter.emit(g.a.REMOTE_TRACK_REMOVED,e)},R.prototype._removeRemoteTrackById=function(e,t){var n=this._getRemoteTrackById(e,t);return n&&this._removeRemoteTrack(n),n};var w=function(e){if("object"!=typeof e||null===e||"string"!=typeof e.sdp)return A.warn("An empty description was passed as an argument."),e;var t=n(22),i=t.parse(e.sdp);void 0!==i&&void 0!==i.media&&Array.isArray(i.media)&&i.media.forEach(function(e){var t=[],n=[];if(void 0!==e.ssrcGroups&&Array.isArray(e.ssrcGroups)&&e.ssrcGroups.forEach(function(e){void 0!==e.semantics&&"FID"===e.semantics&&void 0!==e.ssrcs&&t.push(Number(e.ssrcs.split(" ")[0]))}),Array.isArray(e.ssrcs)){var i;for(i=0;i<e.ssrcs.length;i++)"object"==typeof e.ssrcs[i]&&void 0!==e.ssrcs[i].id&&t.indexOf(e.ssrcs[i].id)>=0&&(n.push(e.ssrcs[i]),delete e.ssrcs[i]);for(i=0;i<e.ssrcs.length;i++)void 0!==e.ssrcs[i]&&n.push(e.ssrcs[i]);e.ssrcs=(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!m.a.isChrome()||!m.a.isVersionGreaterThan(70))return e;var t=_toConsumableArray(e);return e.filter(function(e){return"mslabel"===e.attribute&&"-"===e.value}).map(function(e){return e.id}).forEach(function(e){var n=t.find(function(t){return t.id===e&&"cname"===t.attribute});n.value="recvonly-"+e,(t=t.filter(function(t){return t.id!==e})).push(n)}),t})(n)}});var r=t.write(i);return new RTCSessionDescription({type:e.type,sdp:r})};R.prototype.getLocalSSRC=function(e){var t=this._getSSRC(e.rtcId);return t&&t.ssrcs[0]},R.prototype._injectSsrcGroupForUnifiedSimulcast=function(e){var t=a.a.parse(e.sdp),n=t.media.find(function(e){return"video"===e.type});if(n.simulcast||n.simulcast_03){var i=[];if(n.ssrcs.forEach(function(e){"msid"===e.attribute&&i.push(e.id)}),n.ssrcGroups=n.ssrcGroups||[],n.ssrcGroups.find(function(e){return"SIM"===e.semantics}))return e;n.ssrcGroups.push({semantics:"SIM",ssrcs:i.join(" ")})}return new RTCSessionDescription({type:e.type,sdp:a.a.write(t)})};var I={signalingState:function(){return this.peerconnection.signalingState},iceConnectionState:function(){return this.peerconnection.iceConnectionState},localDescription:function(){var e=this.peerconnection.localDescription;return e?(this.trace("getLocalDescription::preTransform",k(e)),m.a.usesUnifiedPlan()?(e=this.interop.toPlanB(e),this.trace("getLocalDescription::postTransform (Plan B)",k(e)),e=this._injectSsrcGroupForUnifiedSimulcast(e),this.trace("getLocalDescription::postTransform (inject ssrc group)",k(e))):(m.a.doesVideoMuteByStreamRemove()&&(e=this.localSdpMunger.maybeAddMutedLocalVideoTracksToSDP(e),A.debug("getLocalDescription::postTransform (munge local SDP)",e)),e=(function(e,t){if(!e)throw new Error("No local description passed in.");var n=new b.a(e.sdp),i=n.selectMedia("audio"),r=!1;i&&"sendrecv"!==i.direction&&(t.startSilent?i.direction="inactive":i.direction="sendrecv",r=!0);var o=n.selectMedia("video");return o&&"sendrecv"!==o.direction&&(o.direction="sendrecv",r=!0),r?new RTCSessionDescription({type:e.type,sdp:n.toRawSDP()}):e})(e,this.options)),e=this.localSdpMunger.transformStreamIdentifiers(e)):(A.debug("getLocalDescription no localDescription found"),{})},remoteDescription:function(){var e=this.peerconnection.remoteDescription;return e?(this.trace("getRemoteDescription::preTransform",k(e)),m.a.usesUnifiedPlan()&&(e=this.interop.toPlanB(e),this.trace("getRemoteDescription::postTransform (Plan B)",k(e))),e):(A.debug("getRemoteDescription no remoteDescription found"),{})}};function P(e){return e.getLocalTracks().some(function(e){return"camera"===e.videoType})}Object.keys(I).forEach(function(e){Object.defineProperty(R.prototype,e,{get:I[e]})}),R.prototype._getSSRC=function(e){return this.localSSRCs.get(e)},R.prototype.addTrack=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.rtcId;if(A.info("add "+e+" to: "+this),!this.localTracks.has(n)){if(this.localTracks.set(n,e),m.a.usesUnifiedPlan()&&t)return this.tpcUtils.addTrack(e,t);var i=e.getOriginalStream();if(i?this._addStream(i):!m.a.doesVideoMuteByStreamRemove()||e.isAudioTrack()||e.isVideoTrack()&&e.isMuted(),m.a.usesPlanB()&&m.a.doesVideoMuteByStreamRemove()&&e.isVideoTrack()&&e.isMuted()){var r=this.generateNewStreamSSRCInfo(e);this.sdpConsistency.setPrimarySsrc(r.ssrcs[0]);var o=r.groups.find(function(e){return"SIM"===e.semantics});o&&this.simulcast.setSsrcCache(o.ssrcs);var a=r.groups.filter(function(e){return"FID"===e.semantics});if(a){var s=new Map;a.forEach(function(e){var t=e.ssrcs[0],n=e.ssrcs[1];s.set(t,n)}),this.rtxModifier.setSsrcCache(s)}}m.a.usesUnifiedPlan()&&!m.a.usesSdpMungingForSimulcast()&&this.tpcUtils.setEncodings(e),e.isVideoTrack()&&e.videoType===l.CAMERA&&this.isSimulcastOn()&&this.tpcUtils._setSimulcastStreamConstraints(e.getTrack())}},R.prototype.addTrackUnmute=function(e){if(m.a.usesUnifiedPlan())return this.tpcUtils.addTrackUnmute(e);if(!this._assertTrackBelongs("addTrackUnmute",e))return Promise.reject("Track not found on the peerconnection");A.info("Adding "+e+" as unmute to "+this);var t=e.getOriginalStream();return t?(this._addStream(t),Promise.resolve(!0)):Promise.reject("Stream not found")},R.prototype._addStream=function(e){this.peerconnection.addStream(e),this._addedStreams.push(e)},R.prototype._removeStream=function(e){m.a.supportsRtpSender()?this._handleSenderRemoveStream(e):this.peerconnection.removeStream(e),this._addedStreams=this._addedStreams.filter(function(t){return t!==e})},R.prototype._assertTrackBelongs=function(e,t){return this.localTracks.has(t.rtcId)},R.prototype.isMediaStreamInPc=function(e){return this._addedStreams.indexOf(e)>-1},R.prototype.removeTrack=function(e){if(m.a.usesUnifiedPlan())return this.tpcUtils.removeTrack(e);var t=e.getOriginalStream();this.trace("removeStream",e.rtcId,t?t.id:void 0),this._assertTrackBelongs("removeStream",e)&&(this.localTracks.delete(e.rtcId),this.localSSRCs.delete(e.rtcId),t&&(m.a.supportsRtpSender()?this._handleSenderRemoveStream(t):this.peerconnection.removeStream(t)))},R.prototype.findSenderByKind=function(e){return this.peerconnection.getSenders().find(function(t){return t.track&&t.track.kind===e})},R.prototype.findSenderByStream=function(e){var t=e.getTracks()[0];if(t)return this.peerconnection.getSenders().find(function(e){return e.track===t})},R.prototype.findReceiverForTrack=function(e){return this.peerconnection.getReceivers().find(function(t){return t.track===e})},R.prototype.findSenderForTrack=function(e){return this.peerconnection.getSenders().find(function(t){return t.track===e})},R.prototype.replaceTrack=function(e,t){return m.a.usesUnifiedPlan()?this.tpcUtils.replaceTrack(e,t):(e&&this.removeTrack(e),t&&this.addTrack(t),Promise.resolve(!0))},R.prototype.removeTrackMute=function(e){if(m.a.usesUnifiedPlan())return this.tpcUtils.removeTrackMute(e);var t=e.getOriginalStream();return this.trace("removeStreamMute",e.rtcId,t?t.id:null),this._assertTrackBelongs("removeStreamMute",e)?t?(A.info("Removing "+e+" as mute from "+this),this._removeStream(t),Promise.resolve(!0)):Promise.reject("Stream not found"):Promise.reject("Track not found in the peerconnection")},R.prototype._handleSenderRemoveStream=function(e){if(e){var t=this.findSenderByStream(e);t?this.peerconnection.removeTrack(t):A.log("Cannot remove tracks: no RTPSender.")}},R.prototype.createDataChannel=function(e,t){return this.trace("createDataChannel",e,t),this.peerconnection.createDataChannel(e,t)},R.prototype._ensureSimulcastGroupIsLast=function(e){var t=e.sdp,n=t.indexOf("m=video"),i=t.indexOf("a=ssrc-group:SIM",n),r=t.lastIndexOf("a=ssrc-group");if(-1===i||-1===r||r===i)return e;var o=t.indexOf("\r\n",i),a=t.substring(i,o+2);r=(t=t.replace(a,"")).lastIndexOf("a=ssrc-group");var s=t.indexOf("\r\n",r);return t=t.slice(0,s)+"\r\n"+a.trim()+t.slice(s),new RTCSessionDescription({type:e.type,sdp:t})},R.prototype._adjustLocalMediaDirection=function(e){var t=new b.a(e.sdp),n=!1,i=t.selectMedia("audio");if(i){var r=this._getDesiredMediaDirection(d.a);i.direction!==r&&(i.direction=r,A.info("Adjusted local audio direction to "+r),n=!0)}else A.warn('No "audio" media found int the local description');var o=t.selectMedia("video");if(o){var a=this._getDesiredMediaDirection(d.c);o.direction!==a&&(o.direction=a,A.info("Adjusted local video direction to "+a),n=!0)}else A.warn('No "video" media found in the local description');return n?new RTCSessionDescription({type:e.type,sdp:t.toRawSDP()}):e},R.prototype.setLocalDescription=function(e){var t=this,n=e;if(this.trace("setLocalDescription::preTransform",k(n)),this.options.disableH264||this.options.preferH264){var i=a.a.parse(n.sdp),r=i.media.find(function(e){return"video"===e.type});this.options.disableH264?C.a.stripVideoCodec(r,"h264"):C.a.preferVideoCodec(r,"h264"),n=new RTCSessionDescription({type:n.type,sdp:a.a.write(i)}),this.trace("setLocalDescription::postTransform (H264)",k(n))}return m.a.usesPlanB()?(n=this._adjustLocalMediaDirection(n),n=this._ensureSimulcastGroupIsLast(n)):(n=this.interop.toUnifiedPlan(n),this.trace("setLocalDescription::postTransform (Unified Plan)",k(n))),new Promise(function(e,i){t.peerconnection.setLocalDescription(n).then(function(){t.trace("setLocalDescriptionOnSuccess");var i=C.a.getUfrag(n.sdp);i!==t.localUfrag&&(t.localUfrag=i,t.eventEmitter.emit(g.a.LOCAL_UFRAG_CHANGED,t,i)),e()},function(e){t.trace("setLocalDescriptionOnFailure",e),t.eventEmitter.emit(g.a.SET_LOCAL_DESCRIPTION_FAILED,e,t),i(e)})})},R.prototype.setAudioTransferActive=function(e){if(A.debug(this+" audio transfer active: "+e),m.a.usesUnifiedPlan())return this.tpcUtils.setAudioTransferActive(e);var t=this.audioTransferActive!==e;return this.audioTransferActive=e,t},R.prototype.setMaxBitRate=function(e){var t=this;if(!(e.type===d.a||m.a.usesPlanB()&&!this.options.capScreenshareBitrate||m.a.usesPlanB()&&"camera"===e.videoType))if(this.peerconnection.getSenders){var n=e.videoType,i=e.track.id;this.peerconnection.getSenders().filter(function(e){return e.track&&e.track.id===i}).forEach(function(e){try{var i=e.getParameters();if(!i.encodings||!i.encodings.length)return;for(var r in A.debug("Setting max bitrate on video stream"),i.encodings)i.encodings.hasOwnProperty(r)&&(i.encodings[r].maxBitrate="desktop"===n&&m.a.usesPlanB()?5e5:t.isSimulcastOn()?t.tpcUtils.simulcastEncodings[r].maxBitrate:25e5);e.setParameters(i)}catch(e){}})}else A.debug("Browser doesn't support RTCRtpSender")},R.prototype.setRemoteDescription=function(e){var t=this;if(this.trace("setRemoteDescription::preTransform",k(e)),m.a.usesPlanB()){if(e=this.simulcast.mungeRemoteDescription(e),this.trace("setRemoteDescription::postTransform (simulcast)",k(e)),this.options.preferH264){var n=a.a.parse(e.sdp),i=n.media.find(function(e){return"video"===e.type});C.a.preferVideoCodec(i,"h264"),e=new RTCSessionDescription({type:e.type,sdp:a.a.write(n)})}e=w(e)}else{var r=this.peerconnection.remoteDescription;e=this.interop.toUnifiedPlan(e,r),this.trace("setRemoteDescription::postTransform (Unified)",k(e)),this.isSimulcastOn()&&(e=this.simulcast.mungeRemoteDescription(e),e=this.tpcUtils._insertUnifiedPlanSimulcastReceive(e),this.trace("setRemoteDescription::postTransform (sim receive)",k(e)),e=this.tpcUtils._ensureCorrectOrderOfSsrcs(e))}return new Promise(function(n,i){t.peerconnection.setRemoteDescription(e).then(function(){t.trace("setRemoteDescriptionOnSuccess");var i=C.a.getUfrag(e.sdp);i!==t.remoteUfrag&&(t.remoteUfrag=i,t.eventEmitter.emit(g.a.REMOTE_UFRAG_CHANGED,t,i)),n()},function(e){t.trace("setRemoteDescriptionOnFailure",e),t.eventEmitter.emit(g.a.SET_REMOTE_DESCRIPTION_FAILED,e,t),i(e)})})},R.prototype.setSenderVideoConstraint=function(e){var t=this;this.senderVideoMaxHeight=e;var n=Array.from(this.localTracks.values()).find(function(e){return e.isVideoTrack()});if(!n||n.isMuted()||n.videoType!==l.CAMERA)return Promise.resolve();var i=n.getTrack();if(this.isSimulcastOn()){var r=Promise.resolve(),o=n._constraints.height.ideal?n._constraints.height.ideal:n._constraints.height;return i.getSettings().height!==o&&(r=i.applyConstraints(n._constraints)),r.then(function(){var n=t.tpcUtils.simulcastStreamConstraints.map(function(t){return t.height<=e}),i=t.findSenderByKind(d.c);if(!i)return Promise.reject(new Error("RTCRtpSender not found for local video"));var r=i.getParameters();if(!r||!r.encodings||!r.encodings.length)return Promise.reject(new Error("RTCRtpSendParameters not found for local video track"));for(var o in A.debug("Setting max height of "+e+" on local video"),r.encodings)r.encodings.hasOwnProperty(o)&&(r.encodings[o].active=n[o]);return i.setParameters(r)})}var a=(i.getSettings().width/i.getSettings().height).toPrecision(4);return A.debug("Setting max height of "+e+" on local video"),i.applyConstraints({aspectRatio:a,height:{ideal:e}})},R.prototype.setVideoTransferActive=function(e){if(A.debug(this+" video transfer active: "+e),m.a.usesUnifiedPlan())return this.tpcUtils.setVideoTransferActive(e);var t=this.videoTransferActive!==e;return this.videoTransferActive=e,t},R.prototype.sendTones=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200;if(!this._dtmfSender){if(this.peerconnection.getSenders){var i=this.peerconnection.getSenders().find(function(e){return e.dtmf});this._dtmfSender=i&&i.dtmf,this._dtmfSender&&A.info(this+" initialized DTMFSender using getSenders")}if(!this._dtmfSender){var r=Array.from(this.localTracks.values()).find(function(e){return e.isAudioTrack()});this.peerconnection.createDTMFSender&&r&&(this._dtmfSender=this.peerconnection.createDTMFSender(r.getTrack())),this._dtmfSender&&A.info(this+" initialized DTMFSender using deprecated createDTMFSender")}this._dtmfSender&&(this._dtmfSender.ontonechange=this._onToneChange.bind(this))}if(this._dtmfSender){if(this._dtmfSender.toneBuffer)return void this._dtmfTonesQueue.push({tones:e,duration:t,interToneGap:n});this._dtmfSender.insertDTMF(e,t,n)}else A.warn(this+" sendTones - failed to select DTMFSender")},R.prototype._onToneChange=function(e){if(this._dtmfSender&&""===e.tone&&this._dtmfTonesQueue.length){var t=this._dtmfTonesQueue.shift(),n=t.tones,i=t.duration,r=t.interToneGap;this._dtmfSender.insertDTMF(n,i,r)}},R.prototype.generateRecvonlySsrc=function(){var e=C.a.generateSsrc();A.info(this+" generated new recvonly SSRC: "+e),this.sdpConsistency.setPrimarySsrc(e)},R.prototype.clearRecvonlySsrc=function(){A.info("Clearing primary video SSRC!"),this.sdpConsistency.clearVideoSsrcCache()},R.prototype.close=function(){this.trace("stop"),this.signalingLayer.off(T.a,this._peerMutedChanged),this.signalingLayer.off(T.b,this._peerVideoTypeChanged);var e=this.remoteTracks.values(),t=Array.isArray(e),n=0;for(e=t?e:e["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var i;if(t){if(n>=e.length)break;i=e[n++]}else{if((n=e.next()).done)break;i=n.value}var r=i.values(),o=Array.isArray(r),a=0;for(r=o?r:r["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var s;if(o){if(a>=r.length)break;s=r[a++]}else{if((a=r.next()).done)break;s=a.value}var c=s;this._removeRemoteTrack(c)}}this.remoteTracks.clear(),this._addedStreams=[],this._dtmfSender=null,this._dtmfTonesQueue=[],this.rtc._removePeerConnection(this),null!==this.statsinterval&&(window.clearInterval(this.statsinterval),this.statsinterval=null),A.info("Closing "+this+"..."),this.peerconnection.close()},R.prototype.createAnswer=function(e){return this._createOfferOrAnswer(!1,e)},R.prototype.createOffer=function(e){return this._createOfferOrAnswer(!0,e)},R.prototype._createOfferOrAnswer=function(e,t){var n=this,i=e?"Offer":"Answer";this.trace("create"+i,JSON.stringify(t,null," "));var r=function(t,r,o){try{if(n.trace("create"+i+"OnSuccess::preTransform",k(t)),m.a.usesPlanB()&&(n.hasAnyTracksOfType(d.c)||n.sdpConsistency.hasPrimarySsrcCached()||n.generateRecvonlySsrc(),t=new RTCSessionDescription({type:t.type,sdp:n.sdpConsistency.makeVideoPrimarySsrcsConsistent(t.sdp)}),n.trace("create"+i+"OnSuccess::postTransform (make primary audio/video ssrcs consistent)",k(t))),n.isSimulcastOn()&&m.a.usesSdpMungingForSimulcast()&&(!n.options.capScreenshareBitrate||n.options.capScreenshareBitrate&&P(n))&&(t=n.simulcast.mungeLocalDescription(t),n.trace("create"+i+"OnSuccess::postTransform (simulcast)",k(t))),!n.options.disableRtx&&m.a.supportsRtx()&&(t=new RTCSessionDescription({type:t.type,sdp:n.rtxModifier.modifyRtxSsrcs(t.sdp)}),n.trace("create"+i+"OnSuccess::postTransform (rtx modifier)",k(t))),!e){var s=new S.a(n.remoteDescription.sdp),c=new S.a(t.sdp);!(function(e,t){(m.a.isChromiumBased()||m.a.isReactNative())&&e&&t&&e.media&&t.media&&e.media.length===t.media.length&&(t.media.forEach(function(n,i){C.a.findLine(e.media[i],"a=setup:actpass",e.session)&&(t.media[i]=n.replace(/a=setup:active/g,"a=setup:passive"))}),t.raw=t.session+t.media.join(""))})(s,c),t=new RTCSessionDescription({type:t.type,sdp:c.raw})}var u=(function(e){var t=new Map,n=new Map;if("object"!=typeof e||null===e||"string"!=typeof e.sdp)return A.warn("An empty description was passed as an argument."),t;var i=a.a.parse(e.sdp);if(!Array.isArray(i.media))return t;var r=i.media,o=Array.isArray(r),s=0;for(r=o?r:r["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var c;if(o){if(s>=r.length)break;c=r[s++]}else{if((s=r.next()).done)break;c=s.value}var u=c;if(Array.isArray(u.ssrcs)){if(Array.isArray(u.ssrcGroups)){var d=u.ssrcGroups,l=Array.isArray(d),h=0;for(d=l?d:d["function"==typeof Symbol&&"function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var p;if(l){if(h>=d.length)break;p=d[h++]}else{if((h=d.next()).done)break;p=h.value}var f=p;if(void 0!==f.semantics&&void 0!==f.ssrcs){var m=f.ssrcs.split(" ").map(function(e){return parseInt(e,10)}),v=m[0];f.ssrcs=m,n.has(v)||n.set(v,[]),n.get(v).push(f)}}}var g=u.ssrcs,y=Array.isArray(g),_=0;for(g=y?g:g["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var S;if(y){if(_>=g.length)break;S=g[_++]}else{if((_=g.next()).done)break;S=_.value}var E=S;if("msid"===E.attribute){var b=E.value,C=t.get(b);C||(C={ssrcs:[],groups:[],msid:b},t.set(b,C));var T=E.id;if(C.ssrcs.push(T),n.has(T)){var R=n.get(T),k=Array.isArray(R),w=0;for(R=k?R:R["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var I;if(k){if(w>=R.length)break;I=R[w++]}else{if((w=R.next()).done)break;I=w.value}var P=I;C.groups.push(P)}}}}}}return t})(t);A.debug("Got local SSRCs MAP: ",u),n._processLocalSSRCsMap(u),r(t)}catch(e){n.trace("create"+i+"OnError",e),n.trace("create"+i+"OnError",k(t)),o(e)}},o=function(t,r){n.trace("create"+i+"OnFailure",t);var o=e?g.a.CREATE_OFFER_FAILED:g.a.CREATE_ANSWER_FAILED;n.eventEmitter.emit(o,t,n),r(t)};return new Promise(function(i,a){(e?n.peerconnection.createOffer(t):n.peerconnection.createAnswer(t)).then(function(e){return r(e,i,a)},function(e){return o(e,a)})})},R.prototype._extractPrimarySSRC=function(e){return e&&e.groups&&e.groups.length?e.groups[0].ssrcs[0]:e&&e.ssrcs&&e.ssrcs.length?e.ssrcs[0]:null},R.prototype._processLocalSSRCsMap=function(e){var t=this.localTracks.values(),n=Array.isArray(t),i=0;for(t=n?t:t["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var r;if(n){if(i>=t.length)break;r=t[i++]}else{if((i=t.next()).done)break;r=i.value}var o=r,a=o.storedMSID;if(e.has(a)){var s=e.get(a);if(!s)return;var c=this.localSSRCs.get(o.rtcId),u=this._extractPrimarySSRC(s),d=this._extractPrimarySSRC(c);u!==d?(null===d&&A.info("Storing new local SSRC for "+o+" in "+this,s),this.localSSRCs.set(o.rtcId,s),this.eventEmitter.emit(g.a.LOCAL_TRACK_SSRC_UPDATED,o,u)):A.debug("The local SSRC("+u+") for "+o+" "+a+"is still up to date in "+this)}else o.isVideoTrack()||o.isMuted()||A.warn("No SSRCs found in the local SDP for "+o+" MSID: "+a+" in "+this)}},R.prototype.addIceCandidate=function(e){return this.trace("addIceCandidate",JSON.stringify({candidate:e.candidate,sdpMid:e.sdpMid,sdpMLineIndex:e.sdpMLineIndex,usernameFragment:e.usernameFragment},null," ")),this.peerconnection.addIceCandidate(e)},R.prototype.getStats=function(e,t){m.a.isSafari()||m.a.isFirefox()||m.a.isReactNative()?this.peerconnection.getStats().then(e).catch(t||function(){}):this.peerconnection.getStats(e)},R.prototype.generateNewStreamSSRCInfo=function(e){var t=e.rtcId,n=this._getSSRC(t);if(this.isSimulcastOn()&&(!this.options.capScreenshareBitrate||this.options.capScreenshareBitrate&&P(this))){n={ssrcs:[],groups:[]};for(var i=0;i<_.a.length;i++)n.ssrcs.push(C.a.generateSsrc());n.groups.push({ssrcs:n.ssrcs.slice(),semantics:"SIM"})}else n={ssrcs:[C.a.generateSsrc()],groups:[]};if(!this.options.disableRtx&&m.a.supportsRtx())for(var r=n.ssrcs.length,o=0;o<r;++o){var a=n.ssrcs[o],s=C.a.generateSsrc();n.ssrcs.push(s),n.groups.push({ssrcs:[a,s],semantics:"FID"})}return n.msid=e.storedMSID,this.localSSRCs.set(t,n),n},R.prototype.setIsSelected=function(e){this.options.enableLayerSuspension&&(A.debug("Layer suspension enabled,currently selected? "+e),(function(e,t){if(e.getSenders){var n=e.getSenders().find(function(e){return"video"===e.track.kind});if(n)if(n.getParameters){var i=n.getParameters();t?(A.debug("Currently selected, enabling all sim layers"),i.encodings.forEach(function(e){e.active=!0})):(A.debug("Not currently selected, disabling upper layers"),[1,2].forEach(function(e){i.encodings[e]&&(i.encodings[e].active=!1)})),n.setParameters(i)}else A.debug("Browser doesn't support RTPSender parameters");else A.warn("handleLayerSuspension unable to find video sender")}else A.debug("Browser doesn't support RTPSender")})(this.peerconnection,e))},R.prototype.toString=function(){return"TPC["+this.id+",p2p:"+this.isP2P+"]"}}).call(this,"modules/RTC/TraceablePeerConnection.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return h});var i=n(7),r=n(54),o=n(15),a=n(5),s=n(4).getLogger(e),c=n(8),u=!1,d=!1,l=["abort","canplay","canplaythrough","emptied","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","ratechange","stalled","suspend","waiting"],h=(function(e){function t(e,n,i,r,o,a,c,u,d,h){var p;if(_classCallCheck(this,t),(p=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,n,r,o,function(){},a,c))).rtc=e,"number"!=typeof u)throw new TypeError("SSRC "+u+" is not a number");return p.ssrc=u,p.ownerEndpointId=i,p.muted=d,p.isP2P=h,s.debug("New remote track added: "+_assertThisInitialized(p)),p.hasBeenMuted=d,p.rtc&&p.track&&p._bindTrackHandlers(),p._containerHandlers={},l.forEach(function(e){p._containerHandlers[e]=p._containerEventHandler.bind(_assertThisInitialized(p),e)}),_possibleConstructorReturn(p)}return _inherits(t,e),_createClass(t,[{key:"_bindTrackHandlers",value:function(){var e=this;this.track.addEventListener("mute",function(){return e._onTrackMute()}),this.track.addEventListener("unmute",function(){return e._onTrackUnmute()}),this.track.addEventListener("ended",function(){s.debug("\"onended\" event("+Date.now()+"): "+e)})}},{key:"_onTrackMute",value:function(){s.debug("\"onmute\" event("+Date.now()+"): "+this),this.rtc.eventEmitter.emit(c.REMOTE_TRACK_MUTE,this)}},{key:"_onTrackUnmute",value:function(){s.debug("\"onunmute\" event("+Date.now()+"): "+this),this.rtc.eventEmitter.emit(c.REMOTE_TRACK_UNMUTE,this)}},{key:"setMute",value:function(e){this.muted!==e&&(e&&(this.hasBeenMuted=!0),this.stream&&(this.stream.muted=e),this.muted=e,this.emit(o.TRACK_MUTE_CHANGED,this))}},{key:"isMuted",value:function(){return this.muted}},{key:"getParticipantId",value:function(){return this.ownerEndpointId}},{key:"isLocal",value:function(){return!1}},{key:"getSSRC",value:function(){return this.ssrc}},{key:"_setVideoType",value:function(e){this.videoType!==e&&(this.videoType=e,this.emit(o.TRACK_VIDEOTYPE_CHANGED,e))}},{key:"_playCallback",value:function(){var e=this.isVideoTrack()?"video":"audio",t=window.performance.now();console.log("(TIME) Render "+e+":\t",t),this.conference.getConnectionTimes()[e+".render"]=t;var n=window.connectionTimes["obtainPermissions.start"],r=window.connectionTimes["obtainPermissions.end"],o=isNaN(r)||isNaN(n)?0:r-n,s=t-(this.conference.getConnectionTimes()["session.initiate"]-this.conference.getConnectionTimes()["muc.joined"])-o;this.conference.getConnectionTimes()[e+".ttfm"]=s,console.log("(TIME) TTFM "+e+":\t",s),a.a.sendAnalytics(Object(i.O)({media_type:e,muted:this.hasBeenMuted,value:s}))}},{key:"_attachTTFMTracker",value:function(e){u&&this.isAudioTrack()||d&&this.isVideoTrack()||(this.isAudioTrack()&&(u=!0),this.isVideoTrack()&&(d=!0),e.addEventListener("canplay",this._playCallback.bind(this)))}},{key:"_onTrackAttach",value:function(e){var t=this;s.debug("Track has been attached to a container: "+this),l.forEach(function(n){e.addEventListener(n,t._containerHandlers[n])})}},{key:"_onTrackDetach",value:function(e){var t=this;s.debug("Track has been detached from a container: "+this),l.forEach(function(n){e.removeEventListener(n,t._containerHandlers[n])})}},{key:"_containerEventHandler",value:function(e){s.debug(e+" handler was called for a container with attached "+this)}},{key:"_getStatus",value:function(){var e=this.track,t=e.enabled,n=e.muted;return"readyState: "+e.readyState+", muted: "+n+", enabled: "+t}},{key:"toString",value:function(){return"RemoteTrack[userID: "+this.getParticipantId()+", type: "+this.getType()+", ssrc: "+this.getSSRC()+", p2p: "+this.isP2P+", status: "+this._getStatus()+"]"}}]),t})(r.a)}).call(this,"modules/RTC/JitsiRemoteTrack.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return s});var i=n(4),r=n(9),o=n(27),a=Object(i.getLogger)(e),s=(function(){function e(t){_classCallCheck(this,e),this.tpc=t}return _createClass(e,[{key:"_addMutedLocalVideoTracksToSDP",value:function(e){var t=this.tpc.getLocalTracks(r.c);if(!t.length)return!1;t.length;var n=e.selectMedia("video");if(!n)return a.debug(this.tpc+" unable to hack local video track SDP- no \"video\" media"),!1;var i=!1,o=t,s=Array.isArray(o),c=0;for(o=s?o:o["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var u;if(s){if(c>=o.length)break;u=o[c++]}else{if((c=o.next()).done)break;u=c.value}var d=u,l=d.isMuted(),h=d.getOriginalStream(),p=h&&this.tpc.isMediaStreamInPc(h),f=l||!p;if(a.debug(this.tpc+" "+d+" muted: "+l+", is in PeerConnection: "+p+" => should fake sdp ? : "+f),f){var m=this.tpc.isSimulcastOn()?this.tpc.simulcast.ssrcCache:[this.tpc.sdpConsistency.cachedPrimarySsrc];if(m.length){i=!0,n.direction="sendrecv";var v="injected-"+m[0],g=m,y=Array.isArray(g),_=0;for(g=y?g:g["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var S;if(y){if(_>=g.length)break;S=g[_++]}else{if((_=g.next()).done)break;S=_.value}var E=S;n.removeSSRC(E),a.debug(this.tpc+" injecting video SSRC: "+E+" for "+d),n.addSSRCAttribute({id:E,attribute:"cname",value:v}),n.addSSRCAttribute({id:E,attribute:"msid",value:d.storedMSID})}if(m.length>1){var b={ssrcs:m.join(" "),semantics:"SIM"};n.findGroup(b.semantics,b.ssrcs)||(a.debug(this.tpc+" injecting SIM group for "+d,b),n.addSSRCGroup(b))}this.tpc.options.disableRtx||this.tpc.rtxModifier.modifyRtxSsrcs2(n)}}}return i}},{key:"_transformMediaIdentifiers",value:function(e){var t=this.tpc.id,n=e.ssrcs,i=Array.isArray(n),r=0;for(n=i?n:n["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var o;if(i){if(r>=n.length)break;o=n[r++]}else{if((r=n.next()).done)break;o=r.value}var s=o;switch(s.attribute){case"cname":case"label":case"mslabel":s.value=s.value&&s.value+"-"+t;break;case"msid":if(s.value){var c=s.value.split(" ");if(2===c.length){var u=c[0],d=c[1];s.value=u+"-"+t+" "+d+"-"+t}else a.warn("Unable to munge local MSID- weird format detected: "+s.value)}}}}},{key:"maybeAddMutedLocalVideoTracksToSDP",value:function(e){if(!e)throw new Error("No local description passed in.");var t=new o.a(e.sdp);return this._addMutedLocalVideoTracksToSDP(t)?new RTCSessionDescription({type:e.type,sdp:t.toRawSDP()}):e}},{key:"transformStreamIdentifiers",value:function(e){if(!e||!e.sdp||!e.type)return e;var t=new o.a(e.sdp),n=t.selectMedia("audio");n&&this._transformMediaIdentifiers(n);var i=t.selectMedia("video");return i&&this._transformMediaIdentifiers(i),new RTCSessionDescription({type:e.type,sdp:t.toRawSDP()})}}]),e})()}).call(this,"modules/RTC/LocalSdpMunger.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return c});var i=n(4),r=n(27),o=n(6),a=Object(i.getLogger)(e);function s(e,t,n){a.debug("Updating mline to associate "+n+"rtx ssrc with primary stream, "+t.id);var i=t.id,r=t.msid,o=t.cname,s=e.getRtxSSRC(i);s!==n?(s&&(a.debug(i+" was previously associated with rtx"+s+", removing all references to it"),e.removeSSRC(s),a.debug("groups before filtering for "+s),a.debug(e.dumpSSRCGroups()),e.removeGroupsWithSSRC(s)),e.addSSRCAttribute({id:n,attribute:"cname",value:o}),e.addSSRCAttribute({id:n,attribute:"msid",value:r}),e.addSSRCGroup({semantics:"FID",ssrcs:i+" "+n})):a.debug(n+" was already associated with "+i)}var c=(function(){function e(){_classCallCheck(this,e),this.correspondingRtxSsrcs=new Map}return _createClass(e,[{key:"clearSsrcCache",value:function(){this.correspondingRtxSsrcs.clear()}},{key:"setSsrcCache",value:function(e){a.debug("Setting ssrc cache to ",e),this.correspondingRtxSsrcs=e}},{key:"modifyRtxSsrcs",value:function(e){var t=new r.a(e),n=t.selectMedia("video");return n?this.modifyRtxSsrcs2(n)?t.toRawSDP():e:(a.debug("No 'video' media found in the sdp: "+e),e)}},{key:"modifyRtxSsrcs2",value:function(e){if("recvonly"===e.direction)return a.debug("RtxModifier doing nothing, video m line is recvonly"),!1;if(e.getSSRCCount()<1)return a.debug("RtxModifier doing nothing, no video ssrcs present"),!1;a.debug("Current ssrc mapping: ",this.correspondingRtxSsrcs);var t=e.getPrimaryVideoSSRCs();a.debug("Parsed primary video ssrcs ",t," making sure all have rtx streams");var n=t,i=Array.isArray(n),r=0;for(n=i?n:n["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var c;if(i){if(r>=n.length)break;c=n[r++]}else{if((r=n.next()).done)break;c=r.value}var u=c,d=e.getSSRCAttrValue(u,"msid"),l=e.getSSRCAttrValue(u,"cname"),h=this.correspondingRtxSsrcs.get(u);if(h)a.debug("Already have an associated rtx ssrc forvideo ssrc "+u+": "+h);else{a.debug("No previously associated rtx ssrc for video ssrc "+u);var p=e.getRtxSSRC(u);p?(a.debug("Rtx stream "+p+" already existed in the sdp as an rtx stream for "+u),h=p):(h=o.a.generateSsrc(),a.debug("Generated rtx ssrc "+h+" for ssrc "+u)),a.debug("Caching rtx ssrc "+h+" for video ssrc "+u),this.correspondingRtxSsrcs.set(u,h)}s(e,{id:u,cname:l,msid:d},h)}return!0}},{key:"stripRtx",value:function(e){var t=new r.a(e),n=t.selectMedia("video");if(!n)return a.debug("No 'video' media found in the sdp: "+e),e;if("recvonly"===n.direction)return a.debug("RtxModifier doing nothing, video m line is recvonly"),e;if(n.getSSRCCount()<1)return a.debug("RtxModifier doing nothing, no video ssrcs present"),e;if(!n.containsAnySSRCGroups())return a.debug("RtxModifier doing nothing, no video ssrcGroups present"),e;var i=n.findGroups("FID");n.removeGroupsBySemantics("FID");var o=i,s=Array.isArray(o),c=0;for(o=s?o:o["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var u;if(s){if(c>=o.length)break;u=o[c++]}else{if((c=o.next()).done)break;u=c.value}var d=u,l=Object(r.c)(d);n.removeSSRC(l)}return t.toRawSDP()}}]),e})()}).call(this,"modules/xmpp/RtxModifier.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return a});var i=n(4),r=n(27),o=Object(i.getLogger)(e),a=(function(){function e(t){_classCallCheck(this,e),this.clearVideoSsrcCache(),this.logPrefix=t}return _createClass(e,[{key:"clearVideoSsrcCache",value:function(){this.cachedPrimarySsrc=null,this.injectRecvOnly=!1}},{key:"setPrimarySsrc",value:function(e){if("number"!=typeof e)throw new Error("Primary SSRC must be a number!");this.cachedPrimarySsrc=e}},{key:"hasPrimarySsrcCached",value:function(){return Boolean(this.cachedPrimarySsrc)}},{key:"makeVideoPrimarySsrcsConsistent",value:function(e){var t=new r.a(e),n=t.selectMedia("video");if(!n)return o.debug(this.logPrefix+" no 'video' media found in the sdp: "+e),e;if("recvonly"===n.direction)this.cachedPrimarySsrc&&this.injectRecvOnly?n.addSSRCAttribute({id:this.cachedPrimarySsrc,attribute:"cname",value:"recvonly-"+this.cachedPrimarySsrc}):o.info(this.logPrefix+" no SSRC found for the recvonly videostream!");else{var i=n.getPrimaryVideoSsrc();if(!i)return o.info(this.logPrefix+" sdp-consistency couldn't parse new primary ssrc"),e;if(this.cachedPrimarySsrc){o.info(this.logPrefix+" sdp-consistency replacing new ssrc"+i+" with cached "+this.cachedPrimarySsrc),n.replaceSSRC(i,this.cachedPrimarySsrc);var a=n.ssrcGroups,s=Array.isArray(a),c=0;for(a=s?a:a["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var u;if(s){if(c>=a.length)break;u=a[c++]}else{if((c=a.next()).done)break;u=c.value}var d=u;if("FID"===d.semantics){var l=Object(r.b)(d),h=Object(r.c)(d);l===i&&(d.ssrcs=this.cachedPrimarySsrc+" "+h)}}}else this.cachedPrimarySsrc=i,o.info(this.logPrefix+" sdp-consistency caching primary ssrc"+this.cachedPrimarySsrc);this.injectRecvOnly=!0}return t.toRawSDP()}}]),e})()}).call(this,"modules/xmpp/SdpConsistency.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return a});var i=n(4),r=n(55),o=Object(i.getLogger)(e),a=(function(){function e(){_classCallCheck(this,e),this._started=!1,this._streamsToMix=[],this._streamMSSArray=[]}return _createClass(e,[{key:"addMediaStream",value:function(e){e.getAudioTracks()||o.warn("Added MediaStream doesn't contain audio tracks."),this._streamsToMix.push(e)}},{key:"start",value:function(){if(this._started)return this._mixedMSD.stream;if(this._audioContext=Object(r.a)(),!this._streamsToMix.length)return o.warn("No MediaStream's added to AudioMixer, nothing will happen."),null;this._started=!0,this._mixedMSD=this._audioContext.createMediaStreamDestination();var e=this._streamsToMix,t=Array.isArray(e),n=0;for(e=t?e:e["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var i;if(t){if(n>=e.length)break;i=e[n++]}else{if((n=e.next()).done)break;i=n.value}var a=i,s=this._audioContext.createMediaStreamSource(a);s.connect(this._mixedMSD),this._streamMSSArray.push(s)}return this._mixedMSD.stream}},{key:"reset",value:function(){this._started=!1,this._streamsToMix=[];var e=this._streamMSSArray,t=Array.isArray(e),n=0;for(e=t?e:e["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var i;if(t){if(n>=e.length)break;i=e[n++]}else{if((n=e.next()).done)break;i=n.value}i.disconnect()}this._streamMSSArray=[],this._audioContext&&(this._audioContext=void 0)}}]),e})()}).call(this,"modules/webaudio/AudioMixer.js")},function(e,t){e.exports={getTokenAuthUrl:function(e,t,n){return"string"!=typeof e?null:e.replace("{room}",t).replace("{roleUpgrade}",!0===n)}}},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var i=n(7),r=n(88),o=n(25),a=n(5),s=n(37);function c(e,t,n){this.appID=e,this.token=t,this.options=n,this.xmpp=new s.c(n,t),this.addEventListener(o.CONNECTION_FAILED,function(e,t,n,r){a.a.sendAnalyticsAndLog(Object(i.B)(e,t,r))}),this.addEventListener(o.CONNECTION_DISCONNECTED,function(e){e&&a.a.sendAnalytics(i.m,{message:e}),a.a.sendLog(JSON.stringify({id:i.m,msg:e}))})}c.prototype.connect=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.xmpp.connect(e.id,e.password)},c.prototype.attach=function(e){this.xmpp.attach(e)},c.prototype.disconnect=function(){var e;return(e=this.xmpp).disconnect.apply(e,arguments)},c.prototype.getJid=function(){return this.xmpp.getJid()},c.prototype.setToken=function(e){this.token=e},c.prototype.initJitsiConference=function(e,t){return new r.a({name:e,config:t,connection:this})},c.prototype.addEventListener=function(e,t){this.xmpp.addListener(e,t)},c.prototype.removeEventListener=function(e,t){this.xmpp.removeListener(e,t)},c.prototype.getConnectionTimes=function(){return this.xmpp.connectionTimes},c.prototype.addFeature=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.xmpp.caps.addFeature(e,t)},c.prototype.removeFeature=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.xmpp.caps.removeFeature(e,t)}},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return oe});var i=n(2),r=n(20),o=n.n(r),a=n(4),s=n(58),c=n.n(s),u=n(19),d=n(89),l=n(3),h=n(91),p=n(17),f=n(13),m=n(15),v=n(92),g=n(110),y=n(11),_=n(111),S=n(112),E=n(113),b=n(66),C=n(21),T=n(114),A=n(1),R=n(115),k=n(116),w=n(44),I=n(117),P=n(119),D=n(120),O=n(121),N=n(122),M=n(34),L=n(123),x=n(124),F=n(125),j=n(5),U=n(126),H=n.n(U),J=n(14),B=n.n(J),G=n(35),V=n.n(G),q=n(127),K=n(128),W=n(23),z=n(37),Q=n(9),X=n(8),Y=n(12),Z=n.n(Y),ee=n(7),te=n(0);function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){ie(e,t,n[t])})}return e}function ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var re=Object(a.getLogger)(e);function oe(e){!e.name||(e.name.toLowerCase(),e.name),this.eventEmitter=new o.a,this.options=e,this.eventManager=new d.a(this),this.participants={},this._init(e),this.componentsVersions=new q.a(this),this.jvbJingleSession=null,this.lastDominantSpeaker=null,this.dtmfManager=null,this.somebodySupportsDTMF=!1,this.authEnabled=!1,this.startAudioMuted=!1,this.startVideoMuted=!1,this.startMutedPolicy={audio:!1,video:!1},this.isMutedByFocus=!1,this.mutedByFocusActor=null,this.wasStopped=!1,this.properties={},this.connectionQuality=new R.a(this,this.eventEmitter,e),this.avgRtpStatsReporter=new L.a(this,e.config.avgRtpStatsN||15),this._audioOutputProblemDetector=new x.a(this),this.isJvbConnectionInterrupted=!1,this.speakerStatsCollector=new F.a(this),this.deferredStartP2PTask=null;var t=parseInt(e.config.p2p&&e.config.p2p.backToP2PDelay,10);this.backToP2PDelay=isNaN(t)?5:t,re.info("backToP2PDelay: "+this.backToP2PDelay),this.isP2PConnectionInterrupted=!1,this.p2p=!1,this.p2pJingleSession=null,this.videoSIPGWHandler=new K.a(this.room),this.recordingManager=new O.a(this.room),this._conferenceJoinAnalyticsEventSent=!1,this.maxFrameHeight=null,A.a.supportsInsertableStreams()&&(this._e2eeCtx=new I.a({salt:this.options.name}))}oe.prototype.constructor=oe,oe.resourceCreator=function(e,t){var n;return t?n=V.a.randomHexString(8).toLowerCase():(n=i.Strophe.getNodeFromJid(e).substr(0,8).toLowerCase(),/[0-9a-f]{8}/g.test(n)||(n=V.a.randomHexString(8).toLowerCase())),n},oe.prototype._init=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.connection&&(this.connection=t.connection,this.xmpp=this.connection.xmpp,this.eventManager.setupXMPPListeners());var n=this.options.config;if(this._statsCurrentId=n.statisticsId?n.statisticsId:M.a.callStatsUserName,this.room=this.xmpp.createRoom(this.options.name,ne({},n,{statsId:this._statsCurrentId}),oe.resourceCreator),this._onIceConnectionInterrupted=this._onIceConnectionInterrupted.bind(this),this.room.addListener(te.CONNECTION_INTERRUPTED,this._onIceConnectionInterrupted),this._onIceConnectionRestored=this._onIceConnectionRestored.bind(this),this.room.addListener(te.CONNECTION_RESTORED,this._onIceConnectionRestored),this._onIceConnectionEstablished=this._onIceConnectionEstablished.bind(this),this.room.addListener(te.CONNECTION_ESTABLISHED,this._onIceConnectionEstablished),this._updateProperties=this._updateProperties.bind(this),this.room.addListener(te.CONFERENCE_PROPERTIES_CHANGED,this._updateProperties),this._sendConferenceJoinAnalyticsEvent=this._sendConferenceJoinAnalyticsEvent.bind(this),this.room.addListener(te.MEETING_ID_SET,this._sendConferenceJoinAnalyticsEvent),this.rttMonitor=new N.a(n.rttMonitor||{}),this.e2eping=new P.a(this,n,function(t,n){try{e.sendMessage(t,n,!0)}catch(t){re.warn("Failed to send E2E ping request or response.",t&&t.msg)}}),this.rtc||(this.rtc=new y.a(this,t),this.eventManager.setupRTCListeners()),this.participantConnectionStatus=new w.b(this.rtc,this,{rtcMuteTimeout:n._peerConnStatusRtcMuteTimeout,outOfLastNTimeout:n._peerConnStatusOutOfLastNTimeout}),this.participantConnectionStatus.init(),this.statistics||(this.statistics=new j.a(this.xmpp,{aliasName:this._statsCurrentId,userName:n.statisticsDisplayName?n.statisticsDisplayName:this.myUserId(),callStatsConfIDNamespace:this.connection.options.hosts.domain,confID:n.confID||this.connection.options.hosts.domain+"/"+this.options.name,customScriptUrl:n.callStatsCustomScriptUrl,callStatsID:n.callStatsID,callStatsSecret:n.callStatsSecret,callStatsApplicationLogsDisabled:n.callStatsApplicationLogsDisabled,roomName:this.options.name,applicationName:n.applicationName,getWiFiStatsMethod:n.getWiFiStatsMethod}),j.a.analytics.addPermanentProperties({callstats_name:this._statsCurrentId})),this.eventManager.setupChatRoomListeners(),this.eventManager.setupStatisticsListeners(),n.enableTalkWhileMuted)if(n.createVADProcessor){re.info("Using VAD detection for generating talk while muted events"),this._audioAnalyser||(this._audioAnalyser=new b.a(this,n.createVADProcessor));var i=new S.a;i.on(C.VAD_TALK_WHILE_MUTED,function(){return e.eventEmitter.emit(l.TALK_WHILE_MUTED)}),this._audioAnalyser.addVADDetectionService(i)}else re.info("Using audio level based detection for generating talk while muted events"),this._talkWhileMutedDetection=new _.a(this,function(){return e.eventEmitter.emit(l.TALK_WHILE_MUTED)});if(n.enableNoisyMicDetection&&!A.a.isSafari())if(n.createVADProcessor){this._audioAnalyser||(this._audioAnalyser=new b.a(this,n.createVADProcessor));var r=new E.a;r.on(C.VAD_NOISY_DEVICE,function(){return e.eventEmitter.emit(l.NOISY_MIC)}),this._audioAnalyser.addVADDetectionService(r)}else re.warn("No VAD Processor was provided. Noisy microphone detection service was not initialized!");n.enableNoAudioDetection&&(this._noAudioSignalDetection=new T.a(this),this._noAudioSignalDetection.on(C.NO_AUDIO_INPUT,function(){e.eventEmitter.emit(l.NO_AUDIO_INPUT)}),this._noAudioSignalDetection.on(C.AUDIO_INPUT_STATE_CHANGE,function(t){e.eventEmitter.emit(l.AUDIO_INPUT_STATE_CHANGE,t)})),"channelLastN"in n&&this.setLastN(n.channelLastN),this.jvb121Status=new D.a(this),this.p2pDominantSpeakerDetection=new g.a(this),n&&n.deploymentInfo&&n.deploymentInfo.userRegion&&this.setLocalParticipantProperty("region",n.deploymentInfo.userRegion)},oe.prototype.join=function(e){var t=this;this.room&&this.room.join(e).then(function(){return t._maybeSetSITimeout()})},oe.prototype.authenticateAndUpgradeRole=function(e){return v.a.call(this,ne({},e,{onCreateResource:oe.resourceCreator}))},oe.prototype.isJoined=function(){return this.room&&this.room.joined},oe.prototype.isP2PEnabled=function(){return Boolean(this.options.config.p2p&&this.options.config.p2p.enabled)||void 0===this.options.config.p2p},oe.prototype.isP2PTestModeEnabled=function(){return Boolean(this.options.config.testing&&this.options.config.testing.p2pTestMode)},oe.prototype.leave=function(){var e=this;if(this.participantConnectionStatus&&(this.participantConnectionStatus.dispose(),this.participantConnectionStatus=null),this.avgRtpStatsReporter&&(this.avgRtpStatsReporter.dispose(),this.avgRtpStatsReporter=null),this._audioOutputProblemDetector&&(this._audioOutputProblemDetector.dispose(),this._audioOutputProblemDetector=null),this.rttMonitor&&(this.rttMonitor.stop(),this.rttMonitor=null),this.e2eping&&(this.e2eping.stop(),this.e2eping=null),this.getLocalTracks().forEach(function(t){return e.onLocalTrackRemoved(t)}),this.rtc.closeBridgeChannel(),this.statistics&&this.statistics.dispose(),this._delayedIceFailed&&this._delayedIceFailed.cancel(),this.jvbJingleSession&&(this.jvbJingleSession.close(),this.jvbJingleSession=null),this.p2pJingleSession&&(this.p2pJingleSession.close(),this.p2pJingleSession=null),this.room){var t=this.room;return t.removeListener(te.CONNECTION_INTERRUPTED,this._onIceConnectionInterrupted),t.removeListener(te.CONNECTION_RESTORED,this._onIceConnectionRestored),t.removeListener(te.CONNECTION_ESTABLISHED,this._onIceConnectionEstablished),t.removeListener(te.CONFERENCE_PROPERTIES_CHANGED,this._updateProperties),t.removeListener(te.MEETING_ID_SET,this._sendConferenceJoinAnalyticsEvent),this.eventManager.removeXMPPListeners(),this.room=null,t.leave().then(function(){e.rtc&&e.rtc.destroy()}).catch(function(t){throw e.getParticipants().forEach(function(t){return e.onMemberLeft(t.getJid())}),t})}return Promise.reject(new Error("The conference is has been already left"))},oe.prototype.getName=function(){return this.options.name},oe.prototype.getConnection=function(){return this.connection},oe.prototype.isAuthEnabled=function(){return this.authEnabled},oe.prototype.isLoggedIn=function(){return Boolean(this.authIdentity)},oe.prototype.getAuthLogin=function(){return this.authIdentity},oe.prototype.isExternalAuthEnabled=function(){return this.room&&this.room.moderator.isExternalAuthEnabled()},oe.prototype.getExternalAuthUrl=function(e){var t=this;return new Promise(function(n,i){t.isExternalAuthEnabled()?e?t.room.moderator.getPopupLoginUrl(n,i):t.room.moderator.getLoginUrl(n,i):i()})},oe.prototype.getLocalTracks=function(e){var t=[];return this.rtc&&(t=this.rtc.getLocalTracks(e)),t},oe.prototype.getLocalAudioTrack=function(){return this.rtc?this.rtc.getLocalAudioTrack():null},oe.prototype.getLocalVideoTrack=function(){return this.rtc?this.rtc.getLocalVideoTrack():null},oe.prototype.on=function(e,t){this.eventEmitter&&this.eventEmitter.on(e,t)},oe.prototype.off=function(e,t){this.eventEmitter&&this.eventEmitter.removeListener(e,t)},oe.prototype.addEventListener=oe.prototype.on,oe.prototype.removeEventListener=oe.prototype.off,oe.prototype.addCommandListener=function(e,t){this.room&&this.room.addPresenceListener(e,t)},oe.prototype.removeCommandListener=function(e,t){this.room&&this.room.removePresenceListener(e,t)},oe.prototype.sendTextMessage=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"body";if(this.room){var n=(this.room.getFromPresence("nick")||{}).value;this.room.sendMessage(e,t,n)}},oe.prototype.sendPrivateTextMessage=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"body";this.room&&this.room.sendPrivateMessage(e,t,n)},oe.prototype.sendCommand=function(e,t){this.room?(this.room.addToPresence(e,t),this.room.sendPresence()):re.warn("Not sending a command, room not initialized.")},oe.prototype.sendCommandOnce=function(e,t){this.sendCommand(e,t),this.removeCommand(e)},oe.prototype.removeCommand=function(e){this.room&&this.room.removeFromPresence(e)},oe.prototype.setDisplayName=function(e){this.room&&(this.room.removeFromPresence("nick"),this.room.addToPresence("nick",{attributes:{xmlns:"http://jabber.org/protocol/nick"},value:e}),this.room.sendPresence())},oe.prototype.setSubject=function(e){this.room&&this.isModerator()&&this.room.setSubject(e)},oe.prototype.getTranscriber=function(){if(void 0===this.transcriber){this.transcriber=new H.a;var e=this.getLocalTracks(Q.a),t=Array.isArray(e),n=0;for(e=t?e:e["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var i;if(t){if(n>=e.length)break;i=e[n++]}else{if((n=e.next()).done)break;i=n.value}var r=i;this.transcriber.addTrack(r)}var o=this.rtc.getRemoteTracks(Q.a),a=Array.isArray(o),s=0;for(o=a?o:o["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var c;if(a){if(s>=o.length)break;c=o[s++]}else{if((s=o.next()).done)break;c=s.value}var u=c;this.transcriber.addTrack(u)}}return this.transcriber},oe.prototype.getTranscriptionStatus=function(){return this.room.transcriptionStatus},oe.prototype.addTrack=function(e){if(e.isVideoTrack()){var t=this.rtc.getLocalVideoTrack();if(t)return e===t?Promise.resolve(e):Promise.reject(new Error("cannot add second video track to the conference"))}return this.replaceTrack(null,e)},oe.prototype._fireAudioLevelChangeEvent=function(e,t){var n=this.getActivePeerConnection();t&&n!==t||this.eventEmitter.emit(l.TRACK_AUDIO_LEVEL_CHANGED,this.myUserId(),e)},oe.prototype._fireMuteChangeEvent=function(e){var t;if(this.isMutedByFocus&&e.isAudioTrack()&&!e.isMuted()&&(this.isMutedByFocus=!1,this.room.muteParticipant(this.room.myroomjid,!1)),this.mutedByFocusActor){var n=i.Strophe.getResourceFromJid(this.mutedByFocusActor);t=this.participants[n]}this.eventEmitter.emit(l.TRACK_MUTE_CHANGED,e,t)},oe.prototype.onLocalTrackRemoved=function(e){e._setConference(null),this.rtc.removeLocalTrack(e),e.removeEventListener(m.TRACK_MUTE_CHANGED,e.muteHandler),e.removeEventListener(m.TRACK_AUDIO_LEVEL_CHANGED,e.audioLevelHandler),e.isVideoTrack()&&e.videoType===Z.a.DESKTOP&&this.statistics.sendScreenSharingEvent(!1),this.eventEmitter.emit(l.TRACK_REMOVED,e)},oe.prototype.removeTrack=function(e){return this.replaceTrack(e,null)},oe.prototype.replaceTrack=function(e,t){var n=this;return e&&e.disposed?Promise.reject(new p.a(f.TRACK_IS_DISPOSED)):t&&t.disposed?Promise.reject(new p.a(f.TRACK_IS_DISPOSED)):this._doReplaceTrack(e,t).then(function(){return e&&n.onLocalTrackRemoved(e),t&&n._setupNewTrack(t),Promise.resolve()},function(e){return Promise.reject(new Error(e))})},oe.prototype._doReplaceTrack=function(e,t){var n=[];return this.jvbJingleSession?n.push(this.jvbJingleSession.replaceTrack(e,t)):re.info("_doReplaceTrack - no JVB JingleSession"),this.p2pJingleSession?n.push(this.p2pJingleSession.replaceTrack(e,t)):re.info("_doReplaceTrack - no P2P JingleSession"),Promise.all(n)},oe.prototype._setupNewTrack=function(e){if(e.isAudioTrack()||e.isVideoTrack()&&e.videoType!==Z.a.DESKTOP){var t=y.a.getCurrentlyAvailableMediaDevices().find(function(t){return t.kind===e.getTrack().kind+"input"&&t.label===e.getTrack().label});t&&j.a.sendActiveDeviceListEvent(y.a.getEventDataForActiveDevice(t))}e.isVideoTrack()&&(this.removeCommand("videoType"),this.sendCommand("videoType",{value:e.videoType,attributes:{xmlns:"http://jitsi.org/jitmeet/video"}})),this.rtc.addLocalTrack(e),e.isAudioTrack()?this.room.setAudioMute(e.isMuted()):this.room.setVideoMute(e.isMuted()),e.muteHandler=this._fireMuteChangeEvent.bind(this,e),e.audioLevelHandler=this._fireAudioLevelChangeEvent.bind(this),e.addEventListener(m.TRACK_MUTE_CHANGED,e.muteHandler),e.addEventListener(m.TRACK_AUDIO_LEVEL_CHANGED,e.audioLevelHandler),e._setConference(this),this.eventEmitter.emit(l.TRACK_ADDED,e)},oe.prototype._addLocalTrackAsUnmute=function(e){var t=[];return this.jvbJingleSession?t.push(this.jvbJingleSession.addTrackAsUnmute(e)):re.info("Add local MediaStream as unmute - no JVB Jingle session started yet"),this.p2pJingleSession?t.push(this.p2pJingleSession.addTrackAsUnmute(e)):re.info("Add local MediaStream as unmute - no P2P Jingle session started yet"),Promise.all(t)},oe.prototype._removeLocalTrackAsMute=function(e){var t=[];return this.jvbJingleSession?t.push(this.jvbJingleSession.removeTrackAsMute(e)):re.info("Remove local MediaStream - no JVB JingleSession started yet"),this.p2pJingleSession?t.push(this.p2pJingleSession.removeTrackAsMute(e)):re.info("Remove local MediaStream - no P2P JingleSession started yet"),Promise.all(t)},oe.prototype.getRole=function(){return this.room.role},oe.prototype.isHidden=function(){return this.connection?i.Strophe.getDomainFromJid(this.connection.getJid())===this.options.config.hiddenDomain:null},oe.prototype.isModerator=function(){return this.room?this.room.isModerator():null},oe.prototype.lock=function(e){var t=this;return this.isModerator()?new Promise(function(n,i){t.room.lockRoom(e||"",function(){return n()},function(e){return i(e)},function(){return i(u.PASSWORD_NOT_SUPPORTED)})}):Promise.reject(new Error("You are not moderator."))},oe.prototype.unlock=function(){return this.lock()},oe.prototype.selectParticipant=function(e){this.selectParticipants([e])},oe.prototype.selectParticipants=function(e){if(!Array.isArray(e))throw new Error("Invalid argument; participantIds must be an array.");this.rtc.selectEndpoints(e)},oe.prototype.pinParticipant=function(e){this.rtc.pinEndpoint(e)},oe.prototype.getLastN=function(){return this.rtc.getLastN()},oe.prototype.setLastN=function(e){if(!Number.isInteger(e)&&!Number.parseInt(e,10))throw new Error("Invalid value for lastN: "+e);var t=Number(e);if(t<-1)throw new RangeError("lastN cannot be smaller than -1");if(this.rtc.setLastN(t),this.p2pJingleSession){var n=0!==t;this.p2pJingleSession.setMediaTransferActive(!0,n).catch(function(e){})}},oe.prototype.isInLastN=function(e){return this.rtc.isInLastN(e)},oe.prototype.getParticipants=function(){return Object.keys(this.participants).map(function(e){return this.participants[e]},this)},oe.prototype.getParticipantCount=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.getParticipants();return e||(t=t.filter(function(e){return!e.isHidden()})),t.length+1},oe.prototype.getParticipantById=function(e){return this.participants[e]},oe.prototype.kickParticipant=function(e){var t=this.getParticipantById(e);t&&this.room.kick(t.getJid())},oe.prototype._maybeClearSITimeout=function(){this._sessionInitiateTimeout&&(this.jvbJingleSession||this.getParticipantCount()<2)&&(window.clearTimeout(this._sessionInitiateTimeout),this._sessionInitiateTimeout=null)},oe.prototype._maybeSetSITimeout=function(){var e=this;!this.jvbJingleSession&&this.getParticipantCount()>=2&&!this._sessionInitiateTimeout&&(this._sessionInitiateTimeout=window.setTimeout(function(){e._sessionInitiateTimeout=null,j.a.sendAnalytics(Object(ee.G)(ee.d,{p2p:!1,value:5e3}))},5e3))},oe.prototype.muteParticipant=function(e){var t=this.getParticipantById(e);t&&this.room.muteParticipant(t.getJid(),!0)},oe.prototype.onMemberJoined=function(e,t,n,r,o,a,s,c){var u=i.Strophe.getResourceFromJid(e);if("focus"!==u&&this.myUserId()!==u){var d=new h.a(e,this,t,r,o,a,s);d._role=n,d._botType=c,this.participants[u]=d,this.eventEmitter.emit(l.USER_JOINED,u,d),this._updateFeatures(d),this._maybeStartOrStopP2P(),this._maybeSetSITimeout()}},oe.prototype._updateFeatures=function(e){var t=this;e.getFeatures().then(function(n){e._supportsDTMF=n.has("urn:xmpp:jingle:dtmf:0"),t.updateDTMFSupport(),n.has("http://jitsi.org/protocol/jigasi")&&e.setProperty("features_jigasi",!0),n.has("https://jitsi.org/meet/e2ee")&&e.setProperty("features_e2ee",!0)}).catch(function(){return!1})},oe.prototype._onMemberBotTypeChanged=function(e,t){var n=this.getParticipants().find(function(t){return t.getJid()===e});if(n){n._botType=t;var r=i.Strophe.getResourceFromJid(e);this.eventEmitter.emit(l.BOT_TYPE_CHANGED,r,t)}n._botType||this._maybeStartOrStopP2P()},oe.prototype.onMemberLeft=function(e){var t=this,n=i.Strophe.getResourceFromJid(e);if("focus"!==n&&this.myUserId()!==n){var r=this.participants[n];delete this.participants[n],this.rtc.removeRemoteTracks(n).forEach(function(e){return t.eventEmitter.emit(l.TRACK_REMOVED,e)}),r&&this.eventEmitter.emit(l.USER_LEFT,n,r),this._maybeStartOrStopP2P(!0),this._maybeClearSITimeout()}},oe.prototype.onMemberKicked=function(e,t,n){var i=this.participants[t];if(e)return this.eventEmitter.emit(l.KICKED,i),void this.leave();var r=this.participants[n];this.eventEmitter.emit(l.PARTICIPANT_KICKED,i,r)},oe.prototype.onLocalRoleChanged=function(e){this.eventEmitter.emit(l.USER_ROLE_CHANGED,this.myUserId(),e)},oe.prototype.onUserRoleChanged=function(e,t){var n=i.Strophe.getResourceFromJid(e),r=this.getParticipantById(n);r&&(r._role=t,this.eventEmitter.emit(l.USER_ROLE_CHANGED,n,t))},oe.prototype.onDisplayNameChanged=function(e,t){var n=i.Strophe.getResourceFromJid(e),r=this.getParticipantById(n);r&&r._displayName!==t&&(r._displayName=t,this.eventEmitter.emit(l.DISPLAY_NAME_CHANGED,n,t))},oe.prototype.onRemoteTrackAdded=function(e){var t=this;if(!e.isP2P||this.isP2PActive())if(e.isP2P||!this.isP2PActive()){this._setupReceiverE2EEForTrack(e);var n=e.getParticipantId(),i=this.getParticipantById(n);if(i){i._tracks.push(e),this.transcriber&&this.transcriber.addTrack(e);var r=this.eventEmitter;e.addEventListener(m.TRACK_MUTE_CHANGED,function(){return r.emit(l.TRACK_MUTE_CHANGED,e)}),e.addEventListener(m.TRACK_AUDIO_LEVEL_CHANGED,function(e,i){t.getActivePeerConnection()===i&&r.emit(l.TRACK_AUDIO_LEVEL_CHANGED,n,e)}),r.emit(l.TRACK_ADDED,e)}}else re.info("Trying to add remote JVB track, when in P2P - IGNORED");else re.info("Trying to add remote P2P track, when not in P2P - IGNORED")},oe.prototype.onCallAccepted=function(e,t){if(this.p2pJingleSession===e){re.info("P2P setAnswer");var n=this.getLocalTracks(),i=Array.isArray(n),r=0;for(n=i?n:n["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var o;if(i){if(r>=n.length)break;o=n[r++]}else{if((r=n.next()).done)break;o=r.value}var a=o;this._setupSenderE2EEForTrack(e,a)}this.p2pJingleSession.setAnswer(t)}},oe.prototype.onTransportInfo=function(e,t){this.p2pJingleSession===e&&(re.info("P2P addIceCandidates"),this.p2pJingleSession.addIceCandidates(t))},oe.prototype.onRemoteTrackRemoved=function(e){var t=this;this.getParticipants().forEach(function(n){for(var i=n.getTracks(),r=0;r<i.length;r++)if(i[r]===e){n._tracks.splice(r,1),t.eventEmitter.emit(l.TRACK_REMOVED,e),t.transcriber&&t.transcriber.removeTrack(e);break}},this)},oe.prototype._onIncomingCallP2P=function(e,t){var n;A.a.supportsP2P()?this.isP2PEnabled()||this.isP2PTestModeEnabled()?this.p2pJingleSession?n={reason:"busy",reasonDescription:"P2P already in progress",errorMsg:'Duplicated P2P "session-initiate"'}:this._shouldBeInP2PMode()||(n={reason:"decline",reasonDescription:"P2P requirements not met",errorMsg:'Received P2P "session-initiate" when should not be in P2P mode'},j.a.sendAnalytics(Object(ee.G)(ee.h))):n={reason:"decline",reasonDescription:"P2P disabled",errorMsg:"P2P mode disabled in the configuration"}:n={reason:"unsupported-applications",reasonDescription:"P2P not supported",errorMsg:"This client does not support P2P connections"},n?this._rejectIncomingCall(e,n):this._acceptP2PIncomingCall(e,t)},oe.prototype.onIncomingCall=function(e,t,n){if(e.isP2P)this._onIncomingCallP2P(e,t);else{if(!this.room.isFocus(e.remoteJid)){var i="Rejecting session-initiate from non-focus.";return void this._rejectIncomingCall(e,{reason:"security-error",reasonDescription:i,errorMsg:i})}this._acceptJvbIncomingCall(e,t,n)}},oe.prototype._acceptJvbIncomingCall=function(e,t,n){var i=this;this.jvbJingleSession=e,this.room.connectionTimes["session.initiate"]=n,this._sendConferenceJoinAnalyticsEvent(),this.wasStopped&&j.a.sendAnalyticsAndLog(Object(ee.G)(ee.a,{p2p:!1}));var r=$(t).find('>bridge-session[xmlns="http://jitsi.org/protocol/focus"]').attr("region");this.eventEmitter.emit(l.SERVER_REGION_CHANGED,r),this._maybeClearSITimeout(),j.a.sendAnalytics(Object(ee.G)(ee.c,{p2p:!1,value:n}));try{e.initialize(this.room,this.rtc,this.options.config)}catch(e){B.a.callErrorHandler(e)}this._setBridgeChannel(t,e.peerconnection);var o=this.getLocalTracks();try{e.acceptOffer(t,function(){i.isP2PActive()&&i.jvbJingleSession?i._suspendMediaTransferForJvbConnection():i.jvbJingleSession&&i.maxFrameHeight&&i.jvbJingleSession.setSenderVideoConstraint(i.maxFrameHeight).catch(function(e){});var t=o,n=Array.isArray(t),r=0;for(t=n?t:t["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var a;if(n){if(r>=t.length)break;a=t[r++]}else{if((r=t.next()).done)break;a=r.value}var s=a;i._setupSenderE2EEForTrack(e,s)}},function(e){},o),re.info("Starting CallStats for JVB connection..."),this.statistics.startCallStats(this.jvbJingleSession.peerconnection,"jitsi"),this.statistics.startRemoteStats(this.jvbJingleSession.peerconnection)}catch(e){}},oe.prototype._setBridgeChannel=function(e,t){var n,i=null,r=$(e).find(">content>transport>web-socket").first();switch(1===r.length&&(i=r[0].getAttribute("url")),this.options.config.openBridgeChannel){case"datachannel":case!0:case void 0:n="datachannel";break;case"websocket":n="websocket"}"datachannel"===n?this.rtc.initializeBridgeChannel(t,null):"websocket"===n&&i&&this.rtc.initializeBridgeChannel(null,i)},oe.prototype._rejectIncomingCall=function(e,t){t&&t.errorMsg&&B.a.callErrorHandler(new Error(t.errorMsg)),e.terminate(null,function(e){re.warn("An error occurred while trying to terminate invalid Jingle session",e)},{reason:t&&t.reason,reasonDescription:t&&t.reasonDescription,sendSessionTerminate:!0})},oe.prototype.onCallEnded=function(e,t,n){re.info("Call ended: "+t+" - "+n+" P2P ?"+e.isP2P),e===this.jvbJingleSession?(this.wasStopped=!0,j.a.sendAnalytics(Object(ee.G)(ee.e,{p2p:!1})),this.statistics&&(this.statistics.stopRemoteStats(this.jvbJingleSession.peerconnection),re.info("Stopping JVB CallStats"),this.statistics.stopCallStats(this.jvbJingleSession.peerconnection)),this.jvbJingleSession=null,this.rtc.onCallEnded()):e===this.p2pJingleSession&&("decline"===t&&"force JVB121"===n?(re.info("In forced JVB 121 mode..."),j.a.analytics.addPermanentProperties({forceJvb121:!0})):"connectivity-error"===t&&"ICE FAILED"===n&&j.a.analytics.addPermanentProperties({p2pFailed:!0}),this._stopP2PSession())},oe.prototype.onSuspendDetected=function(e){e.isP2P||(this.leave(),this.eventEmitter.emit(l.SUSPEND_DETECTED))},oe.prototype.updateDTMFSupport=function(){for(var e=!1,t=this.getParticipants(),n=0;n<t.length;n+=1)if(t[n].supportsDTMF()){e=!0;break}e!==this.somebodySupportsDTMF&&(this.somebodySupportsDTMF=e,this.eventEmitter.emit(l.DTMF_SUPPORT_CHANGED,e))},oe.prototype.isDTMFSupported=function(){return this.somebodySupportsDTMF},oe.prototype.myUserId=function(){return this.room&&this.room.myroomjid?i.Strophe.getResourceFromJid(this.room.myroomjid):null},oe.prototype.sendTones=function(e,t,n){var i=this.getActivePeerConnection();i?i.sendTones(e,t,n):re.warn("cannot sendTones: no peer connection")},oe.prototype.startRecording=function(e){return this.room?this.recordingManager.startRecording(e):Promise.reject(new Error("The conference is not created yet!"))},oe.prototype.stopRecording=function(e){return this.room?this.recordingManager.stopRecording(e):Promise.reject(new Error("The conference is not created yet!"))},oe.prototype.isSIPCallingSupported=function(){return!!this.room&&this.room.isSIPCallingSupported()},oe.prototype.dial=function(e){return this.room?this.room.dial(e):new Promise(function(e,t){t(new Error("The conference is not created yet!"))})},oe.prototype.hangup=function(){return this.room?this.room.hangup():new Promise(function(e,t){t(new Error("The conference is not created yet!"))})},oe.prototype.startTranscriber=function(){return this.dial("jitsi_meet_transcribe")},oe.prototype.stopTranscriber=oe.prototype.hangup,oe.prototype.getPhoneNumber=function(){return this.room?this.room.getPhoneNumber():null},oe.prototype.getPhonePin=function(){return this.room?this.room.getPhonePin():null},oe.prototype.getMeetingUniqueId=function(){if(this.room)return this.room.getMeetingId()},oe.prototype.getActivePeerConnection=function(){return this.isP2PActive()?this.p2pJingleSession.peerconnection:this.jvbJingleSession?this.jvbJingleSession.peerconnection:null},oe.prototype.getConnectionState=function(){var e=this.getActivePeerConnection();return e?e.getConnectionState():null},oe.prototype.setStartMutedPolicy=function(e){this.isModerator()&&(this.startMutedPolicy=e,this.room.removeFromPresence("startmuted"),this.room.addToPresence("startmuted",{attributes:{audio:e.audio,video:e.video,xmlns:"http://jitsi.org/jitmeet/start-muted"}}),this.room.sendPresence())},oe.prototype.getStartMutedPolicy=function(){return this.startMutedPolicy},oe.prototype.isStartAudioMuted=function(){return this.startAudioMuted},oe.prototype.isStartVideoMuted=function(){return this.startVideoMuted},oe.prototype.getLogs=function(){var e=this.xmpp.getJingleLog(),t={};t.time=new Date,t.url=window.location.href,t.ua=navigator.userAgent;var n=this.xmpp.getXmppLog();return n&&(t.xmpp=n),e.metadata=t,e},oe.prototype.getConnectionTimes=function(){return this.room.connectionTimes},oe.prototype.setLocalParticipantProperty=function(e,t){this.sendCommand("jitsi_participant_"+e,{value:t})},oe.prototype.removeLocalParticipantProperty=function(e){this.removeCommand("jitsi_participant_"+e),this.room.sendPresence()},oe.prototype.getLocalParticipantProperty=function(e){var t=this.room.presMap.nodes.find(function(t){return t.tagName==="jitsi_participant_"+e});return t?t.value:void 0},oe.prototype.sendFeedback=function(e,t){return this.statistics.sendFeedback(e,t)},oe.prototype.isCallstatsEnabled=function(){return this.statistics.isCallstatsEnabled()},oe.prototype._onTrackAttach=function(e,t){var n=e.isLocal(),i=null,r=e.isP2P,o=r?e.getParticipantId():"jitsi",a=r?this.p2pJingleSession&&this.p2pJingleSession.peerconnection:this.jvbJingleSession&&this.jvbJingleSession.peerconnection;n?a&&(i=a.getLocalSSRC(e)):i=e.getSSRC(),t.id&&i&&a&&this.statistics.associateStreamWithVideoTag(a,i,n,o,e.getUsageLabel(),t.id)},oe.prototype.sendApplicationLog=function(e){j.a.sendLog(e)},oe.prototype._isFocus=function(e){return this.room?this.room.isFocus(e):null},oe.prototype._fireIncompatibleVersionsEvent=function(){this.eventEmitter.emit(l.CONFERENCE_FAILED,u.INCOMPATIBLE_SERVER_VERSIONS)},oe.prototype.sendEndpointMessage=function(e,t){this.rtc.sendChannelMessage(e,t)},oe.prototype.broadcastEndpointMessage=function(e){this.sendEndpointMessage("",e)},oe.prototype.sendMessage=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=typeof e;if("object"===i||!n&&"string"===i)if(n)this.sendEndpointMessage(t,e);else{var r=e,o="body";if("object"===i){o="json-message",r.hasOwnProperty(z.b)||(r[z.b]="");try{r=JSON.stringify(r)}catch(e){return}}t?this.sendPrivateTextMessage(t,r,o):this.sendTextMessage(r,o)}},oe.prototype.isConnectionInterrupted=function(){return this.isP2PActive()?this.isP2PConnectionInterrupted:this.isJvbConnectionInterrupted},oe.prototype._onIceConnectionInterrupted=function(e){e.isP2P?this.isP2PConnectionInterrupted=!0:this.isJvbConnectionInterrupted=!0,e.isP2P===this.isP2PActive()&&this.eventEmitter.emit(l.CONNECTION_INTERRUPTED)},oe.prototype._onIceConnectionFailed=function(e){e.isP2P?(j.a.analytics.addPermanentProperties({p2pFailed:!0}),this.p2pJingleSession&&j.a.sendAnalyticsAndLog(Object(ee.I)(ee.j,{initiator:this.p2pJingleSession.isInitiator})),this._stopP2PSession("connectivity-error","ICE FAILED")):e&&this.jvbJingleSession===e&&(this.xmpp.isPingSupported()?(this._delayedIceFailed=new k.a(this),this._delayedIceFailed.start(e)):(re.info("PING not supported - sending ICE failed immediately"),e.sendIceFailedNotification()))},oe.prototype._onIceConnectionRestored=function(e){e.isP2P?this.isP2PConnectionInterrupted=!1:(this.isJvbConnectionInterrupted=!1,this._delayedIceFailed&&this._delayedIceFailed.cancel()),e.isP2P===this.isP2PActive()&&this.eventEmitter.emit(l.CONNECTION_RESTORED)},oe.prototype._acceptP2PIncomingCall=function(e,t){var n=this;this.isP2PConnectionInterrupted=!1,this.p2pJingleSession=e,this._sendConferenceJoinAnalyticsEvent(),this.p2pJingleSession.initialize(this.room,this.rtc,this.options.config),re.info("Starting CallStats for P2P connection...");var r=i.Strophe.getResourceFromJid(this.p2pJingleSession.remoteJid),o=this.participants[r];o&&(r=o.getStatsID()||r),this.statistics.startCallStats(this.p2pJingleSession.peerconnection,r);var a=this.getLocalTracks();this.p2pJingleSession.acceptOffer(t,function(){re.debug('Got RESULT for P2P "session-accept"'),n.pendingVideoConstraintsOnP2P&&n.p2pJingleSession.setSenderVideoConstraint(n.maxFrameHeight).catch(function(e){});var t=a,i=Array.isArray(t),r=0;for(t=i?t:t["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var o;if(i){if(r>=t.length)break;o=t[r++]}else{if((r=t.next()).done)break;o=r.value}var s=o;n._setupSenderE2EEForTrack(e,s)}},function(e){},a)},oe.prototype._addRemoteJVBTracks=function(){this._addRemoteTracks("JVB",this.jvbJingleSession.peerconnection.getRemoteTracks())},oe.prototype._addRemoteP2PTracks=function(){this._addRemoteTracks("P2P",this.p2pJingleSession.peerconnection.getRemoteTracks())},oe.prototype._addRemoteTracks=function(e,t){var n=t,i=Array.isArray(n),r=0;for(n=i?n:n["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var o;if(i){if(r>=n.length)break;o=n[r++]}else{if((r=n.next()).done)break;o=r.value}var a=o;re.info("Adding remote "+e+" track: "+a),this.rtc.eventEmitter.emit(X.REMOTE_TRACK_ADDED,a)}},oe.prototype._onIceConnectionEstablished=function(e){null!==this.p2pJingleSession&&(this.p2pEstablishmentDuration=this.p2pJingleSession.establishmentDuration),null!==this.jvbJingleSession&&(this.jvbEstablishmentDuration=this.jvbJingleSession.establishmentDuration);var t=!1,n=this.options.config.forceJVB121Ratio;if(e.isP2P?this.p2pJingleSession!==e?t=!0:!e.isInitiator&&"number"==typeof n&&Math.random()<n&&(re.info("Forcing JVB 121 mode (ratio="+n+")..."),j.a.analytics.addPermanentProperties({forceJvb121:!0}),this._stopP2PSession("decline","force JVB121"),t=!0):t=!0,!isNaN(this.p2pEstablishmentDuration)&&!isNaN(this.jvbEstablishmentDuration)){var i=this.p2pEstablishmentDuration-this.jvbEstablishmentDuration;j.a.sendAnalytics(ee.p,{value:i})}e.isP2P===this.isP2PActive()&&this.eventEmitter.emit(l.CONNECTION_ESTABLISHED),t||(this._setP2PStatus(!0),this.jvbJingleSession?this._removeRemoteJVBTracks():re.info("Not removing remote JVB tracks - no session yet"),this._addRemoteP2PTracks(),this.jvbJingleSession&&this._suspendMediaTransferForJvbConnection(),re.info("Starting remote stats with p2p connection"),this.statistics.startRemoteStats(this.p2pJingleSession.peerconnection),j.a.sendAnalyticsAndLog(Object(ee.I)(ee.i,{initiator:this.p2pJingleSession.isInitiator})))},oe.prototype._updateProperties=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!c()(e,this.properties);this.properties=e,t&&(this.eventEmitter.emit(l.PROPERTIES_CHANGED,this.properties),["bridge-count","created-ms","octo-enabled"].forEach(function(t){void 0!==e[t]&&j.a.analytics.addPermanentProperties(_defineProperty({},t.replace("-","_"),e[t]))}))},oe.prototype.getProperty=function(e){return this.properties[e]},oe.prototype._maybeClearDeferredStartP2P=function(){this.deferredStartP2PTask&&(re.info("Cleared deferred start P2P task"),clearTimeout(this.deferredStartP2PTask),this.deferredStartP2PTask=null)},oe.prototype._removeRemoteJVBTracks=function(){this._removeRemoteTracks("JVB",this.jvbJingleSession.peerconnection.getRemoteTracks())},oe.prototype._removeRemoteP2PTracks=function(){this._removeRemoteTracks("P2P",this.p2pJingleSession.peerconnection.getRemoteTracks())},oe.prototype._removeRemoteTracks=function(e,t){var n=t,i=Array.isArray(n),r=0;for(n=i?n:n["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var o;if(i){if(r>=n.length)break;o=n[r++]}else{if((r=n.next()).done)break;o=r.value}var a=o;re.info("Removing remote "+e+" track: "+a),this.rtc.eventEmitter.emit(X.REMOTE_TRACK_REMOVED,a)}},oe.prototype._resumeMediaTransferForJvbConnection=function(){re.info("Resuming media transfer over the JVB connection..."),this.jvbJingleSession.setMediaTransferActive(!0,!0).then(function(){re.info("Resumed media transfer over the JVB connection!")},function(e){})},oe.prototype._setP2PStatus=function(e){if(this.p2p!==e){if(this.p2p=e,e){re.info("Peer to peer connection established!"),j.a.analytics.addPermanentProperties({p2pFailed:!1,forceJvb121:!1});var t=0!==this.rtc.getLastN();this.p2pJingleSession.setMediaTransferActive(!0,t).catch(function(e){})}else re.info("Peer to peer connection closed!");this.jvbJingleSession&&this.statistics.sendConnectionResumeOrHoldEvent(this.jvbJingleSession.peerconnection,!e),this.dtmfManager=null,this.eventEmitter.emit(l.P2P_STATUS,this,this.p2p),this.eventEmitter.emit(this.isConnectionInterrupted()?l.CONNECTION_INTERRUPTED:l.CONNECTION_RESTORED)}else re.debug("Called _setP2PStatus with the same status: "+e)},oe.prototype._startP2PSession=function(e){if(this._maybeClearDeferredStartP2P(),!this.p2pJingleSession){this.isP2PConnectionInterrupted=!1,this.p2pJingleSession=this.xmpp.connection.jingle.newP2PJingleSession(this.room.myroomjid,e),re.info("Created new P2P JingleSession",this.room.myroomjid,e),this._sendConferenceJoinAnalyticsEvent(),this.p2pJingleSession.initialize(this.room,this.rtc,this.options.config),re.info("Starting CallStats for P2P connection...");var t=i.Strophe.getResourceFromJid(this.p2pJingleSession.remoteJid),n=this.participants[t];n&&(t=n.getStatsID()||t),this.statistics.startCallStats(this.p2pJingleSession.peerconnection,t);var r=this.getLocalTracks();this.p2pJingleSession.invite(r)}},oe.prototype._suspendMediaTransferForJvbConnection=function(){re.info("Suspending media transfer over the JVB connection..."),this.jvbJingleSession.setMediaTransferActive(!1,!1).then(function(){re.info("Suspended media transfer over the JVB connection !")},function(e){})},oe.prototype._maybeStartOrStopP2P=function(e){if(A.a.supportsP2P()&&this.isP2PEnabled()&&!this.isP2PTestModeEnabled()){var t=this.getParticipants(),n=t.length,i=this._shouldBeInP2PMode();if(!i&&this.deferredStartP2PTask&&this._maybeClearDeferredStartP2P(),!this.p2pJingleSession&&i){var r=n&&t[0],o=this.myUserId(),a=r.getId();if(o>a)return void re.debug("I'm the bigger peersId - the other peer should start P2P",o,a);if(o===a)return;var s=r.getJid();if(e){if(this.deferredStartP2PTask)return;re.info("Will start P2P with: "+s+" after "+this.backToP2PDelay+" seconds..."),this.deferredStartP2PTask=setTimeout(this._startP2PSession.bind(this,s),1e3*this.backToP2PDelay)}else re.info("Will start P2P with: "+s),this._startP2PSession(s)}else this.p2pJingleSession&&!i&&(re.info("Will stop P2P with: "+this.p2pJingleSession.remoteJid),this.p2pJingleSession.isInitiator&&n>1&&j.a.sendAnalyticsAndLog(Object(ee.I)(ee.k)),this._stopP2PSession())}else re.info("Auto P2P disabled")},oe.prototype._shouldBeInP2PMode=function(){var e=this.getParticipants(),t=e.length,n=void 0!==e.find(function(e){return"poltergeist"===e._botType}),i=1===t&&!n;return re.debug("P2P? peerCount: "+t+", hasBotPeer: "+n+" => "+i),i},oe.prototype._stopP2PSession=function(e,t){if(this.p2pJingleSession){var n=this.isP2PActive();n&&(this.jvbJingleSession&&this._resumeMediaTransferForJvbConnection(),this._removeRemoteP2PTracks()),re.info("Stopping remote stats for P2P connection"),this.statistics.stopRemoteStats(this.p2pJingleSession.peerconnection),re.info("Stopping CallStats for P2P connection"),this.statistics.stopCallStats(this.p2pJingleSession.peerconnection),this.p2pJingleSession.terminate(function(){re.info("P2P session terminate RESULT")},function(e){},{reason:e||"success",reasonDescription:t||"Turing off P2P session",sendSessionTerminate:this.room&&this.getParticipantById(i.Strophe.getResourceFromJid(this.p2pJingleSession.remoteJid))}),this.p2pJingleSession=null,this._setP2PStatus(!1),n&&(this.jvbJingleSession?this._addRemoteJVBTracks():re.info("Not adding remote JVB tracks - no session yet"))}},oe.prototype.isP2PActive=function(){return this.p2p},oe.prototype.getP2PConnectionState=function(){return this.isP2PActive()?this.p2pJingleSession.peerconnection.getConnectionState():null},oe.prototype.startP2PSession=function(){var e=this.getParticipants();if(1!==e.length)throw new Error("There must be exactly 1 participant to start the P2P session !");var t=e[0].getJid();this._startP2PSession(t)},oe.prototype.stopP2PSession=function(){this._stopP2PSession()},oe.prototype.getSpeakerStats=function(){return this.speakerStatsCollector.getStats()},oe.prototype.setReceiverVideoConstraint=function(e){this.rtc.setReceiverVideoConstraint(e)},oe.prototype.setSenderVideoConstraint=function(e){this.maxFrameHeight=e,this.pendingVideoConstraintsOnP2P=!0;var t=[];return this.jvbJingleSession&&t.push(this.jvbJingleSession.setSenderVideoConstraint(e)),this.p2pJingleSession&&(this.pendingVideoConstraintsOnP2P=!1,t.push(this.p2pJingleSession.setSenderVideoConstraint(e))),Promise.all(t)},oe.prototype.createVideoSIPGWSession=function(e,t){return this.room?this.videoSIPGWHandler.createVideoSIPGWSession(e,t):new Error(W.ERROR_NO_CONNECTION)},oe.prototype._sendConferenceJoinAnalyticsEvent=function(){var e=this.getMeetingUniqueId();!this._conferenceJoinAnalyticsEventSent&&e&&null!==this.getActivePeerConnection()&&(j.a.sendAnalytics(Object(ee.A)("joined",{meetingId:e,participantId:e+"."+this._statsCurrentId})),this._conferenceJoinAnalyticsEventSent=!0)},oe.prototype.isE2EESupported=function(){return Boolean(this._e2eeCtx)},oe.prototype.setE2EEKey=function(e){this._e2eeCtx?this._e2eeCtx.setKey(e):re.warn("Cannot set E2EE key: there is no defined context, platform is likely unsupported.")},oe.prototype._setupSenderE2EEForTrack=function(e,t){if(this._e2eeCtx){var n=e.peerconnection.findSenderForTrack(t.track);n?this._e2eeCtx.handleSender(n,t.getType()):re.warn("Could not handle E2EE for local "+t.getType()+" track: sender not found")}},oe.prototype._setupReceiverE2EEForTrack=function(e){if(this._e2eeCtx){var t=e.isP2P?this.p2pJingleSession:this.jvbJingleSession,n=t&&t.peerconnection;if(n){var i=n.findReceiverForTrack(e.track);i?this._e2eeCtx.handleReceiver(i,e.getType()):re.warn("Could not handle E2EE for remote "+e.getType()+" track: receiver not found")}}}}).call(this,"JitsiConference.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return E});var i=n(2),r=n(7),o=n(63),a=n.n(o),s=n(90),c=n.n(s),u=n(4),d=n(19),l=n(3),h=n(9),p=n(8),f=n.n(p),m=n(12),v=n.n(m),g=n(5),y=n(0),_=n.n(y),S=Object(u.getLogger)(e);function E(e){this.conference=e,this.xmppListeners={},e.on(l.TRACK_MUTE_CHANGED,function(t){if(t.isLocal()&&e.statistics){var n=t.isP2P?e.p2pJingleSession:e.jvbJingleSession,i=n&&n.peerconnection||null;e.statistics.sendMuteEvent(i,t.isMuted(),t.getType())}})}E.prototype.setupChatRoomListeners=function(){var e=this,t=this.conference,n=t.room;this.chatRoomForwarder=new c.a(n,this.conference.eventEmitter),n.addListener(_.a.ICE_RESTARTING,function(e){e.isP2P||t.rtc.closeBridgeChannel()}),n.addListener(_.a.ICE_RESTART_SUCCESS,function(e,n){!e.isP2P&&t._setBridgeChannel(n,e.peerconnection)}),n.addListener(_.a.AUDIO_MUTED_BY_FOCUS,function(e){g.a.sendAnalytics(Object(r.K)()),t.mutedByFocusActor=e,t.rtc.setAudioMute(!0).then(function(){t.isMutedByFocus=!0,t.mutedByFocusActor=null}).catch(function(e){t.mutedByFocusActor=null,S.warn("Error while audio muting due to focus request",e)})}),this.chatRoomForwarder.forward(_.a.SUBJECT_CHANGED,l.SUBJECT_CHANGED),this.chatRoomForwarder.forward(_.a.MUC_JOINED,l.CONFERENCE_JOINED),n.addListener(_.a.MUC_JOINED,function(){e.conference.isJvbConnectionInterrupted=!1,Object.keys(n.connectionTimes).forEach(function(e){var t=Object(r.C)("conference_"+e,{value:n.connectionTimes[e]});g.a.sendAnalytics(t)}),Object.keys(n.xmpp.connectionTimes).forEach(function(e){var t=Object(r.C)("xmpp_"+e,{value:n.xmpp.connectionTimes[e]});g.a.sendAnalytics(t)})}),n.addListener(_.a.RENEGOTIATION_FAILED,function(e,n){n.isP2P||t.eventEmitter.emit(l.CONFERENCE_FAILED,d.OFFER_ANSWER_FAILED,e)}),this.chatRoomForwarder.forward(_.a.ROOM_JOIN_ERROR,l.CONFERENCE_FAILED,d.CONNECTION_ERROR),this.chatRoomForwarder.forward(_.a.ROOM_CONNECT_ERROR,l.CONFERENCE_FAILED,d.CONNECTION_ERROR),this.chatRoomForwarder.forward(_.a.ROOM_CONNECT_NOT_ALLOWED_ERROR,l.CONFERENCE_FAILED,d.NOT_ALLOWED_ERROR),this.chatRoomForwarder.forward(_.a.ROOM_MAX_USERS_ERROR,l.CONFERENCE_FAILED,d.CONFERENCE_MAX_USERS),this.chatRoomForwarder.forward(_.a.PASSWORD_REQUIRED,l.CONFERENCE_FAILED,d.PASSWORD_REQUIRED),this.chatRoomForwarder.forward(_.a.AUTHENTICATION_REQUIRED,l.CONFERENCE_FAILED,d.AUTHENTICATION_REQUIRED),this.chatRoomForwarder.forward(_.a.BRIDGE_DOWN,l.CONFERENCE_FAILED,d.VIDEOBRIDGE_NOT_AVAILABLE),n.addListener(_.a.BRIDGE_DOWN,function(){return g.a.sendAnalytics(Object(r.z)())}),this.chatRoomForwarder.forward(_.a.RESERVATION_ERROR,l.CONFERENCE_FAILED,d.RESERVATION_ERROR),this.chatRoomForwarder.forward(_.a.GRACEFUL_SHUTDOWN,l.CONFERENCE_FAILED,d.GRACEFUL_SHUTDOWN),n.addListener(_.a.CONNECTION_ICE_FAILED,function(e){t._onIceConnectionFailed(e)}),this.chatRoomForwarder.forward(_.a.MUC_DESTROYED,l.CONFERENCE_FAILED,d.CONFERENCE_DESTROYED),this.chatRoomForwarder.forward(_.a.CHAT_ERROR_RECEIVED,l.CONFERENCE_ERROR,d.CHAT_ERROR),this.chatRoomForwarder.forward(_.a.FOCUS_DISCONNECTED,l.CONFERENCE_FAILED,d.FOCUS_DISCONNECTED),n.addListener(_.a.FOCUS_LEFT,function(){g.a.sendAnalytics(Object(r.E)()),t.eventEmitter.emit(l.CONFERENCE_FAILED,d.FOCUS_LEFT)}),n.addListener(_.a.SESSION_ACCEPT_TIMEOUT,function(e){g.a.sendAnalyticsAndLog(Object(r.G)(r.b,{p2p:e.isP2P}))}),n.addListener(_.a.RECORDER_STATE_CHANGED,function(e,n){if(n){var r=t.getParticipantById(i.Strophe.getResourceFromJid(n));"off"===e.getStatus()?e.setTerminator(r):"on"===e.getStatus()&&e.setInitiator(r)}t.eventEmitter.emit(l.RECORDER_STATE_CHANGED,e)}),this.chatRoomForwarder.forward(_.a.TRANSCRIPTION_STATUS_CHANGED,l.TRANSCRIPTION_STATUS_CHANGED),this.chatRoomForwarder.forward(_.a.VIDEO_SIP_GW_AVAILABILITY_CHANGED,l.VIDEO_SIP_GW_AVAILABILITY_CHANGED),this.chatRoomForwarder.forward(_.a.VIDEO_SIP_GW_SESSION_STATE_CHANGED,l.VIDEO_SIP_GW_SESSION_STATE_CHANGED),this.chatRoomForwarder.forward(_.a.PHONE_NUMBER_CHANGED,l.PHONE_NUMBER_CHANGED),n.setParticipantPropertyListener(function(e,n){var i=t.getParticipantById(n);i&&i.setProperty(e.tagName.substring("jitsi_participant_".length),e.value)}),n.addListener(_.a.KICKED,t.onMemberKicked.bind(t)),n.addListener(_.a.SUSPEND_DETECTED,t.onSuspendDetected.bind(t)),this.chatRoomForwarder.forward(_.a.MUC_LOCK_CHANGED,l.LOCK_STATE_CHANGED),n.addListener(_.a.MUC_MEMBER_JOINED,t.onMemberJoined.bind(t)),n.addListener(_.a.MUC_MEMBER_BOT_TYPE_CHANGED,t._onMemberBotTypeChanged.bind(t)),n.addListener(_.a.MUC_MEMBER_LEFT,t.onMemberLeft.bind(t)),this.chatRoomForwarder.forward(_.a.MUC_LEFT,l.CONFERENCE_LEFT),n.addListener(_.a.DISPLAY_NAME_CHANGED,t.onDisplayNameChanged.bind(t)),n.addListener(_.a.LOCAL_ROLE_CHANGED,function(e){t.onLocalRoleChanged(e),t.statistics&&t.isModerator()&&t.on(l.RECORDER_STATE_CHANGED,function(e){var t={error:e.getError(),id:"recorder_status",status:e.getStatus()};g.a.sendLog(JSON.stringify(t))})}),n.addListener(_.a.MUC_ROLE_CHANGED,t.onUserRoleChanged.bind(t)),n.addListener(a.a.IDENTITY_UPDATED,function(e,n){t.authEnabled=e,t.authIdentity=n,t.eventEmitter.emit(l.AUTH_STATUS_CHANGED,e,n)}),n.addListener(_.a.MESSAGE_RECEIVED,function(e,n,r,o,a){var s=i.Strophe.getResourceFromJid(e);t.eventEmitter.emit(l.MESSAGE_RECEIVED,s,r,a,n)}),n.addListener(_.a.PRIVATE_MESSAGE_RECEIVED,function(e,n,r,o,a){var s=i.Strophe.getResourceFromJid(e);t.eventEmitter.emit(l.PRIVATE_MESSAGE_RECEIVED,s,r,a)}),n.addListener(_.a.PRESENCE_STATUS,function(e,n){var r=i.Strophe.getResourceFromJid(e),o=t.getParticipantById(r);o&&o._status!==n&&(o._status=n,t.eventEmitter.emit(l.USER_STATUS_CHANGED,r,n))}),n.addListener(_.a.JSON_MESSAGE_RECEIVED,function(e,n){var r=i.Strophe.getResourceFromJid(e),o=t.getParticipantById(r);o?t.eventEmitter.emit(l.ENDPOINT_MESSAGE_RECEIVED,o,n):S.warn("Ignored XMPPEvents.JSON_MESSAGE_RECEIVED for not existing participant: "+e,n)}),n.addPresenceListener("startmuted",function(e,n){var i=!1;if(t.myUserId()===n&&t.isModerator())i=!0;else{var r=t.getParticipantById(n);r&&r.isModerator()&&(i=!0)}if(i){var o="true"===e.attributes.audio,a="true"===e.attributes.video,s=!1;o!==t.startMutedPolicy.audio&&(t.startMutedPolicy.audio=o,s=!0),a!==t.startMutedPolicy.video&&(t.startMutedPolicy.video=a,s=!0),s&&t.eventEmitter.emit(l.START_MUTED_POLICY_CHANGED,t.startMutedPolicy)}}),t.statistics&&(n.addListener(_.a.CONNECTION_ICE_FAILED,function(e){t.statistics.sendIceConnectionFailedEvent(e.peerconnection)}),n.addListener(_.a.ADD_ICE_CANDIDATE_FAILED,function(e,n){t.statistics.sendAddIceCandidateFailed(e,n)}))},E.prototype.setupRTCListeners=function(){var e=this.conference,t=e.rtc;t.addListener(f.a.REMOTE_TRACK_ADDED,e.onRemoteTrackAdded.bind(e)),t.addListener(f.a.REMOTE_TRACK_REMOVED,e.onRemoteTrackRemoved.bind(e)),t.addListener(f.a.DOMINANT_SPEAKER_CHANGED,function(t){e.lastDominantSpeaker!==t&&e.room&&(e.lastDominantSpeaker=t,e.eventEmitter.emit(l.DOMINANT_SPEAKER_CHANGED,t),e.statistics&&e.myUserId()===t&&e.statistics.sendDominantSpeakerEvent(e.room.roomjid))}),t.addListener(f.a.DATA_CHANNEL_OPEN,function(){var t=window.performance.now(),n="data.channel.opened";S.log("(TIME) data.channel.opened:\t",t),e.room.connectionTimes[n]=t,g.a.sendAnalytics(Object(r.C)(n,{value:t})),e.eventEmitter.emit(l.DATA_CHANNEL_OPENED)}),t.addListener(f.a.ENDPOINT_MESSAGE_RECEIVED,function(t,n){var i=e.getParticipantById(t);i?e.eventEmitter.emit(l.ENDPOINT_MESSAGE_RECEIVED,i,n):S.warn("Ignored ENDPOINT_MESSAGE_RECEIVED for not existing participant: "+t,n)}),t.addListener(f.a.LOCAL_UFRAG_CHANGED,function(e,t){e.isP2P||g.a.sendLog(JSON.stringify({id:"local_ufrag",value:t}))}),t.addListener(f.a.REMOTE_UFRAG_CHANGED,function(e,t){e.isP2P||g.a.sendLog(JSON.stringify({id:"remote_ufrag",value:t}))}),t.addListener(f.a.CREATE_ANSWER_FAILED,function(t,n){e.statistics.sendCreateAnswerFailed(t,n),n.isP2P||e.eventEmitter.emit(l.CONFERENCE_FAILED,d.OFFER_ANSWER_FAILED,t)}),t.addListener(f.a.CREATE_OFFER_FAILED,function(t,n){e.statistics.sendCreateOfferFailed(t,n),n.isP2P||e.eventEmitter.emit(l.CONFERENCE_FAILED,d.OFFER_ANSWER_FAILED,t)}),t.addListener(f.a.SET_LOCAL_DESCRIPTION_FAILED,function(t,n){e.statistics.sendSetLocalDescFailed(t,n),n.isP2P||e.eventEmitter.emit(l.CONFERENCE_FAILED,d.OFFER_ANSWER_FAILED,t)}),t.addListener(f.a.SET_REMOTE_DESCRIPTION_FAILED,function(t,n){e.statistics.sendSetRemoteDescFailed(t,n),n.isP2P||e.eventEmitter.emit(l.CONFERENCE_FAILED,d.OFFER_ANSWER_FAILED,t)}),t.addListener(f.a.LOCAL_TRACK_SSRC_UPDATED,function(t,n){t.isVideoTrack()&&t.videoType===v.a.DESKTOP&&e.statistics.sendScreenSharingEvent(!0,n)})},E.prototype.removeXMPPListeners=function(){var e=this,t=this.conference;t.xmpp.caps.removeListener(_.a.PARTCIPANT_FEATURES_CHANGED,this.xmppListeners[_.a.PARTCIPANT_FEATURES_CHANGED]),delete this.xmppListeners[_.a.PARTCIPANT_FEATURES_CHANGED],Object.keys(this.xmppListeners).forEach(function(n){t.xmpp.removeListener(n,e.xmppListeners[n])}),this.xmppListeners={}},E.prototype.setupXMPPListeners=function(){var e=this.conference,t=function(t){var n=e.getParticipantById(i.Strophe.getResourceFromJid(t));n&&e.eventEmitter.emit(l.PARTCIPANT_FEATURES_CHANGED,n)};e.xmpp.caps.addListener(_.a.PARTCIPANT_FEATURES_CHANGED,t),this.xmppListeners[_.a.PARTCIPANT_FEATURES_CHANGED]=t,this._addConferenceXMPPListener(_.a.CALL_INCOMING,e.onIncomingCall.bind(e)),this._addConferenceXMPPListener(_.a.CALL_ACCEPTED,e.onCallAccepted.bind(e)),this._addConferenceXMPPListener(_.a.TRANSPORT_INFO,e.onTransportInfo.bind(e)),this._addConferenceXMPPListener(_.a.CALL_ENDED,e.onCallEnded.bind(e)),this._addConferenceXMPPListener(_.a.START_MUTED_FROM_FOCUS,function(t,n){e.options.config.ignoreStartMuted||(e.startAudioMuted=t,e.startVideoMuted=n,e.getLocalTracks().forEach(function(t){switch(t.getType()){case h.a:e.startAudioMuted&&t.mute();break;case h.c:e.startVideoMuted&&t.mute()}}),e.eventEmitter.emit(l.STARTED_MUTED))}),this._addConferenceXMPPListener(_.a.CONFERENCE_TIMESTAMP_RECEIVED,function(t){e.eventEmitter.emit(l.CONFERENCE_CREATED_TIMESTAMP,t)})},E.prototype._addConferenceXMPPListener=function(e,t){this.xmppListeners[e]=t,this.conference.xmpp.addListener(e,t)},E.prototype.setupStatisticsListeners=function(){var e=this.conference;e.statistics&&(e.statistics.addAudioLevelListener(function(t,n,i,r){e.rtc.setAudioLevel(t,n,i,r)}),e.statistics.addBeforeDisposedListener(function(){e.eventEmitter.emit(l.BEFORE_STATISTICS_DISPOSED)}),e.options.config.startSilent||e.statistics.addByteSentStatsListener(function(t,n){e.getLocalTracks(h.a).forEach(function(e){var i=t.getLocalSSRC(e);i&&n.hasOwnProperty(i)&&e._onByteSentStatsReceived(t,n[i])})}))}}).call(this,"JitsiConferenceEventManager.js")},function(e,t){function n(e,t){if(!e||!t||"function"!=typeof e.addListener||"function"!=typeof t.emit)throw new Error("Invalid arguments passed to EventEmitterForwarder");this.src=e,this.dest=t}n.prototype.forward=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t[0];t[0]=this.dest,this.src.addListener(i,Function.prototype.bind.apply(this.dest.emit,t))},e.exports=n},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return d});var i=n(2),r=n(4),o=n(3),a=n(44),s=n(59),c=n(9),u=Object(r.getLogger)(e),d=(function(){function e(t,n,r,o,s,c,u){_classCallCheck(this,e),this._jid=t,this._id=i.Strophe.getResourceFromJid(t),this._conference=n,this._displayName=r,this._supportsDTMF=!1,this._tracks=[],this._role="none",this._status=c,this._hidden=o,this._statsID=s,this._connectionStatus=a.a.ACTIVE,this._properties={},this._identity=u}return _createClass(e,[{key:"getConference",value:function(){return this._conference}},{key:"getProperty",value:function(e){return this._properties[e]}},{key:"hasAnyVideoTrackWebRTCMuted",value:function(){return this.getTracks().some(function(e){return e.getType()===c.c&&e.isWebRTCTrackMuted()})}},{key:"_setConnectionStatus",value:function(e){this._connectionStatus=e}},{key:"getConnectionStatus",value:function(){return this._connectionStatus}},{key:"setProperty",value:function(e,t){var n=this._properties[e];t!==n&&(this._properties[e]=t,this._conference.eventEmitter.emit(o.PARTICIPANT_PROPERTY_CHANGED,this,e,n,t))}},{key:"getTracks",value:function(){return this._tracks.slice()}},{key:"getTracksByMediaType",value:function(e){return this.getTracks().filter(function(t){return t.getType()===e})}},{key:"getId",value:function(){return this._id}},{key:"getJid",value:function(){return this._jid}},{key:"getDisplayName",value:function(){return this._displayName}},{key:"getStatsID",value:function(){return this._statsID}},{key:"getStatus",value:function(){return this._status}},{key:"isModerator",value:function(){return"moderator"===this._role}},{key:"isHidden",value:function(){return this._hidden}},{key:"isAudioMuted",value:function(){return this._isMediaTypeMuted(c.a)}},{key:"_isMediaTypeMuted",value:function(e){return this.getTracks().reduce(function(t,n){return t&&(n.getType()!==e||n.isMuted())},!0)}},{key:"isVideoMuted",value:function(){return this._isMediaTypeMuted(c.c)}},{key:"getRole",value:function(){return this._role}},{key:"supportsDTMF",value:function(){return this._supportsDTMF}},{key:"getFeatures",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5e3;return this._getFeaturesPromise?this._getFeaturesPromise:(this._getFeaturesPromise=this._conference.xmpp.caps.getFeatures(this._jid,t).catch(function(n){return n===s.a?e._conference.xmpp.caps.getFeatures(e._jid,t):(u.warn("Failed to discover features of "+e._jid,n),Promise.reject(n))}),this._getFeaturesPromise.then(function(t){return e._getFeaturesPromise=void 0,t},function(t){throw e._getFeaturesPromise=void 0,t}))}},{key:"getBotType",value:function(){return this._botType}}]),e})()}).call(this,"JitsiParticipant.js")},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n(25),r=n(37);function o(e){var t,n=this,o=e.id,a=e.password,s=e.onCreateResource,c=e.onLoginSuccessful,u=e.roomPassword,d=!1,l=new r.c(this.connection.options),h=new Promise(function(e,r){t=r,l.addListener(i.CONNECTION_DISCONNECTED,function(){l=void 0}),l.addListener(i.CONNECTION_ESTABLISHED,function(){d||(c&&c(),l.createRoom(n.options.name,n.options.config,s).moderator.authenticate().then(function(){l&&l.disconnect(),d||(n.join(u),e())}).catch(function(e){var t=e.error,n=e.message;l.disconnect(),r({authenticationError:t,message:n})}))}),l.addListener(i.CONNECTION_FAILED,function(e,t,n){r({connectionError:e,credentials:n,message:t}),l=void 0}),d||l.connect(o,a)});return h.cancel=function(){d=!0,t({}),l&&l.disconnect()},h}},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return u});var i=n(4),r=n(2),o=n(94),a=n(36),s=n(0),c=n.n(s);Object(i.getLogger)(e);var u=(function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).xmpp=e,n.rooms={},n}return _inherits(t,e),_createClass(t,[{key:"init",value:function(e){_get(_getPrototypeOf(t.prototype),"init",this).call(this,e),this.connection.addHandler(this.onPresence.bind(this),null,"presence",null,null,null,null),this.connection.addHandler(this.onPresenceUnavailable.bind(this),null,"presence","unavailable",null),this.connection.addHandler(this.onPresenceError.bind(this),null,"presence","error",null),this.connection.addHandler(this.onMessage.bind(this),null,"message",null,null),this.connection.addHandler(this.onMute.bind(this),"http://jitsi.org/jitmeet/audio","iq","set",null,null)}},{key:"createRoom",value:function(e,t,n){var i=r.Strophe.getBareJidFromJid(e);return this.rooms[i],this.rooms[i]=new o.a(this.connection,e,t,this.xmpp,n),this.eventEmitter.emit(c.a.EMUC_ROOM_ADDED,this.rooms[i]),this.rooms[i]}},{key:"doLeave",value:function(e){this.eventEmitter.emit(c.a.EMUC_ROOM_REMOVED,this.rooms[e]),delete this.rooms[e]}},{key:"onPresence",value:function(e){var t=e.getAttribute("from");if(e.getAttribute("type"))return!0;var n=this.rooms[r.Strophe.getBareJidFromJid(t)];return!n||($(e).find('>x[xmlns="http://jabber.org/protocol/muc#user"]>status[code="201"]').length&&n.createNonAnonymousRoom(),n.onPresence(e),!0)}},{key:"onPresenceUnavailable",value:function(e){var t=e.getAttribute("from"),n=this.rooms[r.Strophe.getBareJidFromJid(t)];return!n||(n.onPresenceUnavailable(e,t),!0)}},{key:"onPresenceError",value:function(e){var t=e.getAttribute("from"),n=this.rooms[r.Strophe.getBareJidFromJid(t)];return!n||(n.onPresenceError(e,t),!0)}},{key:"onMessage",value:function(e){var t=e.getAttribute("from"),n=this.rooms[r.Strophe.getBareJidFromJid(t)];return!n||(n.onMessage(e,t),!0)}},{key:"onMute",value:function(e){var t=e.getAttribute("from"),n=this.rooms[r.Strophe.getBareJidFromJid(t)];return!n||(n.onMute(e),!0)}}]),t})(a.a)}).call(this,"modules/xmpp/strophe.emuc.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return m});var i=n(4),r=n(2),o=(n(14),n(60)),a=n(24),s=n(9),c=n(0),u=n.n(c),d=n(95),l=n(40),h=Object(i.getLogger)(e),p={packet2JSON:function(e,t){for(var n=0,i=Array.from(e.children);n<i.length;n++){for(var o=i[n],a={attributes:{},children:[],tagName:o.tagName},s=0,c=Array.from(o.attributes);s<c.length;s++){var u=c[s];a.attributes[u.name]=u.value}var d=r.Strophe.getText(o);d&&(a.value=r.Strophe.xmlunescape(d)),t.push(a),this.packet2JSON(o,a.children)}},json2packet:function(e,t){for(var n=0;n<e.length;n++){var i=e[n];i&&(t.c(i.tagName,i.attributes),i.value&&t.t(i.value),i.children&&this.json2packet(i.children,t),t.up())}}};function f(e,t){for(var n=[],i=0;i<e.length;i++)e[i].tagName===t&&n.push(e[i]);return n}var m=(function(e){function t(e,n,i,a,s){var c;return _classCallCheck(this,t),(c=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).xmpp=a,c.connection=e,c.roomjid=r.Strophe.getBareJidFromJid(n),c.myroomjid=n,c.password=i,h.info("Joined MUC as "+c.myroomjid),c.members={},c.presMap={},c.presHandlers={},c._removeConnListeners=[],c.joined=!1,c.role=null,c.focusMucJid=null,c.noBridgeAvailable=!1,c.options=s||{},c.moderator=new d.a(c.roomjid,c.xmpp,c.eventEmitter,{connection:c.xmpp.options,conference:c.options}),c.initPresenceMap(s),c.lastPresences={},c.phoneNumber=null,c.phonePin=null,c.connectionTimes={},c.participantPropertyListener=null,c.locked=!1,c.transcriptionStatus=o.OFF,c}return _inherits(t,e),_createClass(t,[{key:"initPresenceMap",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.presMap.to=this.myroomjid,this.presMap.xns="http://jabber.org/protocol/muc",this.presMap.nodes=[],e.statsId&&this.presMap.nodes.push({tagName:"stats-id",value:e.statsId}),this.addVideoInfoToPresence(!1),e.deploymentInfo&&e.deploymentInfo.userRegion&&this.presMap.nodes.push({tagName:"region",attributes:{id:e.deploymentInfo.userRegion,xmlns:"http://jitsi.org/jitsi-meet"}})}},{key:"join",value:function(e){var t=this;return this.password=e,new Promise(function(e){t.options.disableFocus&&h.info("Conference focus disabled"),(t.options.disableFocus?Promise.resolve():t.moderator.allocateConferenceFocus()).then(function(){t.sendPresence(!0),t._removeConnListeners.push(t.connection.addEventListener(l.a.Events.CONN_STATUS_CHANGED,t.onConnStatusChanged.bind(t))),e()})})}},{key:"sendPresence",value:function(e){var t=this.presMap.to;if(this.connection&&this.connection.connected&&t&&(this.joined||e)){var n=Object(r.$pres)({to:t});e&&(n.c("x",{xmlns:this.presMap.xns}),this.password&&n.c("password").t(this.password).up(),n.up()),p.json2packet(this.presMap.nodes,n),this.connection.send(n),e&&this.connection.flush()}}},{key:"doLeave",value:function(){h.log("do leave",this.myroomjid);var e=Object(r.$pres)({to:this.myroomjid,type:"unavailable"});this.presMap.length=0,!this.connection.isUsingWebSocket&&this.connection.flush(),this.connection.send(e),this.connection.flush()}},{key:"discoRoomInfo",value:function(){var e=this,t=Object(r.$iq)({type:"get",to:this.roomjid}).c("query",{xmlns:r.Strophe.NS.DISCO_INFO});this.connection.sendIQ(t,function(t){var n=1===$(t).find('>query>feature[var="muc_passwordprotected"]').length;n!==e.locked&&(e.eventEmitter.emit(u.a.MUC_LOCK_CHANGED,n),e.locked=n);var i=$(t).find('>query>x[type="result"]>field[var="muc#roominfo_meetingId"]>value');i.length?e.setMeetingId(i.text()):h.trace("No meeting ID from backend")},function(e){})}},{key:"setMeetingId",value:function(e){this.meetingId!==e&&(this.meetingId&&h.warn("Meeting Id changed from:"+this.meetingId+" to:"+e),this.meetingId=e,this.eventEmitter.emit(u.a.MEETING_ID_SET,e))}},{key:"createNonAnonymousRoom",value:function(){var e=Object(r.$iq)({type:"get",to:this.roomjid}).c("query",{xmlns:"http://jabber.org/protocol/muc#owner"}).c("x",{xmlns:"jabber:x:data",type:"submit"}),t=this;this.connection.sendIQ(e,function(e){if($(e).find('>query>x[xmlns="jabber:x:data"]>field[var="muc#roomconfig_whois"]').length){var n=Object(r.$iq)({to:t.roomjid,type:"set"}).c("query",{xmlns:"http://jabber.org/protocol/muc#owner"});n.c("x",{xmlns:"jabber:x:data",type:"submit"}),n.c("field",{var:"FORM_TYPE"}).c("value").t("http://jabber.org/protocol/muc#roomconfig").up().up(),n.c("field",{var:"muc#roomconfig_whois"}).c("value").t("anyone").up().up(),t.connection.sendIQ(n)}},function(e){})}},{key:"onConnStatusChanged",value:function(e){e===l.a.Status.CONNECTED&&this.sendPresence()}},{key:"onPresence",value:function(e){var t=e.getAttribute("from"),n={},i=e.getElementsByTagName("status")[0];i&&(n.status=i.textContent||"");var o=!1,a=!1,s=e.getElementsByTagNameNS("http://jabber.org/protocol/muc#user","x")[0],c=s&&s.getElementsByTagName("item")[0];n.affiliation=c&&c.getAttribute("affiliation"),n.role=c&&c.getAttribute("role");var d=c&&c.getAttribute("jid");n.jid=d,n.isFocus=d&&0===d.indexOf(this.moderator.getFocusUserJid()+"/"),n.isHiddenDomain=d&&d.indexOf("@")>0&&this.options.hiddenDomain===d.substring(d.indexOf("@")+1,d.indexOf("/")),this.eventEmitter.emit(u.a.PRESENCE_RECEIVED,{fromHiddenDomain:n.isHiddenDomain,presence:e});var l=e.querySelector("x");l&&l.remove();var f=[];p.packet2JSON(e,f),this.lastPresences[t]=f;for(var m=function(e){var t={},n=e.children.find(function(e){return"user"===e.tagName});if(n){t.user={};for(var i=function(e){var i=n.children.find(function(t){return t.tagName===e});i&&(t.user[e]=i.value)},r=0,o=["id","name","avatar"];r<o.length;r++){i(o[r])}}var a=e.children.find(function(e){return"group"===e.tagName});return a&&(t.group=a.value),t},v=0;v<f.length;v++){var g=f[v];switch(g.tagName){case"bot":var y=g.attributes;if(!y)break;var _=y.type;n.botType=_;break;case"nick":n.nick=g.value;break;case"userId":n.id=g.value;break;case"stats-id":n.statsID=g.value;break;case"identity":n.identity=m(g);break;case"stat":var S=g.attributes;if(!S)break;"version"===S.name&&(n.version=S.value)}}if(t===this.myroomjid){var E="owner"===n.affiliation?n.role:"none";if(this.role!==E&&(this.role=E,this.eventEmitter.emit(u.a.LOCAL_ROLE_CHANGED,this.role)),!this.joined){this.joined=!0;var b=this.connectionTimes["muc.joined"]=window.performance.now();h.log("(TIME) MUC joined:\t",b),this.password&&(this.locked=!0),this.sendPresence(),this.eventEmitter.emit(u.a.MUC_JOINED),this.discoRoomInfo()}}else if(void 0===d)h.info("Ignoring member with undefined JID");else if(void 0===this.members[t])this.members[t]=n,h.log("entered",t,n),o=void 0!==n.status,a=void 0!==n.version,n.isFocus?this._initFocus(t,d):(this.eventEmitter.emit(u.a.MUC_MEMBER_JOINED,t,n.nick,n.role,n.isHiddenDomain,n.statsID,n.status,n.identity,n.botType),o=!1);else{var C=this.members[t];C.role!==n.role&&(C.role=n.role,this.eventEmitter.emit(u.a.MUC_ROLE_CHANGED,t,n.role)),C.botType!==n.botType&&(C.botType=n.botType,this.eventEmitter.emit(u.a.MUC_MEMBER_BOT_TYPE_CHANGED,t,n.botType)),n.isFocus&&(C.isFocus=!0,this._initFocus(t,d)),n.displayName&&(C.displayName=n.displayName),C.status!==n.status&&(o=!0,C.status=n.status),C.version!==n.version&&(a=!0,C.version=n.version)}for(var T=0;T<f.length;T++){var A=f[T];switch(A.tagName){case"nick":if(!n.isFocus){var R=this.xmpp.options.displayJids?r.Strophe.getResourceFromJid(t):n.nick;this.eventEmitter.emit(u.a.DISPLAY_NAME_CHANGED,t,R)}break;case"bridgeNotAvailable":n.isFocus&&!this.noBridgeAvailable&&(this.noBridgeAvailable=!0,this.eventEmitter.emit(u.a.BRIDGE_DOWN));break;case"conference-properties":if(n.isFocus){for(var k={},w=0;w<A.children.length;w++){var I=A.children[w].attributes;I&&I.key&&(k[I.key]=I.value)}this.eventEmitter.emit(u.a.CONFERENCE_PROPERTIES_CHANGED,k)}break;case"transcription-status":var P=A.attributes;if(!P)break;var D=P.status;D&&D!==this.transcriptionStatus&&(this.transcriptionStatus=D,this.eventEmitter.emit(u.a.TRANSCRIPTION_STATUS_CHANGED,D));break;case"call-control":var O=A.attributes;if(!O)break;this.phoneNumber=O.phone||null,this.phonePin=O.pin||null,this.eventEmitter.emit(u.a.PHONE_NUMBER_CHANGED);break;default:this.processNode(A,t)}}o&&this.eventEmitter.emit(u.a.PRESENCE_STATUS,t,n.status),a&&h.info("Received version for "+d+": "+n.version)}},{key:"_initFocus",value:function(e,t){this.focusMucJid=e,h.info("Ignore focus: "+e+", real JID: "+t)}},{key:"setParticipantPropertyListener",value:function(e){this.participantPropertyListener=e}},{key:"processNode",value:function(e,t){try{var n=this.presHandlers[e.tagName];e.tagName.startsWith("jitsi_participant_")&&(n=[this.participantPropertyListener]),n&&n.forEach(function(n){n(e,r.Strophe.getResourceFromJid(t),t)})}catch(e){}}},{key:"sendMessage",value:function(e,t,n){var i=Object(r.$msg)({to:this.roomjid,type:"groupchat"});"body"===t?i.c(t,e).up():i.c(t,{xmlns:"http://jitsi.org/jitmeet"},e).up(),n&&i.c("nick",{xmlns:"http://jabber.org/protocol/nick"}).t(n).up().up(),this.connection.send(i),this.eventEmitter.emit(u.a.SENDING_CHAT_MESSAGE,e)}},{key:"sendPrivateMessage",value:function(e,t,n,i){var o=Object(r.$msg)({to:this.roomjid+"/"+e,type:"chat"});"body"===n?o.c(n,t).up():o.c(n,{xmlns:"http://jitsi.org/jitmeet"},t).up(),i&&o.c("nick",{xmlns:"http://jabber.org/protocol/nick"}).t(i).up().up(),this.connection.send(o),this.eventEmitter.emit(u.a.SENDING_PRIVATE_CHAT_MESSAGE,t)}},{key:"setSubject",value:function(e){var t=Object(r.$msg)({to:this.roomjid,type:"groupchat"});t.c("subject",e),this.connection.send(t)}},{key:"onParticipantLeft",value:function(e,t){delete this.lastPresences[e],t||(this.eventEmitter.emit(u.a.MUC_MEMBER_LEFT,e),this.moderator.onMucMemberLeft(e))}},{key:"onPresenceUnavailable",value:function(e,t){var n=this;if($(e).find('>ignore[xmlns="http://jitsi.org/jitmeet/"]').length)return!0;if($(e).find('>x[xmlns="http://jabber.org/protocol/muc#user"]>destroy').length){var i,o=$(e).find('>x[xmlns="http://jabber.org/protocol/muc#user"]>destroy>reason');return o.length&&(i=o.text()),this.eventEmitter.emit(u.a.MUC_DESTROYED,i),this.connection.emuc.doLeave(this.roomjid),!0}var a=$(e).find('>x[xmlns="http://jabber.org/protocol/muc#user"]>status[code="110"]').length,s=$(e).find('>x[xmlns="http://jabber.org/protocol/muc#user"]>status[code="307"]').length,c=Object.keys(this.members);if(s){var d,l=$(e).find('>x[xmlns="http://jabber.org/protocol/muc#user"]>item>actor');l.length&&(d=l.attr("nick")),c.find(function(e){return r.Strophe.getResourceFromJid(e)===d})&&this.eventEmitter.emit(u.a.KICKED,a,d,r.Strophe.getResourceFromJid(t))}a?c.length>0&&(c.forEach(function(e){var t=n.members[e];delete n.members[e],n.onParticipantLeft(e,t.isFocus)}),this.connection.emuc.doLeave(this.roomjid),s||this.eventEmitter.emit(u.a.MUC_LEFT)):(delete this.members[t],this.onParticipantLeft(t,!1))}},{key:"onMessage",value:function(e,t){var n=$(e).find('>nick[xmlns="http://jabber.org/protocol/nick"]').text()||r.Strophe.getResourceFromJid(t),i=e.getAttribute("type");if("error"===i){var o=$(e).find(">error>text").text();return this.eventEmitter.emit(u.a.CHAT_ERROR_RECEIVED,o),!0}var a=$(e).find(">body").text(),s=$(e).find(">subject");if(s.length){var c=s.text();(c||""===c)&&(this.eventEmitter.emit(u.a.SUBJECT_CHANGED,c),h.log("Subject is changed to "+c))}var d=$(e).find(">delay").attr("stamp");if(!d&&(d=$(e).find('>[xmlns="jabber:x:delay"]').attr("stamp"))){var l=d.match(/(\d{4})(\d{2})(\d{2}T\d{2}:\d{2}:\d{2})/);d=l[1]+"-"+l[2]+"-"+l[3]+"Z"}t===this.roomjid&&$(e).find('>x[xmlns="http://jabber.org/protocol/muc#user"]>status[code="104"]').length&&this.discoRoomInfo();var p=$(e).find(">json-message").text(),f=this.xmpp.tryParseJSONAndVerify(p);f&&void 0===d?this.eventEmitter.emit(u.a.JSON_MESSAGE_RECEIVED,t,f):a&&("chat"===i?this.eventEmitter.emit(u.a.PRIVATE_MESSAGE_RECEIVED,t,n,a,this.myroomjid,d):"groupchat"===i&&this.eventEmitter.emit(u.a.MESSAGE_RECEIVED,t,n,a,this.myroomjid,d))}},{key:"onPresenceError",value:function(e,t){$(e).find('>error[type="auth"]>not-authorized[xmlns="urn:ietf:params:xml:ns:xmpp-stanzas"]').length?(h.log("on password required",t),this.eventEmitter.emit(u.a.PASSWORD_REQUIRED)):$(e).find('>error[type="cancel"]>not-allowed[xmlns="urn:ietf:params:xml:ns:xmpp-stanzas"]').length?r.Strophe.getDomainFromJid(e.getAttribute("to"))===this.xmpp.options.hosts.anonymousdomain?this.eventEmitter.emit(u.a.ROOM_JOIN_ERROR):(h.warn("onPresError ",e),this.eventEmitter.emit(u.a.ROOM_CONNECT_NOT_ALLOWED_ERROR)):$(e).find(">error>service-unavailable").length?(h.warn("Maximum users limit for the room has been reached",e),this.eventEmitter.emit(u.a.ROOM_MAX_USERS_ERROR)):(h.warn("onPresError ",e),this.eventEmitter.emit(u.a.ROOM_CONNECT_ERROR))}},{key:"kick",value:function(e){var t=Object(r.$iq)({to:this.roomjid,type:"set"}).c("query",{xmlns:"http://jabber.org/protocol/muc#admin"}).c("item",{nick:r.Strophe.getResourceFromJid(e),role:"none"}).c("reason").t("You have been kicked.").up().up().up();this.connection.sendIQ(t,function(t){return h.log("Kick participant with jid: ",e,t)},function(e){return h.log("Kick participant error: ",e)})}},{key:"lockRoom",value:function(e,t,n,i){var o=this;this.connection.sendIQ(Object(r.$iq)({to:this.roomjid,type:"get"}).c("query",{xmlns:"http://jabber.org/protocol/muc#owner"}),function(a){if($(a).find('>query>x[xmlns="jabber:x:data"]>field[var="muc#roomconfig_roomsecret"]').length){var s=Object(r.$iq)({to:o.roomjid,type:"set"}).c("query",{xmlns:"http://jabber.org/protocol/muc#owner"});s.c("x",{xmlns:"jabber:x:data",type:"submit"}),s.c("field",{var:"FORM_TYPE"}).c("value").t("http://jabber.org/protocol/muc#roomconfig").up().up(),s.c("field",{var:"muc#roomconfig_roomsecret"}).c("value").t(e).up().up(),s.c("field",{var:"muc#roomconfig_passwordprotectedroom"}).c("value").t(null===e||0===e.length?"0":"1").up().up(),s.c("field",{var:"muc#roomconfig_whois"}).c("value").t("anyone").up().up(),o.connection.sendIQ(s,t,n)}else i()},n)}},{key:"addToPresence",value:function(e,t){t.tagName=e,this.removeFromPresence(e),this.presMap.nodes.push(t)}},{key:"getFromPresence",value:function(e){return this.presMap.nodes.find(function(t){return e===t.tagName})}},{key:"removeFromPresence",value:function(e){var t=this.presMap.nodes.filter(function(t){return e!==t.tagName});this.presMap.nodes=t}},{key:"addPresenceListener",value:function(e,t){if("function"!=typeof t)throw new Error('"handler" is not a function');var n=this.presHandlers[e];n||(this.presHandlers[e]=n=[]),-1===n.indexOf(t)?n.push(t):h.warn("Trying to add the same handler more than once for: "+e)}},{key:"removePresenceListener",value:function(e,t){var n=this.presHandlers[e],i=n?n.indexOf(t):-1;-1!==i?n.splice(i,1):h.warn("Handler for: "+e+" was not registered")}},{key:"isFocus",value:function(e){var t=this.members[e];return t?t.isFocus:null}},{key:"isModerator",value:function(){return"moderator"===this.role}},{key:"getMemberRole",value:function(e){return this.members[e]?this.members[e].role:null}},{key:"setVideoMute",value:function(e,t){this.sendVideoInfoPresence(e),t&&t(e)}},{key:"setAudioMute",value:function(e,t){return this.sendAudioInfoPresence(e,t)}},{key:"addAudioInfoToPresence",value:function(e){this.removeFromPresence("audiomuted"),this.addToPresence("audiomuted",{attributes:{xmlns:"http://jitsi.org/jitmeet/audio"},value:e.toString()})}},{key:"sendAudioInfoPresence",value:function(e,t){this.addAudioInfoToPresence(e),this.sendPresence(),t&&t()}},{key:"addVideoInfoToPresence",value:function(e){this.removeFromPresence("videomuted"),this.addToPresence("videomuted",{attributes:{xmlns:"http://jitsi.org/jitmeet/video"},value:e.toString()})}},{key:"sendVideoInfoPresence",value:function(e){this.addVideoInfoToPresence(e),this.sendPresence()}},{key:"getMediaPresenceInfo",value:function(e,t){var n=this.lastPresences[this.roomjid+"/"+e];if(!n)return null;var i={muted:!1,videoType:void 0},r=null;if(t===s.a)r=f(n,"audiomuted");else{if(t!==s.c)return null;r=f(n,"videomuted");var o=f(n,"videoType");o.length>0&&(i.videoType=o[0].value)}return i.muted=r.length>0&&"true"===r[0].value,i}},{key:"isSIPCallingSupported",value:function(){return!!this.moderator&&this.moderator.isSipGatewayEnabled()}},{key:"dial",value:function(e){return this.connection.rayo.dial(e,"fromnumber",r.Strophe.getBareJidFromJid(this.myroomjid),this.password,this.focusMucJid)}},{key:"hangup",value:function(){return this.connection.rayo.hangup()}},{key:"getPhoneNumber",value:function(){return this.phoneNumber}},{key:"getPhonePin",value:function(){return this.phonePin}},{key:"getMeetingId",value:function(){return this.meetingId}},{key:"muteParticipant",value:function(e,t){h.info("set mute",t);var n=Object(r.$iq)({to:this.focusMucJid,type:"set"}).c("mute",{xmlns:"http://jitsi.org/jitmeet/audio",jid:e}).t(t.toString()).up();this.connection.sendIQ(n,function(e){return h.log("set mute",e)},function(e){return h.log("set mute error",e)})}},{key:"onMute",value:function(e){if(e.getAttribute("from")===this.focusMucJid){var t=$(e).find("mute");t.length&&"true"===t.text()?this.eventEmitter.emit(u.a.AUDIO_MUTED_BY_FOCUS,t.attr("actor")):h.warn("Ignoring a mute request which does not explicitly specify a positive mute command.")}else h.warn("Ignored mute from non focus peer")}},{key:"leave",value:function(){var e=this;return new Promise(function(t,n){var i=setTimeout(function(){return o(!0)},5e3),r=e.eventEmitter;function o(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];r.removeListener(u.a.MUC_LEFT,o),clearTimeout(i),e?n(new Error("The timeout for the confirmation about leaving the room expired.")):t()}e._removeConnListeners.forEach(function(e){return e()}),e._removeConnListeners=[],r.on(u.a.MUC_LEFT,o),e.doLeave()})}}]),t})(a.a)}).call(this,"modules/xmpp/ChatRoom.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return u});var i=n(2),r=n(34),o=n(4).getLogger(e),a=n(0),s=n(63);function c(e){var t=1;return function(n){if(!n){var i=Math.pow(2,t-1);return t+=1,i*e}t=1}}function u(e,t,n,i){function a(e){if(e.data&&e.data.sessionId){if(e.origin!==window.location.origin)return void o.warn("Ignoring sessionId from different origin: "+e.origin);r.a.sessionId=e.data.sessionId}}this.roomName=e,this.xmppService=t,this.getNextTimeout=c(1e3),this.getNextErrorTimeout=c(1e3),this.externalAuthEnabled=!1,this.options=i,this.sipGatewayEnabled=this.options.connection.hosts&&void 0!==this.options.connection.hosts.call_control,this.eventEmitter=n,this.connection=this.xmppService.connection,window.addEventListener?window.addEventListener("message",a,!1):window.attachEvent("onmessage",a)}n(14),u.prototype.isExternalAuthEnabled=function(){return this.externalAuthEnabled},u.prototype.isSipGatewayEnabled=function(){return this.sipGatewayEnabled},u.prototype.onMucMemberLeft=function(e){o.info("Someone left is it focus ? "+e),"focus"===i.Strophe.getResourceFromJid(e)&&(o.info("Focus has left the room - leaving conference"),this.eventEmitter.emit(a.FOCUS_LEFT))},u.prototype.setFocusUserJid=function(e){this.focusUserJid||(this.focusUserJid=e,o.info("Focus jid set to:  "+this.focusUserJid))},u.prototype.getFocusUserJid=function(){return this.focusUserJid},u.prototype.getFocusComponent=function(){var e=this.options.connection.hosts.focus;return e||(e="focus."+this.options.connection.hosts.domain),e},u.prototype.createConferenceIq=function(){var e,t=Object(i.$iq)({to:this.getFocusComponent(),type:"set"}),n=r.a.sessionId,a=r.a.machineId,s=this.options.conference;switch(o.info("Session ID: "+n+" machine UID: "+a),t.c("conference",{xmlns:"http://jitsi.org/protocol/focus",room:this.roomName,"machine-uid":a}),n&&t.attrs({"session-id":n}),void 0!==this.options.connection.enforcedBridge&&t.c("property",{name:"enforcedBridge",value:this.options.connection.enforcedBridge}).up(),void 0!==this.options.connection.hosts&&void 0!==this.options.connection.hosts.call_control&&t.c("property",{name:"call_control",value:this.options.connection.hosts.call_control}).up(),void 0!==s.channelLastN&&t.c("property",{name:"channelLastN",value:s.channelLastN}).up(),t.c("property",{name:"disableRtx",value:Boolean(s.disableRtx)}).up(),void 0!==s.enableTcc&&t.c("property",{name:"enableTcc",value:Boolean(s.enableTcc)}).up(),void 0!==s.enableRemb&&t.c("property",{name:"enableRemb",value:Boolean(s.enableRemb)}).up(),void 0!==s.minParticipants&&t.c("property",{name:"minParticipants",value:s.minParticipants}).up(),t.c("property",{name:"enableLipSync",value:!0===this.options.connection.enableLipSync}).up(),void 0!==s.audioPacketDelay&&t.c("property",{name:"audioPacketDelay",value:s.audioPacketDelay}).up(),s.startBitrate&&t.c("property",{name:"startBitrate",value:s.startBitrate}).up(),s.minBitrate&&t.c("property",{name:"minBitrate",value:s.minBitrate}).up(),s.testing&&s.testing.octo&&"number"==typeof s.testing.octo.probability&&Math.random()<s.testing.octo.probability&&t.c("property",{name:"octo",value:!0}).up(),this.options.conference.openBridgeChannel){case"datachannel":case!0:case void 0:e=!0;break;case"websocket":e=!1}return t.c("property",{name:"openSctp",value:e}).up(),void 0!==this.options.conference.startAudioMuted&&t.c("property",{name:"startAudioMuted",value:this.options.conference.startAudioMuted}).up(),void 0!==this.options.conference.startVideoMuted&&t.c("property",{name:"startVideoMuted",value:this.options.conference.startVideoMuted}).up(),void 0!==this.options.conference.stereo&&t.c("property",{name:"stereo",value:this.options.conference.stereo}).up(),void 0!==this.options.conference.useRoomAsSharedDocumentName&&t.c("property",{name:"useRoomAsSharedDocumentName",value:this.options.conference.useRoomAsSharedDocumentName}).up(),t.up(),t},u.prototype.parseSessionId=function(e){var t=$(e).find("conference").attr("session-id");t&&(o.info("Received sessionId:  "+t),r.a.sessionId=t)},u.prototype.parseConfigOptions=function(e){this.setFocusUserJid($(e).find("conference").attr("focusjid"));var t=$(e).find(">conference>property[name='authentication'][value='true']").length>0;o.info("Authentication enabled: "+t),this.externalAuthEnabled=$(e).find(">conference>property[name='externalAuth'][value='true']").length>0,o.info("External authentication enabled: "+this.externalAuthEnabled),this.externalAuthEnabled||this.parseSessionId(e);var n=$(e).find(">conference").attr("identity");this.eventEmitter.emit(s.IDENTITY_UPDATED,t,n),$(e).find(">conference>property[name='sipGatewayEnabled'][value='true']").length&&(this.sipGatewayEnabled=!0),o.info("Sip gateway enabled:  "+this.sipGatewayEnabled)},u.prototype.allocateConferenceFocus=function(){var e=this;return new Promise(function(t){e.setFocusUserJid(e.options.connection.focusUserJid),e.connection.sendIQ(e.createConferenceIq(),function(n){return e._allocateConferenceFocusSuccess(n,t)},function(n){return e._allocateConferenceFocusError(n,t)}),e.connection.flush()})},u.prototype._allocateConferenceFocusError=function(e,t){var n=this,s=$(e).find(">error>session-invalid").length||$(e).find(">error>not-acceptable").length;if(s&&(o.info("Session expired! - removing"),r.a.sessionId=void 0),$(e).find(">error>graceful-shutdown").length)this.eventEmitter.emit(a.GRACEFUL_SHUTDOWN);else{var c=$(e).find(">error>reservation-error");if(c.length){var u,d=c.attr("error-code"),l=$(e).find(">error>text");return l&&(u=l.text()),void this.eventEmitter.emit(a.RESERVATION_ERROR,d,u)}if($(e).find(">error>not-authorized").length)return o.warn("Unauthorized to start the conference",e),i.Strophe.getDomainFromJid(e.getAttribute("to"))!==this.options.connection.hosts.anonymousdomain&&(this.externalAuthEnabled=!0),void this.eventEmitter.emit(a.AUTHENTICATION_REQUIRED);var h=this.getNextErrorTimeout(),p=this.getFocusComponent(),f=h/1e3;s||this.eventEmitter.emit(a.FOCUS_DISCONNECTED,p,f),this.getNextTimeout(!0),window.setTimeout(function(){return n.allocateConferenceFocus().then(t)},h)}},u.prototype._allocateConferenceFocusSuccess=function(e,t){var n=this;if(this.parseConfigOptions(e),this.getNextErrorTimeout(!0),"true"===$(e).find("conference").attr("ready"))this.getNextTimeout(!0),t();else{var i=this.getNextTimeout();o.info("Waiting for the focus... "+i),window.setTimeout(function(){return n.allocateConferenceFocus().then(t)},i)}},u.prototype.authenticate=function(){var e=this;return new Promise(function(t,n){e.connection.sendIQ(e.createConferenceIq(),function(n){e.parseSessionId(n),t()},function(e){return n({error:$(e).find("iq>error :first").prop("tagName"),message:$(e).find("iq>error>text").text()})})})},u.prototype.getLoginUrl=function(e,t){this._getLoginUrl(!1,e,t)},u.prototype._getLoginUrl=function(e,t,n){var a=Object(i.$iq)({to:this.getFocusComponent(),type:"get"}),s={xmlns:"http://jitsi.org/protocol/focus",room:this.roomName,"machine-uid":r.a.machineId},c="auth url";function u(e,t){n(t)}e&&(s.popup=!0,c="POPUP "+c),a.c("login-url",s),this.connection.sendIQ(a,function(e){var n=$(e).find("login-url").attr("url");(n=decodeURIComponent(n))?(o.info("Got "+c+": "+n),t(n)):u(0,e)},u.bind(void 0,"Get "+c+" error"))},u.prototype.getPopupLoginUrl=function(e,t){this._getLoginUrl(!0,e,t)},u.prototype.logout=function(e){var t=Object(i.$iq)({to:this.getFocusComponent(),type:"set"}),n=r.a.sessionId;n?(t.c("logout",{xmlns:"http://jitsi.org/protocol/focus","session-id":n}),this.connection.sendIQ(t,function(t){var n=$(t).find("logout").attr("logout-url");n&&(n=decodeURIComponent(n)),o.info("Log out OK, url: "+n,t),r.a.sessionId=void 0,e(n)},function(e){})):e()}}).call(this,"modules/xmpp/moderator.js")},function(e,t,n){var i=n(35),r=["Aaliyah","Aaron","Abagail","Abbey","Abbie","Abbigail","Abby","Abdiel","Abdul","Abdullah","Abe","Abel","Abelardo","Abigail","Abigale","Abigayle","Abner","Abraham","Ada","Adah","Adalberto","Adaline","Adam","Adan","Addie","Addison","Adela","Adelbert","Adele","Adelia","Adeline","Adell","Adella","Adelle","Aditya","Adolf","Adolfo","Adolph","Adolphus","Adonis","Adrain","Adrian","Adriana","Adrianna","Adriel","Adrien","Adrienne","Afton","Aglae","Agnes","Agustin","Agustina","Ahmad","Ahmed","Aida","Aidan","Aiden","Aileen","Aisha","Aiyana","Akeem","Al","Alaina","Alan","Alana","Alanis","Alanna","Alayna","Alba","Albert","Alberta","Albertha","Alberto","Albin","Albina","Alda","Alden","Alec","Aleen","Alejandra","Alejandrin","Alek","Alena","Alene","Alessandra","Alessandro","Alessia","Aletha","Alex","Alexa","Alexander","Alexandra","Alexandre","Alexandrea","Alexandria","Alexandrine","Alexandro","Alexane","Alexanne","Alexie","Alexis","Alexys","Alexzander","Alf","Alfonso","Alfonzo","Alford","Alfred","Alfreda","Alfredo","Ali","Alia","Alice","Alicia","Alisa","Alisha","Alison","Alivia","Aliya","Aliyah","Aliza","Alize","Allan","Allen","Allene","Allie","Allison","Ally","Alphonso","Alta","Althea","Alva","Alvah","Alvena","Alvera","Alverta","Alvina","Alvis","Alyce","Alycia","Alysa","Alysha","Alyson","Alysson","Amalia","Amanda","Amani","Amara","Amari","Amaya","Amber","Ambrose","Amelia","Amelie","Amely","America","Americo","Amie","Amina","Amir","Amira","Amiya","Amos","Amparo","Amy","Amya","Ana","Anabel","Anabelle","Anahi","Anais","Anastacio","Anastasia","Anderson","Andre","Andreane","Andreanne","Andres","Andrew","Andy","Angel","Angela","Angelica","Angelina","Angeline","Angelita","Angelo","Angie","Angus","Anibal","Anika","Anissa","Anita","Aniya","Aniyah","Anjali","Anna","Annabel","Annabell","Annabelle","Annalise","Annamae","Annamarie","Anne","Annetta","Annette","Annie","Ansel","Ansley","Anthony","Antoinette","Antone","Antonetta","Antonette","Antonia","Antonietta","Antonina","Antonio","Antwan","Antwon","Anya","April","Ara","Araceli","Aracely","Arch","Archibald","Ardella","Arden","Ardith","Arely","Ari","Ariane","Arianna","Aric","Ariel","Arielle","Arjun","Arlene","Arlie","Arlo","Armand","Armando","Armani","Arnaldo","Arne","Arno","Arnold","Arnoldo","Arnulfo","Aron","Art","Arthur","Arturo","Arvel","Arvid","Arvilla","Aryanna","Asa","Asha","Ashlee","Ashleigh","Ashley","Ashly","Ashlynn","Ashton","Ashtyn","Asia","Assunta","Astrid","Athena","Aubree","Aubrey","Audie","Audra","Audreanne","Audrey","August","Augusta","Augustine","Augustus","Aurelia","Aurelie","Aurelio","Aurore","Austen","Austin","Austyn","Autumn","Ava","Avery","Avis","Axel","Ayana","Ayden","Ayla","Aylin","Baby","Bailee","Bailey","Barbara","Barney","Baron","Barrett","Barry","Bart","Bartholome","Barton","Baylee","Beatrice","Beau","Beaulah","Bell","Bella","Belle","Ben","Benedict","Benjamin","Bennett","Bennie","Benny","Benton","Berenice","Bernadette","Bernadine","Bernard","Bernardo","Berneice","Bernhard","Bernice","Bernie","Berniece","Bernita","Berry","Bert","Berta","Bertha","Bertram","Bertrand","Beryl","Bessie","Beth","Bethany","Bethel","Betsy","Bette","Bettie","Betty","Bettye","Beulah","Beverly","Bianka","Bill","Billie","Billy","Birdie","Blair","Blaise","Blake","Blanca","Blanche","Blaze","Bo","Bobbie","Bobby","Bonita","Bonnie","Boris","Boyd","Brad","Braden","Bradford","Bradley","Bradly","Brady","Braeden","Brain","Brandi","Brando","Brandon","Brandt","Brandy","Brandyn","Brannon","Branson","Brant","Braulio","Braxton","Brayan","Breana","Breanna","Breanne","Brenda","Brendan","Brenden","Brendon","Brenna","Brennan","Brennon","Brent","Bret","Brett","Bria","Brian","Briana","Brianne","Brice","Bridget","Bridgette","Bridie","Brielle","Brigitte","Brionna","Brisa","Britney","Brittany","Brock","Broderick","Brody","Brook","Brooke","Brooklyn","Brooks","Brown","Bruce","Bryana","Bryce","Brycen","Bryon","Buck","Bud","Buddy","Buford","Bulah","Burdette","Burley","Burnice","Buster","Cade","Caden","Caesar","Caitlyn","Cale","Caleb","Caleigh","Cali","Calista","Callie","Camden","Cameron","Camila","Camilla","Camille","Camren","Camron","Camryn","Camylle","Candace","Candelario","Candice","Candida","Candido","Cara","Carey","Carissa","Carlee","Carleton","Carley","Carli","Carlie","Carlo","Carlos","Carlotta","Carmel","Carmela","Carmella","Carmelo","Carmen","Carmine","Carol","Carolanne","Carole","Carolina","Caroline","Carolyn","Carolyne","Carrie","Carroll","Carson","Carter","Cary","Casandra","Casey","Casimer","Casimir","Casper","Cassandra","Cassandre","Cassidy","Cassie","Catalina","Caterina","Catharine","Catherine","Cathrine","Cathryn","Cathy","Cayla","Ceasar","Cecelia","Cecil","Cecile","Cecilia","Cedrick","Celestine","Celestino","Celia","Celine","Cesar","Chad","Chadd","Chadrick","Chaim","Chance","Chandler","Chanel","Chanelle","Charity","Charlene","Charles","Charley","Charlie","Charlotte","Chase","Chasity","Chauncey","Chaya","Chaz","Chelsea","Chelsey","Chelsie","Chesley","Chester","Chet","Cheyanne","Cheyenne","Chloe","Chris","Christ","Christa","Christelle","Christian","Christiana","Christina","Christine","Christop","Christophe","Christopher","Christy","Chyna","Ciara","Cicero","Cielo","Cierra","Cindy","Citlalli","Clair","Claire","Clara","Clarabelle","Clare","Clarissa","Clark","Claud","Claude","Claudia","Claudie","Claudine","Clay","Clemens","Clement","Clementina","Clementine","Clemmie","Cleo","Cleora","Cleta","Cletus","Cleve","Cleveland","Clifford","Clifton","Clint","Clinton","Clotilde","Clovis","Cloyd","Clyde","Coby","Cody","Colby","Cole","Coleman","Colin","Colleen","Collin","Colt","Colten","Colton","Columbus","Concepcion","Conner","Connie","Connor","Conor","Conrad","Constance","Constantin","Consuelo","Cooper","Cora","Coralie","Corbin","Cordelia","Cordell","Cordia","Cordie","Corene","Corine","Cornelius","Cornell","Corrine","Cortez","Cortney","Cory","Coty","Courtney","Coy","Craig","Crawford","Creola","Cristal","Cristian","Cristina","Cristobal","Cristopher","Cruz","Crystal","Crystel","Cullen","Curt","Curtis","Cydney","Cynthia","Cyril","Cyrus","Dagmar","Dahlia","Daija","Daisha","Daisy","Dakota","Dale","Dallas","Dallin","Dalton","Damaris","Dameon","Damian","Damien","Damion","Damon","Dan","Dana","Dandre","Dane","D'angelo","Dangelo","Danial","Daniela","Daniella","Danielle","Danika","Dannie","Danny","Dante","Danyka","Daphne","Daphnee","Daphney","Darby","Daren","Darian","Dariana","Darien","Dario","Darion","Darius","Darlene","Daron","Darrel","Darrell","Darren","Darrick","Darrin","Darrion","Darron","Darryl","Darwin","Daryl","Dashawn","Dasia","Dave","David","Davin","Davion","Davon","Davonte","Dawn","Dawson","Dax","Dayana","Dayna","Dayne","Dayton","Dean","Deangelo","Deanna","Deborah","Declan","Dedric","Dedrick","Dee","Deion","Deja","Dejah","Dejon","Dejuan","Delaney","Delbert","Delfina","Delia","Delilah","Dell","Della","Delmer","Delores","Delpha","Delphia","Delphine","Delta","Demarco","Demarcus","Demario","Demetris","Demetrius","Demond","Dena","Denis","Dennis","Deon","Deondre","Deontae","Deonte","Dereck","Derek","Derick","Deron","Derrick","Deshaun","Deshawn","Desiree","Desmond","Dessie","Destany","Destin","Destinee","Destiney","Destini","Destiny","Devan","Devante","Deven","Devin","Devon","Devonte","Devyn","Dewayne","Dewitt","Dexter","Diamond","Diana","Dianna","Diego","Dillan","Dillon","Dimitri","Dina","Dino","Dion","Dixie","Dock","Dolly","Dolores","Domenic","Domenica","Domenick","Domenico","Domingo","Dominic","Dominique","Don","Donald","Donato","Donavon","Donna","Donnell","Donnie","Donny","Dora","Dorcas","Dorian","Doris","Dorothea","Dorothy","Dorris","Dortha","Dorthy","Doug","Douglas","Dovie","Doyle","Drake","Drew","Duane","Dudley","Dulce","Duncan","Durward","Dustin","Dusty","Dwight","Dylan","Earl","Earlene","Earline","Earnest","Earnestine","Easter","Easton","Ebba","Ebony","Ed","Eda","Edd","Eddie","Eden","Edgar","Edgardo","Edison","Edmond","Edmund","Edna","Eduardo","Edward","Edwardo","Edwin","Edwina","Edyth","Edythe","Effie","Efrain","Efren","Eileen","Einar","Eino","Eladio","Elaina","Elbert","Elda","Eldon","Eldora","Eldred","Eldridge","Eleanora","Eleanore","Eleazar","Electa","Elena","Elenor","Elenora","Eleonore","Elfrieda","Eli","Elian","Eliane","Elias","Eliezer","Elijah","Elinor","Elinore","Elisa","Elisabeth","Elise","Eliseo","Elisha","Elissa","Eliza","Elizabeth","Ella","Ellen","Ellie","Elliot","Elliott","Ellis","Ellsworth","Elmer","Elmira","Elmo","Elmore","Elna","Elnora","Elody","Eloisa","Eloise","Elouise","Eloy","Elroy","Elsa","Else","Elsie","Elta","Elton","Elva","Elvera","Elvie","Elvis","Elwin","Elwyn","Elyse","Elyssa","Elza","Emanuel","Emelia","Emelie","Emely","Emerald","Emerson","Emery","Emie","Emil","Emile","Emilia","Emiliano","Emilie","Emilio","Emily","Emma","Emmalee","Emmanuel","Emmanuelle","Emmet","Emmett","Emmie","Emmitt","Emmy","Emory","Ena","Enid","Enoch","Enola","Enos","Enrico","Enrique","Ephraim","Era","Eriberto","Eric","Erica","Erich","Erick","Ericka","Erik","Erika","Erin","Erling","Erna","Ernest","Ernestina","Ernestine","Ernesto","Ernie","Ervin","Erwin","Eryn","Esmeralda","Esperanza","Esta","Esteban","Estefania","Estel","Estell","Estella","Estelle","Estevan","Esther","Estrella","Etha","Ethan","Ethel","Ethelyn","Ethyl","Ettie","Eudora","Eugene","Eugenia","Eula","Eulah","Eulalia","Euna","Eunice","Eusebio","Eva","Evalyn","Evan","Evangeline","Evans","Eve","Eveline","Evelyn","Everardo","Everett","Everette","Evert","Evie","Ewald","Ewell","Ezekiel","Ezequiel","Ezra","Fabian","Fabiola","Fae","Fannie","Fanny","Fatima","Faustino","Fausto","Favian","Fay","Faye","Federico","Felicia","Felicita","Felicity","Felipa","Felipe","Felix","Felton","Fermin","Fern","Fernando","Ferne","Fidel","Filiberto","Filomena","Finn","Fiona","Flavie","Flavio","Fleta","Fletcher","Flo","Florence","Florencio","Florian","Florida","Florine","Flossie","Floy","Floyd","Ford","Forest","Forrest","Foster","Frances","Francesca","Francesco","Francis","Francisca","Francisco","Franco","Frank","Frankie","Franz","Fred","Freda","Freddie","Freddy","Frederic","Frederick","Frederik","Frederique","Fredrick","Fredy","Freeda","Freeman","Freida","Frida","Frieda","Friedrich","Fritz","Furman","Gabe","Gabriel","Gabriella","Gabrielle","Gaetano","Gage","Gail","Gardner","Garett","Garfield","Garland","Garnet","Garnett","Garret","Garrett","Garrick","Garrison","Garry","Garth","Gaston","Gavin","Gay","Gayle","Gaylord","Gene","General","Genesis","Genevieve","Gennaro","Genoveva","Geo","Geoffrey","George","Georgette","Georgiana","Georgianna","Geovanni","Geovanny","Geovany","Gerald","Geraldine","Gerard","Gerardo","Gerda","Gerhard","Germaine","German","Gerry","Gerson","Gertrude","Gia","Gianni","Gideon","Gilbert","Gilberto","Gilda","Giles","Gillian","Gina","Gino","Giovani","Giovanna","Giovanni","Giovanny","Gisselle","Giuseppe","Gladyce","Gladys","Glen","Glenda","Glenna","Glennie","Gloria","Godfrey","Golda","Golden","Gonzalo","Gordon","Grace","Gracie","Graciela","Grady","Graham","Grant","Granville","Grayce","Grayson","Green","Greg","Gregg","Gregoria","Gregorio","Gregory","Greta","Gretchen","Greyson","Griffin","Grover","Guadalupe","Gudrun","Guido","Guillermo","Guiseppe","Gunnar","Gunner","Gus","Gussie","Gust","Gustave","Guy","Gwen","Gwendolyn","Hadley","Hailee","Hailey","Hailie","Hal","Haleigh","Haley","Halie","Halle","Hallie","Hank","Hanna","Hannah","Hans","Hardy","Harley","Harmon","Harmony","Harold","Harrison","Harry","Harvey","Haskell","Hassan","Hassie","Hattie","Haven","Hayden","Haylee","Hayley","Haylie","Hazel","Hazle","Heath","Heather","Heaven","Heber","Hector","Heidi","Helen","Helena","Helene","Helga","Hellen","Helmer","Heloise","Henderson","Henri","Henriette","Henry","Herbert","Herman","Hermann","Hermina","Herminia","Herminio","Hershel","Herta","Hertha","Hester","Hettie","Hilario","Hilbert","Hilda","Hildegard","Hillard","Hillary","Hilma","Hilton","Hipolito","Hiram","Hobart","Holden","Hollie","Hollis","Holly","Hope","Horace","Horacio","Hortense","Hosea","Houston","Howard","Howell","Hoyt","Hubert","Hudson","Hugh","Hulda","Humberto","Hunter","Hyman","Ian","Ibrahim","Icie","Ida","Idell","Idella","Ignacio","Ignatius","Ike","Ila","Ilene","Iliana","Ima","Imani","Imelda","Immanuel","Imogene","Ines","Irma","Irving","Irwin","Isaac","Isabel","Isabell","Isabella","Isabelle","Isac","Isadore","Isai","Isaiah","Isaias","Isidro","Ismael","Isobel","Isom","Israel","Issac","Itzel","Iva","Ivah","Ivory","Ivy","Izabella","Izaiah","Jabari","Jace","Jacey","Jacinthe","Jacinto","Jack","Jackeline","Jackie","Jacklyn","Jackson","Jacky","Jaclyn","Jacquelyn","Jacques","Jacynthe","Jada","Jade","Jaden","Jadon","Jadyn","Jaeden","Jaida","Jaiden","Jailyn","Jaime","Jairo","Jakayla","Jake","Jakob","Jaleel","Jalen","Jalon","Jalyn","Jamaal","Jamal","Jamar","Jamarcus","Jamel","Jameson","Jamey","Jamie","Jamil","Jamir","Jamison","Jammie","Jan","Jana","Janae","Jane","Janelle","Janessa","Janet","Janice","Janick","Janie","Janis","Janiya","Jannie","Jany","Jaquan","Jaquelin","Jaqueline","Jared","Jaren","Jarod","Jaron","Jarred","Jarrell","Jarret","Jarrett","Jarrod","Jarvis","Jasen","Jasmin","Jason","Jasper","Jaunita","Javier","Javon","Javonte","Jay","Jayce","Jaycee","Jayda","Jayde","Jayden","Jaydon","Jaylan","Jaylen","Jaylin","Jaylon","Jayme","Jayne","Jayson","Jazlyn","Jazmin","Jazmyn","Jazmyne","Jean","Jeanette","Jeanie","Jeanne","Jed","Jedediah","Jedidiah","Jeff","Jefferey","Jeffery","Jeffrey","Jeffry","Jena","Jenifer","Jennie","Jennifer","Jennings","Jennyfer","Jensen","Jerad","Jerald","Jeramie","Jeramy","Jerel","Jeremie","Jeremy","Jermain","Jermaine","Jermey","Jerod","Jerome","Jeromy","Jerrell","Jerrod","Jerrold","Jerry","Jess","Jesse","Jessica","Jessie","Jessika","Jessy","Jessyca","Jesus","Jett","Jettie","Jevon","Jewel","Jewell","Jillian","Jimmie","Jimmy","Jo","Joan","Joana","Joanie","Joanne","Joannie","Joanny","Joany","Joaquin","Jocelyn","Jodie","Jody","Joe","Joel","Joelle","Joesph","Joey","Johan","Johann","Johanna","Johathan","John","Johnathan","Johnathon","Johnnie","Johnny","Johnpaul","Johnson","Jolie","Jon","Jonas","Jonatan","Jonathan","Jonathon","Jordan","Jordane","Jordi","Jordon","Jordy","Jordyn","Jorge","Jose","Josefa","Josefina","Joseph","Josephine","Josh","Joshua","Joshuah","Josiah","Josiane","Josianne","Josie","Josue","Jovan","Jovani","Jovanny","Jovany","Joy","Joyce","Juana","Juanita","Judah","Judd","Jude","Judge","Judson","Judy","Jules","Julia","Julian","Juliana","Julianne","Julie","Julien","Juliet","Julio","Julius","June","Junior","Junius","Justen","Justice","Justina","Justine","Juston","Justus","Justyn","Juvenal","Juwan","Kacey","Kaci","Kacie","Kade","Kaden","Kadin","Kaela","Kaelyn","Kaia","Kailee","Kailey","Kailyn","Kaitlin","Kaitlyn","Kale","Kaleb","Kaleigh","Kaley","Kali","Kallie","Kameron","Kamille","Kamren","Kamron","Kamryn","Kane","Kara","Kareem","Karelle","Karen","Kari","Kariane","Karianne","Karina","Karine","Karl","Karlee","Karley","Karli","Karlie","Karolann","Karson","Kasandra","Kasey","Kassandra","Katarina","Katelin","Katelyn","Katelynn","Katharina","Katherine","Katheryn","Kathleen","Kathlyn","Kathryn","Kathryne","Katlyn","Katlynn","Katrina","Katrine","Kattie","Kavon","Kay","Kaya","Kaycee","Kayden","Kayla","Kaylah","Kaylee","Kayleigh","Kayley","Kayli","Kaylie","Kaylin","Keagan","Keanu","Keara","Keaton","Keegan","Keeley","Keely","Keenan","Keira","Keith","Kellen","Kelley","Kelli","Kellie","Kelly","Kelsi","Kelsie","Kelton","Kelvin","Ken","Kendall","Kendra","Kendrick","Kenna","Kennedi","Kennedy","Kenneth","Kennith","Kenny","Kenton","Kenya","Kenyatta","Kenyon","Keon","Keshaun","Keshawn","Keven","Kevin","Kevon","Keyon","Keyshawn","Khalid","Khalil","Kian","Kiana","Kianna","Kiara","Kiarra","Kiel","Kiera","Kieran","Kiley","Kim","Kimberly","King","Kip","Kira","Kirk","Kirsten","Kirstin","Kitty","Kobe","Koby","Kody","Kolby","Kole","Korbin","Korey","Kory","Kraig","Kris","Krista","Kristian","Kristin","Kristina","Kristofer","Kristoffer","Kristopher","Kristy","Krystal","Krystel","Krystina","Kurt","Kurtis","Kyla","Kyle","Kylee","Kyleigh","Kyler","Kylie","Kyra","Lacey","Lacy","Ladarius","Lafayette","Laila","Laisha","Lamar","Lambert","Lamont","Lance","Landen","Lane","Laney","Larissa","Laron","Larry","Larue","Laura","Laurel","Lauren","Laurence","Lauretta","Lauriane","Laurianne","Laurie","Laurine","Laury","Lauryn","Lavada","Lavern","Laverna","Laverne","Lavina","Lavinia","Lavon","Lavonne","Lawrence","Lawson","Layla","Layne","Lazaro","Lea","Leann","Leanna","Leanne","Leatha","Leda","Lee","Leif","Leila","Leilani","Lela","Lelah","Leland","Lelia","Lempi","Lemuel","Lenna","Lennie","Lenny","Lenora","Lenore","Leo","Leola","Leon","Leonard","Leonardo","Leone","Leonel","Leonie","Leonor","Leonora","Leopold","Leopoldo","Leora","Lera","Lesley","Leslie","Lesly","Lessie","Lester","Leta","Letha","Letitia","Levi","Lew","Lewis","Lexi","Lexie","Lexus","Lia","Liam","Liana","Libbie","Libby","Lila","Lilian","Liliana","Liliane","Lilla","Lillian","Lilliana","Lillie","Lilly","Lily","Lilyan","Lina","Lincoln","Linda","Lindsay","Lindsey","Linnea","Linnie","Linwood","Lionel","Lisa","Lisandro","Lisette","Litzy","Liza","Lizeth","Lizzie","Llewellyn","Lloyd","Logan","Lois","Lola","Lolita","Loma","Lon","London","Lonie","Lonnie","Lonny","Lonzo","Lora","Loraine","Loren","Lorena","Lorenz","Lorenza","Lorenzo","Lori","Lorine","Lorna","Lottie","Lou","Louie","Louisa","Lourdes","Louvenia","Lowell","Loy","Loyal","Loyce","Lucas","Luciano","Lucie","Lucienne","Lucile","Lucinda","Lucio","Lucious","Lucius","Lucy","Ludie","Ludwig","Lue","Luella","Luigi","Luis","Luisa","Lukas","Lula","Lulu","Luna","Lupe","Lura","Lurline","Luther","Luz","Lyda","Lydia","Lyla","Lynn","Lyric","Lysanne","Mabel","Mabelle","Mable","Mac","Macey","Maci","Macie","Mack","Mackenzie","Macy","Madaline","Madalyn","Maddison","Madeline","Madelyn","Madelynn","Madge","Madie","Madilyn","Madisen","Madison","Madisyn","Madonna","Madyson","Mae","Maegan","Maeve","Mafalda","Magali","Magdalen","Magdalena","Maggie","Magnolia","Magnus","Maia","Maida","Maiya","Major","Makayla","Makenna","Makenzie","Malachi","Malcolm","Malika","Malinda","Mallie","Mallory","Malvina","Mandy","Manley","Manuel","Manuela","Mara","Marc","Marcel","Marcelina","Marcelino","Marcella","Marcelle","Marcellus","Marcelo","Marcia","Marco","Marcos","Marcus","Margaret","Margarete","Margarett","Margaretta","Margarette","Margarita","Marge","Margie","Margot","Margret","Marguerite","Maria","Mariah","Mariam","Marian","Mariana","Mariane","Marianna","Marianne","Mariano","Maribel","Marie","Mariela","Marielle","Marietta","Marilie","Marilou","Marilyne","Marina","Mario","Marion","Marisa","Marisol","Maritza","Marjolaine","Marjorie","Marjory","Mark","Markus","Marlee","Marlen","Marlene","Marley","Marlin","Marlon","Marques","Marquis","Marquise","Marshall","Marta","Martin","Martina","Martine","Marty","Marvin","Mary","Maryam","Maryjane","Maryse","Mason","Mateo","Mathew","Mathias","Mathilde","Matilda","Matilde","Matt","Matteo","Mattie","Maud","Maude","Maudie","Maureen","Maurice","Mauricio","Maurine","Maverick","Mavis","Max","Maxie","Maxime","Maximilian","Maximillia","Maximillian","Maximo","Maximus","Maxine","Maxwell","May","Maya","Maybell","Maybelle","Maye","Maymie","Maynard","Mayra","Mazie","Mckayla","Mckenna","Mckenzie","Meagan","Meaghan","Meda","Megane","Meggie","Meghan","Mekhi","Melany","Melba","Melisa","Melissa","Mellie","Melody","Melvin","Melvina","Melyna","Melyssa","Mercedes","Meredith","Merl","Merle","Merlin","Merritt","Mertie","Mervin","Meta","Mia","Micaela","Micah","Michael","Michaela","Michale","Micheal","Michel","Michele","Michelle","Miguel","Mikayla","Mike","Mikel","Milan","Miles","Milford","Miller","Millie","Milo","Milton","Mina","Minerva","Minnie","Miracle","Mireille","Mireya","Misael","Missouri","Misty","Mitchel","Mitchell","Mittie","Modesta","Modesto","Mohamed","Mohammad","Mohammed","Moises","Mollie","Molly","Mona","Monica","Monique","Monroe","Monserrat","Monserrate","Montana","Monte","Monty","Morgan","Moriah","Morris","Mortimer","Morton","Mose","Moses","Moshe","Mossie","Mozell","Mozelle","Muhammad","Muriel","Murl","Murphy","Murray","Mustafa","Mya","Myah","Mylene","Myles","Myra","Myriam","Myrl","Myrna","Myron","Myrtice","Myrtie","Myrtis","Myrtle","Nadia","Nakia","Name","Nannie","Naomi","Naomie","Napoleon","Narciso","Nash","Nasir","Nat","Natalia","Natalie","Natasha","Nathan","Nathanael","Nathanial","Nathaniel","Nathen","Nayeli","Neal","Ned","Nedra","Neha","Neil","Nelda","Nella","Nelle","Nellie","Nels","Nelson","Neoma","Nestor","Nettie","Neva","Newell","Newton","Nia","Nicholas","Nicholaus","Nichole","Nick","Nicklaus","Nickolas","Nico","Nicola","Nicolas","Nicole","Nicolette","Nigel","Nikita","Nikki","Nikko","Niko","Nikolas","Nils","Nina","Noah","Noble","Noe","Noel","Noelia","Noemi","Noemie","Noemy","Nola","Nolan","Nona","Nora","Norbert","Norberto","Norene","Norma","Norris","Norval","Norwood","Nova","Novella","Nya","Nyah","Nyasia","Obie","Oceane","Ocie","Octavia","Oda","Odell","Odessa","Odie","Ofelia","Okey","Ola","Olaf","Ole","Olen","Oleta","Olga","Olin","Oliver","Ollie","Oma","Omari","Omer","Ona","Onie","Opal","Ophelia","Ora","Oral","Oran","Oren","Orie","Orin","Orion","Orland","Orlando","Orlo","Orpha","Orrin","Orval","Orville","Osbaldo","Osborne","Oscar","Osvaldo","Oswald","Oswaldo","Otha","Otho","Otilia","Otis","Ottilie","Ottis","Otto","Ova","Owen","Ozella","Pablo","Paige","Palma","Pamela","Pansy","Paolo","Paris","Parker","Pascale","Pasquale","Pat","Patience","Patricia","Patrick","Patsy","Pattie","Paul","Paula","Pauline","Paxton","Payton","Pearl","Pearlie","Pearline","Pedro","Peggie","Penelope","Percival","Percy","Perry","Pete","Peter","Petra","Peyton","Philip","Phoebe","Phyllis","Pierce","Pierre","Pietro","Pink","Pinkie","Piper","Polly","Porter","Precious","Presley","Preston","Price","Prince","Princess","Priscilla","Providenci","Prudence","Queen","Queenie","Quentin","Quincy","Quinn","Quinten","Quinton","Rachael","Rachel","Rachelle","Rae","Raegan","Rafael","Rafaela","Raheem","Rahsaan","Rahul","Raina","Raleigh","Ralph","Ramiro","Ramon","Ramona","Randal","Randall","Randi","Randy","Ransom","Raoul","Raphael","Raphaelle","Raquel","Rashad","Rashawn","Rasheed","Raul","Raven","Ray","Raymond","Raymundo","Reagan","Reanna","Reba","Rebeca","Rebecca","Rebeka","Rebekah","Reece","Reed","Reese","Regan","Reggie","Reginald","Reid","Reilly","Reina","Reinhold","Remington","Rene","Renee","Ressie","Reta","Retha","Retta","Reuben","Reva","Rex","Rey","Reyes","Reymundo","Reyna","Reynold","Rhea","Rhett","Rhianna","Rhiannon","Rhoda","Ricardo","Richard","Richie","Richmond","Rick","Rickey","Rickie","Ricky","Rico","Rigoberto","Riley","Rita","River","Robb","Robbie","Robert","Roberta","Roberto","Robin","Robyn","Rocio","Rocky","Rod","Roderick","Rodger","Rodolfo","Rodrick","Rodrigo","Roel","Rogelio","Roger","Rogers","Rolando","Rollin","Roma","Romaine","Roman","Ron","Ronaldo","Ronny","Roosevelt","Rory","Rosa","Rosalee","Rosalia","Rosalind","Rosalinda","Rosalyn","Rosamond","Rosanna","Rosario","Roscoe","Rose","Rosella","Roselyn","Rosemarie","Rosemary","Rosendo","Rosetta","Rosie","Rosina","Roslyn","Ross","Rossie","Rowan","Rowena","Rowland","Roxane","Roxanne","Roy","Royal","Royce","Rozella","Ruben","Rubie","Ruby","Rubye","Rudolph","Rudy","Rupert","Russ","Russel","Russell","Rusty","Ruth","Ruthe","Ruthie","Ryan","Ryann","Ryder","Rylan","Rylee","Ryleigh","Ryley","Sabina","Sabrina","Sabryna","Sadie","Sadye","Sage","Saige","Sallie","Sally","Salma","Salvador","Salvatore","Sam","Samanta","Samantha","Samara","Samir","Sammie","Sammy","Samson","Sandra","Sandrine","Sandy","Sanford","Santa","Santiago","Santina","Santino","Santos","Sarah","Sarai","Sarina","Sasha","Saul","Savanah","Savanna","Savannah","Savion","Scarlett","Schuyler","Scot","Scottie","Scotty","Seamus","Sean","Sebastian","Sedrick","Selena","Selina","Selmer","Serena","Serenity","Seth","Shad","Shaina","Shakira","Shana","Shane","Shanel","Shanelle","Shania","Shanie","Shaniya","Shanna","Shannon","Shanny","Shanon","Shany","Sharon","Shaun","Shawn","Shawna","Shaylee","Shayna","Shayne","Shea","Sheila","Sheldon","Shemar","Sheridan","Sherman","Sherwood","Shirley","Shyann","Shyanne","Sibyl","Sid","Sidney","Sienna","Sierra","Sigmund","Sigrid","Sigurd","Silas","Sim","Simeon","Simone","Sincere","Sister","Skye","Skyla","Skylar","Sofia","Soledad","Solon","Sonia","Sonny","Sonya","Sophia","Sophie","Spencer","Stacey","Stacy","Stan","Stanford","Stanley","Stanton","Stefan","Stefanie","Stella","Stephan","Stephania","Stephanie","Stephany","Stephen","Stephon","Sterling","Steve","Stevie","Stewart","Stone","Stuart","Summer","Sunny","Susan","Susana","Susanna","Susie","Suzanne","Sven","Syble","Sydnee","Sydney","Sydni","Sydnie","Sylvan","Sylvester","Sylvia","Tabitha","Tad","Talia","Talon","Tamara","Tamia","Tania","Tanner","Tanya","Tara","Taryn","Tate","Tatum","Tatyana","Taurean","Tavares","Taya","Taylor","Teagan","Ted","Telly","Terence","Teresa","Terrance","Terrell","Terrence","Terrill","Terry","Tess","Tessie","Tevin","Thad","Thaddeus","Thalia","Thea","Thelma","Theo","Theodora","Theodore","Theresa","Therese","Theresia","Theron","Thomas","Thora","Thurman","Tia","Tiana","Tianna","Tiara","Tierra","Tiffany","Tillman","Timmothy","Timmy","Timothy","Tina","Tito","Titus","Tobin","Toby","Tod","Tom","Tomas","Tomasa","Tommie","Toney","Toni","Tony","Torey","Torrance","Torrey","Toy","Trace","Tracey","Tracy","Travis","Travon","Tre","Tremaine","Tremayne","Trent","Trenton","Tressa","Tressie","Treva","Trever","Trevion","Trevor","Trey","Trinity","Trisha","Tristian","Tristin","Triston","Troy","Trudie","Trycia","Trystan","Turner","Twila","Tyler","Tyra","Tyree","Tyreek","Tyrel","Tyrell","Tyrese","Tyrique","Tyshawn","Tyson","Ubaldo","Ulices","Ulises","Una","Unique","Urban","Uriah","Uriel","Ursula","Vada","Valentin","Valentina","Valentine","Valerie","Vallie","Van","Vance","Vanessa","Vaughn","Veda","Velda","Vella","Velma","Velva","Vena","Verda","Verdie","Vergie","Verla","Verlie","Vern","Verna","Verner","Vernice","Vernie","Vernon","Verona","Veronica","Vesta","Vicenta","Vicente","Vickie","Vicky","Victor","Victoria","Vida","Vidal","Vilma","Vince","Vincent","Vincenza","Vincenzo","Vinnie","Viola","Violet","Violette","Virgie","Virgil","Virginia","Virginie","Vita","Vito","Viva","Vivian","Viviane","Vivianne","Vivien","Vivienne","Vladimir","Wade","Waino","Waldo","Walker","Wallace","Walter","Walton","Wanda","Ward","Warren","Watson","Wava","Waylon","Wayne","Webster","Weldon","Wellington","Wendell","Wendy","Werner","Westley","Weston","Whitney","Wilber","Wilbert","Wilburn","Wiley","Wilford","Wilfred","Wilfredo","Wilfrid","Wilhelm","Wilhelmine","Will","Willa","Willard","William","Willie","Willis","Willow","Willy","Wilma","Wilmer","Wilson","Wilton","Winfield","Winifred","Winnifred","Winona","Winston","Woodrow","Wyatt","Wyman","Xander","Xavier","Xzavier","Yadira","Yasmeen","Yasmin","Yasmine","Yazmin","Yesenia","Yessenia","Yolanda","Yoshiko","Yvette","Yvonne","Zachariah","Zachary","Zachery","Zack","Zackary","Zackery","Zakary","Zander","Zane","Zaria","Zechariah","Zelda","Zella","Zelma","Zena","Zetta","Zion","Zita","Zoe","Zoey","Zoie","Zoila","Zola","Zora","Zula"];e.exports={generateUsername:function(){return i.randomElement(r)+"-"+i.randomAlphanumStr(3)}}},function(e,t,n){"use strict";function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return Math.floor(Math.random()*(1e3*Math.pow(n,e)-t)+t)}n.d(t,"a",function(){return i})},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=(function(){function e(){_classCallCheck(this,e),this._lastSuccess=null}return _createClass(e,[{key:"startTracking",value:function(e){var t=e.rawInput;e.rawInput=function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];this._lastSuccess=Date.now(),t.apply(e,i)}}},{key:"getTimeSinceLastSuccess",value:function(){return this._lastSuccess?Date.now()-this._lastSuccess:null}}]),e})()},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return f});var i=n(7),r=n(4),o=n(2),a=n(0),s=n.n(a),c=(n(14),n(35)),u=n.n(c),d=n(5),l=n(47),h=n(36),p=Object(r.getLogger)(e),f=(function(e){function t(e,n,i){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).xmpp=e,r.eventEmitter=n,r.sessions={},r.jvbIceConfig=i.jvb,r.p2pIceConfig=i.p2p,r.mediaConstraints={offerToReceiveAudio:!0,offerToReceiveVideo:!0},r}return _inherits(t,e),_createClass(t,[{key:"init",value:function(e){_get(_getPrototypeOf(t.prototype),"init",this).call(this,e),this.connection.addHandler(this.onJingle.bind(this),"urn:xmpp:jingle:1","iq","set",null,null)}},{key:"onJingle",value:function(e){var t=$(e).find("jingle").attr("sid"),n=$(e).find("jingle").attr("action"),r=e.getAttribute("from"),a=Object(o.$iq)({type:"result",to:r,id:e.getAttribute("id")});p.log("on jingle "+n+" from "+r,e);var c=this.sessions[t];if("session-initiate"!==n){if(!c)return a.attrs({type:"error"}),a.c("error",{type:"cancel"}).c("item-not-found",{xmlns:"urn:ietf:params:xml:ns:xmpp-stanzas"}).up().c("unknown-session",{xmlns:"urn:xmpp:jingle:errors:1"}),p.warn("invalid session id",e),this.connection.send(a),!0;if(r!==c.remoteJid)return p.warn("jid mismatch for session id",t,c.remoteJid,e),a.attrs({type:"error"}),a.c("error",{type:"cancel"}).c("item-not-found",{xmlns:"urn:ietf:params:xml:ns:xmpp-stanzas"}).up().c("unknown-session",{xmlns:"urn:xmpp:jingle:errors:1"}),this.connection.send(a),!0}else if(void 0!==c)return a.attrs({type:"error"}),a.c("error",{type:"cancel"}).c("service-unavailable",{xmlns:"urn:ietf:params:xml:ns:xmpp-stanzas"}).up(),p.warn("duplicate session id",t,e),this.connection.send(a),!0;var u=window.performance.now(),h="focus"!==o.Strophe.getResourceFromJid(r);switch(n){case"session-initiate":p.log("(TIME) received session-initiate:\t",u);var f=$(e).find("jingle>startmuted");if(f&&f.length>0){var m=f.attr("audio"),v=f.attr("video");this.eventEmitter.emit(s.a.START_MUTED_FROM_FOCUS,"true"===m,"true"===v)}p.info("Marking session from "+r+" as "+(h?"":"*not*")+" P2P");var g=h?this.p2pIceConfig:this.jvbIceConfig;c=new l.a($(e).find("jingle").attr("sid"),$(e).attr("to"),r,this.connection,this.mediaConstraints,JSON.parse(JSON.stringify(g)),h,!1),this.sessions[c.sid]=c,this.eventEmitter.emit(s.a.CALL_INCOMING,c,$(e).find(">jingle"),u);break;case"session-accept":this.eventEmitter.emit(s.a.CALL_ACCEPTED,c,$(e).find(">jingle"));break;case"content-modify":c.modifyContents($(e).find(">jingle"));break;case"transport-info":this.eventEmitter.emit(s.a.TRANSPORT_INFO,c,$(e).find(">jingle"));break;case"session-terminate":p.log("terminating...",c.sid);var y=null,_=null;$(e).find(">jingle>reason").length&&(y=$(e).find(">jingle>reason>:first")[0].tagName,_=$(e).find(">jingle>reason>text").text()),this.terminate(c.sid,y,_),this.eventEmitter.emit(s.a.CALL_ENDED,c,y,_);break;case"transport-replace":p.info("(TIME) Start transport replace:\t",u),d.a.sendAnalytics(Object(i.G)(i.f,{p2p:h,value:u})),c.replaceTransport($(e).find(">jingle"),function(){var e=window.performance.now();p.info("(TIME) Transport replace success:\t",e),d.a.sendAnalytics(Object(i.G)(i.g,{p2p:h,value:e}))},function(e){c.sendTransportReject()});break;case"addsource":case"source-add":c.addRemoteStream($(e).find(">jingle>content"));break;case"removesource":case"source-remove":c.removeRemoteStream($(e).find(">jingle>content"));break;default:p.warn("jingle action not implemented",n),a.attrs({type:"error"}),a.c("error",{type:"cancel"}).c("bad-request",{xmlns:"urn:ietf:params:xml:ns:xmpp-stanzas"}).up()}return this.connection.send(a),!0}},{key:"newP2PJingleSession",value:function(e,t){var n=new l.a(u.a.randomHexString(12),e,t,this.connection,this.mediaConstraints,this.p2pIceConfig,!0,!0);return this.sessions[n.sid]=n,n}},{key:"terminate",value:function(e,t,n){this.sessions.hasOwnProperty(e)&&("ended"!==this.sessions[e].state&&this.sessions[e].onTerminated(t,n),delete this.sessions[e])}},{key:"getStunAndTurnCredentials",value:function(){var e=this;this.connection.sendIQ(Object(o.$iq)({type:"get",to:this.connection.domain}).c("services",{xmlns:"urn:xmpp:extdisco:1"}),function(t){var n=[];$(t).find(">services>service").each(function(e,t){var i={},r=(t=$(t)).attr("type");switch(r){case"stun":i.urls="stun:"+t.attr("host"),t.attr("port")&&(i.urls+=":"+t.attr("port")),n.push(i);break;case"turn":case"turns":i.urls=r+":";var o=t.attr("username");if(o){var a=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);a&&parseInt(a[2],10)<28?i.urls+=o+"@":i.username=o}i.urls+=t.attr("host"),t.attr("port")&&(i.urls+=":"+t.attr("port"));var s=t.attr("transport");s&&"udp"!==s&&(i.urls+="?transport="+s),i.credential=t.attr("password")||i.credential,n.push(i)}});var i=e.xmpp.options;i.useStunTurn&&(e.jvbIceConfig.iceServers=n.filter(function(e){return e.urls.startsWith("turns")})),i.p2p&&i.p2p.useStunTurn&&(e.p2pIceConfig.iceServers=n)},function(e){p.warn("getting turn credentials failed",e),p.warn("is mod_turncredentials or similar installed?")})}},{key:"getLog",value:function(){var e=this,t={};return Object.keys(this.sessions).forEach(function(n){var i=e.sessions[n].peerconnection;i&&i.updateLog&&(t["jingle_"+n]={updateLog:i.updateLog,stats:i.stats,url:window.location.href})}),t}}]),t})(h.b)}).call(this,"modules/xmpp/strophe.jingle.js")},function(e,t){e.exports={integerHash:function(e){if(!e)return 0;var t,n=0;for(t=0;t<e.length;t++)n+=e.charCodeAt(t)*Math.pow(31,e.length-1-t),n=Math.abs(0|n);return n}}},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return o});var i=n(4),r=n(32);Object(i.getLogger)(e);var o=(function(){function e(t,n,i,r,o,a,s){_classCallCheck(this,e),this.sid=t,this.localJid=n,this.remoteJid=i,this.connection=r,this.mediaConstraints=o,this.iceConfig=a,this.isInitiator=s,this.usedrip=!0,this.dripContainer=[],this.room=null,this.state=null,this.rtc=null}return _createClass(e,[{key:"initialize",value:function(e,t,n){null!==this.state&&(this.sid,this.state),this.room=e,this.rtc=t,this.state=r.c,this.doInitialize(n)}},{key:"doInitialize",value:function(e){}},{key:"addIceCandidates",value:function(e){}},{key:"getState",value:function(){return this.state}},{key:"addSources",value:function(e){}},{key:"removeSources",value:function(e){}},{key:"terminate",value:function(e,t,n){}},{key:"acceptOffer",value:function(e,t,n){}},{key:"_getInitiatorJid",value:function(){return this.isInitiator?this.localJid:this.remoteJid}},{key:"initiatorJid",get:function(){return this.isInitiator?this.localJid:this.remoteJid}},{key:"responderJid",get:function(){return this.isInitiator?this.remoteJid:this.localJid}}]),e})()}).call(this,"modules/xmpp/JingleSession.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return s});var i=n(4),r=n(9),o=n(38),a=n(103);Object(i.getLogger)(e);var s=(function(e){function t(){var e;return _classCallCheck(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).ssrcOwners=new Map,e.chatRoom=null,e}return _inherits(t,e),_createClass(t,[{key:"setChatRoom",value:function(e){var t=this,n=this.chatRoom;this.chatRoom=e,n&&(n.removePresenceListener("audiomuted",this._audioMuteHandler),n.removePresenceListener("videomuted",this._videoMuteHandler),n.removePresenceListener("videoType",this._videoTypeHandler)),e&&(this._audioMuteHandler=function(e,n){t.eventEmitter.emit(o.a,n,r.a,"true"===e.value)},e.addPresenceListener("audiomuted",this._audioMuteHandler),this._videoMuteHandler=function(e,n){t.eventEmitter.emit(o.a,n,r.c,"true"===e.value)},e.addPresenceListener("videomuted",this._videoMuteHandler),this._videoTypeHandler=function(e,n){t.eventEmitter.emit(o.b,n,e.value)},e.addPresenceListener("videoType",this._videoTypeHandler))}},{key:"getPeerMediaInfo",value:function(e,t){if(this.chatRoom)return this.chatRoom.getMediaPresenceInfo(e,t)}},{key:"getSSRCOwner",value:function(e){return this.ssrcOwners.get(e)}},{key:"setSSRCOwner",value:function(e,t){if("number"!=typeof e)throw new TypeError("SSRC("+e+") must be a number");this.ssrcOwners.set(e,t)}}]),t})(a.a)}).call(this,"modules/xmpp/SignalingLayerImpl.js")},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=(function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"getSSRCOwner",value:function(e){throw new Error("not implemented")}},{key:"getPeerMediaInfo",value:function(e,t){throw new Error("not implemented")}}]),t})(n(24).a)},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n(105),r=n.n(i),o=(function(){function e(){_classCallCheck(this,e),this._queue=r.a.queue(this._processQueueTasks.bind(this),1),this._stopped=!1}return _createClass(e,[{key:"clear",value:function(){this._queue.kill()}},{key:"_processQueueTasks",value:function(e,t){e(t)}},{key:"push",value:function(e,t){this._stopped?t&&t(new Error("The queue has been stopped")):this._queue.push(e,t)}},{key:"shutdown",value:function(){this._stopped=!0}}]),e})()},function(e,t,n){(function(n,i){var r;!(function(){var o,a,s={};function c(e){var t=!1;return function(){if(t)throw new Error("Callback was already called.");t=!0,e.apply(o,arguments)}}null!=(o=this)&&(a=o.async),s.noConflict=function(){return o.async=a,s};var u=Object.prototype.toString,d=Array.isArray||function(e){return"[object Array]"===u.call(e)},l=function(e,t){if(e.forEach)return e.forEach(t);for(var n=0;n<e.length;n+=1)t(e[n],n,e)},h=function(e,t){if(e.map)return e.map(t);var n=[];return l(e,function(e,i,r){n.push(t(e,i,r))}),n},p=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t};void 0!==n&&n.nextTick?(s.nextTick=n.nextTick,s.setImmediate=void 0!==i?function(e){i(e)}:s.nextTick):"function"==typeof i?(s.nextTick=function(e){i(e)},s.setImmediate=s.nextTick):(s.nextTick=function(e){setTimeout(e,0)},s.setImmediate=s.nextTick),s.each=function(e,t,n){if(n=n||function(){},!e.length)return n();var i=0;function r(t){t?(n(t),n=function(){}):(i+=1)>=e.length&&n()}l(e,function(e){t(e,c(r))})},s.forEach=s.each,s.eachSeries=function(e,t,n){if(n=n||function(){},!e.length)return n();var i=0;!(function r(){t(e[i],function(t){t?(n(t),n=function(){}):(i+=1)>=e.length?n():r()})})()},s.forEachSeries=s.eachSeries,s.eachLimit=function(e,t,n,i){f(t).apply(null,[e,n,i])},s.forEachLimit=s.eachLimit;var f=function(e){return function(t,n,i){if(i=i||function(){},!t.length||e<=0)return i();var r=0,o=0,a=0;!(function s(){if(r>=t.length)return i();for(;a<e&&o<t.length;)a+=1,n(t[(o+=1)-1],function(e){e?(i(e),i=function(){}):(a-=1,(r+=1)>=t.length?i():s())})})()}},m=function(e){return function(){var t=Array.prototype.slice.call(arguments);return e.apply(null,[s.each].concat(t))}},v=function(e){return function(){var t=Array.prototype.slice.call(arguments);return e.apply(null,[s.eachSeries].concat(t))}},g=function(e,t,n,i){if(t=h(t,function(e,t){return{index:t,value:e}}),i){var r=[];e(t,function(e,t){n(e.value,function(n,i){r[e.index]=i,t(n)})},function(e){i(e,r)})}else e(t,function(e,t){n(e.value,function(e){t(e)})})};s.map=m(g),s.mapSeries=v(g),s.mapLimit=function(e,t,n,i){return y(t)(e,n,i)};var y=function(e){return(function(e,t){return function(){var n=Array.prototype.slice.call(arguments);return t.apply(null,[f(e)].concat(n))}})(e,g)};s.reduce=function(e,t,n,i){s.eachSeries(e,function(e,i){n(t,e,function(e,n){t=n,i(e)})},function(e){i(e,t)})},s.inject=s.reduce,s.foldl=s.reduce,s.reduceRight=function(e,t,n,i){var r=h(e,function(e){return e}).reverse();s.reduce(r,t,n,i)},s.foldr=s.reduceRight;var _=function(e,t,n,i){var r=[];e(t=h(t,function(e,t){return{index:t,value:e}}),function(e,t){n(e.value,function(n){n&&r.push(e),t()})},function(e){i(h(r.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})};s.filter=m(_),s.filterSeries=v(_),s.select=s.filter,s.selectSeries=s.filterSeries;var S=function(e,t,n,i){var r=[];e(t=h(t,function(e,t){return{index:t,value:e}}),function(e,t){n(e.value,function(n){n||r.push(e),t()})},function(e){i(h(r.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})};s.reject=m(S),s.rejectSeries=v(S);var E=function(e,t,n,i){e(t,function(e,t){n(e,function(n){n?(i(e),i=function(){}):t()})},function(e){i()})};s.detect=m(E),s.detectSeries=v(E),s.some=function(e,t,n){s.each(e,function(e,i){t(e,function(e){e&&(n(!0),n=function(){}),i()})},function(e){n(!1)})},s.any=s.some,s.every=function(e,t,n){s.each(e,function(e,i){t(e,function(e){e||(n(!1),n=function(){}),i()})},function(e){n(!0)})},s.all=s.every,s.sortBy=function(e,t,n){s.map(e,function(e,n){t(e,function(t,i){t?n(t):n(null,{value:e,criteria:i})})},function(e,t){if(e)return n(e);n(null,h(t.sort(function(e,t){var n=e.criteria,i=t.criteria;return n<i?-1:n>i?1:0}),function(e){return e.value}))})},s.auto=function(e,t){t=t||function(){};var n=p(e),i=n.length;if(!i)return t();var r={},o=[],a=function(e){o.unshift(e)},c=function(){i--,l(o.slice(0),function(e){e()})};a(function(){if(!i){var e=t;t=function(){},e(null,r)}}),l(n,function(n){var i=d(e[n])?e[n]:[e[n]],u=function(e){var i=Array.prototype.slice.call(arguments,1);if(i.length<=1&&(i=i[0]),e){var o={};l(p(r),function(e){o[e]=r[e]}),o[n]=i,t(e,o),t=function(){}}else r[n]=i,s.setImmediate(c)},h=i.slice(0,Math.abs(i.length-1))||[],f=function(){return t=function(e,t){return e&&r.hasOwnProperty(t)},i=!0,((e=h).reduce?e.reduce(t,i):(l(e,function(e,n,r){i=t(i,e)}),i))&&!r.hasOwnProperty(n);var e,t,i};if(f())i[i.length-1](u,r);else{a(function e(){f()&&((function(e){for(var t=0;t<o.length;t+=1)if(o[t]===e)return void o.splice(t,1)})(e),i[i.length-1](u,r))})}})},s.retry=function(e,t,n){var i=[];"function"==typeof e&&(n=t,t=e,e=5),e=parseInt(e,10)||5;var r=function(r,o){for(var a=function(e,t){return function(n){e(function(e,i){n(!e||t,{err:e,result:i})},o)}};e;)i.push(a(t,!(e-=1)));s.series(i,function(e,t){t=t[t.length-1],(r||n)(t.err,t.result)})};return n?r():r},s.waterfall=function(e,t){if(t=t||function(){},!d(e)){var n=new Error("First argument to waterfall must be an array of functions");return t(n)}if(!e.length)return t();!(function e(n){return function(i){if(i)t.apply(null,arguments),t=function(){};else{var r=Array.prototype.slice.call(arguments,1),o=n.next();o?r.push(e(o)):r.push(t),s.setImmediate(function(){n.apply(null,r)})}}})(s.iterator(e))()};var b=function(e,t,n){if(n=n||function(){},d(t))e.map(t,function(e,t){e&&e(function(e){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),t.call(null,e,n)})},n);else{var i={};e.each(p(t),function(e,n){t[e](function(t){var r=Array.prototype.slice.call(arguments,1);r.length<=1&&(r=r[0]),i[e]=r,n(t)})},function(e){n(e,i)})}};s.parallel=function(e,t){b({map:s.map,each:s.each},e,t)},s.parallelLimit=function(e,t,n){b({map:y(t),each:f(t)},e,n)},s.series=function(e,t){if(t=t||function(){},d(e))s.mapSeries(e,function(e,t){e&&e(function(e){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),t.call(null,e,n)})},t);else{var n={};s.eachSeries(p(e),function(t,i){e[t](function(e){var r=Array.prototype.slice.call(arguments,1);r.length<=1&&(r=r[0]),n[t]=r,i(e)})},function(e){t(e,n)})}},s.iterator=function(e){return(function t(n){var i=function t(){return e.length&&e[n].apply(null,arguments),t.next()};return i.next=function(){return n<e.length-1?t(n+1):null},i})(0)},s.apply=function(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t.concat(Array.prototype.slice.call(arguments)))}};var C=function(e,t,n,i){var r=[];e(t,function(e,t){n(e,function(e,n){r=r.concat(n||[]),t(e)})},function(e){i(e,r)})};s.concat=m(C),s.concatSeries=v(C),s.whilst=function(e,t,n){e()?t(function(i){if(i)return n(i);s.whilst(e,t,n)}):n()},s.doWhilst=function(e,t,n){e(function(i){if(i)return n(i);var r=Array.prototype.slice.call(arguments,1);t.apply(null,r)?s.doWhilst(e,t,n):n()})},s.until=function(e,t,n){e()?n():t(function(i){if(i)return n(i);s.until(e,t,n)})},s.doUntil=function(e,t,n){e(function(i){if(i)return n(i);var r=Array.prototype.slice.call(arguments,1);t.apply(null,r)?n():s.doUntil(e,t,n)})},s.queue=function(e,t){function n(e,t,n,i){if(e.started||(e.started=!0),d(t)||(t=[t]),0==t.length)return s.setImmediate(function(){e.drain&&e.drain()});l(t,function(t){var r={data:t,callback:"function"==typeof i?i:null};n?e.tasks.unshift(r):e.tasks.push(r),e.saturated&&e.tasks.length===e.concurrency&&e.saturated(),s.setImmediate(e.process)})}void 0===t&&(t=1);var i=0,r={tasks:[],concurrency:t,saturated:null,empty:null,drain:null,started:!1,paused:!1,push:function(e,t){n(r,e,!1,t)},kill:function(){r.drain=null,r.tasks=[]},unshift:function(e,t){n(r,e,!0,t)},process:function(){if(!r.paused&&i<r.concurrency&&r.tasks.length){var t=r.tasks.shift();r.empty&&0===r.tasks.length&&r.empty(),i+=1;var n=c(function(){i-=1,t.callback&&t.callback.apply(t,arguments),r.drain&&r.tasks.length+i===0&&r.drain(),r.process()});e(t.data,n)}},length:function(){return r.tasks.length},running:function(){return i},idle:function(){return r.tasks.length+i===0},pause:function(){!0!==r.paused&&(r.paused=!0,r.process())},resume:function(){!1!==r.paused&&(r.paused=!1,r.process())}};return r},s.priorityQueue=function(e,t){function n(e,t){return e.priority-t.priority}var i=s.queue(e,t);return i.push=function(e,t,r){!(function(e,t,i,r){if(e.started||(e.started=!0),d(t)||(t=[t]),0==t.length)return s.setImmediate(function(){e.drain&&e.drain()});l(t,function(t){var o={data:t,priority:i,callback:"function"==typeof r?r:null};e.tasks.splice((function(e,t,n){for(var i=-1,r=e.length-1;i<r;){var o=i+(r-i+1>>>1);n(t,e[o])>=0?i=o:r=o-1}return i})(e.tasks,o,n)+1,0,o),e.saturated&&e.tasks.length===e.concurrency&&e.saturated(),s.setImmediate(e.process)})})(i,e,t,r)},delete i.unshift,i},s.cargo=function(e,t){var n=!1,i=[],r={tasks:i,payload:t,saturated:null,empty:null,drain:null,drained:!0,push:function(e,n){d(e)||(e=[e]),l(e,function(e){i.push({data:e,callback:"function"==typeof n?n:null}),r.drained=!1,r.saturated&&i.length===t&&r.saturated()}),s.setImmediate(r.process)},process:function o(){if(!n){if(0===i.length)return r.drain&&!r.drained&&r.drain(),void(r.drained=!0);var a="number"==typeof t?i.splice(0,t):i.splice(0,i.length),s=h(a,function(e){return e.data});r.empty&&r.empty(),n=!0,e(s,function(){n=!1;var e=arguments;l(a,function(t){t.callback&&t.callback.apply(null,e)}),o()})}},length:function(){return i.length},running:function(){return n}};return r};var T=function(e){return function(t){var n=Array.prototype.slice.call(arguments,1);t.apply(null,n.concat([function(t){var n=Array.prototype.slice.call(arguments,1);"undefined"!=typeof console&&(t?console.error&&console.error(t):console[e]&&l(n,function(t){console[e](t)}))}]))}};s.log=T("log"),s.dir=T("dir"),s.memoize=function(e,t){var n={},i={};t=t||function(e){return e};var r=function(){var r=Array.prototype.slice.call(arguments),o=r.pop(),a=t.apply(null,r);a in n?s.nextTick(function(){o.apply(null,n[a])}):a in i?i[a].push(o):(i[a]=[o],e.apply(null,r.concat([function(){n[a]=arguments;var e=i[a];delete i[a];for(var t=0,r=e.length;t<r;t++)e[t].apply(null,arguments)}])))};return r.memo=n,r.unmemoized=e,r},s.unmemoize=function(e){return function(){return(e.unmemoized||e).apply(null,arguments)}},s.times=function(e,t,n){for(var i=[],r=0;r<e;r++)i.push(r);return s.map(i,t,n)},s.timesSeries=function(e,t,n){for(var i=[],r=0;r<e;r++)i.push(r);return s.mapSeries(i,t,n)},s.seq=function(){var e=arguments;return function(){var t=this,n=Array.prototype.slice.call(arguments),i=n.pop();s.reduce(e,n,function(e,n,i){n.apply(t,e.concat([function(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);i(e,t)}]))},function(e,n){i.apply(t,[e].concat(n))})}},s.compose=function(){return s.seq.apply(null,Array.prototype.reverse.call(arguments))};var A=function(e,t){var n=function(){var n=this,i=Array.prototype.slice.call(arguments),r=i.pop();return e(t,function(e,t){e.apply(n,i.concat([t]))},r)};if(arguments.length>2){var i=Array.prototype.slice.call(arguments,2);return n.apply(this,i)}return n};s.applyEach=m(A),s.applyEachSeries=v(A),s.forever=function(e,t){!(function n(i){if(i){if(t)return t(i);throw i}e(n)})()},e.exports?e.exports=s:void 0===(r=function(){return s}.apply(t,[]))||(e.exports=r)})()}).call(this,n(51),n(146).setImmediate)},function(e,t,n){"use strict";(function(e){var i=n(4),r=n(2);n(14);var o=Object(i.getLogger)(e),a=-1,s=/request id \d+.\d+ got 200/,c=/request errored, status: (\d+), number of errors: \d+/;t.a=function(){r.Strophe.log=function(e,t){switch(o.trace("Strophe",e,t),"string"==typeof t&&-1!==t.indexOf("Request ")&&-1!==t.indexOf("timed out (secondary), restarting")&&(e=r.Strophe.LogLevel.WARN),e){case r.Strophe.LogLevel.DEBUG:-1!==a&&s.test(t)&&(o.debug("Reset lastErrorStatus"),a=-1);break;case r.Strophe.LogLevel.WARN:o.warn("Strophe: "+t);var n=c.exec(t);n&&2===n.length&&(a=parseInt(n[1],10),o.debug("lastErrorStatus set to: "+a));break;case r.Strophe.LogLevel.ERROR:case r.Strophe.LogLevel.FATAL:t="Strophe: "+t}},r.Strophe.getLastErrorStatus=function(){return a},r.Strophe.getStatusString=function(e){switch(e){case r.Strophe.Status.BINDREQUIRED:return"BINDREQUIRED";case r.Strophe.Status.ERROR:return"ERROR";case r.Strophe.Status.CONNECTING:return"CONNECTING";case r.Strophe.Status.CONNFAIL:return"CONNFAIL";case r.Strophe.Status.AUTHENTICATING:return"AUTHENTICATING";case r.Strophe.Status.AUTHFAIL:return"AUTHFAIL";case r.Strophe.Status.CONNECTED:return"CONNECTED";case r.Strophe.Status.DISCONNECTED:return"DISCONNECTED";case r.Strophe.Status.DISCONNECTING:return"DISCONNECTING";case r.Strophe.Status.ATTACHED:return"ATTACHED";default:return"unknown"}}}}).call(this,"modules/xmpp/strophe.util.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return c});var i=n(4),r=n(2),o=(n(14),n(36)),a=Object(i.getLogger)(e),s=12,c=(function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).failedPings=0,n.xmpp=e,n.pingExecIntervals=new Array(s),n}return _inherits(t,e),_createClass(t,[{key:"init",value:function(e){_get(_getPrototypeOf(t.prototype),"init",this).call(this,e),r.Strophe.addNamespace("PING","urn:xmpp:ping")}},{key:"ping",value:function(e,t,n,i){this._addPingExecutionTimestamp();var o=Object(r.$iq)({type:"get",to:e});o.c("ping",{xmlns:r.Strophe.NS.PING}),this.connection.sendIQ2(o,{timeout:i}).then(t,n)}},{key:"startInterval",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e4;clearInterval(this.intervalId),this.intervalId=window.setInterval(function(){t.ping(e,function(){t.failedPings=0},function(e){t.failedPings+=1;var n="Ping "+(e?"error":"timeout");t.failedPings>=3||a.warn(n,e)},15e3)},n),a.info("XMPP pings will be sent every "+n+" ms")}},{key:"stopInterval",value:function(){this.intervalId&&(window.clearInterval(this.intervalId),this.intervalId=null,this.failedPings=0,a.info("Ping interval cleared"))}},{key:"_addPingExecutionTimestamp",value:function(){this.pingExecIntervals.push((new Date).getTime()),this.pingExecIntervals.length>s&&this.pingExecIntervals.shift()}},{key:"getPingSuspendTime",value:function(){var e=this.pingExecIntervals.slice();e.push((new Date).getTime());var t=0,n=e[0];return e.forEach(function(e){var i=e-n;i>t&&(t=i),n=e}),t-=1e4,Math.max(t,0)}}]),t})(o.b)}).call(this,"modules/xmpp/strophe.ping.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return c});var i=n(4),r=n(2),o=n(36),a=Object(i.getLogger)(e),s="urn:xmpp:rayo:1",c=(function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"init",value:function(e){_get(_getPrototypeOf(t.prototype),"init",this).call(this,e),this.connection.addHandler(this.onRayo.bind(this),s,"iq","set",null,null)}},{key:"onRayo",value:function(e){a.info("Rayo IQ",e)}},{key:"dial",value:function(e,t,n,i,o){var c=this;return new Promise(function(u,d){if(o){var l=Object(r.$iq)({type:"set",to:o});l.c("dial",{xmlns:s,to:e,from:t}),l.c("header",{name:"JvbRoomName",value:n}).up(),i&&i.length&&l.c("header",{name:"JvbRoomPassword",value:i}).up(),c.connection.sendIQ(l,function(e){a.info("Dial result ",e);var t=$(e).find("ref").attr("uri");c.callResource=t.substr("xmpp:".length),a.info("Received call resource: "+c.callResource),u()},function(e){a.info("Dial error ",e),d(e)})}else d(new Error("Internal error!"))})}},{key:"hangup",value:function(){var e=this;return new Promise(function(t,n){if(!e.callResource)return n(new Error("No call in progress")),void a.warn("No call in progress");var i=Object(r.$iq)({type:"set",to:e.callResource});i.c("hangup",{xmlns:s}),e.connection.sendIQ(i,function(n){a.info("Hangup result ",n),e.callResource=null,t()},function(t){a.info("Hangup error ",t),e.callResource=null,n(new Error("Hangup error "))})})}}]),t})(o.b)}).call(this,"modules/xmpp/strophe.rayo.js")},function(e,t,n){"use strict";var i=n(2),r=(function(e){function t(){var e;return _classCallCheck(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).log=[],e}return _inherits(t,e),_createClass(t,[{key:"init",value:function(e){_get(_getPrototypeOf(t.prototype),"init",this).call(this,e),this.connection.rawInput=this.logIncoming.bind(this),this.connection.rawOutput=this.logOutgoing.bind(this)}},{key:"logIncoming",value:function(e){this.log.push([(new Date).getTime(),"incoming",e])}},{key:"logOutgoing",value:function(e){this.log.push([(new Date).getTime(),"outgoing",e])}}]),t})(n(36).b);t.a=function(){i.Strophe.addConnectionPlugin("logger",new r)}},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=n(3),r=n(8),o=n.n(r),a=(function(){function e(t){_classCallCheck(this,e),this.conference=t,t.addEventListener(i.TRACK_AUDIO_LEVEL_CHANGED,this._audioLevel.bind(this)),this.myUserID=this.conference.myUserId()}return _createClass(e,[{key:"_audioLevel",value:function(e,t){!this.conference.isP2PActive()||t<=.6||e===this.myUserID&&this.conference.getLocalAudioTrack().isMuted()||this.conference.rtc.eventEmitter.emit(o.a.DOMINANT_SPEAKER_CHANGED,e)}}]),e})()},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n(3),r=(function(){function e(t,n){_classCallCheck(this,e),this._callback=n,this._eventFired=!1,t.statistics.addAudioLevelListener(this._audioLevel.bind(this)),t.on(i.TRACK_MUTE_CHANGED,this._trackMuteChanged.bind(this)),t.on(i.TRACK_ADDED,this._trackAdded.bind(this))}return _createClass(e,[{key:"_audioLevel",value:function(e,t,n,i){i&&this.audioTrack&&!this._eventFired&&this.audioTrack.isMuted()&&n>.6&&(this._eventFired=!0,this._callback())}},{key:"_isLocalAudioTrack",value:function(e){return e.isAudioTrack()&&e.isLocal()}},{key:"_trackAdded",value:function(e){this._isLocalAudioTrack(e)&&(this.audioTrack=e)}},{key:"_trackMuteChanged",value:function(e){this._isLocalAudioTrack(e)&&e.isMuted()&&(this._eventFired=!1)}}]),e})()},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=n(20),r=n(29),o=n(21),a=(function(e){function t(){var e;return _classCallCheck(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._processing=!1,e._scoreArray=[],e._active=!1,e._calculateVADScore=e._calculateVADScore.bind(_assertThisInitialized(e)),e}return _inherits(t,e),_createClass(t,[{key:"_calculateVADScore",value:function(){Object(r.a)(this._scoreArray)>.6&&(this.emit(o.VAD_TALK_WHILE_MUTED),this._setActiveState(!1)),this.reset()}},{key:"_setActiveState",value:function(e){this._active=e,this.emit(o.DETECTOR_STATE_CHANGE,this._active)}},{key:"changeMuteState",value:function(e){this._setActiveState(e),this.reset()}},{key:"isActive",value:function(){return this._active}},{key:"processVADScore",value:function(e){this._active&&(this._processing?this._scoreArray.push(e.score):e.score>.9&&(this._processing=!0,this._scoreArray.push(e.score),this._processTimeout=setTimeout(this._calculateVADScore,700)))}},{key:"reset",value:function(){this._processing=!1,this._scoreArray=[],clearTimeout(this._processTimeout)}}]),t})(i.EventEmitter)},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=n(20),r=n(29),o=n(21),a=(function(e){function t(){var e;return _classCallCheck(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._processing=!1,e._scoreArray=[],e._audioLvlArray=[],e._active=!1,e._calculateNoisyScore=e._calculateNoisyScore.bind(_assertThisInitialized(e)),e}return _inherits(t,e),_createClass(t,[{key:"_calculateNoisyScore",value:function(){var e=Object(r.a)(this._scoreArray),t=Object(r.a)(this._audioLvlArray);e<.2&&t>.04&&(this.emit(o.VAD_NOISY_DEVICE),this._setActiveState(!1)),this.reset()}},{key:"_recordValues",value:function(e,t){this._scoreArray.push(e),this._audioLvlArray.push(t)}},{key:"_setActiveState",value:function(e){this._active=e,this.emit(o.DETECTOR_STATE_CHANGE,this._active)}},{key:"changeMuteState",value:function(e){this._setActiveState(!e),this.reset()}},{key:"isActive",value:function(){return this._active}},{key:"reset",value:function(){this._processing=!1,this._scoreArray=[],this._audioLvlArray=[],clearTimeout(this._processTimeout)}},{key:"processVADScore",value:function(e){if(this._active)if(this._processing){var t=Object(r.b)(e.pcmData);this._recordValues(e.score,Object(r.a)(t))}else if(e.score<.2){var n=Object(r.b)(e.pcmData),i=Object(r.a)(n);i>.02&&(this._processing=!0,this._recordValues(e.score,i),this._processTimeout=setTimeout(this._calculateNoisyScore,1500))}}}]),t})(i.EventEmitter)},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var i=n(20),r=n.n(i),o=n(3),a=n(21),s=(function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._conference=e,n._timeoutTrigger=null,n._hasAudioInput=null,e.statistics.addAudioLevelListener(n._audioLevel.bind(_assertThisInitialized(n))),e.on(o.TRACK_ADDED,n._trackAdded.bind(_assertThisInitialized(n))),n}return _inherits(t,e),_createClass(t,[{key:"_clearTriggerTimeout",value:function(){clearTimeout(this._timeoutTrigger),this._timeoutTrigger=null}},{key:"_handleAudioInputStateChange",value:function(e){var t=0!==e;null!==this._hasAudioInput&&this._hasAudioInput===t||(this._hasAudioInput=t,this.emit(a.AUDIO_INPUT_STATE_CHANGE,this._hasAudioInput))}},{key:"_handleNoAudioInputDetection",value:function(e){var t=this;this._eventFired||(0!==e||this._timeoutTrigger?0!==e&&this._timeoutTrigger&&this._clearTriggerTimeout():this._timeoutTrigger=setTimeout(function(){t._eventFired=!0,t.emit(a.NO_AUDIO_INPUT)},4e3))}},{key:"_audioLevel",value:function(e,t,n,i){if(i&&this._audioTrack){var r=e.localSSRCs.get(this._audioTrack.rtcId);r&&r.ssrcs.includes(t)&&(this._handleAudioInputStateChange(n),this._handleNoAudioInputDetection(n))}}},{key:"_trackAdded",value:function(e){e.isLocalAudioTrack()&&(this._audioTrack=e,this._eventFired=!1,this._clearTriggerTimeout())}}]),t})(r.a)},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return f});var i=n(28),r=n(3),o=n(4),a=n(0),s=n(12),c=n(31),u=(Object(o.getLogger)(e),"stats"),d=[{width:1920,height:1080,layers:3,max:5e3,target:4e3,min:800},{width:1280,height:720,layers:3,max:2500,target:2500,min:600},{width:960,height:540,layers:3,max:900,target:900,min:450},{width:640,height:360,layers:2,max:700,target:500,min:150},{width:480,height:270,layers:2,max:450,target:350,min:150},{width:320,height:180,layers:1,max:200,target:150,min:30}],l=800,h=null;function p(e,t,n){if(n<15e3)return 1;var i=0,r=Math.min(t.height,t.width);if(e){var o=d.find(function(e){return e.height<=r});if(o){var a=function(){var e=r;if(!(o=d.find(function(t){return t.height===e})))return"break";i+=o.target};for(r=o.height;r>=180;r/=2){if("break"===a())break}}}else{var s=t.width*t.height;i=s<=76800?600:s<=307200?1700:s<=518400?2e3:2500}return Math.min(i,(function(e){return e>6e4?Number.MAX_SAFE_INTEGER:l*Math.pow(1.08,e/1e3)})(Math.max(0,n-1e3)))}var f=(function(){function e(t,n,o){var s=this;_classCallCheck(this,e),this.eventEmitter=n,this._conference=t,this._localStats={connectionQuality:100,jvbRTT:void 0},this._lastConnectionQualityUpdate=-1,this._remoteStats={},this._timeIceConnected=-1,this._timeVideoUnmuted=-1,this._timeLastBwCapRemoved=-1,o.config.startBitrate&&o.config.startBitrate>0&&(l=o.config.startBitrate),t.on(r.CONNECTION_INTERRUPTED,function(){s._updateLocalConnectionQuality(0),s.eventEmitter.emit(i.LOCAL_STATS_UPDATED,s._localStats),s._broadcastLocalStats()}),t.room.addListener(a.ICE_CONNECTION_STATE_CHANGED,function(e,t){e.isP2P||"connected"!==t||(s._timeIceConnected=window.performance.now())}),t.on(r.ENDPOINT_MESSAGE_RECEIVED,function(e,t){t.type===u&&s._updateRemoteStats(e.getId(),t.values)}),t.statistics.addConnectionStatsListener(this._updateLocalStats.bind(this)),t.on(r.TRACK_MUTE_CHANGED,function(e){e.isVideoTrack()&&(e.isMuted()?s._timeVideoUnmuted=-1:s._maybeUpdateUnmuteTime())}),t.on(r.TRACK_ADDED,function(e){e.isVideoTrack()&&!e.isMuted()&&s._maybeUpdateUnmuteTime()}),t.on(r.SERVER_REGION_CHANGED,function(e){s._localStats.serverRegion=e}),t.on(r.PROPERTIES_CHANGED,function(e){s._localStats.bridgeCount=Number((e||{})["bridge-count"])})}return _createClass(e,[{key:"_maybeUpdateUnmuteTime",value:function(){this._timeVideoUnmuted<0&&(this._timeVideoUnmuted=window.performance.now())}},{key:"_calculateConnectionQuality",value:function(e,t,n){var i,r=c[n],o=100;if(this._localStats.packetLoss&&(i=this._localStats.packetLoss.upload,t&&(i*=.5)),t||!r||e===s.DESKTOP||this._timeIceConnected<0||this._timeVideoUnmuted<0)o=void 0===i?100:i<=2?100:i<=4?70:i<=6?50:i<=8?30:i<=12?10:0;else{var a=this._conference.getActivePeerConnection(),u=Boolean(a&&a.isSimulcastOn()),d=a&&a.bandwidthLimiter&&a.bandwidthLimiter.getBandwidthLimit("video");!d&&h&&(this._timeLastBwCapRemoved=window.performance.now(),l=h),h=d;var f=p(u,r,window.performance.now()-Math.max(this._timeVideoUnmuted,this._timeIceConnected,this._timeLastBwCapRemoved));f=Math.min(.9*f,2500),h&&(f=Math.min(f,h)),o=100*this._localStats.bitrate.upload/f,i&&i>=10&&(o=Math.min(o,30))}if(this._lastConnectionQualityUpdate>0){var m=this._localStats.connectionQuality,v=(window.performance.now()-this._lastConnectionQualityUpdate)/1e3;o=Math.min(o,m+2*v)}return Math.min(100,o)}},{key:"_updateLocalConnectionQuality",value:function(e){this._localStats.connectionQuality=e,this._lastConnectionQualityUpdate=window.performance.now()}},{key:"_broadcastLocalStats",value:function(){var e={bitrate:this._localStats.bitrate,packetLoss:this._localStats.packetLoss,connectionQuality:this._localStats.connectionQuality,jvbRTT:this._localStats.jvbRTT,serverRegion:this._localStats.serverRegion,avgAudioLevels:this._localStats.localAvgAudioLevels};try{this._conference.broadcastEndpointMessage({type:u,values:e})}catch(e){}}},{key:"_updateLocalStats",value:function(e,t){if(!e.isP2P){var n=t.transport&&t.transport.length&&t.transport[0].rtt;this._localStats.jvbRTT=n||void 0}if(e===this._conference.getActivePeerConnection()){var r,o=!this._conference.isConnectionInterrupted(),a=this._conference.getLocalVideoTrack(),s=a?a.videoType:void 0,c=!a||a.isMuted(),u=a?a.resolution:null;for(r in c||this._maybeUpdateUnmuteTime(),t)t.hasOwnProperty(r)&&(this._localStats[r]=t[r]);o&&this._updateLocalConnectionQuality(this._calculateConnectionQuality(s,c,u)),this.eventEmitter.emit(i.LOCAL_STATS_UPDATED,this._localStats),this._broadcastLocalStats()}}},{key:"_updateRemoteStats",value:function(e,t){this._remoteStats[e]={bitrate:t.bitrate,packetLoss:t.packetLoss,connectionQuality:t.connectionQuality,jvbRTT:t.jvbRTT,serverRegion:t.serverRegion,avgAudioLevels:t.avgAudioLevels},this.eventEmitter.emit(i.REMOTE_STATS_UPDATED,e,this._remoteStats[e])}},{key:"getStats",value:function(){return this._localStats}}]),e})()}).call(this,"modules/connectivity/ConnectionQuality.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return o});var i=n(4),r=Object(i.getLogger)(e),o=(function(){function e(t){_classCallCheck(this,e),this._conference=t}return _createClass(e,[{key:"start",value:function(e){var t=this;this._conference.xmpp.ping(65e3).then(function(){if(!t._canceled){var n=t._conference.jvbJingleSession,i=n&&n.getIceConnectionState();n?"connected"===i?r.info("ICE connection restored - not sending ICE failed"):t._iceFailedTimeout=window.setTimeout(function(){r.info("Sending ICE failed - the connection has not recovered: "+i),t._iceFailedTimeout=void 0,e.sendIceFailedNotification()},2e3):r.warn("Not sending ICE failed - no JVB connection")}},function(e){})}},{key:"cancel",value:function(){this._canceled=!0,this._iceFailedTimeout&&window.clearTimeout(this._iceFailedTimeout)}}]),e})()}).call(this,"modules/connectivity/IceFailedNotification.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return s});var i=n(118),r=n(4),o=Object(r.getLogger)(e),a=Symbol("kJitsiE2EE"),s=(function(){function e(t){_classCallCheck(this,e),this._options=t,this._worker=new Worker(Object(i.a)(),{name:"E2EE Worker"}),this._worker.onerror=function(e){return o.onerror(e)};var n=new TextEncoder;this._worker.postMessage({operation:"initialize",salt:n.encode(t.salt)})}return _createClass(e,[{key:"handleReceiver",value:function(e,t){if(!e[a]){e[a]=!0;var n="video"===t?e.createEncodedVideoStreams():e.createEncodedAudioStreams();this._worker.postMessage({operation:"decode",readableStream:n.readableStream,writableStream:n.writableStream},[n.readableStream,n.writableStream])}}},{key:"handleSender",value:function(e,t){if(!e[a]){e[a]=!0;var n="video"===t?e.createEncodedVideoStreams():e.createEncodedAudioStreams();this._worker.postMessage({operation:"encode",readableStream:n.readableStream,writableStream:n.writableStream},[n.readableStream,n.writableStream])}}},{key:"setKey",value:function(e){var t;t=!!e&&(new TextEncoder).encode(e),this._worker.postMessage({operation:"setKey",key:t})}}]),e})()}).call(this,"modules/e2ee/E2EEContext.js")},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=function(){return URL.createObjectURL(new Blob(["\n    // We use a ringbuffer of keys so we can change them and still decode packets that were\n    // encrypted with an old key.\n    // In the future when we dont rely on a globally shared key we will actually use it. For\n    // now set the size to 1 which means there is only a single key. This causes some\n    // glitches when changing the key but its ok.\n    const keyRingSize = 1;\n\n    // We use a 96 bit IV for AES GCM. This is signalled in plain together with the\n    // packet. See https://developer.mozilla.org/en-US/docs/Web/API/AesGcmParams\n    const ivLength = 12;\n\n    // We copy the first bytes of the VP8 payload unencrypted.\n    // For keyframes this is 10 bytes, for non-keyframes (delta) 3. See\n    //   https://tools.ietf.org/html/rfc6386#section-9.1\n    // This allows the bridge to continue detecting keyframes (only one byte needed in the JVB)\n    // and is also a bit easier for the VP8 decoder (i.e. it generates funny garbage pictures\n    // instead of being unable to decode).\n    // This is a bit for show and we might want to reduce to 1 unconditionally in the final version.\n    //\n    // For audio (where frame.type is not set) we do not encrypt the opus TOC byte:\n    //   https://tools.ietf.org/html/rfc6716#section-3.1\n    const unencryptedBytes = {\n        key: 10,\n        delta: 3,\n        undefined: 1 // frame.type is not set on audio\n    };\n\n    // An array (ring) of keys that we use for sending and receiving.\n    const cryptoKeyRing = new Array(keyRingSize);\n\n        // A pointer to the currently used key.\n    let currentKeyIndex = -1;\n\n    // We keep track of how many frames we have sent per ssrc.\n    // Starts with a random offset similar to the RTP sequence number.\n    const sendCounts = new Map();\n\n    // Salt used in key derivation\n    // FIXME: We currently use the MUC room name for this which has the same lifetime\n    // as this worker. While not (pseudo)random as recommended in\n    // https://developer.mozilla.org/en-US/docs/Web/API/Pbkdf2Params\n    // this is easily available and the same for all participants.\n    // We currently do not enforce a minimum length of 16 bytes either.\n    let salt;\n\n    /**\n     * Derives a AES-GCM key with 128 bits from the input using PBKDF2\n     * The salt is configured in the constructor of this class.\n     * @param {Uint8Array} keyBytes - Value to derive key from\n     */\n    async function deriveKey(keyBytes) {\n        // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/importKey\n        const material = await crypto.subtle.importKey('raw', keyBytes,\n            'PBKDF2', false, [ 'deriveBits', 'deriveKey' ]);\n\n        // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/deriveKey#PBKDF2\n        return crypto.subtle.deriveKey({\n            name: 'PBKDF2',\n            salt,\n            iterations: 100000,\n            hash: 'SHA-256'\n        }, material, {\n            name: 'AES-GCM',\n            length: 128\n        }, false, [ 'encrypt', 'decrypt' ]);\n    }\n\n    /**\n     * Construct the IV used for AES-GCM and sent (in plain) with the packet similar to\n     * https://tools.ietf.org/html/rfc7714#section-8.1\n     * It concatenates\n     * - the 32 bit synchronization source (SSRC) given on the encoded frame,\n     * - the 32 bit rtp timestamp given on the encoded frame,\n     * - a send counter that is specific to the SSRC. Starts at a random number.\n     * The send counter is essentially the pictureId but we currently have to implement this ourselves.\n     * There is no XOR with a salt. Note that this IV leaks the SSRC to the receiver but since this is\n     * randomly generated and SFUs may not rewrite this is considered acceptable.\n     * The SSRC is used to allow demultiplexing multiple streams with the same key, as described in\n     *   https://tools.ietf.org/html/rfc3711#section-4.1.1\n     * The RTP timestamp is 32 bits and advances by the codec clock rate (90khz for video, 48khz for\n     * opus audio) every second. For video it rolls over roughly every 13 hours.\n     * The send counter will advance at the frame rate (30fps for video, 50fps for 20ms opus audio)\n     * every second. It will take a long time to roll over.\n     *\n     * See also https://developer.mozilla.org/en-US/docs/Web/API/AesGcmParams\n     */\n    function makeIV(synchronizationSource, timestamp) {\n        const iv = new ArrayBuffer(ivLength);\n        const ivView = new DataView(iv);\n\n        // having to keep our own send count (similar to a picture id) is not ideal.\n        if (!sendCounts.has(synchronizationSource)) {\n            // Initialize with a random offset, similar to the RTP sequence number.\n            sendCounts.set(synchronizationSource, Math.floor(Math.random() * 0xFFFF));\n        }\n        const sendCount = sendCounts.get(synchronizationSource);\n\n        ivView.setUint32(0, synchronizationSource);\n        ivView.setUint32(4, timestamp);\n        ivView.setUint32(8, sendCount % 0xFFFF);\n\n        sendCounts.set(synchronizationSource, sendCount + 1);\n\n        return iv;\n    }\n\n    /**\n     * Function that will be injected in a stream and will encrypt the given encoded frames.\n     *\n     * @param {RTCEncodedVideoFrame|RTCEncodedAudioFrame} encodedFrame - Encoded video frame.\n     * @param {TransformStreamDefaultController} controller - TransportStreamController.\n     *\n     * The packet format is described below. One of the design goals was to not require\n     * changes to the SFU which for video requires not encrypting the keyframe bit of VP8\n     * as SFUs need to detect a keyframe (framemarking or the generic frame descriptor will\n     * solve this eventually). This also \"hides\" that a client is using E2EE a bit.\n     *\n     * Note that this operates on the full frame, i.e. for VP8 the data described in\n     *   https://tools.ietf.org/html/rfc6386#section-9.1\n     *\n     * The VP8 payload descriptor described in\n     *   https://tools.ietf.org/html/rfc7741#section-4.2\n     * is part of the RTP packet and not part of the frame and is not controllable by us.\n     * This is fine as the SFU keeps having access to it for routing.\n     *\n     * The encrypted frame is formed as follows:\n     * 1) Leave the first (10, 3, 1) bytes unencrypted, depending on the frame type and kind.\n     * 2) Form the GCM IV for the frame as described above.\n     * 3) Encrypt the rest of the frame using AES-GCM.\n     * 4) Allocate space for the encrypted frame.\n     * 5) Copy the unencrypted bytes to the start of the encrypted frame.\n     * 6) Append the ciphertext to the encrypted frame.\n     * 7) Append the IV.\n     * 8) Append a single byte for the key identifier. TODO: we don't need all the bits.\n     * 9) Enqueue the encrypted frame for sending.\n     */\n    function encodeFunction(encodedFrame, controller) {\n        const keyIndex = currentKeyIndex % cryptoKeyRing.length;\n\n        if (cryptoKeyRing[keyIndex]) {\n            const iv = makeIV(encodedFrame.synchronizationSource, encodedFrame.timestamp);\n\n            return crypto.subtle.encrypt({\n                name: 'AES-GCM',\n                iv,\n                additionalData: new Uint8Array(encodedFrame.data, 0, unencryptedBytes[encodedFrame.type])\n            }, cryptoKeyRing[keyIndex], new Uint8Array(encodedFrame.data, unencryptedBytes[encodedFrame.type]))\n            .then(cipherText => {\n                const newData = new ArrayBuffer(unencryptedBytes[encodedFrame.type] + cipherText.byteLength\n                    + iv.byteLength + 1);\n                const newUint8 = new Uint8Array(newData);\n\n                newUint8.set(\n                    new Uint8Array(encodedFrame.data, 0, unencryptedBytes[encodedFrame.type])); // copy first bytes.\n                newUint8.set(\n                    new Uint8Array(cipherText), unencryptedBytes[encodedFrame.type]); // add ciphertext.\n                newUint8.set(\n                    new Uint8Array(iv), unencryptedBytes[encodedFrame.type] + cipherText.byteLength); // append IV.\n                newUint8[unencryptedBytes[encodedFrame.type] + cipherText.byteLength + ivLength]\n                    = keyIndex; // set key index.\n\n                encodedFrame.data = newData;\n\n                return controller.enqueue(encodedFrame);\n            }, e => {\n                console.error(e);\n\n                // We are not enqueuing the frame here on purpose.\n            });\n        }\n\n        /* NOTE WELL:\n         * This will send unencrypted data (only protected by DTLS transport encryption) when no key is configured.\n         * This is ok for demo purposes but should not be done once this becomes more relied upon.\n         */\n        controller.enqueue(encodedFrame);\n    }\n\n    /**\n     * Function that will be injected in a stream and will decrypt the given encoded frames.\n     *\n     * @param {RTCEncodedVideoFrame|RTCEncodedAudioFrame} encodedFrame - Encoded video frame.\n     * @param {TransformStreamDefaultController} controller - TransportStreamController.\n     *\n     * The decrypted frame is formed as follows:\n     * 1) Extract the key index from the last byte of the encrypted frame.\n     *    If there is no key associated with the key index, the frame is enqueued for decoding\n     *    and these steps terminate.\n     * 2) Determine the frame type in order to look up the number of unencrypted header bytes.\n     * 2) Extract the 12-byte IV from its position near the end of the packet.\n     *    Note: the IV is treated as opaque and not reconstructed from the input.\n     * 3) Decrypt the encrypted frame content after the unencrypted bytes using AES-GCM.\n     * 4) Allocate space for the decrypted frame.\n     * 5) Copy the unencrypted bytes from the start of the encrypted frame.\n     * 6) Append the plaintext to the decrypted frame.\n     * 7) Enqueue the decrypted frame for decoding.\n     */\n    function decodeFunction(encodedFrame, controller) {\n        const data = new Uint8Array(encodedFrame.data);\n        const keyIndex = data[encodedFrame.data.byteLength - 1];\n\n        if (cryptoKeyRing[keyIndex]) {\n            const iv = new Uint8Array(encodedFrame.data, encodedFrame.data.byteLength - ivLength - 1, ivLength);\n            const cipherTextStart = unencryptedBytes[encodedFrame.type];\n            const cipherTextLength = encodedFrame.data.byteLength - (unencryptedBytes[encodedFrame.type]\n                + ivLength + 1);\n\n            return crypto.subtle.decrypt({\n                name: 'AES-GCM',\n                iv,\n                additionalData: new Uint8Array(encodedFrame.data, 0, unencryptedBytes[encodedFrame.type])\n            }, cryptoKeyRing[keyIndex], new Uint8Array(encodedFrame.data, cipherTextStart, cipherTextLength))\n            .then(plainText => {\n                const newData = new ArrayBuffer(unencryptedBytes[encodedFrame.type] + plainText.byteLength);\n                const newUint8 = new Uint8Array(newData);\n\n                newUint8.set(new Uint8Array(encodedFrame.data, 0, unencryptedBytes[encodedFrame.type]));\n                newUint8.set(new Uint8Array(plainText), unencryptedBytes[encodedFrame.type]);\n\n                encodedFrame.data = newData;\n\n                return controller.enqueue(encodedFrame);\n            }, e => {\n                // TODO: notify the application about error status.\n\n                // TODO: For video we need a better strategy since we do not want to based any\n                // non-error frames on a garbage keyframe.\n                if (encodedFrame.type === undefined) { // audio, replace with silence.\n                    // audio, replace with silence.\n                    const newData = new ArrayBuffer(3);\n                    const newUint8 = new Uint8Array(newData);\n\n                    newUint8.set([ 0xd8, 0xff, 0xfe ]); // opus silence frame.\n                    encodedFrame.data = newData;\n                    controller.enqueue(encodedFrame);\n                }\n            });\n        } else if (keyIndex >= cryptoKeyRing.length && cryptoKeyRing[currentKeyIndex % cryptoKeyRing.length]) {\n            // If we are encrypting but don't have a key for the remote drop the frame.\n            // This is a heuristic since we don't know whether a packet is encrypted,\n            // do not have a checksum and do not have signaling for whether a remote participant does\n            // encrypt or not.\n            return;\n        }\n\n        // TODO: this just passes through to the decoder. Is that ok? If we don't know the key yet\n        // we might want to buffer a bit but it is still unclear how to do that (and for how long etc).\n        controller.enqueue(encodedFrame);\n    }\n\n    onmessage = async (event) => {\n        const {operation} = event.data;\n        if (operation === 'initialize') {\n            salt = event.data.salt;\n        } else if (operation === 'encode') {\n            const {readableStream, writableStream} = event.data;\n            const transformStream = new TransformStream({\n                transform: encodeFunction,\n            });\n            readableStream\n                .pipeThrough(transformStream)\n                .pipeTo(writableStream);\n        } else if (operation === 'decode') {\n            const {readableStream, writableStream} = event.data;\n            const transformStream = new TransformStream({\n                transform: decodeFunction,\n            });\n            readableStream\n                .pipeThrough(transformStream)\n                .pipeTo(writableStream);\n        } else if (operation === 'setKey') {\n            const keyBytes = event.data.key;\n            let key;\n            if (keyBytes) {\n                key = await deriveKey(keyBytes);\n            } else {\n                key = false;\n            }\n            currentKeyIndex++;\n            cryptoKeyRing[currentKeyIndex % cryptoKeyRing.length] = key;\n        } else {\n            console.error('e2ee worker', operation);\n        }\n    };\n\n"],{type:"application/javascript"}))}},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return h});var i=n(4),r=n(7),o=n(57),a=n(3),s=n(5),c=Object(i.getLogger)(e),u="e2e-ping-request",d="e2e-ping-response",l=(function(){function e(t,n){_classCallCheck(this,e),this.participant=t,this.e2eping=n,this.id=t.getId(),this.requests={},this.lastRequestId=1,this.clearIntervals=this.clearIntervals.bind(this),this.sendRequest=this.sendRequest.bind(this),this.handleResponse=this.handleResponse.bind(this),this.maybeSendAnalytics=this.maybeSendAnalytics.bind(this),this.sendAnalytics=this.sendAnalytics.bind(this),n.isDataChannelOpen&&this.sendRequest(),this.pingInterval=window.setInterval(this.sendRequest,n.pingIntervalMs),this.analyticsInterval=window.setTimeout(this.maybeSendAnalytics,this.e2eping.analyticsIntervalMs)}return _createClass(e,[{key:"clearIntervals",value:function(){this.pingInterval&&window.clearInterval(this.pingInterval),this.analyticsInterval&&window.clearInterval(this.analyticsInterval)}},{key:"sendRequest",value:function(){var e=this.lastRequestId++,t={type:u,id:e};this.e2eping.sendMessage(t,this.id),this.requests[e]={id:e,timeSent:window.performance.now()}}},{key:"handleResponse",value:function(e){var t=this.requests[e.id];t&&(t.rtt=window.performance.now()-t.timeSent,this.e2eping.eventEmitter.emit(o.E2E_RTT_CHANGED,this.participant,t.rtt)),this.maybeSendAnalytics()}},{key:"maybeSendAnalytics",value:function(){var e,t,n=window.performance.now(),i=1/0;for(t in this.requests)this.requests.hasOwnProperty(t)&&((e=this.requests[t]).timeSent<n-this.e2eping.analyticsIntervalMs?delete this.requests[t]:e.rtt&&(i=Math.min(i,e.rtt)));i<1/0&&this.sendAnalytics(i)}},{key:"sendAnalytics",value:function(e){s.a.sendAnalytics(Object(r.D)(this.id,this.participant.getProperty("region"),e))}}]),e})(),h=(function(){function e(t,n,i){_classCallCheck(this,e),this.conference=t,this.eventEmitter=t.eventEmitter,this.sendMessage=i,this.pingIntervalMs=1e4,this.analyticsIntervalMs=6e4,this.participants={},this.isDataChannelOpen=!1,n&&n.e2eping&&("number"==typeof n.e2eping.pingInterval&&(this.pingIntervalMs=n.e2eping.pingInterval),"number"==typeof n.e2eping.analyticsInterval&&(this.analyticsIntervalMs=n.e2eping.analyticsInterval),this.analyticsIntervalMs>0&&this.analyticsIntervalMs<this.pingIntervalMs&&(this.analyticsIntervalMs=this.pingIntervalMs)),c.info("Initializing e2e ping; pingInterval="+this.pingIntervalMs+", analyticsInterval="+this.analyticsIntervalMs+"."),this.participantJoined=this.participantJoined.bind(this),t.on(a.USER_JOINED,this.participantJoined),this.participantLeft=this.participantLeft.bind(this),t.on(a.USER_LEFT,this.participantLeft),this.messageReceived=this.messageReceived.bind(this),t.on(a.ENDPOINT_MESSAGE_RECEIVED,this.messageReceived),this.dataChannelOpened=this.dataChannelOpened.bind(this),t.on(a.DATA_CHANNEL_OPENED,this.dataChannelOpened)}return _createClass(e,[{key:"dataChannelOpened",value:function(){for(var e in this.isDataChannelOpen=!0,this.participants)if(this.participants.hasOwnProperty(e)){var t=this.participants[e];window.setTimeout(t.sendRequest,200)}}},{key:"messageReceived",value:function(e,t){t.type===u?this.handleRequest(e.getId(),t):t.type===d&&this.handleResponse(e.getId(),t)}},{key:"participantJoined",value:function(e,t){this.pingIntervalMs<=0||(this.participants[e]&&(c.info("Participant wrapper already exists for "+e+". Clearing."),this.participants[e].clearIntervals(),delete this.participants[e]),this.participants[e]=new l(t,this))}},{key:"participantLeft",value:function(e){this.pingIntervalMs<=0||this.participants[e]&&(this.participants[e].clearIntervals(),delete this.participants[e])}},{key:"handleRequest",value:function(e,t){if(t&&t.id){var n={type:d,id:t.id};this.sendMessage(n,e)}else c.info("Received an invalid e2e ping request from "+e+".")}},{key:"handleResponse",value:function(e,t){var n=this.participants[e];n&&n.handleResponse(t)}},{key:"stop",value:function(){for(var e in c.info("Stopping e2eping"),this.conference.off(a.USER_JOINED,this.participantJoined),this.conference.off(a.USER_LEFT,this.participantLeft),this.conference.off(a.ENDPOINT_MESSAGE_RECEIVED,this.messageReceived),this.conference.off(a.DATA_CHANNEL_OPENED,this.dataChannelOpened),this.participants)this.participants.hasOwnProperty(e)&&this.participants[e].clearIntervals();this.participants={}}}]),e})()}).call(this,"modules/e2eping/e2eping.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return a});var i=n(4),r=n(3),o=Object(i.getLogger)(e),a=(function(){function e(t){var n=this;_classCallCheck(this,e),this._conference=t,this._jvb121=!0,this._conference.addEventListener(r.USER_JOINED,function(){return n.evaluateStatus()}),this._conference.addEventListener(r.USER_LEFT,function(){return n.evaluateStatus()}),this._conference.addEventListener(r.P2P_STATUS,function(){return n.evaluateStatus()})}return _createClass(e,[{key:"evaluateStatus",value:function(){var e=this._jvb121,t=!this._conference.isP2PActive()&&this._conference.getParticipantCount()<=2;e!==t&&(this._jvb121=t,o.debug("JVB121 status "+e+" => "+t),this._conference.eventEmitter.emit(r.JVB121_STATUS,e,t))}}]),e})()}).call(this,"modules/event/Jvb121EventGenerator.js")},function(e,t,n){"use strict";(function(e){var i=n(4),r=n(0),o=n.n(r),a=n(67),s=n(46);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=Object(i.getLogger)(e);t.a=(function(){function e(t){_classCallCheck(this,e),this._sessions={},this._chatRoom=t,this.onPresence=this.onPresence.bind(this),this._chatRoom.eventEmitter.addListener(o.a.PRESENCE_RECEIVED,this.onPresence)}return _createClass(e,[{key:"getSession",value:function(e){return this._sessions[e]}},{key:"onPresence",value:function(e){var t=e.fromHiddenDomain,n=e.presence;s.a.isFromFocus(n)?this._handleFocusPresence(n):t&&this._handleJibriPresence(n)}},{key:"startRecording",value:function(e){var t=this,n=new a.a((function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){c(e,t,n[t])})}return e})({},e,{connection:this._chatRoom.connection}));return n.start({appData:e.appData,broadcastId:e.broadcastId,focusMucJid:this._chatRoom.focusMucJid,streamId:e.streamId}).then(function(){return t.getSession(n.getID())||(t._addSession(n),t._emitSessionUpdate(n)),n}).catch(function(e){return t._emitSessionUpdate(n),Promise.reject(e)})}},{key:"stopRecording",value:function(e){var t=this.getSession(e);return t?t.stop({focusMucJid:this._chatRoom.focusMucJid}):Promise.reject(new Error("Could not find session"))}},{key:"_addSession",value:function(e){this._sessions[e.getID()]=e}},{key:"_createSession",value:function(e,t,n){var i=new a.a({connection:this._chatRoom.connection,focusMucJid:this._chatRoom.focusMucJid,mode:n,sessionID:e,status:t});return this._addSession(i),i}},{key:"_emitSessionUpdate",value:function(e,t){this._chatRoom.eventEmitter.emit(o.a.RECORDER_STATE_CHANGED,e,t)}},{key:"_handleFocusPresence",value:function(e){var t=s.a.getFocusRecordingUpdate(e);if(t){var n=t.error,i=t.initiator,r=t.recordingMode,o=t.sessionID,a=t.status,c=this.getSession(o);c||"off"!==a?c&&c.getStatus()===a&&c.getError()===n?u.warn("Ignoring duplicate presence update: ",JSON.stringify(t)):(c||(c=this._createSession(o,a,r)),c.setStatus(a),n&&c.setError(n),this._emitSessionUpdate(c,i)):u.warn("Ignoring recording presence update","Received a new session with status off.")}}},{key:"_handleJibriPresence",value:function(e){var t=s.a.getHiddenDomainUpdate(e),n=t.liveStreamViewURL,i=t.mode,r=t.sessionID;if(r){var o=this.getSession(r);o||(o=this._createSession(r,"",i)),o.setLiveStreamViewURL(n),this._emitSessionUpdate(o)}else u.warn("Ignoring potential jibri presence due to no session id.")}}]),e})()}).call(this,"modules/recording/RecordingManager.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return l});var i=n(1),r=n(7),o=n(4),a=n(10),s=n(5),c=Object(o.getLogger)(e),u={offerToReceiveAudio:1,offerToReceiveVideo:0},d=(function(){function e(t,n,i,r){_classCallCheck(this,e),this.region=t,this.getStatsIntervalMs=i,this.getStatsInterval=null,this.rtt=1/0,this.rtts=[];var o=[{url:"stun:"+n}];this.pc=new a.a.RTCPeerConnectionType({iceServers:o}),this.candidates={},this.stopped=!1,this.start=this.start.bind(this),this.stop=this.stop.bind(this),this.startStatsInterval=this.startStatsInterval.bind(this),this.handleCandidateRtt=this.handleCandidateRtt.bind(this),window.setTimeout(this.start,r)}return _createClass(e,[{key:"start",value:function(){var e=this;this.stopped||this.pc.createOffer(u).then(function(t){e.pc.setLocalDescription(t,function(){c.info("setLocalDescription success for "+e.region),e.startStatsInterval()},function(t){c.warn("setLocalDescription failed for "+e.region+": "+t)})})}},{key:"startStatsInterval",value:function(){var e=this;this.getStatsInterval=window.setInterval(function(){e.pc.getStats(function(t){for(var n=t.result(),i=0;i<n.length;++i){var r=n[i],o=Number(r.stat("stunKeepaliveRttTotal"));if(o>0){var a=r.stat("ipAddress")+"_"+r.stat("portNumber")+"_"+r.stat("priority");e.handleCandidateRtt(a,o,Number(r.stat("stunKeepaliveResponsesReceived")),Number(r.stat("stunKeepaliveRequestsSent")))}}var s=1/0;for(var c in e.candidates)e.candidates.hasOwnProperty(c)&&e.candidates[c].rtt>0&&(s=Math.min(s,e.candidates[c].rtt));e.rtts.push(s),e.rtts.length>6&&(e.rtts=e.rtts.splice(1,7)),e.rtt=Math.min.apply(Math,_toConsumableArray(e.rtts))})},this.getStatsIntervalMs)}},{key:"handleCandidateRtt",value:function(e,t,n,i){this.candidates[e]||(this.candidates[e]={rttTotal:0,responsesReceived:0,requestsSent:0,rtt:NaN});var r=t-this.candidates[e].rttTotal,o=n-this.candidates[e].responsesReceived,a=i-n-(this.candidates[e].requestsSent-this.candidates[e].responsesReceived),s=NaN;o>0&&0===a&&(s=r/o),this.candidates[e].rttTotal=t,this.candidates[e].responsesReceived=n,this.candidates[e].requestsSent=i,this.candidates[e].rtt=s}},{key:"stop",value:function(){this.getStatsInterval&&window.clearInterval(this.getStatsInterval),this.pc.close(),this.stopped=!0}}]),e})(),l=(function(){function e(t){var n=this;if(_classCallCheck(this,e),t&&t.enabled&&i.a.supportsLocalCandidateRttStatistics()){this.pcMonitors={},this.startPCMonitors=this.startPCMonitors.bind(this),this.sendAnalytics=this.sendAnalytics.bind(this),this.stop=this.stop.bind(this),this.analyticsInterval=null,this.stopped=!1;var r=t.initialDelay||6e4;c.info("Starting RTT monitor with an initial delay of "+r),window.setTimeout(function(){return n.startPCMonitors(t)},r)}}return _createClass(e,[{key:"startPCMonitors",value:function(e){var t=this;if(e.stunServers){if(!this.stopped){var n=e.getStatsInterval||1e4,i=e.analyticsInterval||n,r=n/Object.keys(e.stunServers).length,o=0;for(var a in e.stunServers)if(e.stunServers.hasOwnProperty(a)){var s=e.stunServers[a];this.pcMonitors[a]=new d(a,s,n,r*o),o++}window.setTimeout(function(){t.stopped||(t.analyticsInterval=window.setInterval(t.sendAnalytics,i))},1e3)}}else c.warn("No stun servers configured.")}},{key:"sendAnalytics",value:function(){var e={};for(var t in this.pcMonitors)if(this.pcMonitors.hasOwnProperty(t)){var n=this.pcMonitors[t].rtt;isNaN(n)||n===1/0||(e[t.replace("-","_")]=n)}s.a.sendAnalytics(Object(r.M)(e))}},{key:"stop",value:function(){for(var e in c.info("Stopping RttMonitor."),this.stopped=!0,this.pcMonitors)this.pcMonitors.hasOwnProperty(e)&&this.pcMonitors[e].stop();this.pcMonitors={},this.analyticsInterval&&window.clearInterval(this.analyticsInterval)}}]),e})()}).call(this,"modules/rttmonitor/rttmonitor.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return v});var i=n(58),r=n.n(i),o=n(7),a=n(4),s=n(28),c=n(3),u=n(9),d=n(1),l=n(5),h=n(12),p=Object(a.getLogger)(e),f=(function(){function e(t){_classCallCheck(this,e),this.name=t,this.count=0,this.sum=0,this.samples=[]}return _createClass(e,[{key:"addNext",value:function(e){"number"!=typeof e||isNaN(e)||(this.sum+=e,this.samples.push(e),this.count+=1)}},{key:"calculate",value:function(){return this.sum/this.count}},{key:"appendReport",value:function(e){e[this.name+"_avg"]=this.calculate(),e[this.name+"_samples"]=JSON.stringify(this.samples)}},{key:"reset",value:function(){this.samples=[],this.sum=0,this.count=0}}]),e})(),m=(function(){function e(t,n,i){var r=this;_classCallCheck(this,e),this.isP2P=n,this._n=i,this._sampleIdx=0,this._avgRTT=new f("rtt"),this._avgRemoteRTTMap=new Map,this._avgRtpStatsReporter=t,this._avgEnd2EndRTT=void 0,this._onConnectionStats=function(e,t){r.isP2P===e.isP2P&&r._calculateAvgStats(t)};var o=t._conference;o.statistics.addConnectionStatsListener(this._onConnectionStats),this.isP2P||(this._onUserLeft=function(e){return r._avgRemoteRTTMap.delete(e)},o.on(c.USER_LEFT,this._onUserLeft),this._onRemoteStatsUpdated=function(e,t){return r._processRemoteStats(e,t)},o.on(s.REMOTE_STATS_UPDATED,this._onRemoteStatsUpdated))}return _createClass(e,[{key:"_calculateAvgStats",value:function(e){if(e&&(d.a.supportsRTTStatistics()&&e.transport&&e.transport.length&&this._avgRTT.addNext(e.transport[0].rtt),this._sampleIdx+=1,this._sampleIdx>=this._n)){if(d.a.supportsRTTStatistics()){var t=this._avgRtpStatsReporter._conference,n={p2p:this.isP2P,conference_size:t.getParticipantCount()};if(e.transport&&e.transport.length&&_extends(n,{local_candidate_type:e.transport[0].localCandidateType,remote_candidate_type:e.transport[0].remoteCandidateType,transport_type:e.transport[0].type}),this._avgRTT.appendReport(n),this.isP2P){var i=this._avgRtpStatsReporter.jvbStatsMonitor._avgEnd2EndRTT;isNaN(i)||(n.rtt_diff=this._avgRTT.calculate()-i)}else{var r=this._calculateAvgRemoteRTT(),a=this._avgRTT.calculate();this._avgEnd2EndRTT=a+r,isNaN(a)||isNaN(r)||(n.end2end_rtt_avg=this._avgEnd2EndRTT)}l.a.sendAnalytics(Object(o.L)(n))}this._resetAvgStats()}}},{key:"_calculateAvgRemoteRTT",value:function(){var e=0,t=0,n=this._avgRemoteRTTMap.values(),i=Array.isArray(n),r=0;for(n=i?n:n["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var o;if(i){if(r>=n.length)break;o=n[r++]}else{if((r=n.next()).done)break;o=r.value}var a=o,s=a.calculate();isNaN(s)||(t+=s,e+=1,a.reset())}return t/e}},{key:"_processRemoteStats",value:function(e,t){var n="number"==typeof t.jvbRTT,i=this._avgRemoteRTTMap.get(e);!i&&n&&(i=new f(e+"_stat_rtt"),this._avgRemoteRTTMap.set(e,i)),n?i.addNext(t.jvbRTT):i&&this._avgRemoteRTTMap.delete(e)}},{key:"_resetAvgStats",value:function(){this._avgRTT.reset(),this._avgRemoteRTTMap&&this._avgRemoteRTTMap.clear(),this._sampleIdx=0}},{key:"dispose",value:function(){var e=this._avgRtpStatsReporter._conference;e.statistics.removeConnectionStatsListener(this._onConnectionStats),this.isP2P||(e.off(s.REMOTE_STATS_UPDATED,this._onRemoteStatsUpdated),e.off(c.USER_LEFT,this._onUserLeft))}}]),e})(),v=(function(){function e(t,n){var i=this;_classCallCheck(this,e),this._n=n,n>0?(p.info("Avg RTP stats will be calculated every "+n+" samples"),this._sampleIdx=0,this._conference=t,this._avgAudioBitrateUp=new f("bitrate_audio_upload"),this._avgAudioBitrateDown=new f("bitrate_audio_download"),this._avgVideoBitrateUp=new f("bitrate_video_upload"),this._avgVideoBitrateDown=new f("bitrate_video_download"),this._avgBandwidthUp=new f("bandwidth_upload"),this._avgBandwidthDown=new f("bandwidth_download"),this._avgPacketLossTotal=new f("packet_loss_total"),this._avgPacketLossUp=new f("packet_loss_upload"),this._avgPacketLossDown=new f("packet_loss_download"),this._avgRemoteFPS=new f("framerate_remote"),this._avgRemoteScreenFPS=new f("framerate_screen_remote"),this._avgLocalFPS=new f("framerate_local"),this._avgLocalScreenFPS=new f("framerate_screen_local"),this._avgRemoteCameraPixels=new f("pixels_remote"),this._avgRemoteScreenPixels=new f("pixels_screen_remote"),this._avgLocalCameraPixels=new f("pixels_local"),this._avgLocalScreenPixels=new f("pixels_screen_local"),this._avgCQ=new f("connection_quality"),this._cachedTransportStats=void 0,this._onLocalStatsUpdated=function(e){i._calculateAvgStats(e),i._maybeSendTransportAnalyticsEvent(e)},t.on(s.LOCAL_STATS_UPDATED,this._onLocalStatsUpdated),this._onP2PStatusChanged=function(){p.debug("Resetting average stats calculation"),i._resetAvgStats(),i.jvbStatsMonitor._resetAvgStats(),i.p2pStatsMonitor._resetAvgStats()},t.on(c.P2P_STATUS,this._onP2PStatusChanged),this._onJvb121StatusChanged=function(e,t){!0===t&&(p.info("Resetting JVB avg RTP stats"),i._resetAvgJvbStats())},t.on(c.JVB121_STATUS,this._onJvb121StatusChanged),this.jvbStatsMonitor=new m(this,!1,n),this.p2pStatsMonitor=new m(this,!0,n)):p.info("Avg RTP stats reports are disabled.")}return _createClass(e,[{key:"_calculateAvgStats",value:function(e){if(e){var t=this._conference.isP2PActive(),n=this._conference.getParticipantCount();if(t||!(n<2)){var i=e.bitrate,r=e.bandwidth,a=e.packetLoss,s=e.framerate,c=e.resolution;if(i&&r&&a&&s&&c&&(this._avgAudioBitrateUp.addNext(i.audio.upload),this._avgAudioBitrateDown.addNext(i.audio.download),this._avgVideoBitrateUp.addNext(i.video.upload),this._avgVideoBitrateDown.addNext(i.video.download),d.a.supportsBandwidthStatistics()&&(this._avgBandwidthUp.addNext(r.upload),this._avgBandwidthDown.addNext(r.download)),this._avgPacketLossUp.addNext(a.upload),this._avgPacketLossDown.addNext(a.download),this._avgPacketLossTotal.addNext(a.total),this._avgCQ.addNext(e.connectionQuality),s&&(this._avgRemoteFPS.addNext(this._calculateAvgVideoFps(s,!1,h.CAMERA)),this._avgRemoteScreenFPS.addNext(this._calculateAvgVideoFps(s,!1,h.DESKTOP)),this._avgLocalFPS.addNext(this._calculateAvgVideoFps(s,!0,h.CAMERA)),this._avgLocalScreenFPS.addNext(this._calculateAvgVideoFps(s,!0,h.DESKTOP))),c&&(this._avgRemoteCameraPixels.addNext(this._calculateAvgVideoPixels(c,!1,h.CAMERA)),this._avgRemoteScreenPixels.addNext(this._calculateAvgVideoPixels(c,!1,h.DESKTOP)),this._avgLocalCameraPixels.addNext(this._calculateAvgVideoPixels(c,!0,h.CAMERA)),this._avgLocalScreenPixels.addNext(this._calculateAvgVideoPixels(c,!0,h.DESKTOP))),this._sampleIdx+=1,this._sampleIdx>=this._n)){var u={p2p:t,conference_size:n};e.transport&&e.transport.length&&_extends(u,{local_candidate_type:e.transport[0].localCandidateType,remote_candidate_type:e.transport[0].remoteCandidateType,transport_type:e.transport[0].type}),this._avgAudioBitrateUp.appendReport(u),this._avgAudioBitrateDown.appendReport(u),this._avgVideoBitrateUp.appendReport(u),this._avgVideoBitrateDown.appendReport(u),d.a.supportsBandwidthStatistics()&&(this._avgBandwidthUp.appendReport(u),this._avgBandwidthDown.appendReport(u)),this._avgPacketLossUp.appendReport(u),this._avgPacketLossDown.appendReport(u),this._avgPacketLossTotal.appendReport(u),this._avgRemoteFPS.appendReport(u),isNaN(this._avgRemoteScreenFPS.calculate())||this._avgRemoteScreenFPS.appendReport(u),this._avgLocalFPS.appendReport(u),isNaN(this._avgLocalScreenFPS.calculate())||this._avgLocalScreenFPS.appendReport(u),this._avgRemoteCameraPixels.appendReport(u),isNaN(this._avgRemoteScreenPixels.calculate())||this._avgRemoteScreenPixels.appendReport(u),this._avgLocalCameraPixels.appendReport(u),isNaN(this._avgLocalScreenPixels.calculate())||this._avgLocalScreenPixels.appendReport(u),this._avgCQ.appendReport(u),l.a.sendAnalytics(Object(o.L)(u)),this._resetAvgStats()}}}}},{key:"_calculateAvgVideoPixels",value:function(e,t,n){for(var i=0,r=0,o=this._conference.myUserId(),a=0,s=Object.keys(e);a<s.length;a++){var c=s[a];if(t?c===o:c!==o){var u=t?null:this._conference.getParticipantById(c),d=e[c];if((t||u)&&d){var l=this._calculatePeerAvgVideoPixels(d,u,n);isNaN(l)||(i+=l,r+=1)}}}return i/r}},{key:"_calculatePeerAvgVideoPixels",value:function(e,t,n){var i=Object.keys(e).map(function(e){return Number(e)}),r=null,o=this._conference.getActivePeerConnection();t?(r=t.getTracksByMediaType(u.c))&&(i=i.filter(function(e){return r.find(function(t){return!t.isMuted()&&t.getSSRC()===e&&t.videoType===n})})):(r=this._conference.getLocalTracks(u.c),i=i.filter(function(e){return r.find(function(t){return!t.isMuted()&&o.getLocalSSRC(t)===e&&t.videoType===n})}));var a=0,s=0,c=i,d=Array.isArray(c),l=0;for(c=d?c:c["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var h;if(d){if(l>=c.length)break;h=c[l++]}else{if((l=c.next()).done)break;h=l.value}var p=h,f=Number(e[p].height)*Number(e[p].width);!isNaN(f)&&f>0&&(a+=f,s+=1)}return a/s}},{key:"_calculateAvgVideoFps",value:function(e,t,n){for(var i=0,r=0,o=this._conference.myUserId(),a=0,s=Object.keys(e);a<s.length;a++){var c=s[a];if(t?c===o:c!==o){var u=t?null:this._conference.getParticipantById(c),d=e[c];if((t||u)&&d){var l=this._calculatePeerAvgVideoFps(d,u,n);isNaN(l)||(i+=l,r+=1)}}}return i/r}},{key:"_calculatePeerAvgVideoFps",value:function(e,t,n){var i=Object.keys(e).map(function(e){return Number(e)}),r=null,o=this._conference.getActivePeerConnection();t?(r=t.getTracksByMediaType(u.c))&&(i=i.filter(function(e){return r.find(function(t){return!t.isMuted()&&t.getSSRC()===e&&t.videoType===n})})):(r=this._conference.getLocalTracks(u.c),i=i.filter(function(e){return r.find(function(t){return!t.isMuted()&&o.getLocalSSRC(t)===e&&t.videoType===n})}));var a=0,s=0,c=i,d=Array.isArray(c),l=0;for(c=d?c:c["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var h;if(d){if(l>=c.length)break;h=c[l++]}else{if((l=c.next()).done)break;h=l.value}var p=Number(e[h]);!isNaN(p)&&p>0&&(a+=p,s+=1)}return a/s}},{key:"_maybeSendTransportAnalyticsEvent",value:function(e){if(e&&e.transport&&e.transport.length){var t={p2p:e.transport[0].p2p,local_candidate_type:e.transport[0].localCandidateType,remote_candidate_type:e.transport[0].remoteCandidateType,transport_type:e.transport[0].type};this._cachedTransportStats&&r()(t,this._cachedTransportStats)||(this._cachedTransportStats=t,l.a.sendAnalytics(Object(o.N)(t)))}}},{key:"_resetAvgJvbStats",value:function(){this._resetAvgStats(),this.jvbStatsMonitor._resetAvgStats()}},{key:"_resetAvgStats",value:function(){this._avgAudioBitrateUp.reset(),this._avgAudioBitrateDown.reset(),this._avgVideoBitrateUp.reset(),this._avgVideoBitrateDown.reset(),this._avgBandwidthUp.reset(),this._avgBandwidthDown.reset(),this._avgPacketLossUp.reset(),this._avgPacketLossDown.reset(),this._avgPacketLossTotal.reset(),this._avgRemoteFPS.reset(),this._avgRemoteScreenFPS.reset(),this._avgLocalFPS.reset(),this._avgLocalScreenFPS.reset(),this._avgRemoteCameraPixels.reset(),this._avgRemoteScreenPixels.reset(),this._avgLocalCameraPixels.reset(),this._avgLocalScreenPixels.reset(),this._avgCQ.reset(),this._sampleIdx=0}},{key:"dispose",value:function(){this._conference.off(c.P2P_STATUS,this._onP2PStatusChanged),this._conference.off(s.LOCAL_STATS_UPDATED,this._onLocalStatsUpdated),this._conference.off(c.JVB121_STATUS,this._onJvb121StatusChanged),this.jvbStatsMonitor.dispose(),this.p2pStatsMonitor.dispose()}}]),e})()}).call(this,"modules/statistics/AvgRTPStatsReporter.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return d});var i=n(4),r=n(3),o=n(28),a=n(9),s=n(7),c=n(5),u=Object(i.getLogger)(e),d=(function(){function e(t){_classCallCheck(this,e),this._conference=t,this._localAudioLevelCache={},this._reportedParticipants=[],this._audioProblemCandidates={},this._numberOfRemoteAudioLevelsReceived={},this._onLocalAudioLevelsReport=this._onLocalAudioLevelsReport.bind(this),this._onRemoteAudioLevelReceived=this._onRemoteAudioLevelReceived.bind(this),this._clearUserData=this._clearUserData.bind(this),this._conference.on(o.REMOTE_STATS_UPDATED,this._onRemoteAudioLevelReceived),this._conference.statistics.addConnectionStatsListener(this._onLocalAudioLevelsReport),this._conference.on(r.USER_LEFT,this._clearUserData)}return _createClass(e,[{key:"_onRemoteAudioLevelReceived",value:function(e,t){var n=t.avgAudioLevels,i=this._numberOfRemoteAudioLevelsReceived[e]+1||0;if(this._numberOfRemoteAudioLevelsReceived[e]=i,!(-1!==this._reportedParticipants.indexOf(e)||e in this._audioProblemCandidates||n<=0||i<3)){var r=this._conference.getParticipantById(e);if(!(r&&r.getTracksByMediaType(a.a).length>0&&r.isAudioMuted())){var o=this._localAudioLevelCache[e];Array.isArray(o)&&!o.every(function(e){return 0===e})||(this._audioProblemCandidates[e]={remoteAudioLevels:n,localAudioLevels:[]})}}}},{key:"_onLocalAudioLevelsReport",value:function(e,t){var n=this,i=t.avgAudioLevels;e===this._conference.getActivePeerConnection()&&(Object.keys(i).forEach(function(e){if(-1===n._reportedParticipants.indexOf(e)){var t=n._localAudioLevelCache[e];Array.isArray(t)?t.length>=2&&t.shift():n._localAudioLevelCache[e]=[],n._localAudioLevelCache[e].push(i[e])}}),Object.keys(this._audioProblemCandidates).forEach(function(e){var t=n._audioProblemCandidates[e],r=t.localAudioLevels,o=t.remoteAudioLevels;if(r.push(i[e]),2===r.length){if(r.every(function(e){return void 0===e||0===e})){var a=JSON.stringify(r);c.a.sendAnalytics(Object(s.x)(e,a,o)),u.warn("A potential problem is detected with the audio output for participant "+e+", local audio levels: "+a+", remote audio levels: "+o),n._reportedParticipants.push(e),n._clearUserData(e)}delete n._audioProblemCandidates[e]}}))}},{key:"_clearUserData",value:function(e){delete this._localAudioLevelCache[e]}},{key:"dispose",value:function(){this._conference.off(o.REMOTE_STATS_UPDATED,this._onRemoteAudioLevelReceived),this._conference.off(r.USER_LEFT,this._clearUserData),this._conference.statistics.removeConnectionStatsListener(this._onLocalAudioLevelsReport),this._localAudioLevelCache=void 0,this._audioProblemCandidates=void 0,this._reportedParticipants=void 0,this._numberOfRemoteAudioLevelsReceived=void 0,this._conference=void 0}}]),e})()}).call(this,"modules/statistics/AudioOutputProblemDetector.js")},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var i=n(3),r=n(62),o=n.n(r),a=n(0),s=n.n(a),c=(function(){function e(t){_classCallCheck(this,e),this.stats={users:{},dominantSpeakerId:null};var n=t.myUserId();this.stats.users[n]=new o.a(n,null,!0),this.conference=t,t.addEventListener(i.DOMINANT_SPEAKER_CHANGED,this._onDominantSpeaker.bind(this)),t.addEventListener(i.USER_JOINED,this._onUserJoin.bind(this)),t.addEventListener(i.USER_LEFT,this._onUserLeave.bind(this)),t.addEventListener(i.DISPLAY_NAME_CHANGED,this._onDisplayNameChange.bind(this)),t.xmpp&&t.xmpp.addListener(s.a.SPEAKER_STATS_RECEIVED,this._updateStats.bind(this))}return _createClass(e,[{key:"_onDominantSpeaker",value:function(e){var t=this.stats.users[this.stats.dominantSpeakerId],n=this.stats.users[e];t&&t.setDominantSpeaker(!1),n&&n.setDominantSpeaker(!0),this.stats.dominantSpeakerId=e}},{key:"_onUserJoin",value:function(e,t){t.isHidden()||this.stats.users[e]||(this.stats.users[e]=new o.a(e,t.getDisplayName()))}},{key:"_onUserLeave",value:function(e){var t=this.stats.users[e];t&&t.markAsHasLeft()}},{key:"_onDisplayNameChange",value:function(e,t){var n=this.stats.users[e];n&&n.setDisplayName(t)}},{key:"getStats",value:function(){return this.stats.users}},{key:"_updateStats",value:function(e){for(var t in e){var n=void 0,i=this.conference.getParticipantById(t);i&&i.isHidden()||(this.stats.users[t]?(n=this.stats.users[t]).getDisplayName()||n.setDisplayName(e[t].displayName):(n=new o.a(t,e[t].displayName),this.stats.users[t]=n,n.markAsHasLeft())),n.totalDominantSpeakerTime=e[t].totalDominantSpeakerTime}}}]),e})()},function(e,t,n){var i=n(72),r=n(149),o="before";function a(){this.audioRecorder=new i,this.transcriptionService=new r,this.counter=null,this.startTime=null,this.transcription=null,this.callback=null,this.results=[],this.state=o,this.lineLength=0}function s(e){for(var t=0;t<e.length;t++)0===e[t].length&&e.splice(t,1);return e.length>0}a.prototype.start=function(){if(this.state!==o)throw new Error("The transcription can only start when it's in the \"before\" state. It's currently in the \""+this.state+"\" state");this.state="recording",this.audioRecorder.start(),this.startTime=new Date},a.prototype.stop=function(e){var t=this;if("recording"!==this.state)throw new Error("The transcription can only stop when it's in the \"recording\" state. It's currently in the \""+this.state+"\" state");console.log("stopping recording and sending audio files"),this.audioRecorder.stop();var n=function(e,t){if(console.log("retrieved an answer from the transcription service. The answer has an array of length: "+t.wordArray.length),t.wordArray.length>0){var n=t.startTime.getUTCMilliseconds()-e.startTime.getUTCMilliseconds();n<0&&(n=0);var i="[";t.wordArray.forEach(function(e){e.begin+=n,e.end+=n,i+=e.word+","}),i+="]",console.log(i),t.wordArray.name=t.name}e.results.push(t.wordArray),e.counter--,console.log("current counter: "+e.counter),e.maybeMerge()}.bind(null,this);this.audioRecorder.getRecordingResults().forEach(function(e){t.transcriptionService.send(e,n),t.counter++}),this.state="transcribing",this.callback=e},a.prototype.maybeMerge=function(){"transcribing"===this.state&&0===this.counter&&this.merge()},a.prototype.merge=function(){var e=this;console.log("starting merge process!\n The length of the array: "+this.results.length),this.transcription="";var t=this.results,n=[],i=function(){var n=t[0];t.forEach(function(e){e[0].begin<n[0].begin&&(n=e)});var i=n.shift(),r=function(){var r=!1,o=n[0].begin;if(t.forEach(function(e){e[0].begin<o&&(r=!0)}),r)return"break";i=n.shift(),e.updateTranscription(i,null)};for(e.updateTranscription(i,n.name);n.length>0;){if("break"===r())break}};for(s(t),t.forEach(function(e){return(function(e,t){if(0===e.length)e.push(t);else{if(e[e.length-1].begin<=t.begin)return void e.push(t);for(var n=0;n<e.length;n++)if(t.begin<e[n].begin)return void e.splice(n,0,t);e.push(t)}})(n,e)});s(t);)i();this.state="finished",this.callback&&this.callback(this.transcription)},a.prototype.updateTranscription=function(e,t){null!=t&&(this.transcription+="\n"+t+":",this.lineLength=t.length+1),this.lineLength+e.word.length>80&&(this.transcription+="\n    ",this.lineLength=4),this.transcription+=" "+e.word,this.lineLength+=e.word.length+1},a.prototype.addTrack=function(e){this.audioRecorder.addTrack(e)},a.prototype.removeTrack=function(e){this.audioRecorder.removeTrack(e)},a.prototype.getTranscription=function(){if("finished"!==this.state)throw new Error("The transcription can only be retrieved when it's in the \"finished\" state. It's currently in the \""+this.state+"\" state");return this.transcription},a.prototype.getState=function(){return this.state},a.prototype.reset=function(){this.state=o,this.counter=null,this.transcription=null,this.startTime=null,this.callback=null,this.results=[],this.lineLength=0},e.exports=a},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return o});var i=n(5),r=n(4).getLogger(e);function o(e){this.versions={},this.conference=e,this.conference.addCommandListener("versions",this.processVersions.bind(this))}o.prototype.processVersions=function(e,t,n){var o=this;if(this.conference._isFocus(n)){var a=[];e.children.forEach(function(e){var t=e.attributes.name,n=e.value;o.versions[t]!==n&&(o.versions[t]=n,r.info("Got "+t+" version: "+n),a.push({id:"component_version",component:t,version:n}))}),a.length>0&&i.a.sendLog(JSON.stringify(a))}else r.warn("Received versions not from the focus user: "+e,n)},o.prototype.getComponentVersion=function(e){return this.versions[e]}}).call(this,"modules/version/ComponentsVersions.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return u});var i=n(4),r=n(129),o=n(23),a=n(0),s=n.n(a),c=Object(i.getLogger)(e),u=(function(){function e(t){_classCallCheck(this,e),this.chatRoom=t,this.eventEmitter=t.eventEmitter,c.debug("creating VideoSIPGW"),this.sessions={},this.sessionStateChangeListener=this.sessionStateChanged.bind(this),t.addPresenceListener("jibri-sip-call-state",this.handleJibriSIPState.bind(this))}return _createClass(e,[{key:"handleJibriSIPState",value:function(e){var t=e.attributes;if(t){c.debug("Handle video sip gw state : ",t);var n=t.state;if(n!==this.state)switch(n){case o.STATE_ON:case o.STATE_OFF:case o.STATE_PENDING:case o.STATE_RETRYING:case o.STATE_FAILED:var i=t.sipaddress;if(!i)return;var r=this.sessions[i];r?r.setState(n,t.failure_reason):c.warn("Video SIP GW session not found:",i)}}}},{key:"createVideoSIPGWSession",value:function(e,t){if(this.sessions[e])return c.warn("There was already a Video SIP GW session for address",e),new Error(o.ERROR_SESSION_EXISTS);var n=new r.a(e,t,this.chatRoom);return n.addStateListener(this.sessionStateChangeListener),this.sessions[e]=n,n}},{key:"sessionStateChanged",value:function(e){var t=e.address;if(e.newState===o.STATE_OFF||e.newState===o.STATE_FAILED){var n=this.sessions[t];if(!n)return;n.removeStateListener(this.sessionStateChangeListener),delete this.sessions[t]}this.eventEmitter.emit(s.a.VIDEO_SIP_GW_SESSION_STATE_CHANGED,e)}}]),e})()}).call(this,"modules/videosipgw/VideoSIPGW.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return u});var i=n(4),r=n(2),o=n(24),a=n(23),s=Object(i.getLogger)(e),c="STATE_CHANGED",u=(function(e){function t(e,n,i){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).sipAddress=e,r.displayName=n,r.chatRoom=i,r.state=void 0,r}return _inherits(t,e),_createClass(t,[{key:"stop",value:function(){this.state!==a.STATE_OFF&&this.state!==a.STATE_FAILED?this._sendJibriIQ("stop"):s.warn("Video SIP GW session already stopped or failed!")}},{key:"start",value:function(){this.state!==a.STATE_ON&&this.state!==a.STATE_OFF&&this.state!==a.STATE_PENDING&&this.state!==a.STATE_RETRYING?this._sendJibriIQ("start"):s.warn("Video SIP GW session already started!")}},{key:"setState",value:function(e,t){if(e!==this.state){var n=this.state;this.state=e,this.eventEmitter.emit(c,{address:this.sipAddress,failureReason:t,oldState:n,newState:this.state,displayName:this.displayName})}}},{key:"addStateListener",value:function(e){this.addListener(c,e)}},{key:"removeStateListener",value:function(e){this.removeListener(c,e)}},{key:"_sendJibriIQ",value:function(e){var t=this,n={xmlns:"http://jitsi.org/protocol/jibri",action:e,sipaddress:this.sipAddress};n.displayname=this.displayName;var i=Object(r.$iq)({to:this.chatRoom.focusMucJid,type:"set"}).c("jibri",n).up();s.debug(e+" video SIP GW session",i.nodeTree),this.chatRoom.connection.sendIQ(i,function(){},function(e){t.setState(a.STATE_FAILED)})}}]),t})(o.a)}).call(this,"modules/videosipgw/JitsiVideoSIPGWSession.js")},function(e,t,n){"use strict";t.a={error:{BUSY:"busy",ERROR:"error",RESOURCE_CONSTRAINT:"resource-constraint",SERVICE_UNAVAILABLE:"service-unavailable"},mode:{FILE:"file",STREAM:"stream"},status:{OFF:"off",ON:"on",PENDING:"pending"}}},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return f});var i=n(4),r=n(2),o=n(9),a=n(12),s=n.n(a),c=n(11),u=n(132),d=n(30);function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){h(e,t,n[t])})}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){if(null==e)return{};var n,i,r=(function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r})(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}Object(i.getLogger)(e);var f=(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,e);var n=t.jitsiConnection,i=p(t,["jitsiConnection"]);this._options=l({iceConfig:n&&n.xmpp.connection.jingle.p2pIceConfig},i),this._peerConnection=null,this._onFatalError=this._onFatalError.bind(this),this._onSendMessage=this._onSendMessage.bind(this),this._onRemoteStream=this._onRemoteStream.bind(this)}return _createClass(e,[{key:"processMessage",value:function(e){var t=e.from;if(t)if(this._peerConnection&&this._peerConnection.getPeerJid()!==t)this._onFatalError(t,d.a.CONNECTION_ERROR,"rejected");else{var n=this._convertStringToXML(e.data.iq),i=n&&n.find("jingle"),r=i&&i.attr("action");r===d.a.INITIATE&&(this._peerConnection=this._createPeerConnection(t,{isInitiator:!1,receiveVideo:!0})),this._peerConnection&&this._peerConnection.processMessage(i),r!==d.a.CONNECTION_ERROR&&r!==d.a.UNAVAILABLE&&r!==d.a.TERMINATE||this._selfCloseConnection()}}},{key:"start",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this._peerConnection=this._createPeerConnection(e,{isInitiator:!0,receiveVideo:!1}),this._peerConnection.start(t)}},{key:"stop",value:function(){this._peerConnection&&this._peerConnection.stop(),this._peerConnection=null}},{key:"_convertStringToXML",value:function(e){try{var t=(new DOMParser).parseFromString(e,"text/xml");return $(t)}catch(e){return null}}},{key:"_createPeerConnection",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)throw new Error("Cannot create ProxyConnectionPC without a peer.");var n=l({iceConfig:this._options.iceConfig,onError:this._onFatalError,onRemoteStream:this._onRemoteStream,onSendMessage:this._onSendMessage,peerJid:e},t);return new u.a(n)}},{key:"_onFatalError",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=Object(r.$iq)({to:e,type:"set"}).c("jingle",{xmlns:"urn:xmpp:jingle:1",action:t}).c("details").t(n).up();this._onSendMessage(e,i),this._peerConnection&&this._peerConnection.getPeerJid()===e&&this._selfCloseConnection()}},{key:"_onRemoteStream",value:function(e){if(this._options.onRemoteStream){var t,n=e.isVideoTrack();n&&(t=this._options.convertVideoToDesktop?s.a.DESKTOP:s.a.CAMERA);var i=e.getOriginalStream(),r=c.a.newCreateLocalTracks([{deviceId:"proxy:"+this._peerConnection.getPeerJid(),mediaType:n?o.c:o.a,sourceType:"proxy",stream:i,track:i.getVideoTracks()[0],videoType:t}]);this._options.onRemoteStream(r[0])}else e.dispose()}},{key:"_onSendMessage",value:function(e,t){if(this._options.onSendMessage)try{var n=(new XMLSerializer).serializeToString(t.nodeTree||t);this._options.onSendMessage(e,{iq:n})}catch(e){}}},{key:"_selfCloseConnection",value:function(){this.stop(),this._options.onConnectionClosed&&this._options.onConnectionClosed()}}]),e})()}).call(this,"modules/proxyconnection/ProxyConnectionService.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return f});var i=n(4),r=n(11),o=n(8),a=n.n(o),s=n(0),c=n.n(s),u=n(47),d=n(37),l=n(30);function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){p(e,t,n[t])})}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object(i.getLogger)(e);var f=(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,e),this._options=h({iceConfig:{},isInitiator:!1,receiveAudio:!1,receiveVideo:!1},t),this._tracks=[],this._peerConnection=null,this._onError=this._onError.bind(this),this._onRemoteStream=this._onRemoteStream.bind(this),this._onSendMessage=this._onSendMessage.bind(this)}return _createClass(e,[{key:"getPeerJid",value:function(){return this._options.peerJid}},{key:"processMessage",value:function(e){switch(e.attr("action")){case l.a.ACCEPT:this._onSessionAccept(e);break;case l.a.INITIATE:this._onSessionInitiate(e);break;case l.a.TERMINATE:this._onSessionTerminate(e);break;case l.a.TRANSPORT_INFO:this._onTransportInfo(e)}}},{key:"start",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this._peerConnection||(this._tracks=this._tracks.concat(e),this._peerConnection=this._createPeerConnection(),this._peerConnection.invite(e))}},{key:"stop",value:function(){this._peerConnection&&this._peerConnection.terminate(),this._onSessionTerminate()}},{key:"_createPeerConnection",value:function(){var e=this,t={connected:!0,jingle:{terminate:function(){}},sendIQ:this._onSendMessage,addEventListener:function(){return function(){}}},n=h({iceServers:d.a},this._options.iceConfig),i={addPresenceListener:function(){},connectionTimes:[],eventEmitter:{emit:function(t){switch(t){case c.a.CONNECTION_ICE_FAILED:case c.a.CONNECTION_FAILED:e._onError(l.a.CONNECTION_ERROR,t)}}},getMediaPresenceInfo:function(){return{}},removePresenceListener:function(){}};this._rtc=new r.a({on:function(){}},{}),this._rtc.addListener(a.a.REMOTE_TRACK_ADDED,this._onRemoteStream);var o=new u.a(void 0,void 0,this._options.peerJid,t,{offerToReceiveAudio:this._options.receiveAudio,offerToReceiveVideo:this._options.receiveVideo},n,!0,this._options.isInitiator);return o.initialize(i,this._rtc,{}),o}},{key:"_onError",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this._options.onError(this._options.peerJid,e,t)}},{key:"_onRemoteStream",value:function(e){this._tracks.push(e),this._options.onRemoteStream(e)}},{key:"_onSendMessage",value:function(e){this._options.onSendMessage(this._options.peerJid,e)}},{key:"_onSessionAccept",value:function(e){this._peerConnection&&this._peerConnection.setAnswer(e)}},{key:"_onSessionInitiate",value:function(e){var t=this;this._peerConnection||(this._peerConnection=this._createPeerConnection(),this._peerConnection.acceptOffer(e,function(){},function(){return t._onError(t._options.peerJid,l.a.CONNECTION_ERROR,"session initiate error")}))}},{key:"_onSessionTerminate",value:function(){this._tracks.forEach(function(e){return e.dispose()}),this._tracks=[],this._peerConnection&&this._peerConnection.onTerminated(),this._rtc&&(this._rtc.removeListener(a.a.REMOTE_TRACK_ADDED,this._onRemoteStream),this._rtc.destroy())}},{key:"_onTransportInfo",value:function(e){this._peerConnection.addIceCandidates(e)}}]),e})()}).call(this,"modules/proxyconnection/ProxyConnectionPC.js")},function(e,t,n){"use strict";var i=n(49),r=n.n(i),o=n(22),a=n.n(o),s=function(e,t){return void 0!==e&&void 0!==e.media&&Array.isArray(e.media)&&e.media.forEach(function(e){e.sources&&e.sources.length&&(e.ssrcs=[],e.sources.forEach(function(t){Object.keys(t).forEach(function(n){"id"!==n&&e.ssrcs.push({id:t.id,attribute:n,value:t[n]})})}),delete e.sources),e.ssrcGroups&&e.ssrcGroups.length&&e.ssrcGroups.forEach(function(e){void 0!==e.ssrcs&&Array.isArray(e.ssrcs)&&(e.ssrcs=e.ssrcs.join(" "))})}),a.a.write(e,t)},c=function(e){var t=a.a.parse(e);return void 0!==t&&void 0!==t.media&&Array.isArray(t.media)&&t.media.forEach(function(e){void 0!==e.ssrcs&&Array.isArray(e.ssrcs)&&(e.sources=[],e.ssrcs.forEach(function(t){var n=e.sources.findIndex(function(e){return e.id===t.id});if(n>-1)e.sources[n][t.attribute]=t.value;else{var i={id:t.id};i[t.attribute]=t.value,e.sources.push(i)}}),delete e.ssrcs),void 0!==e.ssrcGroups&&Array.isArray(e.ssrcGroups)&&e.ssrcGroups.forEach(function(e){"string"==typeof e.ssrcs&&(e.ssrcs=e.ssrcs.split(" "))})}),t},u=["audio","video","data"],d=function(e){return e.find(function(e){return"SIM"===e.semantics})},l=function(e){return e.find(function(e){return"FID"===e.semantics})};function h(e,t,n,i){if(e&&t){var r=function(e){return i.find(function(t){return t.id.toString()===e})};t.ssrcs.forEach(function(t){e.sources.push(r(t));var i=n[parseInt(t,10)].find(function(e){return"FID"===e.semantics});if(i){var o=i.ssrcs.find(function(e){return e!==t});e.sources.push(r(o)),e.ssrcGroups.push(i)}}),e.ssrcGroups.push(t)}}function p(e,t,n,i){if(e&&t){if(e.sources=[],e.ssrcGroups=[],!n[t.id])return e.sources.push(t),void(e.msid=t.msid);var r=d(n[t.id]),o=l(n[t.id]);if(r)h(e,r,n,i);else if(o){var a=o.ssrcs.find(function(e){return e!==t}),s=d(n[a]);s?h(e,s,n,i):(o.ssrcs.forEach(function(t){e.sources.push((function(e){return i.find(function(t){return t.id.toString()===e})})(t))}),e.ssrcGroups.push(o))}e.msid=e.sources[0].msid}}function f(e,t,n){if(!n.find(function(t){return!!t.sources&&t.sources.some(function(t){return t.id===e.id})})){if(!t[e.id])return!1;var i=d(t[e.id]),r=l(t[e.id]);return i?n.some(function(e){return e.sources&&e.sources.some(function(e){return e.id.toString()===i.ssrcs[0]})}):!(!r||e.id.toString()===r.ssrcs[0])&&f({id:r.ssrcs[0]},t,n)}return!0}var m=(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"toPlanB",value:function(e){if(!e||"string"!=typeof e.sdp)return console.warn("An empty description was passed as an argument."),e;var t=c(e.sdp);if(!t.media||!t.media.length)return console.warn("The description has no media."),e;if(t.media.every(function(e){return-1!==u.indexOf(e.mid)}))return console.warn("The description does not look like unified plan sdp"),e;var n={},i=t.media;t.media=[],i.forEach(function(e){var t=e.type;if("application"===t)return e.mid="data",void(n[e.mid]=e);if(void 0===n[t]){var i=r()(e);i.sources&&Array.isArray(i.sources)&&i.sources.forEach(function(t){e.msid?t.msid=e.msid:delete t.msid}),i.ssrcGroups||(i.ssrcGroups=[]),delete i.msid,i.mid=t,n[t]=i}else e.msid&&(e.sources&&Array.isArray(e.sources)&&(n[t].sources=n[t].sources.concat(e.sources)),void 0!==e.ssrcGroups&&Array.isArray(e.ssrcGroups)&&(n[t].ssrcGroups=n[t].ssrcGroups.concat(e.ssrcGroups)))}),t.media=Object.values(n);var o=[];Object.values(n).forEach(function(e){"inactive"!==e.direction&&o.push(e.mid)}),t.groups.forEach(function(e){"BUNDLE"===e.type&&(e.mids=o.join(" "))}),t.msidSemantic={semantic:"WMS",token:"*"};var a=s(t);return new RTCSessionDescription({type:e.type,sdp:a})}},{key:"toUnifiedPlan",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!e||"string"!=typeof e.sdp)return console.warn("An empty description was passed as an argument."),e;var n=c(e.sdp);if(!n.media||!n.media.length)return console.warn("The description has no media."),e;if(n.media.length>3||n.media.every(function(e){return-1===u.indexOf(e.mid)}))return console.warn("The description does not look like plan-b"),e;var i=t?c(t.sdp):null,o={};n.media.forEach(function(e){var t=e.type;if("application"!==t){var n=(function(e){var t={};return e&&Array.isArray(e)?(e.forEach(function(e){e.ssrcs&&Array.isArray(e.ssrcs)&&e.ssrcs.forEach(function(n){void 0===t[n]&&(t[n]=[]),t[n].push(e)})}),t):t})(e.ssrcGroups);e.sources&&e.sources.forEach(function(a,s){if(a.msid){if(!i||!i.media){if(f(a,n,Object.values(o)))return;var c=r()(e);return c.mid=Object.keys(o).length.toString(),c.direction=s?"sendonly":"sendonly"===e.direction?"sendonly":"sendrecv",c.bundleOnly=void 0,p(c,a,n,e.sources),void(o[c.mid]=c)}if(!f(a,n,i.media)){var u=i.media.findIndex(function(e){return e.direction&&"inactive"===e.direction&&e.type===t});if(u>-1)i.media[u].direction="sendonly",p(i.media[u],a,n,e.sources);else{var d=r()(e);d.mid=i.media.length.toString(),d.direction="sendonly",p(d,a,n,e.sources),i.media.push(d)}}}})}else{if(!i||!i.media){var a=r()(e);return a.mid=Object.keys(o).length.toString(),void(o[e.mid]=a)}var s=i.media.findIndex(function(e){return e.type===t});s&&(i.media[s]=e,i.media[s].mid=s)}}),n.media=i?i.media:Object.values(o);var a=[];n.media.forEach(function(e){a.push(e.mid)}),n.groups.forEach(function(e){"BUNDLE"===e.type&&(e.mids=a.join(" "))}),n.msidSemantic={semantic:"WMS",token:"*"},n.origin.sessionVersion++;var d=s(n);return new RTCSessionDescription({type:e.type,sdp:d})}}]),e})();n.d(t,"a",function(){return m})},function(e,t,n){e.exports=n(135).default},function(e,t,n){"use strict";n.r(t),function(e){var i,r=n(73),o=n(85),a=n(21),s=n(56),c=n(7),u=n(86),d=n.n(u),l=n(28),h=n(57),p=n(14),f=n.n(p),m=n(19),v=n(3),g=n(87),y=n(39),_=n(25),S=n(68),E=n(48),b=n(17),C=n(13),T=n(15),A=n(60),R=n(52),k=n(4),w=n.n(k),I=n(9),P=n(31),D=n.n(P),O=n(44),N=n(11),M=n(1),L=n(53),x=n.n(L),F=n(130),j=n(131),U=n(5),H=n(23),J=w.a.getLogger(e);function B(e){var t={audio_requested:e.devices.includes("audio"),video_requested:e.devices.includes("video"),screen_sharing_requested:e.devices.includes("desktop")};return t.video_requested&&(t.resolution=e.resolution),t}t.default=(i={version:"development",JitsiConnection:g.a,ProxyConnectionService:j.a,constants:{participantConnectionStatus:O.a,recording:F.a,sipVideoGW:H,transcriptionStatus:A},events:{conference:v,connection:_,detection:a,track:T,mediaDevices:E,connectionQuality:l,e2eping:h},errors:{conference:m,connection:y,track:C},errorTypes:{JitsiTrackError:b.a},logLevels:w.a.levels,mediaDevices:S.a,analytics:U.a.analytics,init:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};U.a.init(e),window.connectionTimes||(window.connectionTimes={}),!0!==e.enableAnalyticsLogging&&(J.warn("Analytics disabled, disposing."),this.analytics.dispose()),e.enableWindowOnErrorHandler&&f.a.addHandler(this.getGlobalOnErrorHandler.bind(this));var t=e.deploymentInfo;if(t&&Object.keys(t).length>0){var n={};for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.id="deployment_info",U.a.sendLog(JSON.stringify(n))}if(this.version){var r={id:"component_version",component:"lib-jitsi-meet",version:this.version};U.a.sendLog(JSON.stringify(r))}return N.a.init(e)},isDesktopSharingEnabled:function(){return N.a.isDesktopSharingEnabled()},isWebRtcSupported:function(){return N.a.isWebRtcSupported()},setLogLevel:function(e){w.a.setLogLevel(e)},setLogLevelById:function(e,t){w.a.setLogLevelById(e,t)},addGlobalLogTransport:function(e){w.a.addGlobalTransport(e)},removeGlobalLogTransport:function(e){w.a.removeGlobalTransport(e)},setGlobalLogOptions:function(e){w.a.setGlobalOptions(e)},createLocalTracks:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,r=!1;return!0===n&&window.setTimeout(function(){r||S.a.emitEvent(E.PERMISSION_PROMPT_IS_SHOWN,M.a.getName())},1e3),window.connectionTimes||(window.connectionTimes={}),window.connectionTimes["obtainPermissions.start"]=window.performance.now(),N.a.obtainAudioAndVideoPermissions(t).then(function(n){if(r=!0,window.connectionTimes["obtainPermissions.end"]=window.performance.now(),U.a.sendAnalytics(Object(c.F)("success",B(t))),!N.a.options.disableAudioLevels)for(var i=function(e){var t=n[e],i=t.getOriginalStream();t.getType()===I.a&&(U.a.startLocalStats(i,t.setAudioLevel.bind(t)),t.addEventListener(T.LOCAL_TRACK_STOPPED,function(){U.a.stopLocalStats(i)}))},o=0;o<n.length;o++)i(o);var a=N.a.getCurrentlyAvailableMediaDevices();if(a)for(var s=0;s<n.length;s++)n[s]._setRealDeviceIdFromDeviceList(a);var u=n,d=Array.isArray(u),l=0;for(u=d?u:u["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var h;if(d){if(l>=u.length)break;h=u[l++]}else{if((l=u.next()).done)break;h=l.value}var p=h;p.type===I.c&&"desktop"===p.videoType&&e.setVideoTrackContentHints(p.track,"detail")}return n}).catch(function(n){if(r=!0,n.name===C.UNSUPPORTED_RESOLUTION&&!M.a.usesNewGumFlow()){var o=t.resolution||"720",a=(function(e){if(!D.a[e])return null;var t=D.a[e].order,n=null,i=null;return Object.keys(D.a).forEach(function(e){var r=D.a[e];(!n||n.order<r.order&&r.order<t)&&(i=e,n=r)}),i===e&&(i=null),i})(o);if(null!==a)return t.resolution=a,J.debug("Retry createLocalTracks with resolution",a),U.a.sendAnalytics(Object(c.F)("warning",{old_resolution:o,new_resolution:a,reason:"unsupported resolution"})),e.createLocalTracks(t,void 0,i||_extends({},t));if(i&&n.gum.constraints&&n.gum.constraints.video&&n.gum.constraints.video.mandatory&&n.gum.constraints.video.mandatory.sourceId)return i.cameraDeviceId=void 0,e.createLocalTracks(i)}if(n.name===C.CHROME_EXTENSION_USER_CANCELED){var s={id:"chrome_extension_user_canceled",message:n.message};U.a.sendLog(JSON.stringify(s)),U.a.sendAnalytics(Object(c.F)("warning",{reason:"extension install user canceled"}))}else if(n.name===C.NOT_FOUND){var u={id:"usermedia_missing_device",status:n.gum.devices};U.a.sendLog(JSON.stringify(u));var d=B(t);d.reason="device not found",d.devices=n.gum.devices.join("."),U.a.sendAnalytics(Object(c.F)("error",d))}else{U.a.sendGetUserMediaFailed(n);var l=B(t);l.reason=n.name,U.a.sendAnalytics(Object(c.F)("error",l))}return window.connectionTimes["obtainPermissions.end"]=window.performance.now(),Promise.reject(n)})},createTrackVADEmitter:function(e,t,n){return s.a.create(e,t,n)},createAudioMixer:function(){return new o.a},getActiveAudioDevice:function(){return Object(r.a)()},isDeviceListAvailable:function(){return J.warn("This method is deprecated, use JitsiMeetJS.mediaDevices.isDeviceListAvailable instead"),this.mediaDevices.isDeviceListAvailable()},isDeviceChangeAvailable:function(e){return J.warn("This method is deprecated, use JitsiMeetJS.mediaDevices.isDeviceChangeAvailable instead"),this.mediaDevices.isDeviceChangeAvailable(e)},isMultipleAudioInputSupported:function(){return this.mediaDevices.isMultipleAudioInputSupported()},isCollectingLocalStats:function(){return U.a.audioLevelsEnabled&&R.a.isLocalStatsSupported()},enumerateDevices:function(e){J.warn("This method is deprecated, use JitsiMeetJS.mediaDevices.enumerateDevices instead"),this.mediaDevices.enumerateDevices(e)},getGlobalOnErrorHandler:function(e,t,n,i,r){},setVideoTrackContentHints:function(e,t){"contentHint"in e?(e.contentHint=t,e.contentHint!==t&&J.debug("Invalid video track contentHint")):J.debug("MediaStreamTrack contentHint attribute not supported")},util:{AuthUtil:d(),ScriptUtil:x(),browser:M.a}},"object"==typeof window.JitsiMeetJS?_extends({},window.JitsiMeetJS,i):i)}.call(this,"JitsiMeetJS.js")},function(e,t,n){var i=n(69);function r(e,t){this.logStorage=e,this.stringifyObjects=!(!t||!t.stringifyObjects)&&t.stringifyObjects,this.storeInterval=t&&t.storeInterval?t.storeInterval:3e4,this.maxEntryLength=t&&t.maxEntryLength?t.maxEntryLength:1e4,Object.keys(i.levels).forEach(function(e){this[i.levels[e]]=function(){this._log.apply(this,arguments)}.bind(this,e)}.bind(this)),this.storeLogsIntervalID=null,this.queue=[],this.totalLen=0,this.outputCache=[]}r.prototype.stringify=function(e){try{return JSON.stringify(e)}catch(e){return"[object with circular refs?]"}},r.prototype.formatLogMessage=function(e){for(var t="",n=1,r=arguments.length;n<r;n++){var o=arguments[n];!this.stringifyObjects&&e!==i.levels.ERROR||"object"!=typeof o||(o=this.stringify(o)),t+=o,n!==r-1&&(t+=" ")}return t.length?t:null},r.prototype._log=function(){var e=arguments[1],t=this.formatLogMessage.apply(this,arguments);if(t){var n=this.queue[this.queue.length-1];(n&&n.text)===t?n.count+=1:(this.queue.push({text:t,timestamp:e,count:1}),this.totalLen+=t.length)}this.totalLen>=this.maxEntryLength&&this._flush(!0,!0)},r.prototype.start=function(){this._reschedulePublishInterval()},r.prototype._reschedulePublishInterval=function(){this.storeLogsIntervalID&&(window.clearTimeout(this.storeLogsIntervalID),this.storeLogsIntervalID=null),this.storeLogsIntervalID=window.setTimeout(this._flush.bind(this,!1,!0),this.storeInterval)},r.prototype.flush=function(){this._flush(!1,!0)},r.prototype._flush=function(e,t){this.totalLen>0&&(this.logStorage.isReady()||e)&&(this.logStorage.isReady()?(this.outputCache.length&&(this.outputCache.forEach(function(e){this.logStorage.storeLogs(e)}.bind(this)),this.outputCache=[]),this.logStorage.storeLogs(this.queue)):this.outputCache.push(this.queue),this.queue=[],this.totalLen=0),t&&this._reschedulePublishInterval()},r.prototype.stop=function(){this._flush(!1,!1)},e.exports=r},function(e,t){(function(t){e.exports=t}).call(this,{})},function(e,t,n){var i,r;this||window,void 0===(r="function"==typeof(i=function(){var e=/^(interactive|loaded|complete)$/,t=window.location?window.location.href:null,n=t&&t.replace(/#.*$/,"").replace(/\?.*$/,"")||null,i=document.getElementsByTagName("script"),r="readyState"in(i[0]||document.createElement("script")),o=!window.opera||"[object Opera]"!==window.opera.toString(),a="currentScript"in document;"stackTraceLimit"in Error&&Error.stackTraceLimit!==1/0&&(Error.stackTraceLimit,Error.stackTraceLimit=1/0);var s=!1,c=!1;function u(){if(0===i.length)return null;var t,d,l,h,p,f=[],m=u.skipStackDepth||1;for(t=0;t<i.length;t++)o&&r?e.test(i[t].readyState)&&f.push(i[t]):f.push(i[t]);if(d=new Error,s&&(l=d.stack),!l&&c)try{throw d}catch(e){l=e.stack}if(l&&(!(p=(function(e,t){var n,r=null;if(t=t||i,"string"==typeof e&&e)for(n=t.length;n--;)if(t[n].src===e){r=t[n];break}return r})(h=(function e(t,n){var i,r=null,o="number"==typeof n;return n=o?Math.round(n):0,"string"==typeof t&&t&&(o?i=t.match(/(data:text\/javascript(?:;[^,]+)?,.+?|(?:|blob:)(?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/):(i=t.match(/^(?:|[^:@]*@|.+\)@(?=data:text\/javascript|blob|http[s]?|file)|.+?\s+(?: at |@)(?:[^:\(]+ )*[\(]?)(data:text\/javascript(?:;[^,]+)?,.+?|(?:|blob:)(?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/))&&i[1]||(i=t.match(/\)@(data:text\/javascript(?:;[^,]+)?,.+?|(?:|blob:)(?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/)),i&&i[1]&&(n>0?r=e(t.slice(t.indexOf(i[0])+i[0].length),n-1):r=i[1])),r})(l,m),f))&&n&&h===n&&(p=(function(e){var t,n,r=null;for(t=0,n=(e=e||i).length;t<n;t++)if(!e[t].hasAttribute("src")){if(r){r=null;break}r=e[t]}return r})(f))),p||1===f.length&&(p=f[0]),p||a&&(p=document.currentScript),!p&&o&&r)for(t=f.length;t--;)if("interactive"===f[t].readyState){p=f[t];break}return p||(p=f[f.length-1]||null),p}(function(){try{var e=new Error;throw s="string"==typeof e.stack&&!!e.stack,e}catch(e){c="string"==typeof e.stack&&!!e.stack}})(),u.skipStackDepth=1;var d=u;return d.near=u,d.far=function(){return null},d.origin=function(){return null},d})?i.apply(t,[]):i)||(e.exports=r)},function(e,t){e.exports={LOCAL_JID:"local"}},function(e,t,n){var i=function(e){return String(Number(e))===e?Number(e):e},r=function(e,t,n){var r=e.name&&e.names;e.push&&!t[e.push]?t[e.push]=[]:r&&!t[e.name]&&(t[e.name]={});var o=e.push?{}:r?t[e.name]:t;!(function(e,t,n,r){if(r&&!n)t[r]=i(e[1]);else for(var o=0;o<n.length;o+=1)null!=e[o+1]&&(t[n[o]]=i(e[o+1]))})(n.match(e.reg),o,e.names,e.name),e.push&&t[e.push].push(o)},o=n(71),a=RegExp.prototype.test.bind(/^([a-z])=(.*)/);t.parse=function(e){var t={},n=[],i=t;return e.split(/(\r\n|\r|\n)/).filter(a).forEach(function(e){var t=e[0],a=e.slice(2);"m"===t&&(n.push({rtp:[],fmtp:[]}),i=n[n.length-1]);for(var s=0;s<(o[t]||[]).length;s+=1){var c=o[t][s];if(c.reg.test(a))return r(c,i,a)}}),t.media=n,t};var s=function(e,t){var n=t.split(/=(.+)/,2);return 2===n.length&&(e[n[0]]=i(n[1])),e};t.parseParams=function(e){return e.split(/\;\s?/).reduce(s,{})},t.parseFmtpConfig=t.parseParams,t.parsePayloads=function(e){return e.split(" ").map(Number)},t.parseRemoteCandidates=function(e){for(var t=[],n=e.split(" ").map(i),r=0;r<n.length;r+=3)t.push({component:n[r],ip:n[r+1],port:n[r+2]});return t},t.parseImageAttributes=function(e){return e.split(" ").map(function(e){return e.substring(1,e.length-1).split(",").reduce(s,{})})},t.parseSimulcastStreamList=function(e){return e.split(";").map(function(e){return e.split(",").map(function(e){var t,n=!1;return"~"!==e[0]?t=i(e):(t=i(e.substring(1,e.length)),n=!0),{scid:t,paused:n}})})}},function(e,t,n){var i=n(71),r=/%[sdv%]/g,o=function(e,t,n){var i=[e+"="+(t.format instanceof Function?t.format(t.push?n:n[t.name]):t.format)];if(t.names)for(var o=0;o<t.names.length;o+=1){var a=t.names[o];t.name?i.push(n[t.name][a]):i.push(n[t.names[o]])}else i.push(n[t.name]);return function(e){var t=1,n=arguments,i=n.length;return e.replace(r,function(e){if(t>=i)return e;var r=n[t];switch(t+=1,e){case"%%":return"%";case"%s":return String(r);case"%d":return Number(r);case"%v":return""}})}.apply(null,i)},a=["v","o","s","i","u","e","p","c","b","t","r","z","a"],s=["i","c","b","a"];e.exports=function(e,t){t=t||{},null==e.version&&(e.version=0),null==e.name&&(e.name=" "),e.media.forEach(function(e){null==e.payloads&&(e.payloads="")});var n=t.outerOrder||a,r=t.innerOrder||s,c=[];return n.forEach(function(t){i[t].forEach(function(n){n.name in e&&null!=e[n.name]?c.push(o(t,n,e)):n.push in e&&null!=e[n.push]&&e[n.push].forEach(function(e){c.push(o(t,n,e))})})}),e.media.forEach(function(e){c.push(o("m",i.m[0],e)),r.forEach(function(t){i[t].forEach(function(n){n.name in e&&null!=e[n.name]?c.push(o(t,n,e)):n.push in e&&null!=e[n.push]&&e[n.push].forEach(function(e){c.push(o(t,n,e))})})})}),c.join("\r\n")+"\r\n"}},function(e,t,n){var i=n(22),r=n(143),o=r.parseSsrcs,a=r.writeSsrcs,s=3;function c(e,t,n){return e.ssrcs.filter(function(e){return e.id===t}).filter(function(e){return e.attribute===n}).map(function(e){return e.value})[0]}function u(e){this.options=e||{},this.options.numOfLayers||(this.options.numOfLayers=s),console.log("SdpSimulcast: using "+this.options.numOfLayers+" layers"),this.ssrcCache=[]}function d(e,t){null!=e&&Array.isArray(e.media)&&e.media.forEach(function(e){"video"===e.type&&t(e)})}function l(e){return e&&null!=e&&e.type&&""!=e.type&&e.sdp&&""!=e.sdp}u.prototype.clearSsrcCache=function(){this.ssrcCache=[]},u.prototype.setSsrcCache=function(e){this.ssrcCache=e},u.prototype._parseSimLayers=function(e){var t=e.ssrcGroups&&e.ssrcGroups.find(function(e){return"SIM"===e.semantics});return t?t.ssrcs.split(" ").map(function(e){return parseInt(e)}):[e.ssrcs[0].id]},u.prototype._buildNewToOldSsrcMap=function(e,t){for(var n={},i=0;i<e.length;++i){var r=e[i],o=t[i]||null;n[r]=o}return n},u.prototype._fillInSourceDataFromCache=function(e){console.log("SdpSimulcast restoring from cache: ",this.ssrcCache);var t=this._parseSimLayers(e);console.log("SdpSimulcast Parsed new sim ssrcs: ",t);var n=c(e,t[0],"msid"),i=c(e,t[0],"cname"),r=this._buildNewToOldSsrcMap(t,this.ssrcCache);console.log("SdpSimulcast built replacement map: ",r);var o=this.ssrcCache.filter(function(e){return-1===Object.values(r).indexOf(e)});return console.log("SdpSimulcast built ssrcs to add: ",o),e.ssrcs.forEach(function(e){r[e.id]&&(e.id=r[e.id])}),o.forEach(function(t){e.ssrcs.push({id:t,attribute:"msid",value:n}),e.ssrcs.push({id:t,attribute:"cname",value:i})}),e.ssrcGroups=e.ssrcGroups||[],e.ssrcGroups.push({semantics:"SIM",ssrcs:this.ssrcCache.join(" ")}),e},u.prototype._generateSourceData=function(e,t){var n=function(e,t){e.ssrcs.push({id:t,attribute:"cname",value:r}),e.ssrcs.push({id:t,attribute:"msid",value:i})},i=c(e,t,"msid"),r=c(e,t,"cname");this.options.usesUnifiedPlan&&!i&&(i=e.msid,e.ssrcs.forEach(function(t){e.ssrcs.push({id:t.id,attribute:"msid",value:i})}));for(var o=[],a=0;a<this.options.numOfLayers-1;++a){var s=Math.floor(4294967295*Math.random())+0;n(e,s),o.push(s)}return e.ssrcGroups=e.ssrcGroups||[],e.ssrcGroups.push({semantics:"SIM",ssrcs:t+" "+o.join(" ")}),e},u.prototype._restoreSimulcast=function(e){var t,n=e.ssrcs&&e.ssrcs.map(function(e){return e.id}).filter(function(e,t,n){return n.indexOf(e)===t}).length||0,i=e.ssrcGroups&&e.ssrcGroups.length||0;if(0===n||n>2)return e;if(2==n&&0===i)return e;if(1===n)t=e.ssrcs[0].id;else{var r=e.ssrcGroups.filter(function(e){return"FID"===e.semantics})[0];if(!r)return e;t=parseInt(r.ssrcs.split(" ")[0])}return console.log("SdpSimulcast: current ssrc cache: ",this.ssrcCache),console.log("SdpSimulcast: parsed primary ssrc "+t),-1!==this.ssrcCache.indexOf(t)?(console.log("SdpSimulcast: Have seen primary ssrc before, filling in data from cache"),e=this._fillInSourceDataFromCache(e)):(console.log("SdpSimulcast: Have not seen primary ssrc before, generating source data"),e=this._generateSourceData(e,t)),this.ssrcCache=this._parseSimLayers(e),e},u.prototype.mungeRemoteDescription=function(e){if(!l(e))return e;var t=i.parse(e.sdp),n=this;return d(t,function(e){n.options.explodeRemoteSimulcast?(function(e){if(e&&Array.isArray(e.ssrcGroups))for(var t=o(e),n=[],i=e.ssrcGroups.length;i--;)if("SIM"===e.ssrcGroups[i].semantics){for(var r=e.ssrcGroups[i].ssrcs.split(" "),s=0;s<r.length;s++){var c=r[s];n.push(c);var u=t[c].msid.split(" ");t[c].msid=[u[0],"/",s," ",u[1],"/",s].join(""),t[c].cname=[t[c].cname,"/",s].join(""),e.ssrcGroups.forEach(function(e){if("SIM"!==e.semantics){var i=e.ssrcs.split(" ");-1!==i.indexOf(c)&&i.forEach(function(e){t[e].msid=t[c].msid,t[e].cname=t[c].cname,e!==c&&n.push(e)})}})}e.ssrcs=a(t,n),e.ssrcGroups.splice(i,1)}})(e):(function(e){if(e&&Array.isArray(e.ssrcGroups)){var t=o(e);e.ssrcGroups.forEach(function(n){if("SIM"===n.semantics){console.info("Imploding SIM group: "+n.ssrcs),n.nuke=!0;for(var i=n.ssrcs.split(" "),r=1;r<i.length;r++){var o=i[r];delete t[o],e.ssrcGroups.forEach(function(e){if("SIM"!==e.semantics){var n=e.ssrcs.split(" ");-1!==n.indexOf(o)&&(n.forEach(function(e){delete t[e]}),e.nuke=!0)}})}}}),e.ssrcs=a(t);for(var n=e.ssrcGroups.length;n--;)e.ssrcGroups[n].nuke&&e.ssrcGroups.splice(n,1)}else console.info("Halt: There are no SSRC groups in the remote description.")})(e),n.options.usesUnifiedPlan||(function(e){e&&(Array.isArray(e.invalid)||(e.invalid=[]),e.invalid.some(function(e){return"x-google-flag:conference"===e.value})||e.invalid.push({value:"x-google-flag:conference"}))})(e)}),new RTCSessionDescription({type:e.type,sdp:i.write(t)})},u.prototype.mungeLocalDescription=function(e){if(!l(e))return e;var t=i.parse(e.sdp),n=this;return d(t,function(e){"recvonly"!=e.direction&&"inactive"!=e.direction&&n._restoreSimulcast(e)}),new RTCSessionDescription({type:e.type,sdp:i.write(t)})},e.exports=u},function(e,t){t.writeSsrcs=function(e,t){var n=[];if(void 0!==e&&0!==Object.keys(e).length){Array.isArray(t)||(t=[]);for(var i=0;i<t.length;i++){var r=t[i],o=e[r];Object.keys(o).forEach(function(e){n.push({id:r,attribute:e,value:o[e]})})}Object.keys(e).forEach(function(i){if(i=parseInt(i),!(t.indexOf(i)>=0)){var r=e[i];Object.keys(r).forEach(function(e){n.push({id:i,attribute:e,value:r[e]})})}})}return n},t.parseSsrcs=function(e){var t={};return void 0!==e.ssrcs&&Array.isArray(e.ssrcs)&&e.ssrcs.forEach(function(e){t[e.id]||(t[e.id]={}),t[e.id][e.attribute]=e.value}),t}},function(e,t,n){!(function(e){"use strict";e.Strophe.addConnectionPlugin("disco",{_connection:null,_identities:[],_features:[],_items:[],init:function(t){this._connection=t,this._identities=[],this._features=[],this._items=[],t.addHandler(this._onDiscoInfo.bind(this),e.Strophe.NS.DISCO_INFO,"iq","get",null,null),t.addHandler(this._onDiscoItems.bind(this),e.Strophe.NS.DISCO_ITEMS,"iq","get",null,null)},addIdentity:function(e,t,n,i){for(var r=0;r<this._identities.length;r++)if(this._identities[r].category==e&&this._identities[r].type==t&&this._identities[r].name==n&&this._identities[r].lang==i)return!1;return this._identities.push({category:e,type:t,name:n,lang:i}),!0},addFeature:function(e){for(var t=0;t<this._features.length;t++)if(this._features[t]==e)return!1;return this._features.push(e),!0},removeFeature:function(e){for(var t=0;t<this._features.length;t++)if(this._features[t]===e)return this._features.splice(t,1),!0;return!1},addItem:function(e,t,n,i){return!(n&&!i||(this._items.push({jid:e,name:t,node:n,call_back:i}),0))},info:function(t,n,i,r,o){var a={xmlns:e.Strophe.NS.DISCO_INFO};n&&(a.node=n);var s=e.$iq({from:this._connection.jid,to:t,type:"get"}).c("query",a);this._connection.sendIQ(s,i,r,o)},items:function(t,n,i,r,o){var a={xmlns:e.Strophe.NS.DISCO_ITEMS};n&&(a.node=n);var s=e.$iq({from:this._connection.jid,to:t,type:"get"}).c("query",a);this._connection.sendIQ(s,i,r,o)},_buildIQResult:function(t,n){var i=t.getAttribute("id"),r=t.getAttribute("from"),o=e.$iq({type:"result",id:i});return null!==r&&o.attrs({to:r}),o.c("query",n)},_onDiscoInfo:function(t){var n,i=t.getElementsByTagName("query")[0].getAttribute("node"),r={xmlns:e.Strophe.NS.DISCO_INFO};i&&(r.node=i);var o=this._buildIQResult(t,r);for(n=0;n<this._identities.length;n++)r={category:this._identities[n].category,type:this._identities[n].type},this._identities[n].name&&(r.name=this._identities[n].name),this._identities[n].lang&&(r["xml:lang"]=this._identities[n].lang),o.c("identity",r).up();for(n=0;n<this._features.length;n++)o.c("feature",{var:this._features[n]}).up();return this._connection.send(o.tree()),!0},_onDiscoItems:function(t){var n,i,r={xmlns:e.Strophe.NS.DISCO_ITEMS},o=t.getElementsByTagName("query")[0].getAttribute("node");if(o){for(r.node=o,n=[],i=0;i<this._items.length;i++)if(this._items[i].node==o){n=this._items[i].call_back(t);break}}else n=this._items;var a=this._buildIQResult(t,r);for(i=0;i<n.length;i++){var s={jid:n[i].jid};n[i].name&&(s.name=n[i].name),n[i].node&&(s.node=n[i].node),a.c("item",s).up()}return this._connection.send(a.tree()),!0}})})(n(2))},function(e,t,n){!(function(e){"use strict";e.Strophe.addConnectionPlugin("streamManagement",{logging:!1,autoSendCountOnEveryIncomingStanza:!1,requestResponseInterval:5,_c:null,_NS:"urn:xmpp:sm:3",_isStreamManagementEnabled:!1,_serverProcesssedStanzasCounter:null,_clientProcessedStanzasCounter:null,_clientSentStanzasCounter:null,_originalXMLOutput:null,_requestHandler:null,_incomingHandler:null,_requestResponseIntervalCount:0,_isSupported:!1,_unacknowledgedStanzas:[],_acknowledgedStanzaListeners:[],addAcknowledgedStanzaListener:function(e){this._acknowledgedStanzaListeners.push(e)},enable:function(t){if(!this._isSupported)throw new Error("The server doesn't support urn:xmpp:sm:3 namespace");this._c.send(e.$build("enable",{xmlns:this._NS,resume:t})),this._c.flush(),this._c.pause()},getResumeToken:function(){return this._resumeToken},isSupported:function(){return this._isSupported},resume:function(){if(!this.getResumeToken())throw new Error("No resume token");this._c.options.explicitResourceBinding=!0,this._resuming=!0,this._originalConnect.apply(this._c,this._connectArgs)},requestAcknowledgement:function(){this._requestResponseIntervalCount=0,this._c.send(e.$build("r",{xmlns:this._NS}))},getOutgoingCounter:function(){return this._clientSentStanzasCounter},getIncomingCounter:function(){return this._clientProcessedStanzasCounter},init:function(t){this._c=t,e.Strophe.addNamespace("SM",this._NS),this._originalXMLOutput=this._c.xmlOutput,this._c.xmlOutput=this.xmlOutput.bind(this),this._originalConnect=this._c.connect,this._c.connect=this._interceptConnectArgs.bind(this),this._originalOnStreamFeaturesAfterSASL=this._c._onStreamFeaturesAfterSASL,this._c._onStreamFeaturesAfterSASL=this._onStreamFeaturesAfterSASL.bind(this),this._originalDoDisconnect=this._c._doDisconnect,this._c._doDisconnect=this._interceptDoDisconnect.bind(this),this._originalDisconnect=this._c.disconnect,this._c.disconnect=this._interceptDisconnect.bind(this)},_interceptDisconnect:function(){this._resumeToken=void 0,this._originalDisconnect.apply(this._c,arguments)},_interceptDoDisconnect:function(){this.getResumeToken()&&!this._resuming&&this._c.connected&&!this._c.disconnecting&&(this._resumeState={handlers:this._c.handlers,timedHandlers:this._c.timedHandlers,removeTimeds:this._c.removeTimeds,removeHandlers:this._c.removeHandlers,addTimeds:this._c.addTimeds,addHandlers:this._c.addHandlers},this._storedJid=this._c.jid,this.logging&&e.Strophe.debug("SM stored resume state, handler count: "+this._resumeState.handlers.length)),this._originalDoDisconnect.apply(this._c,arguments)},_interceptConnectArgs:function(){this._connectArgs=arguments,this._originalConnect.apply(this._c,arguments)},_onStreamFeaturesAfterSASL:function(e){return this._isSupported=e.getElementsByTagNameNS(this._NS,"sm").length>0,this._originalOnStreamFeaturesAfterSASL.apply(this._c,arguments)},statusChanged:function(t){if(this.getResumeToken()||t!==e.Strophe.Status.CONNECTED&&t!==e.Strophe.Status.DISCONNECTED)if(t===e.Strophe.Status.BINDREQUIRED){for(var n in this._c.jid=this._storedJid,this._resumeState)this._c[n]=this._resumeState[n];this._c.send(e.$build("resume",{xmlns:this._NS,h:this._clientProcessedStanzasCounter,previd:this._resumeToken})),this._c.flush()}else t===e.Strophe.Status.ERROR&&(this.logging&&e.Strophe.debug("SM cleared resume token on error"),this._resumeToken=void 0);else this.logging&&e.Strophe.debug("SM reset state"),this._serverProcesssedStanzasCounter=0,this._clientProcessedStanzasCounter=0,this._clientSentStanzasCounter=0,this._isStreamManagementEnabled=!1,this._requestResponseIntervalCount=0,this._resuming=!1,t===e.Strophe.Status.DISCONNECTED&&(this._isSupported=!1),this._unacknowledgedStanzas=[],this._requestHandler&&this._c.deleteHandler(this._requestHandler),this._incomingHandler&&this._c.deleteHandler(this._incomingHandler),this._requestHandler=this._c.addHandler(this._handleServerRequestHandler.bind(this),this._NS,"r"),this._ackHandler=this._c.addHandler(this._handleServerAck.bind(this),this._NS,"a"),this._incomingHandler=this._c.addHandler(this._incomingStanzaHandler.bind(this)),this._enabledHandler=this._c._addSysHandler(this._handleEnabled.bind(this),this._NS,"enabled"),this._resumeFailedHandler=this._c._addSysHandler(this._handleResumeFailed.bind(this),this._NS,"failed"),this._resumedHandler=this._c._addSysHandler(this._handleResumed.bind(this),this._NS,"resumed")},xmlOutput:function(t){return(e.Strophe.isTagEqual(t,"iq")||e.Strophe.isTagEqual(t,"presence")||e.Strophe.isTagEqual(t,"message"))&&this._increaseSentStanzasCounter(t),this._originalXMLOutput.call(this._c,t)},_handleEnabled:function(e){return this._isStreamManagementEnabled=!0,this._resumeToken="true"===e.getAttribute("resume")&&e.getAttribute("id"),this._c.resume(),!0},_handleResumeFailed:function(t){var n=t&&t.firstElementChild&&t.firstElementChild.tagName;return this._c._changeConnectStatus(e.Strophe.Status.ERROR,n,t),this._c._doDisconnect(),!0},_handleResumed:function(t){var n=parseInt(t.getAttribute("h"));if(this._handleAcknowledgedStanzas(n,this._serverProcesssedStanzasCounter),this._resuming=!1,this._c.do_bind=!1,this._c.authenticated=!0,this._c.restored=!0,this._unacknowledgedStanzas.length>0){this.logging&&e.Strophe.debug("SM Sending unacknowledged stanzas",this._unacknowledgedStanzas);var i=this._unacknowledgedStanzas,r=Array.isArray(i),o=0;for(i=r?i:i["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var a;if(r){if(o>=i.length)break;a=i[o++]}else{if((o=i.next()).done)break;a=o.value}var s=a;this._c.send(s)}}else this.logging&&e.Strophe.debug("SM No unacknowledged stanzas",this._unacknowledgedStanzas);return this._c._changeConnectStatus(e.Strophe.Status.CONNECTED,null),!0},_incomingStanzaHandler:function(t){return(e.Strophe.isTagEqual(t,"iq")||e.Strophe.isTagEqual(t,"presence")||e.Strophe.isTagEqual(t,"message"))&&(this._increaseReceivedStanzasCounter(),this.autoSendCountOnEveryIncomingStanza&&this._answerProcessedStanzas()),!0},_handleAcknowledgedStanzas:function(t,n){var i=t-n;i<0&&this._throwError("New reported stanza count lower than previous. New: "+t+" - Previous: "+n),i>this._unacknowledgedStanzas.length&&this._throwError("Higher reported acknowledge count than unacknowledged stanzas. Reported Acknowledge Count: "+i+" - Unacknowledge Stanza Count: "+this._unacknowledgedStanzas.length+" - New: "+t+" - Previous: "+n);for(var r=0;r<i;r++)for(var o=this._unacknowledgedStanzas.shift(),a=0;a<this._acknowledgedStanzaListeners.length;a++)this._acknowledgedStanzaListeners[a](o);this.logging&&this._unacknowledgedStanzas.length>0&&e.Strophe.warn("SM Unacknowledged stanzas",this._unacknowledgedStanzas),this._serverProcesssedStanzasCounter=t,this.requestResponseInterval>0&&(this._requestResponseIntervalCount=0)},_handleServerRequestHandler:function(){return this._answerProcessedStanzas(),!0},_handleServerAck:function(e){var t=parseInt(e.getAttribute("h"));return this._handleAcknowledgedStanzas(t,this._serverProcesssedStanzasCounter),!0},_answerProcessedStanzas:function(){this._isStreamManagementEnabled&&this._c.send(e.$build("a",{xmlns:this._NS,h:this._clientProcessedStanzasCounter}))},_increaseSentStanzasCounter:function(e){var t=this;if(this._isStreamManagementEnabled){if(-1!==this._unacknowledgedStanzas.indexOf(e))return;this._unacknowledgedStanzas.push(e),this._clientSentStanzasCounter++,this.requestResponseInterval>0&&(this._requestResponseIntervalCount++,this._requestResponseIntervalCount===this.requestResponseInterval&&setTimeout(function(){t.requestAcknowledgement()},1))}},_increaseReceivedStanzasCounter:function(){this._isStreamManagementEnabled&&this._clientProcessedStanzasCounter++},_throwError:function(t){throw e.Strophe.error(t),new Error(t)}})})(n(2))},function(e,t,n){(function(e){var i=void 0!==e&&e||"undefined"!=typeof self&&self||window,r=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(r.call(setTimeout,i,arguments),clearTimeout)},t.setInterval=function(){return new o(r.call(setInterval,i,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(i,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(147),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(43))},function(e,t,n){(function(e,t){!(function(e,n){"use strict";if(!e.setImmediate){var i,r,o,a,s,c=1,u={},d=!1,l=e.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(e);h=h&&h.setTimeout?h:e,"[object process]"==={}.toString.call(e.process)?i=function(e){t.nextTick(function(){f(e)})}:(function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}})()?(a="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&f(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),i=function(t){e.postMessage(a+t,"*")}):e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){f(e.data)},i=function(e){o.port2.postMessage(e)}):l&&"onreadystatechange"in l.createElement("script")?(r=l.documentElement,i=function(e){var t=l.createElement("script");t.onreadystatechange=function(){f(e),t.onreadystatechange=null,r.removeChild(t),t=null},r.appendChild(t)}):i=function(e){setTimeout(f,0,e)},h.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return u[c]=r,i(c),c++},h.clearImmediate=p}function p(e){delete u[e]}function f(e){if(d)setTimeout(f,0,e);else{var t=u[e];if(t){d=!0;try{!(function(e){var t=e.callback,i=e.args;switch(i.length){case 0:t();break;case 1:t(i[0]);break;case 2:t(i[0],i[1]);break;case 3:t(i[0],i[1],i[2]);break;default:t.apply(n,i)}})(t)}finally{p(e),d=!1}}}}})("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(43),n(51))},function(e,t){e.exports=function(e,t,n,i){this.blob=e,this.name=t,this.startTime=n,this.wordArray=i}},function(e,t,n){var i=n(150),r=n(151),o=n(72),a=function(){this.url=(function(){var e="config does not contain an url to a Sphinx4 https server";if(void 0===config.sphinxURL)console.log(e);else{var t=config.sphinxURL;if(void 0!==t.includes&&t.includes("https://"))return t;console.log(e)}})()};a.prototype=Object.create(i.prototype),a.constructor=a,a.prototype.sendRequest=function(e,t){console.log("sending an audio file  to "+this.url),console.log("the audio file being sent: "+e);var n=new XMLHttpRequest;n.onreadystatechange=function(){if(n.readyState===XMLHttpRequest.DONE&&200===n.status)t(n.responseText);else if(n.readyState===XMLHttpRequest.DONE)throw new Error("unable to accept response from sphinx server. status: "+n.status)},n.open("POST",this.url),n.setRequestHeader("Content-Type",o.determineCorrectFileType()),n.send(e),console.log("send "+e)},a.prototype.formatResponse=function(e){var t=JSON.parse(e).objects;t.shift();var n=[];return t.forEach(function(e){return e.filler||n.push(new r(e.word,e.start,e.end))}),n},a.prototype.verify=function(e){if(console.log("response from server:"+e.toString()),"string"!=typeof e)return!1;var t;try{t=JSON.parse(e)}catch(e){return console.log(e),!1}if(void 0===t.objects)return!1;var n=t.objects;return!(!n[0]||!n[0]["session-id"])},e.exports=a},function(e,t){var n=function(){throw new Error("TranscriptionService is abstract and cannot becreated")};n.prototype.send=function(e,t){var n=this;this.sendRequest(e.blob,function(i){n.verify(i)?e.wordArray=n.formatResponse(i):(console.log("the retrieved response from the server is not valid!"),e.wordArray=[]),t(e)})},n.prototype.sendRequest=function(e,t){throw new Error("TranscriptionService.sendRequest is abstract")},n.prototype.formatResponse=function(e){throw new Error("TranscriptionService.format is abstract")},n.prototype.verify=function(e){throw new Error("TranscriptionService.verify is abstract")},e.exports=n},function(e,t){var n=function(e,t,n){this.word=e,this.begin=t,this.end=n};n.prototype.getWord=function(){return this.word},n.prototype.getBeginTime=function(){return this.begin},n.prototype.getEndTime=function(){return this.end},e.exports=n},function(e,t,n){"use strict";n.r(t);var i={};n.r(i),n.d(i,"shimGetUserMedia",function(){return E}),n.d(i,"shimGetDisplayMedia",function(){return b}),n.d(i,"shimMediaStream",function(){return C}),n.d(i,"shimOnTrack",function(){return T}),n.d(i,"shimGetSendersWithDtmf",function(){return A}),n.d(i,"shimGetStats",function(){return R}),n.d(i,"shimSenderReceiverGetStats",function(){return k}),n.d(i,"shimAddTrackRemoveTrackWithNative",function(){return w}),n.d(i,"shimAddTrackRemoveTrack",function(){return I}),n.d(i,"shimPeerConnection",function(){return P}),n.d(i,"fixNegotiationNeeded",function(){return D});var r={};n.r(r),n.d(r,"shimGetUserMedia",function(){return M}),n.d(r,"shimGetDisplayMedia",function(){return L}),n.d(r,"shimPeerConnection",function(){return x}),n.d(r,"shimReplaceTrack",function(){return F});var o={};n.r(o),n.d(o,"shimGetUserMedia",function(){return j}),n.d(o,"shimGetDisplayMedia",function(){return U}),n.d(o,"shimOnTrack",function(){return H}),n.d(o,"shimPeerConnection",function(){return J}),n.d(o,"shimSenderGetStats",function(){return B}),n.d(o,"shimReceiverGetStats",function(){return G}),n.d(o,"shimRemoveStream",function(){return V}),n.d(o,"shimRTCDataChannel",function(){return q}),n.d(o,"shimAddTransceiver",function(){return K}),n.d(o,"shimCreateOffer",function(){return W}),n.d(o,"shimCreateAnswer",function(){return z});var a={};n.r(a),n.d(a,"shimLocalStreamsAPI",function(){return $}),n.d(a,"shimRemoteStreamsAPI",function(){return Q}),n.d(a,"shimCallbacksAPI",function(){return X}),n.d(a,"shimGetUserMedia",function(){return Y}),n.d(a,"shimConstraints",function(){return Z}),n.d(a,"shimRTCIceServerUrls",function(){return ee}),n.d(a,"shimTrackEventTransceiver",function(){return te}),n.d(a,"shimCreateOfferLegacy",function(){return ne});var s={};n.r(s),n.d(s,"shimRTCIceCandidate",function(){return oe}),n.d(s,"shimMaxMessageSize",function(){return ae}),n.d(s,"shimSendThrowTypeError",function(){return se}),n.d(s,"shimConnectionState",function(){return ce}),n.d(s,"removeAllowExtmapMixed",function(){return ue});var c=!0,u=!0;function d(e,t,n){var i=e.match(t);return i&&i.length>=n&&parseInt(i[n],10)}function l(e,t,n){if(e.RTCPeerConnection){var i=e.RTCPeerConnection.prototype,r=i.addEventListener;i.addEventListener=function(e,i){if(e!==t)return r.apply(this,arguments);var o=function(e){var t=n(e);t&&i(t)};return this._eventMap=this._eventMap||{},this._eventMap[i]=o,r.apply(this,[e,o])};var o=i.removeEventListener;i.removeEventListener=function(e,n){if(e!==t||!this._eventMap||!this._eventMap[n])return o.apply(this,arguments);var i=this._eventMap[n];return delete this._eventMap[n],o.apply(this,[e,i])},Object.defineProperty(i,"on"+t,{get:function(){return this["_on"+t]},set:function(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)},enumerable:!0,configurable:!0})}}function h(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(c=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function p(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(u=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function f(){if("object"==typeof window){if(c)return;"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)}}function m(e,t){u&&console.warn(e+" is deprecated, please use "+t+" instead.")}function v(e){var t=e.navigator,n={browser:null,version:null};if(void 0===e||!e.navigator)return n.browser="Not a browser.",n;if(t.mozGetUserMedia)n.browser="firefox",n.version=d(t.userAgent,/Firefox\/(\d+)\./,1);else if(t.webkitGetUserMedia||!1===e.isSecureContext&&e.webkitRTCPeerConnection&&!e.RTCIceGatherer)n.browser="chrome",n.version=d(t.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(t.mediaDevices&&t.userAgent.match(/Edge\/(\d+).(\d+)$/))n.browser="edge",n.version=d(t.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!e.RTCPeerConnection||!t.userAgent.match(/AppleWebKit\/(\d+)\./))return n.browser="Not a supported browser.",n;n.browser="safari",n.version=d(t.userAgent,/AppleWebKit\/(\d+)\./,1),n.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype}return n}function g(e){return"[object Object]"===Object.prototype.toString.call(e)}function y(e){return g(e)?Object.keys(e).reduce(function(t,n){var i=g(e[n]),r=i?y(e[n]):e[n],o=i&&!Object.keys(r).length;return void 0===r||o?t:_extends(t,_defineProperty({},n,r))},{}):e}function _(e,t,n){var i=n?"outbound-rtp":"inbound-rtp",r=new Map;if(null===t)return r;var o=[];return e.forEach(function(e){"track"===e.type&&e.trackIdentifier===t.id&&o.push(e)}),o.forEach(function(t){e.forEach(function(n){n.type===i&&n.trackId===t.id&&(function e(t,n,i){n&&!i.has(n.id)&&(i.set(n.id,n),Object.keys(n).forEach(function(r){r.endsWith("Id")?e(t,t.get(n[r]),i):r.endsWith("Ids")&&n[r].forEach(function(n){e(t,t.get(n),i)})}))})(e,n,r)})}),r}var S=f;function E(e){var t=e&&e.navigator;if(t.mediaDevices){var n=v(e),i=function(e){if("object"!=typeof e||e.mandatory||e.optional)return e;var t={};return Object.keys(e).forEach(function(n){if("require"!==n&&"advanced"!==n&&"mediaSource"!==n){var i="object"==typeof e[n]?e[n]:{ideal:e[n]};void 0!==i.exact&&"number"==typeof i.exact&&(i.min=i.max=i.exact);var r=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==i.ideal){t.optional=t.optional||[];var o={};"number"==typeof i.ideal?(o[r("min",n)]=i.ideal,t.optional.push(o),(o={})[r("max",n)]=i.ideal,t.optional.push(o)):(o[r("",n)]=i.ideal,t.optional.push(o))}void 0!==i.exact&&"number"!=typeof i.exact?(t.mandatory=t.mandatory||{},t.mandatory[r("",n)]=i.exact):["min","max"].forEach(function(e){void 0!==i[e]&&(t.mandatory=t.mandatory||{},t.mandatory[r(e,n)]=i[e])})}}),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},r=function(e,r){if(n.version>=61)return r(e);if((e=JSON.parse(JSON.stringify(e)))&&"object"==typeof e.audio){var o=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])};o((e=JSON.parse(JSON.stringify(e))).audio,"autoGainControl","googAutoGainControl"),o(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=i(e.audio)}if(e&&"object"==typeof e.video){var a=e.video.facingMode;a=a&&("object"==typeof a?a:{ideal:a});var s,c=n.version<66;if(a&&("user"===a.exact||"environment"===a.exact||"user"===a.ideal||"environment"===a.ideal)&&(!t.mediaDevices.getSupportedConstraints||!t.mediaDevices.getSupportedConstraints().facingMode||c))if(delete e.video.facingMode,"environment"===a.exact||"environment"===a.ideal?s=["back","rear"]:"user"!==a.exact&&"user"!==a.ideal||(s=["front"]),s)return t.mediaDevices.enumerateDevices().then(function(t){var n=(t=t.filter(function(e){return"videoinput"===e.kind})).find(function(e){return s.some(function(t){return e.label.toLowerCase().includes(t)})});return!n&&t.length&&s.includes("back")&&(n=t[t.length-1]),n&&(e.video.deviceId=a.exact?{exact:n.deviceId}:{ideal:n.deviceId}),e.video=i(e.video),S("chrome: "+JSON.stringify(e)),r(e)});e.video=i(e.video)}return S("chrome: "+JSON.stringify(e)),r(e)},o=function(e){return n.version>=64?e:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}};if(t.getUserMedia=function(e,n,i){r(e,function(e){t.webkitGetUserMedia(e,n,function(e){i&&i(o(e))})})}.bind(t),t.mediaDevices.getUserMedia){var a=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(e){return r(e,function(e){return a(e).then(function(t){if(e.audio&&!t.getAudioTracks().length||e.video&&!t.getVideoTracks().length)throw t.getTracks().forEach(function(e){e.stop()}),new DOMException("","NotFoundError");return t},function(e){return Promise.reject(o(e))})})}}}}function b(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&("function"==typeof t?e.navigator.mediaDevices.getDisplayMedia=function(n){return t(n).then(function(t){var i=n.video&&n.video.width,r=n.video&&n.video.height,o=n.video&&n.video.frameRate;return n.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t,maxFrameRate:o||3}},i&&(n.video.mandatory.maxWidth=i),r&&(n.video.mandatory.maxHeight=r),e.navigator.mediaDevices.getUserMedia(n)})}:console.error("shimGetDisplayMedia: getSourceId argument is not a function"))}function C(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function T(e){if("object"!=typeof e||!e.RTCPeerConnection||"ontrack"in e.RTCPeerConnection.prototype)l(e,"track",function(e){return e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e});else{Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var n=this;return this._ontrackpoly||(this._ontrackpoly=function(t){t.stream.addEventListener("addtrack",function(i){var r;r=e.RTCPeerConnection.prototype.getReceivers?n.getReceivers().find(function(e){return e.track&&e.track.id===i.track.id}):{track:i.track};var o=new Event("track");o.track=i.track,o.receiver=r,o.transceiver={receiver:r},o.streams=[t.stream],n.dispatchEvent(o)}),t.stream.getTracks().forEach(function(i){var r;r=e.RTCPeerConnection.prototype.getReceivers?n.getReceivers().find(function(e){return e.track&&e.track.id===i.id}):{track:i};var o=new Event("track");o.track=i,o.receiver=r,o.transceiver={receiver:r},o.streams=[t.stream],n.dispatchEvent(o)})},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}}function A(e){if("object"==typeof e&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){var t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&("audio"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};var n=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,i){var r=n.apply(this,arguments);return r||(r=t(this,e),this._senders.push(r)),r};var i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){i.apply(this,arguments);var t=this._senders.indexOf(e);-1!==t&&this._senders.splice(t,1)}}var r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var n=this;this._senders=this._senders||[],r.apply(this,[e]),e.getTracks().forEach(function(e){n._senders.push(t(n,e))})};var o=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;this._senders=this._senders||[],o.apply(this,[e]),e.getTracks().forEach(function(e){var n=t._senders.find(function(t){return t.track===e});n&&t._senders.splice(t._senders.indexOf(n),1)})}}else if("object"==typeof e&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){var a=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){var e=this,t=a.apply(this,[]);return t.forEach(function(t){return t._pc=e}),t},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function R(e){if(e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){var e=this,n=Array.prototype.slice.call(arguments),i=n[0],r=n[1],o=n[2];if(arguments.length>0&&"function"==typeof i)return t.apply(this,arguments);if(0===t.length&&(0===arguments.length||"function"!=typeof i))return t.apply(this,[]);var a=function(e){var t={};return e.result().forEach(function(e){var n={id:e.id,timestamp:e.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};e.names().forEach(function(t){n[t]=e.stat(t)}),t[n.id]=n}),t},s=function(e){return new Map(Object.keys(e).map(function(t){return[t,e[t]]}))};if(arguments.length>=2){return t.apply(this,[function(e){r(s(a(e)))},i])}return new Promise(function(n,i){t.apply(e,[function(e){n(s(a(e)))},i])}).then(r,o)}}}function k(e){if("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver){if(!("getStats"in e.RTCRtpSender.prototype)){var t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){var e=this,n=t.apply(this,[]);return n.forEach(function(t){return t._pc=e}),n});var n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){var e=this;return this._pc.getStats().then(function(t){return _(t,e.track,!0)})}}if(!("getStats"in e.RTCRtpReceiver.prototype)){var i=e.RTCPeerConnection.prototype.getReceivers;i&&(e.RTCPeerConnection.prototype.getReceivers=function(){var e=this,t=i.apply(this,[]);return t.forEach(function(t){return t._pc=e}),t}),l(e,"track",function(e){return e.receiver._pc=e.srcElement,e}),e.RTCRtpReceiver.prototype.getStats=function(){var e=this;return this._pc.getStats().then(function(t){return _(t,e.track,!1)})}}if("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype){var r=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){var t,n,i,o=arguments[0];return this.getSenders().forEach(function(e){e.track===o&&(t?i=!0:t=e)}),this.getReceivers().forEach(function(e){return e.track===o&&(n?i=!0:n=e),e.track===o}),i||t&&n?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):t?t.getStats():n?n.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return r.apply(this,arguments)}}}}function w(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(function(t){return e._shimmedLocalStreams[t][0]})};var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,n){if(!n)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};var i=t.apply(this,arguments);return this._shimmedLocalStreams[n.id]?-1===this._shimmedLocalStreams[n.id].indexOf(i)&&this._shimmedLocalStreams[n.id].push(i):this._shimmedLocalStreams[n.id]=[n,i],i};var n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var t=this;this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach(function(e){if(t.getSenders().find(function(t){return t.track===e}))throw new DOMException("Track already exists.","InvalidAccessError")});var i=this.getSenders();n.apply(this,arguments);var r=this.getSenders().filter(function(e){return-1===i.indexOf(e)});this._shimmedLocalStreams[e.id]=[e].concat(r)};var i=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],i.apply(this,arguments)};var r=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){var t=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&Object.keys(this._shimmedLocalStreams).forEach(function(n){var i=t._shimmedLocalStreams[n].indexOf(e);-1!==i&&t._shimmedLocalStreams[n].splice(i,1),1===t._shimmedLocalStreams[n].length&&delete t._shimmedLocalStreams[n]}),r.apply(this,arguments)}}function I(e){if(e.RTCPeerConnection){var t=v(e);if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return w(e);var n=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this,t=n.apply(this);return this._reverseStreams=this._reverseStreams||{},t.map(function(t){return e._reverseStreams[t.id]})};var i=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){var n=this;if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},t.getTracks().forEach(function(e){if(n.getSenders().find(function(t){return t.track===e}))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[t.id]){var r=new e.MediaStream(t.getTracks());this._streams[t.id]=r,this._reverseStreams[r.id]=t,t=r}i.apply(this,[t])};var r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},r.apply(this,[this._streams[e.id]||e]),delete this._reverseStreams[this._streams[e.id]?this._streams[e.id].id:e.id],delete this._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,n){var i=this;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");var r=[].slice.call(arguments,1);if(1!==r.length||!r[0].getTracks().find(function(e){return e===t}))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(function(e){return e.track===t}))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};var o=this._streams[n.id];if(o)o.addTrack(t),Promise.resolve().then(function(){i.dispatchEvent(new Event("negotiationneeded"))});else{var a=new e.MediaStream([t]);this._streams[n.id]=a,this._reverseStreams[a.id]=n,this.addStream(a)}return this.getSenders().find(function(e){return e.track===t})},["createOffer","createAnswer"].forEach(function(t){var n=e.RTCPeerConnection.prototype[t],i=_defineProperty({},t,function(){var e=this,t=arguments;return arguments.length&&"function"==typeof arguments[0]?n.apply(this,[function(n){var i=s(e,n);t[0].apply(null,[i])},function(e){t[1]&&t[1].apply(null,e)},arguments[2]]):n.apply(this,arguments).then(function(t){return s(e,t)})});e.RTCPeerConnection.prototype[t]=i[t]});var o=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=(e=this,t=arguments[0],n=t.sdp,Object.keys(e._reverseStreams||[]).forEach(function(t){var i=e._reverseStreams[t],r=e._streams[i.id];n=n.replace(new RegExp(i.id,"g"),r.id)}),new RTCSessionDescription({type:t.type,sdp:n})),o.apply(this,arguments)):o.apply(this,arguments);var e,t,n};var a=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get:function(){var e=a.get.apply(this);return""===e.type?e:s(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){var t,n=this;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!e._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(e._pc!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{},Object.keys(this._streams).forEach(function(i){n._streams[i].getTracks().find(function(t){return e.track===t})&&(t=n._streams[i])}),t&&(1===t.getTracks().length?this.removeStream(this._reverseStreams[t.id]):t.removeTrack(e.track),this.dispatchEvent(new Event("negotiationneeded")))}}function s(e,t){var n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach(function(t){var i=e._reverseStreams[t],r=e._streams[i.id];n=n.replace(new RegExp(r.id,"g"),i.id)}),new RTCSessionDescription({type:t.type,sdp:n})}}function P(e){var t=v(e);if(!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection){var n=0===e.RTCPeerConnection.prototype.addIceCandidate.length;t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){var n=e.RTCPeerConnection.prototype[t],i=_defineProperty({},t,function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)});e.RTCPeerConnection.prototype[t]=i[t]});var i=e.RTCPeerConnection.prototype.addIceCandidate;e.RTCPeerConnection.prototype.addIceCandidate=function(){return n||arguments[0]?t.version<78&&arguments[0]&&""===arguments[0].candidate?Promise.resolve():i.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())}}}function D(e){l(e,"negotiationneeded",function(e){if("stable"===e.target.signalingState)return e})}var O=n(79),N=n.n(O);function M(e){var t=e&&e.navigator,n=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(e){return n(e).catch(function(e){return Promise.reject((function(e){return{name:{PermissionDeniedError:"NotAllowedError"}[e.name]||e.name,message:e.message,constraint:e.constraint,toString:function(){return this.name}}})(e))})}}function L(e){"getDisplayMedia"in e.navigator&&e.navigator.mediaDevices&&(e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||(e.navigator.mediaDevices.getDisplayMedia=e.navigator.getDisplayMedia.bind(e.navigator)))}function x(e){var t=v(e);if(e.RTCIceGatherer&&(e.RTCIceCandidate||(e.RTCIceCandidate=function(e){return e}),e.RTCSessionDescription||(e.RTCSessionDescription=function(e){return e}),t.version<15025)){var n=Object.getOwnPropertyDescriptor(e.MediaStreamTrack.prototype,"enabled");Object.defineProperty(e.MediaStreamTrack.prototype,"enabled",{set:function(e){n.set.call(this,e);var t=new Event("enabled");t.enabled=e,this.dispatchEvent(t)}})}!e.RTCRtpSender||"dtmf"in e.RTCRtpSender.prototype||Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=new e.RTCDtmfSender(this):"video"===this.track.kind&&(this._dtmf=null)),this._dtmf}}),e.RTCDtmfSender&&!e.RTCDTMFSender&&(e.RTCDTMFSender=e.RTCDtmfSender);var i=N()(e,t.version);e.RTCPeerConnection=function(e){return e&&e.iceServers&&(e.iceServers=(function(e,t){var n=!1;return(e=JSON.parse(JSON.stringify(e))).filter(function(e){if(e&&(e.urls||e.url)){var t=e.urls||e.url;e.url&&!e.urls&&m("RTCIceServer.url","RTCIceServer.urls");var i="string"==typeof t;return i&&(t=[t]),t=t.filter(function(e){if(0===e.indexOf("stun:"))return!1;var t=e.startsWith("turn")&&!e.startsWith("turn:[")&&e.includes("transport=udp");return t&&!n?(n=!0,!0):t&&!n}),delete e.url,e.urls=i?t[0]:t,!!t.length}})})(e.iceServers,t.version),f("ICE servers after filtering:",e.iceServers)),new i(e)},e.RTCPeerConnection.prototype=i.prototype}function F(e){!e.RTCRtpSender||"replaceTrack"in e.RTCRtpSender.prototype||(e.RTCRtpSender.prototype.replaceTrack=e.RTCRtpSender.prototype.setTrack)}function j(e){var t=v(e),n=e&&e.navigator,i=e&&e.MediaStreamTrack;if(n.getUserMedia=function(e,t,i){m("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(e).then(t,i)},!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){var r=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])},o=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(e){return"object"==typeof e&&"object"==typeof e.audio&&(e=JSON.parse(JSON.stringify(e)),r(e.audio,"autoGainControl","mozAutoGainControl"),r(e.audio,"noiseSuppression","mozNoiseSuppression")),o(e)},i&&i.prototype.getSettings){var a=i.prototype.getSettings;i.prototype.getSettings=function(){var e=a.apply(this,arguments);return r(e,"mozAutoGainControl","autoGainControl"),r(e,"mozNoiseSuppression","noiseSuppression"),e}}if(i&&i.prototype.applyConstraints){var s=i.prototype.applyConstraints;i.prototype.applyConstraints=function(e){return"audio"===this.kind&&"object"==typeof e&&(e=JSON.parse(JSON.stringify(e)),r(e,"autoGainControl","mozAutoGainControl"),r(e,"noiseSuppression","mozNoiseSuppression")),s.apply(this,[e])}}}}function U(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(n){if(!n||!n.video){var i=new DOMException("getDisplayMedia without video constraints is undefined");return i.name="NotFoundError",i.code=8,Promise.reject(i)}return!0===n.video?n.video={mediaSource:t}:n.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(n)})}function H(e){"object"==typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}function J(e){var t=v(e);if("object"==typeof e&&(e.RTCPeerConnection||e.mozRTCPeerConnection)){if(!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){var n=e.RTCPeerConnection.prototype[t],i=_defineProperty({},t,function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)});e.RTCPeerConnection.prototype[t]=i[t]}),t.version<68){var n=e.RTCPeerConnection.prototype.addIceCandidate;e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?arguments[0]&&""===arguments[0].candidate?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())}}var i={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){var e=Array.prototype.slice.call(arguments),n=e[0],o=e[1],a=e[2];return r.apply(this,[n||null]).then(function(e){if(t.version<53&&!o)try{e.forEach(function(e){e.type=i[e.type]||e.type})}catch(t){if("TypeError"!==t.name)throw t;e.forEach(function(t,n){e.set(n,_extends({},t,{type:i[t.type]||t.type}))})}return e}).then(o,a)}}}function B(e){if("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&!(e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)){var t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){var e=this,n=t.apply(this,[]);return n.forEach(function(t){return t._pc=e}),n});var n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}}function G(e){if("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&!(e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)){var t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){var e=this,n=t.apply(this,[]);return n.forEach(function(t){return t._pc=e}),n}),l(e,"track",function(e){return e.receiver._pc=e.srcElement,e}),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}}function V(e){!e.RTCPeerConnection||"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;m("removeStream","removeTrack"),this.getSenders().forEach(function(n){n.track&&e.getTracks().includes(n.track)&&t.removeTrack(n)})})}function q(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function K(e){if("object"==typeof e&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];var e=arguments[1],n=e&&"sendEncodings"in e;n&&e.sendEncodings.forEach(function(e){if("rid"in e&&!/^[a-z0-9]{0,16}$/i.test(e.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in e&&!(parseFloat(e.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in e&&!(parseFloat(e.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});var i=t.apply(this,arguments);if(n){var r=i.sender,o=r.getParameters();"encodings"in o||(o.encodings=e.sendEncodings,this.setParametersPromises.push(r.setParameters(o).catch(function(){})))}return i})}}function W(e){if("object"==typeof e&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){var e=arguments,n=this;return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(function(){return t.apply(n,e)}).finally(function(){n.setParametersPromises=[]}):t.apply(this,arguments)}}}function z(e){if("object"==typeof e&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){var e=arguments,n=this;return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(function(){return t.apply(n,e)}).finally(function(){n.setParametersPromises=[]}):t.apply(this,arguments)}}}function $(e){if("object"==typeof e&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){var n=this;this._localStreams||(this._localStreams=[]),this._localStreams.includes(e)||this._localStreams.push(e),e.getAudioTracks().forEach(function(i){return t.call(n,i,e)}),e.getVideoTracks().forEach(function(i){return t.call(n,i,e)})},e.RTCPeerConnection.prototype.addTrack=function(e){var n=arguments[1];return n&&(this._localStreams?this._localStreams.includes(n)||this._localStreams.push(n):this._localStreams=[n]),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;this._localStreams||(this._localStreams=[]);var n=this._localStreams.indexOf(e);if(-1!==n){this._localStreams.splice(n,1);var i=e.getTracks();this.getSenders().forEach(function(e){i.includes(e.track)&&t.removeTrack(e)})}})}}function Q(e){if("object"==typeof e&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(e){var t=this;this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=e),this.addEventListener("track",this._onaddstreampoly=function(e){e.streams.forEach(function(e){if(t._remoteStreams||(t._remoteStreams=[]),!t._remoteStreams.includes(e)){t._remoteStreams.push(e);var n=new Event("addstream");n.stream=e,t.dispatchEvent(n)}})})}});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach(function(t){if(e._remoteStreams||(e._remoteStreams=[]),!(e._remoteStreams.indexOf(t)>=0)){e._remoteStreams.push(t);var n=new Event("addstream");n.stream=t,e.dispatchEvent(n)}})}),t.apply(e,arguments)}}}function X(e){if("object"==typeof e&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype,n=t.createOffer,i=t.createAnswer,r=t.setLocalDescription,o=t.setRemoteDescription,a=t.addIceCandidate;t.createOffer=function(e,t){var i=arguments.length>=2?arguments[2]:arguments[0],r=n.apply(this,[i]);return t?(r.then(e,t),Promise.resolve()):r},t.createAnswer=function(e,t){var n=arguments.length>=2?arguments[2]:arguments[0],r=i.apply(this,[n]);return t?(r.then(e,t),Promise.resolve()):r};var s=function(e,t,n){var i=r.apply(this,[e]);return n?(i.then(t,n),Promise.resolve()):i};t.setLocalDescription=s,s=function(e,t,n){var i=o.apply(this,[e]);return n?(i.then(t,n),Promise.resolve()):i},t.setRemoteDescription=s,s=function(e,t,n){var i=a.apply(this,[e]);return n?(i.then(t,n),Promise.resolve()):i},t.addIceCandidate=s}}function Y(e){var t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){var n=t.mediaDevices,i=n.getUserMedia.bind(n);t.mediaDevices.getUserMedia=function(e){return i(Z(e))}}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(e,n,i){t.mediaDevices.getUserMedia(e).then(n,i)}.bind(t))}function Z(e){return e&&void 0!==e.video?_extends({},e,{video:y(e.video)}):e}function ee(e){var t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,n){if(e&&e.iceServers){for(var i=[],r=0;r<e.iceServers.length;r++){var o=e.iceServers[r];!o.hasOwnProperty("urls")&&o.hasOwnProperty("url")?(m("RTCIceServer.url","RTCIceServer.urls"),(o=JSON.parse(JSON.stringify(o))).urls=o.url,delete o.url,i.push(o)):i.push(e.iceServers[r])}e.iceServers=i}return new t(e,n)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in e.RTCPeerConnection&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:function(){return t.generateCertificate}})}function te(e){"object"==typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}function ne(e){var t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){if(e){void 0!==e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);var n=this.getTransceivers().find(function(e){return"audio"===e.receiver.track.kind});!1===e.offerToReceiveAudio&&n?"sendrecv"===n.direction?n.setDirection?n.setDirection("sendonly"):n.direction="sendonly":"recvonly"===n.direction&&(n.setDirection?n.setDirection("inactive"):n.direction="inactive"):!0!==e.offerToReceiveAudio||n||this.addTransceiver("audio"),void 0!==e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);var i=this.getTransceivers().find(function(e){return"video"===e.receiver.track.kind});!1===e.offerToReceiveVideo&&i?"sendrecv"===i.direction?i.setDirection?i.setDirection("sendonly"):i.direction="sendonly":"recvonly"===i.direction&&(i.setDirection?i.setDirection("inactive"):i.direction="inactive"):!0!==e.offerToReceiveVideo||i||this.addTransceiver("video")}return t.apply(this,arguments)}}var ie=n(45),re=n.n(ie);function oe(e){if(e.RTCIceCandidate&&!(e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)){var t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){if("object"==typeof e&&e.candidate&&0===e.candidate.indexOf("a=")&&((e=JSON.parse(JSON.stringify(e))).candidate=e.candidate.substr(2)),e.candidate&&e.candidate.length){var n=new t(e),i=re.a.parseCandidate(e.candidate),r=_extends(n,i);return r.toJSON=function(){return{candidate:r.candidate,sdpMid:r.sdpMid,sdpMLineIndex:r.sdpMLineIndex,usernameFragment:r.usernameFragment}},r}return new t(e)},e.RTCIceCandidate.prototype=t.prototype,l(e,"icecandidate",function(t){return t.candidate&&Object.defineProperty(t,"candidate",{value:new e.RTCIceCandidate(t.candidate),writable:"false"}),t})}}function ae(e){if(e.RTCPeerConnection){var t=v(e);"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get:function(){return void 0===this._sctp?null:this._sctp}});var n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){(this._sctp=null,"chrome"===t.browser&&t.version>=76)&&("plan-b"===this.getConfiguration().sdpSemantics&&Object.defineProperty(this,"sctp",{get:function(){return void 0===this._sctp?null:this._sctp},enumerable:!0,configurable:!0}));if((function(e){if(!e||!e.sdp)return!1;var t=re.a.splitSections(e.sdp);return t.shift(),t.some(function(e){var t=re.a.parseMLine(e);return t&&"application"===t.kind&&-1!==t.protocol.indexOf("SCTP")})})(arguments[0])){var e,i=(function(e){var t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===t||t.length<2)return-1;var n=parseInt(t[1],10);return n!=n?-1:n})(arguments[0]),r=(function(e){var n=65536;return"firefox"===t.browser&&(n=t.version<57?-1===e?16384:2147483637:t.version<60?57===t.version?65535:65536:2147483637),n})(i),o=(function(e,n){var i=65536;"firefox"===t.browser&&57===t.version&&(i=65535);var r=re.a.matchPrefix(e.sdp,"a=max-message-size:");return r.length>0?i=parseInt(r[0].substr(19),10):"firefox"===t.browser&&-1!==n&&(i=2147483637),i})(arguments[0],i);e=0===r&&0===o?Number.POSITIVE_INFINITY:0===r||0===o?Math.max(r,o):Math.min(r,o);var a={};Object.defineProperty(a,"maxMessageSize",{get:function(){return e}}),this._sctp=a}return n.apply(this,arguments)}}}function se(e){if(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype){var t=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){var e=t.apply(this,arguments);return n(e,this),e},l(e,"datachannel",function(e){return n(e.channel,e.target),e})}function n(e,t){var n=e.send;e.send=function(){var i=arguments[0],r=i.length||i.size||i.byteLength;if("open"===e.readyState&&t.sctp&&r>t.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+t.sctp.maxMessageSize+" bytes)");return n.apply(e,arguments)}}}function ce(e){if(e.RTCPeerConnection&&!("connectionState"in e.RTCPeerConnection.prototype)){var t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get:function(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get:function(){return this._onconnectionstatechange||null},set:function(e){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),e&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=e)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(function(e){var n=t[e];t[e]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=function(e){var t=e.target;if(t._lastConnectionState!==t.connectionState){t._lastConnectionState=t.connectionState;var n=new Event("connectionstatechange",e);t.dispatchEvent(n)}return e},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),n.apply(this,arguments)}})}}function ue(e){if(e.RTCPeerConnection){var t=v(e);if(!("chrome"===t.browser&&t.version>=71)){var n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(e){return e&&e.sdp&&-1!==e.sdp.indexOf("\na=extmap-allow-mixed")&&(e.sdp=e.sdp.split("\n").filter(function(e){return"a=extmap-allow-mixed"!==e.trim()}).join("\n")),n.apply(this,arguments)}}}}var de=(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).window,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0},n=f,c=v(e),u={browserDetails:c,commonShim:s,extractVersion:d,disableLog:h,disableWarnings:p};switch(c.browser){case"chrome":if(!P||!t.shimChrome)return n("Chrome shim is not included in this adapter release."),u;n("adapter.js shimming chrome."),u.browserShim=i,E(e),C(e),P(e),T(e),I(e),A(e),R(e),k(e),D(e),oe(e),ce(e),ae(e),se(e),ue(e);break;case"firefox":if(!J||!t.shimFirefox)return n("Firefox shim is not included in this adapter release."),u;n("adapter.js shimming firefox."),u.browserShim=o,j(e),J(e),H(e),V(e),B(e),G(e),q(e),K(e),W(e),z(e),oe(e),ce(e),ae(e),se(e);break;case"edge":if(!x||!t.shimEdge)return n("MS edge shim is not included in this adapter release."),u;n("adapter.js shimming edge."),u.browserShim=r,M(e),L(e),x(e),F(e),ae(e),se(e);break;case"safari":if(!t.shimSafari)return n("Safari shim is not included in this adapter release."),u;n("adapter.js shimming safari."),u.browserShim=a,ee(e),ne(e),X(e),$(e),Q(e),te(e),Y(e),oe(e),ae(e),se(e),ue(e);break;default:n("Unsupported browser!")}return u})({window:window});t.default=de}])},"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.JitsiMeetJS=t():e.JitsiMeetJS=t()},438,[15,42,26,51,8,4,5,6,9,10,32]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=data={addLocalUrl:function(t){return{type:'ADD_LOCAL_URL',payload:{localUrl:t}}},addLocalTrackId:function(t){return{type:'ADD_LOCAL_TRACK_ID',payload:t}},addRemoteUrl:function(t){return{type:'ADD_REMOTE_URL',payload:{remoteUrl:t}}},addLocalTracks:function(t){return{type:'ADD_LOCAL_TRACK',payload:{localTracks:t}}},addRemoteTracks:function(t){return{type:'ADD_REMOTE_TRACK',payload:{remoteTracks:t}}},addUser:function(t){return{type:'ADD_USER',payload:{user:t}}},removeUser:function(t){return{type:'REMOVE_USER',payload:{userId:t}}},clearAllUsers:function(t){return{type:'CLEAR_USERS'}},changeReadyState:function(t){return{type:'CHANGE_READY_STATE',payload:{ready:t}}},changeRoomName:function(t){return{type:'CHANGE_ROOM_NAME',payload:{room:t}}},changeAudioState:function(t){return{type:'CHANGE_AUDIO_STATE',payload:{audioMute:t}}},changeAudioMode:function(t){return{type:'CHANGE_AUDIO_MODE',payload:{audioMode:t}}},changeVideoState:function(t){return{type:'CHANGE_VIDEO_STATE',payload:{videoMute:t}}},connectionFailed:function(t){return{type:'CONNECTION_FAILED',payload:{status:t}}},updateDominantVideoId:function(t){return{type:'UPDATE_DOMINANT_VIDEO_ID',payload:t}},updateDominantVideoTrack:function(t){return{type:'UPDATE_DOMINANT_VIDEO_TRACK',payload:t}},removeRemoteTrack:function(t){return{type:'REMOVE_REMOTE_TRACK',payload:t}},removeLocalTracks:function(){return{type:'REMOVE_LOCAL_TRACKS',payload:'localVideo'}},removeRemoteTracks:function(){return{type:'REMOVE_REMOTE_TRACKS',payload:'remoteVideo'}},dominantUserID:function(t){return{type:'DOMINANT_USER_ID',payload:t}}};e.default=t},439,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(d[0]).NativeModules.AudioMode;e.default=o},440,[16]);
__d(function(g,r,i,a,m,e,d){var u=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=u(r(d[1])),l=u(r(d[2])),t=(function(){function u(){(0,n.default)(this,u)}return(0,l.default)(u,null,[{key:"log",value:function(u){}},{key:"log",value:function(u,n){}},{key:"log",value:function(u,n,l){}}]),u})();e.default=t},441,[1,4,5]);
__d(function(e,t,n,r,i,o,a){!(function(e,t){"use strict";"object"==typeof i&&"object"==typeof i.exports?i.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)})("undefined"!=typeof window?window:this,function(e,t){"use strict";var n=[],r=e.document,i=Object.getPrototypeOf,o=n.slice,a=n.concat,s=n.push,u=n.indexOf,l={},c=l.toString,f=l.hasOwnProperty,p=f.toString,d=p.call(Object),h={},g=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},v=function(e){return null!=e&&e===e.window},y={type:!0,src:!0,nonce:!0,noModule:!0};function m(e,t,n){var i,o,a=(n=n||r).createElement("script");if(a.text=e,t)for(i in y)(o=t[i]||t.getAttribute&&t.getAttribute(i))&&a.setAttribute(i,o);n.head.appendChild(a).parentNode.removeChild(a)}function x(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?l[c.call(e)]||"object":typeof e}var b=function e(t,n){return new e.fn.init(t,n)},w=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function T(e){var t=!!e&&"length"in e&&e.length,n=x(e);return!g(e)&&!v(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}b.fn=b.prototype={jquery:"3.4.0",constructor:b,length:0,toArray:function(){return o.call(this)},get:function(e){return null==e?o.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=b.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return b.each(this,e)},map:function(e){return this.pushStack(b.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:n.sort,splice:n.splice},b.extend=b.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||g(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(l&&r&&(b.isPlainObject(r)||(i=Array.isArray(r)))?(n=a[t],o=i&&!Array.isArray(n)?[]:i||b.isPlainObject(n)?n:{},i=!1,a[t]=b.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},b.extend({expando:"jQuery"+("3.4.0"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==c.call(e))&&(!(t=i(e))||"function"==typeof(n=f.call(t,"constructor")&&t.constructor)&&p.call(n)===d)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t){m(e,{nonce:t&&t.nonce})},each:function(e,t){var n,r=0;if(T(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(w,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(T(Object(e))?b.merge(n,"string"==typeof e?[e]:e):s.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:u.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,s=[];if(T(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&s.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&s.push(i);return a.apply([],s)},guid:1,support:h}),"function"==typeof Symbol&&(b.fn["function"==typeof Symbol?Symbol.iterator:"@@iterator"]=n["function"==typeof Symbol?Symbol.iterator:"@@iterator"]),b.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){l["[object "+t+"]"]=t.toLowerCase()});var C=(function(e){var t,n,r,i,o,a,s,u,l,c,f,p,d,h,g,v,y,m,x,b="sizzle"+1*new Date,w=e.document,T=0,C=0,E=ie(),k=ie(),S=ie(),A=ie(),N=function(e,t){return e===t&&(f=!0),0},D={}.hasOwnProperty,j=[],q=j.pop,L=j.push,H=j.push,O=j.slice,P=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},R=":((?:\\\\.|[\\w-]|[^\0-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\0-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\0-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)",M=new RegExp("[\\x20\\t\\r\\n\\f]+","g"),I=new RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),W=new RegExp("^[\\x20\\t\\r\\n\\f]*,[\\x20\\t\\r\\n\\f]*"),$=new RegExp("^[\\x20\\t\\r\\n\\f]*([>+~]|[\\x20\\t\\r\\n\\f])[\\x20\\t\\r\\n\\f]*"),F=new RegExp("[\\x20\\t\\r\\n\\f]|>"),B=new RegExp(R),_=new RegExp("^(?:\\\\.|[\\w-]|[^\0-\\xa0])+$"),z={ID:new RegExp("^#((?:\\\\.|[\\w-]|[^\0-\\xa0])+)"),CLASS:new RegExp("^\\.((?:\\\\.|[\\w-]|[^\0-\\xa0])+)"),TAG:new RegExp("^((?:\\\\.|[\\w-]|[^\0-\\xa0])+|[*])"),ATTR:new RegExp("^\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\0-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\0-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\]"),PSEUDO:new RegExp("^:((?:\\\\.|[\\w-]|[^\0-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\0-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\0-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)"),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:new RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:new RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},U=/HTML$/i,X=/^(?:input|select|textarea|button)$/i,V=/^h\d$/i,G=/^[^{]+\{\s*\[native \w/,Y=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Q=/[+~]/,J=new RegExp("\\\\([\\da-f]{1,6}[\\x20\\t\\r\\n\\f]?|([\\x20\\t\\r\\n\\f])|.)","ig"),K=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},Z=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ee=function(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},te=function(){p()},ne=ve(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{H.apply(j=O.call(w.childNodes),w.childNodes),j[w.childNodes.length].nodeType}catch(e){H={apply:j.length?function(e,t){L.apply(e,O.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function re(e,t,r,i){var o,s,l,c,f,h,y,m=t&&t.ownerDocument,T=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==T&&9!==T&&11!==T)return r;if(!i&&((t?t.ownerDocument||t:w)!==d&&p(t),t=t||d,g)){if(11!==T&&(f=Y.exec(e)))if(o=f[1]){if(9===T){if(!(l=t.getElementById(o)))return r;if(l.id===o)return r.push(l),r}else if(m&&(l=m.getElementById(o))&&x(t,l)&&l.id===o)return r.push(l),r}else{if(f[2])return H.apply(r,t.getElementsByTagName(e)),r;if((o=f[3])&&n.getElementsByClassName&&t.getElementsByClassName)return H.apply(r,t.getElementsByClassName(o)),r}if(n.qsa&&!A[e+" "]&&(!v||!v.test(e))&&(1!==T||"object"!==t.nodeName.toLowerCase())){if(y=e,m=t,1===T&&F.test(e)){for((c=t.getAttribute("id"))?c=c.replace(Z,ee):t.setAttribute("id",c=b),s=(h=a(e)).length;s--;)h[s]="#"+c+" "+ge(h[s]);y=h.join(","),m=Q.test(e)&&de(t.parentNode)||t}try{return H.apply(r,m.querySelectorAll(y)),r}catch(t){A(e,!0)}finally{c===b&&t.removeAttribute("id")}}}return u(e.replace(I,"$1"),t,r,i)}function ie(){var e=[];return function t(n,i){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=i}}function oe(e){return e[b]=!0,e}function ae(e){var t=d.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function se(e,t){for(var n=e.split("|"),i=n.length;i--;)r.attrHandle[n[i]]=t}function ue(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function le(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function ce(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function fe(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ne(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function pe(e){return oe(function(t){return t=+t,oe(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function de(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=re.support={},o=re.isXML=function(e){var t=e.namespaceURI,n=(e.ownerDocument||e).documentElement;return!U.test(t||n&&n.nodeName||"HTML")},p=re.setDocument=function(e){var t,i,a=e?e.ownerDocument||e:w;return a!==d&&9===a.nodeType&&a.documentElement?(h=(d=a).documentElement,g=!o(d),w!==d&&(i=d.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",te,!1):i.attachEvent&&i.attachEvent("onunload",te)),n.attributes=ae(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=ae(function(e){return e.appendChild(d.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=G.test(d.getElementsByClassName),n.getById=ae(function(e){return h.appendChild(e).id=b,!d.getElementsByName||!d.getElementsByName(b).length}),n.getById?(r.filter.ID=function(e){var t=e.replace(J,K);return function(e){return e.getAttribute("id")===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var n=t.getElementById(e);return n?[n]:[]}}):(r.filter.ID=function(e){var t=e.replace(J,K);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(i=t.getElementsByName(e),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),r.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},r.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&g)return t.getElementsByClassName(e)},y=[],v=[],(n.qsa=G.test(d.querySelectorAll))&&(ae(function(e){h.appendChild(e).innerHTML="<a id='"+b+"'></a><select id='"+b+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),e.querySelectorAll("[selected]").length||v.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)"),e.querySelectorAll("[id~="+b+"-]").length||v.push("~="),e.querySelectorAll(":checked").length||v.push(":checked"),e.querySelectorAll("a#"+b+"+*").length||v.push(".#.+[+~]")}),ae(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=d.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&v.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),h.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")})),(n.matchesSelector=G.test(m=h.matches||h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&ae(function(e){n.disconnectedMatch=m.call(e,"*"),m.call(e,"[s!='']:x"),y.push("!=",R)}),v=v.length&&new RegExp(v.join("|")),y=y.length&&new RegExp(y.join("|")),t=G.test(h.compareDocumentPosition),x=t||G.test(h.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},N=t?function(e,t){if(e===t)return f=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===r?e===d||e.ownerDocument===w&&x(w,e)?-1:t===d||t.ownerDocument===w&&x(w,t)?1:c?P(c,e)-P(c,t):0:4&r?-1:1)}:function(e,t){if(e===t)return f=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e===d?-1:t===d?1:i?-1:o?1:c?P(c,e)-P(c,t):0;if(i===o)return ue(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[r]===s[r];)r++;return r?ue(a[r],s[r]):a[r]===w?-1:s[r]===w?1:0},d):d},re.matches=function(e,t){return re(e,null,null,t)},re.matchesSelector=function(e,t){if((e.ownerDocument||e)!==d&&p(e),n.matchesSelector&&g&&!A[t+" "]&&(!y||!y.test(t))&&(!v||!v.test(t)))try{var r=m.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){A(t,!0)}return re(t,d,null,[e]).length>0},re.contains=function(e,t){return(e.ownerDocument||e)!==d&&p(e),x(e,t)},re.attr=function(e,t){(e.ownerDocument||e)!==d&&p(e);var i=r.attrHandle[t.toLowerCase()],o=i&&D.call(r.attrHandle,t.toLowerCase())?i(e,t,!g):void 0;return void 0!==o?o:n.attributes||!g?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},re.escape=function(e){return(e+"").replace(Z,ee)},re.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},re.uniqueSort=function(e){var t,r=[],i=0,o=0;if(f=!n.detectDuplicates,c=!n.sortStable&&e.slice(0),e.sort(N),f){for(;t=e[o++];)t===e[o]&&(i=r.push(o));for(;i--;)e.splice(r[i],1)}return c=null,e},i=re.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=i(t);return n},(r=re.selectors={cacheLength:50,createPseudo:oe,match:z,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(J,K),e[3]=(e[3]||e[4]||e[5]||"").replace(J,K),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||re.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&re.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return z.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&B.test(n)&&(t=a(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(J,K).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=E[e+" "];return t||(t=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+e+"([\\x20\\t\\r\\n\\f]|$)"))&&E(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=re.attr(r,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i.replace(M," ")+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,f,p,d,h,g=o!==a?"nextSibling":"previousSibling",v=t.parentNode,y=s&&t.nodeName.toLowerCase(),m=!u&&!s,x=!1;if(v){if(o){for(;g;){for(p=t;p=p[g];)if(s?p.nodeName.toLowerCase()===y:1===p.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?v.firstChild:v.lastChild],a&&m){for(x=(d=(l=(c=(f=(p=v)[b]||(p[b]={}))[p.uniqueID]||(f[p.uniqueID]={}))[e]||[])[0]===T&&l[1])&&l[2],p=d&&v.childNodes[d];p=++d&&p&&p[g]||(x=d=0)||h.pop();)if(1===p.nodeType&&++x&&p===t){c[e]=[T,d,x];break}}else if(m&&(x=d=(l=(c=(f=(p=t)[b]||(p[b]={}))[p.uniqueID]||(f[p.uniqueID]={}))[e]||[])[0]===T&&l[1]),!1===x)for(;(p=++d&&p&&p[g]||(x=d=0)||h.pop())&&((s?p.nodeName.toLowerCase()!==y:1!==p.nodeType)||!++x||(m&&((c=(f=p[b]||(p[b]={}))[p.uniqueID]||(f[p.uniqueID]={}))[e]=[T,x]),p!==t)););return(x-=i)===r||x%r==0&&x/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||re.error("unsupported pseudo: "+e);return i[b]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?oe(function(e,n){for(var r,o=i(e,t),a=o.length;a--;)e[r=P(e,o[a])]=!(n[r]=o[a])}):function(e){return i(e,0,n)}):i}},pseudos:{not:oe(function(e){var t=[],n=[],r=s(e.replace(I,"$1"));return r[b]?oe(function(e,t,n,i){for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}}),has:oe(function(e){return function(t){return re(e,t).length>0}}),contains:oe(function(e){return e=e.replace(J,K),function(t){return(t.textContent||i(t)).indexOf(e)>-1}}),lang:oe(function(e){return _.test(e||"")||re.error("unsupported lang: "+e),e=e.replace(J,K).toLowerCase(),function(t){var n;do{if(n=g?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===h},focus:function(e){return e===d.activeElement&&(!d.hasFocus||d.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:fe(!1),disabled:fe(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return V.test(e.nodeName)},input:function(e){return X.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:pe(function(){return[0]}),last:pe(function(e,t){return[t-1]}),eq:pe(function(e,t,n){return[n<0?n+t:n]}),even:pe(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:pe(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:pe(function(e,t,n){for(var r=n<0?n+t:n>t?t:n;--r>=0;)e.push(r);return e}),gt:pe(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=le(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=ce(t);function he(){}function ge(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function ve(e,t,n){var r=t.dir,i=t.next,o=i||r,a=n&&"parentNode"===o,s=C++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||a)return e(t,n,i);return!1}:function(t,n,u){var l,c,f,p=[T,s];if(u){for(;t=t[r];)if((1===t.nodeType||a)&&e(t,n,u))return!0}else for(;t=t[r];)if(1===t.nodeType||a)if(c=(f=t[b]||(t[b]={}))[t.uniqueID]||(f[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[r]||t;else{if((l=c[o])&&l[0]===T&&l[1]===s)return p[2]=l[2];if(c[o]=p,p[2]=e(t,n,u))return!0}return!1}}function ye(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function me(e,t,n){for(var r=0,i=t.length;r<i;r++)re(e,t[r],n);return n}function xe(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function be(e,t,n,r,i,o){return r&&!r[b]&&(r=be(r)),i&&!i[b]&&(i=be(i,o)),oe(function(o,a,s,u){var l,c,f,p=[],d=[],h=a.length,g=o||me(t||"*",s.nodeType?[s]:s,[]),v=!e||!o&&t?g:xe(g,p,e,s,u),y=n?i||(o?e:h||r)?[]:a:v;if(n&&n(v,y,s,u),r)for(l=xe(y,d),r(l,[],s,u),c=l.length;c--;)(f=l[c])&&(y[d[c]]=!(v[d[c]]=f));if(o){if(i||e){if(i){for(l=[],c=y.length;c--;)(f=y[c])&&l.push(v[c]=f);i(null,y=[],l,u)}for(c=y.length;c--;)(f=y[c])&&(l=i?P(o,f):p[c])>-1&&(o[l]=!(a[l]=f))}}else y=xe(y===a?y.splice(h,y.length):y),i?i(null,a,y,u):H.apply(a,y)})}function we(e){for(var t,n,i,o=e.length,a=r.relative[e[0].type],s=a||r.relative[" "],u=a?1:0,c=ve(function(e){return e===t},s,!0),f=ve(function(e){return P(t,e)>-1},s,!0),p=[function(e,n,r){var i=!a&&(r||n!==l)||((t=n).nodeType?c(e,n,r):f(e,n,r));return t=null,i}];u<o;u++)if(n=r.relative[e[u].type])p=[ve(ye(p),n)];else{if((n=r.filter[e[u].type].apply(null,e[u].matches))[b]){for(i=++u;i<o&&!r.relative[e[i].type];i++);return be(u>1&&ye(p),u>1&&ge(e.slice(0,u-1).concat({value:" "===e[u-2].type?"*":""})).replace(I,"$1"),n,u<i&&we(e.slice(u,i)),i<o&&we(e=e.slice(i)),i<o&&ge(e))}p.push(n)}return ye(p)}function Te(e,t){var n=t.length>0,i=e.length>0,o=function(o,a,s,u,c){var f,h,v,y=0,m="0",x=o&&[],b=[],w=l,C=o||i&&r.find.TAG("*",c),E=T+=null==w?1:Math.random()||.1,k=C.length;for(c&&(l=a===d||a||c);m!==k&&null!=(f=C[m]);m++){if(i&&f){for(h=0,a||f.ownerDocument===d||(p(f),s=!g);v=e[h++];)if(v(f,a||d,s)){u.push(f);break}c&&(T=E)}n&&((f=!v&&f)&&y--,o&&x.push(f))}if(y+=m,n&&m!==y){for(h=0;v=t[h++];)v(x,b,a,s);if(o){if(y>0)for(;m--;)x[m]||b[m]||(b[m]=q.call(u));b=xe(b)}H.apply(u,b),c&&!o&&b.length>0&&y+t.length>1&&re.uniqueSort(u)}return c&&(T=E,l=w),x};return n?oe(o):o}return he.prototype=r.filters=r.pseudos,r.setFilters=new he,a=re.tokenize=function(e,t){var n,i,o,a,s,u,l,c=k[e+" "];if(c)return t?0:c.slice(0);for(s=e,u=[],l=r.preFilter;s;){for(a in n&&!(i=W.exec(s))||(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),n=!1,(i=$.exec(s))&&(n=i.shift(),o.push({value:n,type:i[0].replace(I," ")}),s=s.slice(n.length)),r.filter)!(i=z[a].exec(s))||l[a]&&!(i=l[a](i))||(n=i.shift(),o.push({value:n,type:a,matches:i}),s=s.slice(n.length));if(!n)break}return t?s.length:s?re.error(e):k(e,u).slice(0)},s=re.compile=function(e,t){var n,r=[],i=[],o=S[e+" "];if(!o){for(t||(t=a(e)),n=t.length;n--;)(o=we(t[n]))[b]?r.push(o):i.push(o);(o=S(e,Te(i,r))).selector=e}return o},u=re.select=function(e,t,n,i){var o,u,l,c,f,p="function"==typeof e&&e,d=!i&&a(e=p.selector||e);if(n=n||[],1===d.length){if((u=d[0]=d[0].slice(0)).length>2&&"ID"===(l=u[0]).type&&9===t.nodeType&&g&&r.relative[u[1].type]){if(!(t=(r.find.ID(l.matches[0].replace(J,K),t)||[])[0]))return n;p&&(t=t.parentNode),e=e.slice(u.shift().value.length)}for(o=z.needsContext.test(e)?0:u.length;o--&&(l=u[o],!r.relative[c=l.type]);)if((f=r.find[c])&&(i=f(l.matches[0].replace(J,K),Q.test(u[0].type)&&de(t.parentNode)||t))){if(u.splice(o,1),!(e=i.length&&ge(u)))return H.apply(n,i),n;break}}return(p||s(e,d))(i,t,!g,n,!t||Q.test(e)&&de(t.parentNode)||t),n},n.sortStable=b.split("").sort(N).join("")===b,n.detectDuplicates=!!f,p(),n.sortDetached=ae(function(e){return 1&e.compareDocumentPosition(d.createElement("fieldset"))}),ae(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||se("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),n.attributes&&ae(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||se("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ae(function(e){return null==e.getAttribute("disabled")})||se("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),re})(e);b.find=C,b.expr=C.selectors,b.expr[":"]=b.expr.pseudos,b.uniqueSort=b.unique=C.uniqueSort,b.text=C.getText,b.isXMLDoc=C.isXML,b.contains=C.contains,b.escapeSelector=C.escape;var E=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&b(e).is(n))break;r.push(e)}return r},k=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},S=b.expr.match.needsContext;function A(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var N=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function D(e,t,n){return g(t)?b.grep(e,function(e,r){return!!t.call(e,r,e)!==n}):t.nodeType?b.grep(e,function(e){return e===t!==n}):"string"!=typeof t?b.grep(e,function(e){return u.call(t,e)>-1!==n}):b.filter(t,e,n)}b.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?b.find.matchesSelector(r,e)?[r]:[]:b.find.matches(e,b.grep(t,function(e){return 1===e.nodeType}))},b.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(b(e).filter(function(){for(t=0;t<r;t++)if(b.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)b.find(e,i[t],n);return r>1?b.uniqueSort(n):n},filter:function(e){return this.pushStack(D(this,e||[],!1))},not:function(e){return this.pushStack(D(this,e||[],!0))},is:function(e){return!!D(this,"string"==typeof e&&S.test(e)?b(e):e||[],!1).length}});var j,q=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(b.fn.init=function(e,t,n){var i,o;if(!e)return this;if(n=n||j,"string"==typeof e){if(!(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:q.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof b?t[0]:t,b.merge(this,b.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:r,!0)),N.test(i[1])&&b.isPlainObject(t))for(i in t)g(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(o=r.getElementById(i[2]))&&(this[0]=o,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):g(e)?void 0!==n.ready?n.ready(e):e(b):b.makeArray(e,this)}).prototype=b.fn,j=b(r);var L=/^(?:parents|prev(?:Until|All))/,H={children:!0,contents:!0,next:!0,prev:!0};function O(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}b.fn.extend({has:function(e){var t=b(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(b.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&b(e);if(!S.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&b.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?b.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?u.call(b(e),this[0]):u.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(b.uniqueSort(b.merge(this.get(),b(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),b.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return E(e,"parentNode")},parentsUntil:function(e,t,n){return E(e,"parentNode",n)},next:function(e){return O(e,"nextSibling")},prev:function(e){return O(e,"previousSibling")},nextAll:function(e){return E(e,"nextSibling")},prevAll:function(e){return E(e,"previousSibling")},nextUntil:function(e,t,n){return E(e,"nextSibling",n)},prevUntil:function(e,t,n){return E(e,"previousSibling",n)},siblings:function(e){return k((e.parentNode||{}).firstChild,e)},children:function(e){return k(e.firstChild)},contents:function(e){return void 0!==e.contentDocument?e.contentDocument:(A(e,"template")&&(e=e.content||e),b.merge([],e.childNodes))}},function(e,t){b.fn[e]=function(n,r){var i=b.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=b.filter(r,i)),this.length>1&&(H[e]||b.uniqueSort(i),L.test(e)&&i.reverse()),this.pushStack(i)}});var P=/[^\x20\t\r\n\f]+/g;function R(e){var t={};return b.each(e.match(P)||[],function(e,n){t[n]=!0}),t}function M(e){return e}function I(e){throw e}function W(e,t,n,r){var i;try{e&&g(i=e.promise)?i.call(e).done(t).fail(n):e&&g(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}b.Callbacks=function(e){e="string"==typeof e?R(e):b.extend({},e);var t,n,r,i,o=[],a=[],s=-1,u=function(){for(i=i||e.once,r=t=!0;a.length;s=-1)for(n=a.shift();++s<o.length;)!1===o[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=o.length,n=!1);e.memory||(n=!1),t=!1,i&&(o=n?[]:"")},l={add:function(){return o&&(n&&!t&&(s=o.length-1,a.push(n)),(function t(n){b.each(n,function(n,r){g(r)?e.unique&&l.has(r)||o.push(r):r&&r.length&&"string"!==x(r)&&t(r)})})(arguments),n&&!t&&u()),this},remove:function(){return b.each(arguments,function(e,t){for(var n;(n=b.inArray(t,o,n))>-1;)o.splice(n,1),n<=s&&s--}),this},has:function(e){return e?b.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=a=[],n||t||(o=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=[e,(n=n||[]).slice?n.slice():n],a.push(n),t||u()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!r}};return l},b.extend({Deferred:function(t){var n=[["notify","progress",b.Callbacks("memory"),b.Callbacks("memory"),2],["resolve","done",b.Callbacks("once memory"),b.Callbacks("once memory"),0,"resolved"],["reject","fail",b.Callbacks("once memory"),b.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return i.then(null,e)},pipe:function(){var e=arguments;return b.Deferred(function(t){b.each(n,function(n,r){var i=g(e[r[4]])&&e[r[4]];o[r[1]](function(){var e=i&&i.apply(this,arguments);e&&g(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[r[0]+"With"](this,i?[e]:arguments)})}),e=null}).promise()},then:function(t,r,i){var o=0;function a(t,n,r,i){return function(){var s=this,u=arguments,l=function(){var e,l;if(!(t<o)){if((e=r.apply(s,u))===n.promise())throw new TypeError("Thenable self-resolution");l=e&&("object"==typeof e||"function"==typeof e)&&e.then,g(l)?i?l.call(e,a(o,n,M,i),a(o,n,I,i)):(o++,l.call(e,a(o,n,M,i),a(o,n,I,i),a(o,n,M,n.notifyWith))):(r!==M&&(s=void 0,u=[e]),(i||n.resolveWith)(s,u))}},c=i?l:function(){try{l()}catch(e){b.Deferred.exceptionHook&&b.Deferred.exceptionHook(e,c.stackTrace),t+1>=o&&(r!==I&&(s=void 0,u=[e]),n.rejectWith(s,u))}};t?c():(b.Deferred.getStackHook&&(c.stackTrace=b.Deferred.getStackHook()),e.setTimeout(c))}}return b.Deferred(function(e){n[0][3].add(a(0,e,g(i)?i:M,e.notifyWith)),n[1][3].add(a(0,e,g(t)?t:M)),n[2][3].add(a(0,e,g(r)?r:I))}).promise()},promise:function(e){return null!=e?b.extend(e,i):i}},o={};return b.each(n,function(e,t){var a=t[2],s=t[5];i[t[1]]=a.add,s&&a.add(function(){r=s},n[3-e][2].disable,n[3-e][3].disable,n[0][2].lock,n[0][3].lock),a.add(t[3].fire),o[t[0]]=function(){return o[t[0]+"With"](this===o?void 0:this,arguments),this},o[t[0]+"With"]=a.fireWith}),i.promise(o),t&&t.call(o,o),o},when:function(e){var t=arguments.length,n=t,r=Array(n),i=o.call(arguments),a=b.Deferred(),s=function(e){return function(n){r[e]=this,i[e]=arguments.length>1?o.call(arguments):n,--t||a.resolveWith(r,i)}};if(t<=1&&(W(e,a.done(s(n)).resolve,a.reject,!t),"pending"===a.state()||g(i[n]&&i[n].then)))return a.then();for(;n--;)W(i[n],s(n),a.reject);return a.promise()}});var $=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;b.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&$.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},b.readyException=function(t){e.setTimeout(function(){throw t})};var F=b.Deferred();function B(){r.removeEventListener("DOMContentLoaded",B),e.removeEventListener("load",B),b.ready()}b.fn.ready=function(e){return F.then(e).catch(function(e){b.readyException(e)}),this},b.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--b.readyWait:b.isReady)||(b.isReady=!0,!0!==e&&--b.readyWait>0||F.resolveWith(r,[b]))}}),b.ready.then=F.then,"complete"===r.readyState||"loading"!==r.readyState&&!r.documentElement.doScroll?e.setTimeout(b.ready):(r.addEventListener("DOMContentLoaded",B),e.addEventListener("load",B));var _=function e(t,n,r,i,o,a,s){var u=0,l=t.length,c=null==r;if("object"===x(r))for(u in o=!0,r)e(t,n,u,r[u],!0,a,s);else if(void 0!==i&&(o=!0,g(i)||(s=!0),c&&(s?(n.call(t,i),n=null):(c=n,n=function(e,t,n){return c.call(b(e),n)})),n))for(;u<l;u++)n(t[u],r,s?i:i.call(t[u],u,n(t[u],r)));return o?t:c?n.call(t):l?n(t[0],r):a},z=/^-ms-/,U=/-([a-z])/g;function X(e,t){return t.toUpperCase()}function V(e){return e.replace(z,"ms-").replace(U,X)}var G=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function Y(){this.expando=b.expando+Y.uid++}Y.uid=1,Y.prototype={cache:function(e){var t=e[this.expando];return t||(t={},G(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[V(t)]=n;else for(r in t)i[V(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][V(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(V):(t=V(t))in r?[t]:t.match(P)||[]).length;for(;n--;)delete r[t[n]]}(void 0===t||b.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!b.isEmptyObject(t)}};var Q=new Y,J=new Y,K=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Z=/[A-Z]/g;function ee(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:K.test(e)?JSON.parse(e):e)}function te(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(Z,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=ee(n)}catch(e){}J.set(e,t,n)}else n=void 0;return n}b.extend({hasData:function(e){return J.hasData(e)||Q.hasData(e)},data:function(e,t,n){return J.access(e,t,n)},removeData:function(e,t){J.remove(e,t)},_data:function(e,t,n){return Q.access(e,t,n)},_removeData:function(e,t){Q.remove(e,t)}}),b.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=J.get(o),1===o.nodeType&&!Q.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(r=a[n].name).indexOf("data-")&&(r=V(r.slice(5)),te(o,r,i[r]));Q.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){J.set(this,e)}):_(this,function(t){var n;if(o&&void 0===t)return void 0!==(n=J.get(o,e))?n:void 0!==(n=te(o,e))?n:void 0;this.each(function(){J.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){J.remove(this,e)})}}),b.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=Q.get(e,t),n&&(!r||Array.isArray(n)?r=Q.access(e,t,b.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=b.queue(e,t),r=n.length,i=n.shift(),o=b._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,function(){b.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Q.get(e,n)||Q.access(e,n,{empty:b.Callbacks("once memory").add(function(){Q.remove(e,[t+"queue",n])})})}}),b.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?b.queue(this[0],e):void 0===t?this:this.each(function(){var n=b.queue(this,e,t);b._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&b.dequeue(this,e)})},dequeue:function(e){return this.each(function(){b.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=b.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=Q.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var ne=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,re=new RegExp("^(?:([+-])=|)("+ne+")([a-z%]*)$","i"),ie=["Top","Right","Bottom","Left"],oe=r.documentElement,ae=function(e){return b.contains(e.ownerDocument,e)},se={composed:!0};oe.attachShadow&&(ae=function(e){return b.contains(e.ownerDocument,e)||e.getRootNode(se)===e.ownerDocument});var ue=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ae(e)&&"none"===b.css(e,"display")},le=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];for(o in i=n.apply(e,r||[]),t)e.style[o]=a[o];return i};function ce(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return b.css(e,t,"")},u=s(),l=n&&n[3]||(b.cssNumber[t]?"":"px"),c=e.nodeType&&(b.cssNumber[t]||"px"!==l&&+u)&&re.exec(b.css(e,t));if(c&&c[3]!==l){for(u/=2,l=l||c[3],c=+u||1;a--;)b.style(e,t,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;c*=2,b.style(e,t,c+l),n=n||[]}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}var fe={};function pe(e){var t,n=e.ownerDocument,r=e.nodeName,i=fe[r];return i||(t=n.body.appendChild(n.createElement(r)),i=b.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),fe[r]=i,i)}function de(e,t){for(var n,r,i=[],o=0,a=e.length;o<a;o++)(r=e[o]).style&&(n=r.style.display,t?("none"===n&&(i[o]=Q.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&ue(r)&&(i[o]=pe(r))):"none"!==n&&(i[o]="none",Q.set(r,"display",n)));for(o=0;o<a;o++)null!=i[o]&&(e[o].style.display=i[o]);return e}b.fn.extend({show:function(){return de(this,!0)},hide:function(){return de(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ue(this)?b(this).show():b(this).hide()})}});var he=/^(?:checkbox|radio)$/i,ge=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ve=/^$|^module$|\/(?:java|ecma)script/i,ye={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function me(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&A(e,t)?b.merge([e],n):n}function xe(e,t){for(var n=0,r=e.length;n<r;n++)Q.set(e[n],"globalEval",!t||Q.get(t[n],"globalEval"))}ye.optgroup=ye.option,ye.tbody=ye.tfoot=ye.colgroup=ye.caption=ye.thead,ye.th=ye.td;var be,we,Te=/<|&#?\w+;/;function Ce(e,t,n,r,i){for(var o,a,s,u,l,c,f=t.createDocumentFragment(),p=[],d=0,h=e.length;d<h;d++)if((o=e[d])||0===o)if("object"===x(o))b.merge(p,o.nodeType?[o]:o);else if(Te.test(o)){for(a=a||f.appendChild(t.createElement("div")),s=(ge.exec(o)||["",""])[1].toLowerCase(),u=ye[s]||ye._default,a.innerHTML=u[1]+b.htmlPrefilter(o)+u[2],c=u[0];c--;)a=a.lastChild;b.merge(p,a.childNodes),(a=f.firstChild).textContent=""}else p.push(t.createTextNode(o));for(f.textContent="",d=0;o=p[d++];)if(r&&b.inArray(o,r)>-1)i&&i.push(o);else if(l=ae(o),a=me(f.appendChild(o),"script"),l&&xe(a),n)for(c=0;o=a[c++];)ve.test(o.type||"")&&n.push(o);return f}be=r.createDocumentFragment().appendChild(r.createElement("div")),(we=r.createElement("input")).setAttribute("type","radio"),we.setAttribute("checked","checked"),we.setAttribute("name","t"),be.appendChild(we),h.checkClone=be.cloneNode(!0).cloneNode(!0).lastChild.checked,be.innerHTML="<textarea>x</textarea>",h.noCloneChecked=!!be.cloneNode(!0).lastChild.defaultValue;var Ee=/^key/,ke=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Se=/^([^.]*)(?:\.(.+)|)/;function Ae(){return!0}function Ne(){return!1}function De(e,t){return e===je()==("focus"===t)}function je(){try{return r.activeElement}catch(e){}}function qe(e,t,n,r,i,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)qe(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=Ne;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return b().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=b.guid++)),e.each(function(){b.event.add(this,t,i,r,n)})}function Le(e,t,n){n?(Q.set(e,t,!1),b.event.add(e,t,{namespace:!1,handler:function(e){var r,i,a=Q.get(this,t);if(1&e.isTrigger&&this[t]){if(a)(b.event.special[t]||{}).delegateType&&e.stopPropagation();else if(a=o.call(arguments),Q.set(this,t,a),r=n(this,t),this[t](),a!==(i=Q.get(this,t))||r?Q.set(this,t,!1):i=void 0,a!==i)return e.stopImmediatePropagation(),e.preventDefault(),i}else a&&(Q.set(this,t,b.event.trigger(b.extend(a.shift(),b.Event.prototype),a,this)),e.stopImmediatePropagation())}})):b.event.add(e,t,Ae)}b.event={global:{},add:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=Q.get(e);if(v)for(n.handler&&(n=(o=n).handler,i=o.selector),i&&b.find.matchesSelector(oe,i),n.guid||(n.guid=b.guid++),(u=v.events)||(u=v.events={}),(a=v.handle)||(a=v.handle=function(t){return void 0!==b&&b.event.triggered!==t.type?b.event.dispatch.apply(e,arguments):void 0}),l=(t=(t||"").match(P)||[""]).length;l--;)d=g=(s=Se.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),d&&(f=b.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=b.event.special[d]||{},c=b.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&b.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[d])||((p=u[d]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(e,r,h,a)||e.addEventListener&&e.addEventListener(d,a)),f.add&&(f.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),b.event.global[d]=!0)},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=Q.hasData(e)&&Q.get(e);if(v&&(u=v.events)){for(l=(t=(t||"").match(P)||[""]).length;l--;)if(d=g=(s=Se.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),d){for(f=b.event.special[d]||{},p=u[d=(r?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;o--;)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));a&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,v.handle)||b.removeEvent(e,d,v.handle),delete u[d])}else for(d in u)b.event.remove(e,d+t[l],n,r,!0);b.isEmptyObject(u)&&Q.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=b.event.fix(e),u=new Array(arguments.length),l=(Q.get(this,"events")||{})[s.type]||[],c=b.event.special[s.type]||{};for(u[0]=s,t=1;t<arguments.length;t++)u[t]=arguments[t];if(s.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,s)){for(a=b.event.handlers.call(this,s,l),t=0;(i=a[t++])&&!s.isPropagationStopped();)for(s.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!1!==o.namespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,void 0!==(r=((b.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,u))&&!1===(s.result=r)&&(s.preventDefault(),s.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,s),s.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&e.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?b(i,this).index(l)>-1:b.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(e,t){Object.defineProperty(b.Event.prototype,e,{enumerable:!0,configurable:!0,get:g(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[b.expando]?e:new b.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return he.test(t.type)&&t.click&&A(t,"input")&&void 0===Q.get(t,"click")&&Le(t,"click",Ae),!1},trigger:function(e){var t=this||e;return he.test(t.type)&&t.click&&A(t,"input")&&void 0===Q.get(t,"click")&&Le(t,"click"),!0},_default:function(e){var t=e.target;return he.test(t.type)&&t.click&&A(t,"input")&&Q.get(t,"click")||A(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},b.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},b.Event=function(e,t){if(!(this instanceof b.Event))return new b.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Ae:Ne,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&b.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[b.expando]=!0},b.Event.prototype={constructor:b.Event,isDefaultPrevented:Ne,isPropagationStopped:Ne,isImmediatePropagationStopped:Ne,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Ae,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Ae,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Ae,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},b.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&Ee.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&ke.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},b.event.addProp),b.each({focus:"focusin",blur:"focusout"},function(e,t){b.event.special[e]={setup:function(){return Le(this,e,De),!1},trigger:function(){return Le(this,e),!0},delegateType:t}}),b.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){b.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=e.relatedTarget,i=e.handleObj;return r&&(r===this||b.contains(this,r))||(e.type=i.origType,n=i.handler.apply(this,arguments),e.type=t),n}}}),b.fn.extend({on:function(e,t,n,r){return qe(this,e,t,n,r)},one:function(e,t,n,r){return qe(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,b(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Ne),this.each(function(){b.event.remove(this,e,n,t)})}});var He=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Oe=/<script|<style|<link/i,Pe=/checked\s*(?:[^=]|=\s*.checked.)/i,Re=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Me(e,t){return A(e,"table")&&A(11!==t.nodeType?t:t.firstChild,"tr")&&b(e).children("tbody")[0]||e}function Ie(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function We(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function $e(e,t){var n,r,i,o,a,s,u,l;if(1===t.nodeType){if(Q.hasData(e)&&(o=Q.access(e),a=Q.set(t,o),l=o.events))for(i in delete a.handle,a.events={},l)for(n=0,r=l[i].length;n<r;n++)b.event.add(t,i,l[i][n]);J.hasData(e)&&(s=J.access(e),u=b.extend({},s),J.set(t,u))}}function Fe(e,t,n,r){t=a.apply([],t);var i,o,s,u,l,c,f=0,p=e.length,d=p-1,v=t[0],y=g(v);if(y||p>1&&"string"==typeof v&&!h.checkClone&&Pe.test(v))return e.each(function(i){var o=e.eq(i);y&&(t[0]=v.call(this,i,o.html())),Fe(o,t,n,r)});if(p&&(o=(i=Ce(t,e[0].ownerDocument,!1,e,r)).firstChild,1===i.childNodes.length&&(i=o),o||r)){for(u=(s=b.map(me(i,"script"),Ie)).length;f<p;f++)l=i,f!==d&&(l=b.clone(l,!0,!0),u&&b.merge(s,me(l,"script"))),n.call(e[f],l,f);if(u)for(c=s[s.length-1].ownerDocument,b.map(s,We),f=0;f<u;f++)l=s[f],ve.test(l.type||"")&&!Q.access(l,"globalEval")&&b.contains(c,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?b._evalUrl&&!l.noModule&&b._evalUrl(l.src,{nonce:l.nonce||l.getAttribute("nonce")}):m(l.textContent.replace(Re,""),l,c))}return e}function Be(e,t,n){for(var r,i=t?b.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||b.cleanData(me(r)),r.parentNode&&(n&&ae(r)&&xe(me(r,"script")),r.parentNode.removeChild(r));return e}b.extend({htmlPrefilter:function(e){return e.replace(He,"<$1></$2>")},clone:function(e,t,n){var r,i,o,a,s,u,l,c=e.cloneNode(!0),f=ae(e);if(!(h.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||b.isXMLDoc(e)))for(a=me(c),r=0,i=(o=me(e)).length;r<i;r++)s=o[r],u=a[r],void 0,"input"===(l=u.nodeName.toLowerCase())&&he.test(s.type)?u.checked=s.checked:"input"!==l&&"textarea"!==l||(u.defaultValue=s.defaultValue);if(t)if(n)for(o=o||me(e),a=a||me(c),r=0,i=o.length;r<i;r++)$e(o[r],a[r]);else $e(e,c);return(a=me(c,"script")).length>0&&xe(a,!f&&me(e,"script")),c},cleanData:function(e){for(var t,n,r,i=b.event.special,o=0;void 0!==(n=e[o]);o++)if(G(n)){if(t=n[Q.expando]){if(t.events)for(r in t.events)i[r]?b.event.remove(n,r):b.removeEvent(n,r,t.handle);n[Q.expando]=void 0}n[J.expando]&&(n[J.expando]=void 0)}}}),b.fn.extend({detach:function(e){return Be(this,e,!0)},remove:function(e){return Be(this,e)},text:function(e){return _(this,function(e){return void 0===e?b.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Fe(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Me(this,e).appendChild(e)})},prepend:function(){return Fe(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Me(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Fe(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Fe(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(b.cleanData(me(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return b.clone(this,e,t)})},html:function(e){return _(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Oe.test(e)&&!ye[(ge.exec(e)||["",""])[1].toLowerCase()]){e=b.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(b.cleanData(me(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return Fe(this,arguments,function(t){var n=this.parentNode;b.inArray(this,e)<0&&(b.cleanData(me(this)),n&&n.replaceChild(t,this))},e)}}),b.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){b.fn[e]=function(e){for(var n,r=[],i=b(e),o=i.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),b(i[a])[t](n),s.apply(r,n.get());return this.pushStack(r)}});var _e=new RegExp("^("+ne+")(?!px)[a-z%]+$","i"),ze=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},Ue=new RegExp(ie.join("|"),"i");function Xe(e,t,n){var r,i,o,a,s=e.style;return(n=n||ze(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||ae(e)||(a=b.style(e,t)),!h.pixelBoxStyles()&&_e.test(a)&&Ue.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function Ve(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!(function(){function t(){if(c){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",oe.appendChild(l).appendChild(c);var t=e.getComputedStyle(c);i="1%"!==t.top,u=12===n(t.marginLeft),c.style.right="60%",s=36===n(t.right),o=36===n(t.width),c.style.position="absolute",a=12===n(c.offsetWidth/3),oe.removeChild(l),c=null}}function n(e){return Math.round(parseFloat(e))}var i,o,a,s,u,l=r.createElement("div"),c=r.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",h.clearCloneStyle="content-box"===c.style.backgroundClip,b.extend(h,{boxSizingReliable:function(){return t(),o},pixelBoxStyles:function(){return t(),s},pixelPosition:function(){return t(),i},reliableMarginLeft:function(){return t(),u},scrollboxSize:function(){return t(),a}}))})();var Ge=["Webkit","Moz","ms"],Ye=r.createElement("div").style,Qe={};function Je(e){for(var t=e[0].toUpperCase()+e.slice(1),n=Ge.length;n--;)if((e=Ge[n]+t)in Ye)return e}function Ke(e){var t=b.cssProps[e]||Qe[e];return t||(e in Ye?e:Qe[e]=Je(e)||e)}var Ze=/^(none|table(?!-c[ea]).+)/,et=/^--/,tt={position:"absolute",visibility:"hidden",display:"block"},nt={letterSpacing:"0",fontWeight:"400"};function rt(e,t,n){var r=re.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function it(e,t,n,r,i,o){var a="width"===t?1:0,s=0,u=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(u+=b.css(e,n+ie[a],!0,i)),r?("content"===n&&(u-=b.css(e,"padding"+ie[a],!0,i)),"margin"!==n&&(u-=b.css(e,"border"+ie[a]+"Width",!0,i))):(u+=b.css(e,"padding"+ie[a],!0,i),"padding"!==n?u+=b.css(e,"border"+ie[a]+"Width",!0,i):s+=b.css(e,"border"+ie[a]+"Width",!0,i));return!r&&o>=0&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))||0),u}function ot(e,t,n){var r=ze(e),i=(!h.boxSizingReliable()||n)&&"border-box"===b.css(e,"boxSizing",!1,r),o=i,a=Xe(e,t,r),s="offset"+t[0].toUpperCase()+t.slice(1);if(_e.test(a)){if(!n)return a;a="auto"}return(!h.boxSizingReliable()&&i||"auto"===a||!parseFloat(a)&&"inline"===b.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===b.css(e,"boxSizing",!1,r),(o=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+it(e,t,n||(i?"border":"content"),o,r,a)+"px"}function at(e,t,n,r,i){return new at.prototype.init(e,t,n,r,i)}b.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Xe(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=V(t),u=et.test(t),l=e.style;if(u||(t=Ke(s)),a=b.cssHooks[t]||b.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];"string"===(o=typeof n)&&(i=re.exec(n))&&i[1]&&(n=ce(e,t,i),o="number"),null!=n&&n==n&&("number"!==o||u||(n+=i&&i[3]||(b.cssNumber[s]?"":"px")),h.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var i,o,a,s=V(t);return et.test(t)||(t=Ke(s)),(a=b.cssHooks[t]||b.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=Xe(e,t,r)),"normal"===i&&t in nt&&(i=nt[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),b.each(["height","width"],function(e,t){b.cssHooks[t]={get:function(e,n,r){if(n)return!Ze.test(b.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?ot(e,t,r):le(e,tt,function(){return ot(e,t,r)})},set:function(e,n,r){var i,o=ze(e),a=!h.scrollboxSize()&&"absolute"===o.position,s=(a||r)&&"border-box"===b.css(e,"boxSizing",!1,o),u=r?it(e,t,r,s,o):0;return s&&a&&(u-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-it(e,t,"border",!1,o)-.5)),u&&(i=re.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=b.css(e,t)),rt(0,n,u)}}}),b.cssHooks.marginLeft=Ve(h.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Xe(e,"marginLeft"))||e.getBoundingClientRect().left-le(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),b.each({margin:"",padding:"",border:"Width"},function(e,t){b.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+ie[r]+t]=o[r]||o[r-2]||o[0];return i}},"margin"!==e&&(b.cssHooks[e+t].set=rt)}),b.fn.extend({css:function(e,t){return _(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=ze(e),i=t.length;a<i;a++)o[t[a]]=b.css(e,t[a],!1,r);return o}return void 0!==n?b.style(e,t,n):b.css(e,t)},e,t,arguments.length>1)}}),b.Tween=at,at.prototype={constructor:at,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||b.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(b.cssNumber[n]?"":"px")},cur:function(){var e=at.propHooks[this.prop];return e&&e.get?e.get(this):at.propHooks._default.get(this)},run:function(e){var t,n=at.propHooks[this.prop];return this.options.duration?this.pos=t=b.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):at.propHooks._default.set(this),this}},at.prototype.init.prototype=at.prototype,at.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=b.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){b.fx.step[e.prop]?b.fx.step[e.prop](e):1!==e.elem.nodeType||!b.cssHooks[e.prop]&&null==e.elem.style[Ke(e.prop)]?e.elem[e.prop]=e.now:b.style(e.elem,e.prop,e.now+e.unit)}}},at.propHooks.scrollTop=at.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},b.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},b.fx=at.prototype.init,b.fx.step={};var st,ut,lt=/^(?:toggle|show|hide)$/,ct=/queueHooks$/;function ft(){ut&&(!1===r.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(ft):e.setTimeout(ft,b.fx.interval),b.fx.tick())}function pt(){return e.setTimeout(function(){st=void 0}),st=Date.now()}function dt(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=ie[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function ht(e,t,n){for(var r,i=(vt.tweeners[t]||[]).concat(vt.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function gt(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=V(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=b.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}function vt(e,t,n){var r,i,o=0,a=vt.prefilters.length,s=b.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=st||pt(),n=Math.max(0,l.startTime+l.duration-t),r=1-(n/l.duration||0),o=0,a=l.tweens.length;o<a;o++)l.tweens[o].run(r);return s.notifyWith(e,[l,r,n]),r<1&&a?n:(a||s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:b.extend({},t),opts:b.extend(!0,{specialEasing:{},easing:b.easing._default},n),originalProperties:t,originalOptions:n,startTime:st||pt(),duration:n.duration,tweens:[],createTween:function(t,n){var r=b.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)l.tweens[n].run(1);return t?(s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l,t])):s.rejectWith(e,[l,t]),this}}),c=l.props;for(gt(c,l.opts.specialEasing);o<a;o++)if(r=vt.prefilters[o].call(l,e,c,l.opts))return g(r.stop)&&(b._queueHooks(l.elem,l.opts.queue).stop=r.stop.bind(r)),r;return b.map(c,ht,l),g(l.opts.start)&&l.opts.start.call(e,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),b.fx.timer(b.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l}b.Animation=b.extend(vt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return ce(n.elem,e,re.exec(t),n),n}]},tweener:function(e,t){g(e)?(t=e,e=["*"]):e=e.match(P);for(var n,r=0,i=e.length;r<i;r++)n=e[r],vt.tweeners[n]=vt.tweeners[n]||[],vt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,a,s,u,l,c,f="width"in t||"height"in t,p=this,d={},h=e.style,g=e.nodeType&&ue(e),v=Q.get(e,"fxshow");for(r in n.queue||(null==(a=b._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,b.queue(e,"fx").length||a.empty.fire()})})),t)if(i=t[r],lt.test(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!v||void 0===v[r])continue;g=!0}d[r]=v&&v[r]||b.style(e,r)}if((u=!b.isEmptyObject(t))||!b.isEmptyObject(d))for(r in f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(l=v&&v.display)&&(l=Q.get(e,"display")),"none"===(c=b.css(e,"display"))&&(l?c=l:(de([e],!0),l=e.style.display||l,c=b.css(e,"display"),de([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===b.css(e,"float")&&(u||(p.done(function(){h.display=l}),null==l&&(c=h.display,l="none"===c?"":c)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1,d)u||(v?"hidden"in v&&(g=v.hidden):v=Q.access(e,"fxshow",{display:l}),o&&(v.hidden=!g),g&&de([e],!0),p.done(function(){for(r in g||de([e]),Q.remove(e,"fxshow"),d)b.style(e,r,d[r])})),u=ht(g?v[r]:0,r,p),r in v||(v[r]=u.start,g&&(u.end=u.start,u.start=0))}],prefilter:function(e,t){t?vt.prefilters.unshift(e):vt.prefilters.push(e)}}),b.speed=function(e,t,n){var r=e&&"object"==typeof e?b.extend({},e):{complete:n||!n&&t||g(e)&&e,duration:e,easing:n&&t||t&&!g(t)&&t};return b.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in b.fx.speeds?r.duration=b.fx.speeds[r.duration]:r.duration=b.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){g(r.old)&&r.old.call(this),r.queue&&b.dequeue(this,r.queue)},r},b.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ue).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=b.isEmptyObject(e),o=b.speed(t,n,r),a=function(){var t=vt(this,b.extend({},e),o);(i||Q.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=b.timers,a=Q.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&ct.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||b.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=Q.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=b.timers,a=r?r.length:0;for(n.finish=!0,b.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),b.each(["toggle","show","hide"],function(e,t){var n=b.fn[t];b.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(dt(t,!0),e,r,i)}}),b.each({slideDown:dt("show"),slideUp:dt("hide"),slideToggle:dt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){b.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),b.timers=[],b.fx.tick=function(){var e,t=0,n=b.timers;for(st=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||b.fx.stop(),st=void 0},b.fx.timer=function(e){b.timers.push(e),b.fx.start()},b.fx.interval=13,b.fx.start=function(){ut||(ut=!0,ft())},b.fx.stop=function(){ut=null},b.fx.speeds={slow:600,fast:200,_default:400},b.fn.delay=function(t,n){return t=b.fx&&b.fx.speeds[t]||t,n=n||"fx",this.queue(n,function(n,r){var i=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(i)}})},(function(){var e=r.createElement("input"),t=r.createElement("select").appendChild(r.createElement("option"));e.type="checkbox",h.checkOn=""!==e.value,h.optSelected=t.selected,(e=r.createElement("input")).value="t",e.type="radio",h.radioValue="t"===e.value})();var yt,mt=b.expr.attrHandle;b.fn.extend({attr:function(e,t){return _(this,b.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){b.removeAttr(this,e)})}}),b.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?b.prop(e,t,n):(1===o&&b.isXMLDoc(e)||(i=b.attrHooks[t.toLowerCase()]||(b.expr.match.bool.test(t)?yt:void 0)),void 0!==n?null===n?void b.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=b.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!h.radioValue&&"radio"===t&&A(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(P);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),yt={set:function(e,t,n){return!1===t?b.removeAttr(e,n):e.setAttribute(n,n),n}},b.each(b.expr.match.bool.source.match(/\w+/g),function(e,t){var n=mt[t]||b.find.attr;mt[t]=function(e,t,r){var i,o,a=t.toLowerCase();return r||(o=mt[a],mt[a]=i,i=null!=n(e,t,r)?a:null,mt[a]=o),i}});var xt=/^(?:input|select|textarea|button)$/i,bt=/^(?:a|area)$/i;function wt(e){return(e.match(P)||[]).join(" ")}function Tt(e){return e.getAttribute&&e.getAttribute("class")||""}function Ct(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(P)||[]}b.fn.extend({prop:function(e,t){return _(this,b.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[b.propFix[e]||e]})}}),b.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&b.isXMLDoc(e)||(t=b.propFix[t]||t,i=b.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=b.find.attr(e,"tabindex");return t?parseInt(t,10):xt.test(e.nodeName)||bt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),h.optSelected||(b.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),b.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){b.propFix[this.toLowerCase()]=this}),b.fn.extend({addClass:function(e){var t,n,r,i,o,a,s,u=0;if(g(e))return this.each(function(t){b(this).addClass(e.call(this,t,Tt(this)))});if((t=Ct(e)).length)for(;n=this[u++];)if(i=Tt(n),r=1===n.nodeType&&" "+wt(i)+" "){for(a=0;o=t[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(s=wt(r))&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,r,i,o,a,s,u=0;if(g(e))return this.each(function(t){b(this).removeClass(e.call(this,t,Tt(this)))});if(!arguments.length)return this.attr("class","");if((t=Ct(e)).length)for(;n=this[u++];)if(i=Tt(n),r=1===n.nodeType&&" "+wt(i)+" "){for(a=0;o=t[a++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");i!==(s=wt(r))&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e,r="string"===n||Array.isArray(e);return"boolean"==typeof t&&r?t?this.addClass(e):this.removeClass(e):g(e)?this.each(function(n){b(this).toggleClass(e.call(this,n,Tt(this),t),t)}):this.each(function(){var t,i,o,a;if(r)for(i=0,o=b(this),a=Ct(e);t=a[i++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else void 0!==e&&"boolean"!==n||((t=Tt(this))&&Q.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":Q.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+wt(Tt(n))+" ").indexOf(t)>-1)return!0;return!1}});var Et=/\r/g;b.fn.extend({val:function(e){var t,n,r,i=this[0];return arguments.length?(r=g(e),this.each(function(n){var i;1===this.nodeType&&(null==(i=r?e.call(this,n,b(this).val()):e)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=b.map(i,function(e){return null==e?"":e+""})),(t=b.valHooks[this.type]||b.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))})):i?(t=b.valHooks[i.type]||b.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(Et,""):null==n?"":n:void 0}}),b.extend({valHooks:{option:{get:function(e){var t=b.find.attr(e,"value");return null!=t?t:wt(b.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!A(n.parentNode,"optgroup"))){if(t=b(n).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var n,r,i=e.options,o=b.makeArray(t),a=i.length;a--;)((r=i[a]).selected=b.inArray(b.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),b.each(["radio","checkbox"],function(){b.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=b.inArray(b(e).val(),t)>-1}},h.checkOn||(b.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),h.focusin="onfocusin"in e;var kt=/^(?:focusinfocus|focusoutblur)$/,St=function(e){e.stopPropagation()};b.extend(b.event,{trigger:function(t,n,i,o){var a,s,u,l,c,p,d,h,y=[i||r],m=f.call(t,"type")?t.type:t,x=f.call(t,"namespace")?t.namespace.split("."):[];if(s=h=u=i=i||r,3!==i.nodeType&&8!==i.nodeType&&!kt.test(m+b.event.triggered)&&(m.indexOf(".")>-1&&(m=(x=m.split(".")).shift(),x.sort()),c=m.indexOf(":")<0&&"on"+m,(t=t[b.expando]?t:new b.Event(m,"object"==typeof t&&t)).isTrigger=o?2:3,t.namespace=x.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+x.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:b.makeArray(n,[t]),d=b.event.special[m]||{},o||!d.trigger||!1!==d.trigger.apply(i,n))){if(!o&&!d.noBubble&&!v(i)){for(l=d.delegateType||m,kt.test(l+m)||(s=s.parentNode);s;s=s.parentNode)y.push(s),u=s;u===(i.ownerDocument||r)&&y.push(u.defaultView||u.parentWindow||e)}for(a=0;(s=y[a++])&&!t.isPropagationStopped();)h=s,t.type=a>1?l:d.bindType||m,(p=(Q.get(s,"events")||{})[t.type]&&Q.get(s,"handle"))&&p.apply(s,n),(p=c&&s[c])&&p.apply&&G(s)&&(t.result=p.apply(s,n),!1===t.result&&t.preventDefault());return t.type=m,o||t.isDefaultPrevented()||d._default&&!1!==d._default.apply(y.pop(),n)||!G(i)||c&&g(i[m])&&!v(i)&&((u=i[c])&&(i[c]=null),b.event.triggered=m,t.isPropagationStopped()&&h.addEventListener(m,St),i[m](),t.isPropagationStopped()&&h.removeEventListener(m,St),b.event.triggered=void 0,u&&(i[c]=u)),t.result}},simulate:function(e,t,n){var r=b.extend(new b.Event,n,{type:e,isSimulated:!0});b.event.trigger(r,null,t)}}),b.fn.extend({trigger:function(e,t){return this.each(function(){b.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return b.event.trigger(e,t,n,!0)}}),h.focusin||b.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){b.event.simulate(t,e.target,b.event.fix(e))};b.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=Q.access(r,t);i||r.addEventListener(e,n,!0),Q.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=Q.access(r,t)-1;i?Q.access(r,t,i):(r.removeEventListener(e,n,!0),Q.remove(r,t))}}});var At=e.location,Nt=Date.now(),Dt=/\?/;b.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||b.error("Invalid XML: "+t),n};var jt=/\[\]$/,qt=/\r?\n/g,Lt=/^(?:submit|button|image|reset|file)$/i,Ht=/^(?:input|select|textarea|keygen)/i;function Ot(e,t,n,r){var i;if(Array.isArray(t))b.each(t,function(t,i){n||jt.test(e)?r(e,i):Ot(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,r)});else if(n||"object"!==x(t))r(e,t);else for(i in t)Ot(e+"["+i+"]",t[i],n,r)}b.param=function(e,t){var n,r=[],i=function(e,t){var n=g(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!b.isPlainObject(e))b.each(e,function(){i(this.name,this.value)});else for(n in e)Ot(n,e[n],t,i);return r.join("&")},b.fn.extend({serialize:function(){return b.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=b.prop(this,"elements");return e?b.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!b(this).is(":disabled")&&Ht.test(this.nodeName)&&!Lt.test(e)&&(this.checked||!he.test(e))}).map(function(e,t){var n=b(this).val();return null==n?null:Array.isArray(n)?b.map(n,function(e){return{name:t.name,value:e.replace(qt,"\r\n")}}):{name:t.name,value:n.replace(qt,"\r\n")}}).get()}});var Pt=/%20/g,Rt=/#.*$/,Mt=/([?&])_=[^&]*/,It=/^(.*?):[ \t]*([^\r\n]*)$/gm,Wt=/^(?:GET|HEAD)$/,$t=/^\/\//,Ft={},Bt={},_t="*/".concat("*"),zt=r.createElement("a");function Ut(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(P)||[];if(g(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function Xt(e,t,n,r){var i={},o=e===Bt;function a(s){var u;return i[s]=!0,b.each(e[s]||[],function(e,s){var l=s(t,n,r);return"string"!=typeof l||o||i[l]?o?!(u=l):void 0:(t.dataTypes.unshift(l),a(l),!1)}),u}return a(t.dataTypes[0])||!i["*"]&&a("*")}function Vt(e,t){var n,r,i=b.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&b.extend(!0,e,r),e}function Gt(e,t,n){for(var r,i,o,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}function Yt(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}zt.href=At.href,b.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:At.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(At.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":_t,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":b.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Vt(Vt(e,b.ajaxSettings),t):Vt(b.ajaxSettings,e)},ajaxPrefilter:Ut(Ft),ajaxTransport:Ut(Bt),ajax:function(t,n){"object"==typeof t&&(n=t,t=void 0),n=n||{};var i,o,a,s,u,l,c,f,p,d,h=b.ajaxSetup({},n),g=h.context||h,v=h.context&&(g.nodeType||g.jquery)?b(g):b.event,y=b.Deferred(),m=b.Callbacks("once memory"),x=h.statusCode||{},w={},T={},C="canceled",E={readyState:0,getResponseHeader:function(e){var t;if(c){if(!s)for(s={};t=It.exec(a);)s[t[1].toLowerCase()+" "]=(s[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=s[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return c?a:null},setRequestHeader:function(e,t){return null==c&&(e=T[e.toLowerCase()]=T[e.toLowerCase()]||e,w[e]=t),this},overrideMimeType:function(e){return null==c&&(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)E.always(e[E.status]);else for(t in e)x[t]=[x[t],e[t]];return this},abort:function(e){var t=e||C;return i&&i.abort(t),k(0,t),this}};if(y.promise(E),h.url=((t||h.url||At.href)+"").replace($t,At.protocol+"//"),h.type=n.method||n.type||h.method||h.type,h.dataTypes=(h.dataType||"*").toLowerCase().match(P)||[""],null==h.crossDomain){l=r.createElement("a");try{l.href=h.url,l.href=l.href,h.crossDomain=zt.protocol+"//"+zt.host!=l.protocol+"//"+l.host}catch(e){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=b.param(h.data,h.traditional)),Xt(Ft,h,n,E),c)return E;for(p in(f=b.event&&h.global)&&0==b.active++&&b.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Wt.test(h.type),o=h.url.replace(Rt,""),h.hasContent?h.data&&h.processData&&0===(h.contentType||"").indexOf("application/x-www-form-urlencoded")&&(h.data=h.data.replace(Pt,"+")):(d=h.url.slice(o.length),h.data&&(h.processData||"string"==typeof h.data)&&(o+=(Dt.test(o)?"&":"?")+h.data,delete h.data),!1===h.cache&&(o=o.replace(Mt,"$1"),d=(Dt.test(o)?"&":"?")+"_="+Nt+++d),h.url=o+d),h.ifModified&&(b.lastModified[o]&&E.setRequestHeader("If-Modified-Since",b.lastModified[o]),b.etag[o]&&E.setRequestHeader("If-None-Match",b.etag[o])),(h.data&&h.hasContent&&!1!==h.contentType||n.contentType)&&E.setRequestHeader("Content-Type",h.contentType),E.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", */*; q=0.01":""):h.accepts["*"]),h.headers)E.setRequestHeader(p,h.headers[p]);if(h.beforeSend&&(!1===h.beforeSend.call(g,E,h)||c))return E.abort();if(C="abort",m.add(h.complete),E.done(h.success),E.fail(h.error),i=Xt(Bt,h,n,E)){if(E.readyState=1,f&&v.trigger("ajaxSend",[E,h]),c)return E;h.async&&h.timeout>0&&(u=e.setTimeout(function(){E.abort("timeout")},h.timeout));try{c=!1,i.send(w,k)}catch(e){if(c)throw e;k(-1,e)}}else k(-1,"No Transport");function k(t,n,r,s){var l,p,d,w,T,C=n;c||(c=!0,u&&e.clearTimeout(u),i=void 0,a=s||"",E.readyState=t>0?4:0,l=t>=200&&t<300||304===t,r&&(w=Gt(h,E,r)),w=Yt(h,w,E,l),l?(h.ifModified&&((T=E.getResponseHeader("Last-Modified"))&&(b.lastModified[o]=T),(T=E.getResponseHeader("etag"))&&(b.etag[o]=T)),204===t||"HEAD"===h.type?C="nocontent":304===t?C="notmodified":(C=w.state,p=w.data,l=!(d=w.error))):(d=C,!t&&C||(C="error",t<0&&(t=0))),E.status=t,E.statusText=(n||C)+"",l?y.resolveWith(g,[p,C,E]):y.rejectWith(g,[E,C,d]),E.statusCode(x),x=void 0,f&&v.trigger(l?"ajaxSuccess":"ajaxError",[E,h,l?p:d]),m.fireWith(g,[E,C]),f&&(v.trigger("ajaxComplete",[E,h]),--b.active||b.event.trigger("ajaxStop")))}return E},getJSON:function(e,t,n){return b.get(e,t,n,"json")},getScript:function(e,t){return b.get(e,void 0,t,"script")}}),b.each(["get","post"],function(e,t){b[t]=function(e,n,r,i){return g(n)&&(i=i||r,r=n,n=void 0),b.ajax(b.extend({url:e,type:t,dataType:i,data:n,success:r},b.isPlainObject(e)&&e))}}),b._evalUrl=function(e,t){return b.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){b.globalEval(e,t)}})},b.fn.extend({wrapAll:function(e){var t;return this[0]&&(g(e)&&(e=e.call(this[0])),t=b(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return g(e)?this.each(function(t){b(this).wrapInner(e.call(this,t))}):this.each(function(){var t=b(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=g(e);return this.each(function(n){b(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){b(this).replaceWith(this.childNodes)}),this}}),b.expr.pseudos.hidden=function(e){return!b.expr.pseudos.visible(e)},b.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},b.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var Qt={0:200,1223:204},Jt=b.ajaxSettings.xhr();h.cors=!!Jt&&"withCredentials"in Jt,h.ajax=Jt=!!Jt,b.ajaxTransport(function(t){var n,r;if(h.cors||Jt&&!t.crossDomain)return{send:function(i,o){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];for(a in t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)s.setRequestHeader(a,i[a]);n=function(e){return function(){n&&(n=r=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Qt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),r=s.onerror=s.ontimeout=n("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout(function(){n&&r()})},n=n("abort");try{s.send(t.hasContent&&t.data||null)}catch(e){if(n)throw e}},abort:function(){n&&n()}}}),b.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),b.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return b.globalEval(e),e}}}),b.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),b.ajaxTransport("script",function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(i,o){t=b("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&o("error"===e.type?404:200,e.type)}),r.head.appendChild(t[0])},abort:function(){n&&n()}}});var Kt,Zt=[],en=/(=)\?(?=&|$)|\?\?/;b.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Zt.pop()||b.expando+"_"+Nt++;return this[e]=!0,e}}),b.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,a,s=!1!==t.jsonp&&(en.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&en.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=g(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(en,"$1"+i):!1!==t.jsonp&&(t.url+=(Dt.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||b.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},r.always(function(){void 0===o?b(e).removeProp(i):e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,Zt.push(i)),a&&g(o)&&o(a[0]),a=o=void 0}),"script"}),h.createHTMLDocument=((Kt=r.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Kt.childNodes.length),b.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(h.createHTMLDocument?((i=(t=r.implementation.createHTMLDocument("")).createElement("base")).href=r.location.href,t.head.appendChild(i)):t=r),o=N.exec(e),a=!n&&[],o?[t.createElement(o[1])]:(o=Ce([e],t,a),a&&a.length&&b(a).remove(),b.merge([],o.childNodes)));var i,o,a},b.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return s>-1&&(r=wt(e.slice(s)),e=e.slice(0,s)),g(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&b.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?b("<div>").append(b.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},b.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){b.fn[t]=function(e){return this.on(t,e)}}),b.expr.pseudos.animated=function(e){return b.grep(b.timers,function(t){return e===t.elem}).length},b.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l=b.css(e,"position"),c=b(e),f={};"static"===l&&(e.style.position="relative"),s=c.offset(),o=b.css(e,"top"),u=b.css(e,"left"),("absolute"===l||"fixed"===l)&&(o+u).indexOf("auto")>-1?(a=(r=c.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),g(t)&&(t=t.call(e,n,b.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):c.css(f)}},b.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){b.offset.setOffset(this,e,t)});var t,n,r=this[0];return r?r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===b.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===b.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=b(e).offset()).top+=b.css(e,"borderTopWidth",!0),i.left+=b.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-b.css(r,"marginTop",!0),left:t.left-i.left-b.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===b.css(e,"position");)e=e.offsetParent;return e||oe})}}),b.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;b.fn[e]=function(r){return _(this,function(e,r,i){var o;if(v(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===i)return o?o[t]:e[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[r]=i},e,r,arguments.length)}}),b.each(["top","left"],function(e,t){b.cssHooks[t]=Ve(h.pixelPosition,function(e,n){if(n)return n=Xe(e,t),_e.test(n)?b(e).position()[t]+"px":n})}),b.each({Height:"height",Width:"width"},function(e,t){b.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){b.fn[r]=function(i,o){var a=arguments.length&&(n||"boolean"!=typeof i),s=n||(!0===i||!0===o?"margin":"border");return _(this,function(t,n,i){var o;return v(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?b.css(t,n,s):b.style(t,n,i,s)},t,a?i:void 0,a)}})}),b.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){b.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),b.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),b.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),b.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),g(e))return r=o.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(o.call(arguments)))}).guid=e.guid=e.guid||b.guid++,i},b.holdReady=function(e){e?b.readyWait++:b.ready(!0)},b.isArray=Array.isArray,b.parseJSON=JSON.parse,b.nodeName=A,b.isFunction=g,b.isWindow=v,b.camelCase=V,b.type=x,b.now=Date.now,b.isNumeric=function(e){var t=b.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},"function"==typeof define&&define.amd&&define("jquery",[],function(){return b});var tn=e.jQuery,nn=e.$;return b.noConflict=function(t){return e.$===b&&(e.$=nn),t&&e.jQuery===b&&(e.jQuery=tn),b},t||(e.jQuery=e.$=b),b})},442,[]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]);e.__esModule=!0;var u=t(r(d[1]));e.Provider=u.default;var c=t(r(d[2]));e.connectAdvanced=c.default;var s=r(d[3]);e.ReactReduxContext=s.ReactReduxContext;var l=t(r(d[4]));e.connect=l.default;var o=r(d[5]);e.useDispatch=o.useDispatch;var v=r(d[6]);e.useSelector=v.useSelector;var n=r(d[7]);e.useStore=n.useStore;var h=r(d[8]),_=r(d[9]);e.batch=_.unstable_batchedUpdates;var b=t(r(d[10]));e.shallowEqual=b.default,(0,h.setBatch)(_.unstable_batchedUpdates)},443,[1,444,449,446,453,467,470,468,448,471,454]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]),s=r(d[1]);e.__esModule=!0,e.default=void 0;var n=s(r(d[2])),o=s(r(d[3])),u=t(r(d[4])),c=s(r(d[5])),b=r(d[6]),p=s(r(d[7])),f=(function(t){function s(s){var o;o=t.call(this,s)||this;var u=s.store;o.notifySubscribers=o.notifySubscribers.bind((0,n.default)(o));var c=new p.default(u);return c.onStateChange=o.notifySubscribers,o.state={store:u,subscription:c},o.previousState=u.getState(),o}(0,o.default)(s,t);var c=s.prototype;return c.componentDidMount=function(){this._isMounted=!0,this.state.subscription.trySubscribe(),this.previousState!==this.props.store.getState()&&this.state.subscription.notifyNestedSubs()},c.componentWillUnmount=function(){this.unsubscribe&&this.unsubscribe(),this.state.subscription.tryUnsubscribe(),this._isMounted=!1},c.componentDidUpdate=function(t){if(this.props.store!==t.store){this.state.subscription.tryUnsubscribe();var s=new p.default(this.props.store);s.onStateChange=this.notifySubscribers,this.setState({store:this.props.store,subscription:s})}},c.notifySubscribers=function(){this.state.subscription.notifyNestedSubs()},c.render=function(){var t=this.props.context||b.ReactReduxContext;return u.default.createElement(t.Provider,{value:this.state},this.props.children)},s})(u.Component);f.propTypes={store:c.default.shape({subscribe:c.default.func.isRequired,dispatch:c.default.func.isRequired,getState:c.default.func.isRequired}),context:c.default.object,children:c.default.any};var h=f;e.default=h},444,[23,1,8,445,12,68,446,447]);
__d(function(g,r,i,a,m,e,d){m.exports=function(t,o){t.prototype=Object.create(o.prototype),t.prototype.constructor=t,t.__proto__=o}},445,[]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]);e.__esModule=!0,e.default=e.ReactReduxContext=void 0;var u=t(r(d[1])).default.createContext(null);e.ReactReduxContext=u;var l=u;e.default=l},446,[1,12]);
__d(function(g,r,i,a,m,e,d){"use strict";e.__esModule=!0,e.default=void 0;var t=r(d[0]),n=null,s={notify:function(){}};var u=(function(){function u(t,n){this.store=t,this.parentSub=n,this.unsubscribe=null,this.listeners=s,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var h=u.prototype;return h.addNestedSub=function(t){return this.trySubscribe(),this.listeners.subscribe(t)},h.notifyNestedSubs=function(){this.listeners.notify()},h.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},h.isSubscribed=function(){return Boolean(this.unsubscribe)},h.trySubscribe=function(){var s,u,h;this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=(s=(0,t.getBatch)(),u=[],h=[],{clear:function(){h=n,u=n},notify:function(){var t=u=h;s(function(){for(var n=0;n<t.length;n++)t[n]()})},get:function(){return h},subscribe:function(t){var s=!0;return h===u&&(h=u.slice()),h.push(t),function(){s&&u!==n&&(s=!1,h===u&&(h=u.slice()),h.splice(h.indexOf(t),1))}}}))},h.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=s)},u})();e.default=u},447,[448]);
__d(function(g,r,i,a,m,e,d){"use strict";e.__esModule=!0,e.getBatch=e.setBatch=void 0;var t=function(t){t()};e.setBatch=function(n){return t=n};e.getBatch=function(){return t}},448,[]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]),n=r(d[1]);e.__esModule=!0,e.default=function(t,n){void 0===n&&(n={});var x=n,M=x.getDisplayName,N=void 0===M?function(t){return"ConnectAdvanced("+t+")"}:M,b=x.methodName,P=void 0===b?'connectAdvanced':b,S=x.renderCountProp,E=void 0===S?void 0:S,D=x.shouldHandleStateChanges,T=void 0===D||D,_=x.storeKey,K=void 0===_?'store':_,A=x.withRef,B=void 0!==A&&A,H=x.forwardRef,W=void 0!==H&&H,U=x.context,j=void 0===U?v.ReactReduxContext:U,k=(0,u.default)(x,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]);(0,s.default)(void 0===E,"renderCountProp is removed. render counting is built into the latest React Dev Tools profiling extension"),(0,s.default)(!B,'withRef is removed. To access the wrapped instance, use a ref on the connected component');(0,s.default)('store'===K,"storeKey has been removed and does not do anything. To use a custom Redux store for specific components, create a custom React context with React.createContext(), and pass the context object to React Redux's Provider and specific components like: <Provider context={MyContext}><ConnectedComponent context={MyContext} /></Provider>. You may also pass a {context : MyContext} option to connect");var L=j;return function(n){var v=n.displayName||n.name||'Component',x=N(v),M=(0,o.default)({},k,{getDisplayName:N,methodName:P,renderCountProp:E,shouldHandleStateChanges:T,storeKey:K,displayName:x,wrappedComponentName:v,WrappedComponent:n}),b=k.pure;function S(n){return t(n.dispatch,M)}var D=b?f.useMemo:function(t){return t()};function _(t){var c=(0,f.useMemo)(function(){var n=t.forwardedRef,o=(0,u.default)(t,["forwardedRef"]);return[t.context,n,o]},[t]),v=c[0],M=c[1],N=c[2],b=(0,f.useMemo)(function(){return v&&v.Consumer&&(0,l.isContextConsumer)(f.default.createElement(v.Consumer,null))?v:L},[v,L]),P=(0,f.useContext)(b),E=Boolean(t.store),_=Boolean(P)&&Boolean(P.store);(0,s.default)(E||_,"Could not find \"store\" in the context of \""+x+"\". Either wrap the root component in a <Provider>, or pass a custom React context provider to <Provider> and the corresponding React context consumer to "+x+" in connect options.");var K=t.store||P.store,A=(0,f.useMemo)(function(){return S(K)},[K]),B=(0,f.useMemo)(function(){if(!T)return C;var t=new p.default(K,E?null:P.subscription),n=t.notifyNestedSubs.bind(t);return[t,n]},[K,E,P]),H=B[0],W=B[1],U=(0,f.useMemo)(function(){return E?P:(0,o.default)({},P,{subscription:H})},[E,P,H]),j=(0,f.useReducer)(y,h,R),k=j[0],O=k[0],Y=j[1];if(O&&O.error)throw O.error;var q=(0,f.useRef)(),z=(0,f.useRef)(N),F=(0,f.useRef)(),G=(0,f.useRef)(!1),I=D(function(){return F.current&&N===z.current?F.current:A(K.getState(),N)},[K,O,N]);w(function(){z.current=N,q.current=I,G.current=!1,F.current&&(F.current=null,W())}),w(function(){if(T){var t=!1,n=null,o=function(){if(!t){var o,u,c=K.getState();try{o=A(c,z.current)}catch(t){u=t,n=t}u||(n=null),o===q.current?G.current||W():(q.current=o,F.current=o,G.current=!0,Y({type:'STORE_UPDATED',payload:{latestStoreState:c,error:u}}))}};H.onStateChange=o,H.trySubscribe(),o();return function(){if(t=!0,H.tryUnsubscribe(),n)throw n}}},[K,H,A]);var J=(0,f.useMemo)(function(){return f.default.createElement(n,(0,o.default)({},I,{ref:M}))},[M,n,I]),Q=(0,f.useMemo)(function(){return T?f.default.createElement(b.Provider,{value:U},J):J},[b,J,U]);return Q}var A=b?f.default.memo(_):_;if(A.WrappedComponent=n,A.displayName=x,W){var B=f.default.forwardRef(function(t,n){return f.default.createElement(A,(0,o.default)({},t,{forwardedRef:n}))});return B.displayName=x,B.WrappedComponent=n,(0,c.default)(B,n)}return(0,c.default)(A,n)}};var o=n(r(d[2])),u=n(r(d[3])),c=n(r(d[4])),s=n(r(d[5])),f=t(r(d[6])),l=r(d[7]),p=n(r(d[8])),v=r(d[9]),h=[],C=[null,null];function y(t,n){var o=t[1];return[n.payload,o+1]}var R=function(){return[null,0]},w='undefined'!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?f.useLayoutEffect:f.useEffect},449,[23,1,15,58,450,17,12,451,447,446]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},p={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},y={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},n={};function s(p){return t.isMemo(p)?y:n[p.$$typeof]||o}n[t.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},n[t.Memo]=y;var c=Object.defineProperty,f=Object.getOwnPropertyNames,l=Object.getOwnPropertySymbols,u=Object.getOwnPropertyDescriptor,O=Object.getPrototypeOf,P=Object.prototype;m.exports=function t(o,y,n){if('string'!=typeof y){if(P){var v=O(y);v&&v!==P&&t(o,v,n)}var b=f(y);l&&(b=b.concat(l(y)));for(var j=s(o),T=s(y),$=0;$<b.length;++$){var x=b[$];if(!(p[x]||n&&n[x]||T&&T[x]||j&&j[x])){var h=u(y,x);try{c(o,x,h)}catch(t){}}}}return o}},450,[451]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])},451,[452]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&("function"==typeof Symbol?Symbol.for:"@@for"),t=o?("function"==typeof Symbol?Symbol.for:"@@for")("react.element"):60103,n=o?("function"==typeof Symbol?Symbol.for:"@@for")("react.portal"):60106,f=o?("function"==typeof Symbol?Symbol.for:"@@for")("react.fragment"):60107,c=o?("function"==typeof Symbol?Symbol.for:"@@for")("react.strict_mode"):60108,y=o?("function"==typeof Symbol?Symbol.for:"@@for")("react.profiler"):60114,u=o?("function"==typeof Symbol?Symbol.for:"@@for")("react.provider"):60109,l=o?("function"==typeof Symbol?Symbol.for:"@@for")("react.context"):60110,s=o?("function"==typeof Symbol?Symbol.for:"@@for")("react.async_mode"):60111,p=o?("function"==typeof Symbol?Symbol.for:"@@for")("react.concurrent_mode"):60111,b=o?("function"==typeof Symbol?Symbol.for:"@@for")("react.forward_ref"):60112,S=o?("function"==typeof Symbol?Symbol.for:"@@for")("react.suspense"):60113,$=o?("function"==typeof Symbol?Symbol.for:"@@for")("react.suspense_list"):60120,M=o?("function"==typeof Symbol?Symbol.for:"@@for")("react.memo"):60115,_=o?("function"==typeof Symbol?Symbol.for:"@@for")("react.lazy"):60116,C=o?("function"==typeof Symbol?Symbol.for:"@@for")("react.fundamental"):60117,P=o?("function"==typeof Symbol?Symbol.for:"@@for")("react.responder"):60118,v=o?("function"==typeof Symbol?Symbol.for:"@@for")("react.scope"):60119;function w(o){if("object"==typeof o&&null!==o){var $=o.$$typeof;switch($){case t:switch(o=o.type){case s:case p:case f:case y:case c:case S:return o;default:switch(o=o&&o.$$typeof){case l:case b:case _:case M:case u:return o;default:return $}}case n:return $}}}function x(o){return w(o)===p}e.typeOf=w,e.AsyncMode=s,e.ConcurrentMode=p,e.ContextConsumer=l,e.ContextProvider=u,e.Element=t,e.ForwardRef=b,e.Fragment=f,e.Lazy=_,e.Memo=M,e.Portal=n,e.Profiler=y,e.StrictMode=c,e.Suspense=S,e.isValidElementType=function(o){return"string"==typeof o||"function"==typeof o||o===f||o===p||o===y||o===c||o===S||o===$||"object"==typeof o&&null!==o&&(o.$$typeof===_||o.$$typeof===M||o.$$typeof===u||o.$$typeof===l||o.$$typeof===b||o.$$typeof===C||o.$$typeof===P||o.$$typeof===v)},e.isAsyncMode=function(o){return x(o)||w(o)===s},e.isConcurrentMode=x,e.isContextConsumer=function(o){return w(o)===l},e.isContextProvider=function(o){return w(o)===u},e.isElement=function(o){return"object"==typeof o&&null!==o&&o.$$typeof===t},e.isForwardRef=function(o){return w(o)===b},e.isFragment=function(o){return w(o)===f},e.isLazy=function(o){return w(o)===_},e.isMemo=function(o){return w(o)===M},e.isPortal=function(o){return w(o)===n},e.isProfiler=function(o){return w(o)===y},e.isStrictMode=function(o){return w(o)===c},e.isSuspense=function(o){return w(o)===S}},452,[]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]);e.__esModule=!0,e.createConnect=E,e.default=void 0;var o=t(r(d[1])),n=t(r(d[2])),u=t(r(d[3])),p=t(r(d[4])),s=t(r(d[5])),l=t(r(d[6])),c=t(r(d[7])),f=t(r(d[8]));function v(t,o,n){for(var u=o.length-1;u>=0;u--){var p=o[u](t);if(p)return p}return function(o,u){throw new Error("Invalid value of type "+typeof t+" for "+n+" argument when connecting component "+u.wrappedComponentName+".")}}function P(t,o){return t===o}function E(t){var E=void 0===t?{}:t,q=E.connectHOC,S=void 0===q?u.default:q,h=E.mapStateToPropsFactories,w=void 0===h?l.default:h,M=E.mapDispatchToPropsFactories,T=void 0===M?s.default:M,C=E.mergePropsFactories,y=void 0===C?c.default:C,D=E.selectorFactory,F=void 0===D?f.default:D;return function(t,u,s,l){void 0===l&&(l={});var c=l,f=c.pure,E=void 0===f||f,q=c.areStatesEqual,h=void 0===q?P:q,M=c.areOwnPropsEqual,C=void 0===M?p.default:M,D=c.areStatePropsEqual,O=void 0===D?p.default:D,_=c.areMergedPropsEqual,N=void 0===_?p.default:_,H=(0,n.default)(c,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),B=v(t,w,'mapStateToProps'),I=v(u,T,'mapDispatchToProps'),b=v(s,y,'mergeProps');return S(F,(0,o.default)({methodName:'connect',getDisplayName:function(t){return"Connect("+t+")"},shouldHandleStateChanges:Boolean(t),initMapStateToProps:B,initMapDispatchToProps:I,initMergeProps:b,pure:E,areStatesEqual:h,areOwnPropsEqual:C,areStatePropsEqual:O,areMergedPropsEqual:N},H))}}var q=E();e.default=q},453,[1,15,58,449,454,455,463,464,465]);
__d(function(g,r,i,a,m,e,d){"use strict";e.__esModule=!0,e.default=function(u,o){if(n(u,o))return!0;if('object'!=typeof u||null===u||'object'!=typeof o||null===o)return!1;var f=Object.keys(u),l=Object.keys(o);if(f.length!==l.length)return!1;for(var c=0;c<f.length;c++)if(!t.call(o,f[c])||!n(u[f[c]],o[f[c]]))return!1;return!0};var t=Object.prototype.hasOwnProperty;function n(t,n){return t===n?0!==t||0!==n||1/t==1/n:t!=t&&n!=n}},454,[]);
__d(function(g,r,i,a,m,e,d){"use strict";e.__esModule=!0,e.whenMapDispatchToPropsIsFunction=t,e.whenMapDispatchToPropsIsMissing=p,e.whenMapDispatchToPropsIsObject=s,e.default=void 0;var o=r(d[0]),n=r(d[1]);function t(o){return'function'==typeof o?(0,n.wrapMapToPropsFunc)(o,'mapDispatchToProps'):void 0}function p(o){return o?void 0:(0,n.wrapMapToPropsConstant)(function(o){return{dispatch:o}})}function s(t){return t&&'object'==typeof t?(0,n.wrapMapToPropsConstant)(function(n){return(0,o.bindActionCreators)(t,n)}):void 0}var c=[t,p,s];e.default=c},455,[456,459]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,'__esModule',{value:!0});var t,n=(t=r(d[0]))&&'object'==typeof t&&'default'in t?t.default:t,o=function(){return Math.random().toString(36).substring(7).split('').join('.')},u={INIT:"@@redux/INIT"+o(),REPLACE:"@@redux/REPLACE"+o(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+o()}};function c(t){if('object'!=typeof t||null===t)return!1;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(t)===n}function f(t,n){var o=n&&n.type;return"Given "+(o&&"action \""+String(o)+"\""||'an action')+", reducer \""+t+"\" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined."}function s(t){Object.keys(t).forEach(function(n){var o=t[n];if(void 0===o(void 0,{type:u.INIT}))throw new Error("Reducer \""+n+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===o(void 0,{type:u.PROBE_UNKNOWN_ACTION()}))throw new Error("Reducer \""+n+"\" returned undefined when probed with a random type. Don't try to handle "+u.INIT+" or other actions in \"redux/*\" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.")})}function p(t,n){return function(){return n(t.apply(this,arguments))}}function l(t,n,o){return n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,t}function h(t,n){var o=Object.keys(t);return Object.getOwnPropertySymbols&&o.push.apply(o,Object.getOwnPropertySymbols(t)),n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o}function y(t){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?h(o,!0).forEach(function(n){l(t,n,o[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):h(o).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(o,n))})}return t}function b(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return 0===n.length?function(t){return t}:1===n.length?n[0]:n.reduce(function(t,n){return function(){return t(n.apply(void 0,arguments))}})}e.__DO_NOT_USE__ActionTypes=u,e.applyMiddleware=function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return function(t){return function(){var o=t.apply(void 0,arguments),u=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},c={getState:o.getState,dispatch:function(){return u.apply(void 0,arguments)}},f=n.map(function(t){return t(c)});return y({},o,{dispatch:u=b.apply(void 0,f)(o.dispatch)})}}},e.bindActionCreators=function(t,n){if('function'==typeof t)return p(t,n);if('object'!=typeof t||null===t)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===t?'null':typeof t)+". Did you write \"import ActionCreators from\" instead of \"import * as ActionCreators from\"?");var o={};for(var u in t){var c=t[u];'function'==typeof c&&(o[u]=p(c,n))}return o},e.combineReducers=function(t){for(var n=Object.keys(t),o={},u=0;u<n.length;u++){var c=n[u];'function'==typeof t[c]&&(o[c]=t[c])}var p,l=Object.keys(o);try{s(o)}catch(t){p=t}return function(t,n){if(void 0===t&&(t={}),p)throw p;for(var u=!1,c={},s=0;s<l.length;s++){var h=l[s],y=o[h],b=t[h],w=y(b,n);if(void 0===w){var v=f(h,n);throw new Error(v)}c[h]=w,u=u||w!==b}return u?c:t}},e.compose=b,e.createStore=function t(o,f,s){var p;if('function'==typeof f&&'function'==typeof s||'function'==typeof s&&'function'==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if('function'==typeof f&&void 0===s&&(s=f,f=void 0),void 0!==s){if('function'!=typeof s)throw new Error('Expected the enhancer to be a function.');return s(t)(o,f)}if('function'!=typeof o)throw new Error('Expected the reducer to be a function.');var l=o,h=f,y=[],b=y,w=!1;function v(){b===y&&(b=y.slice())}function O(){if(w)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return h}function E(t){if('function'!=typeof t)throw new Error('Expected the listener to be a function.');if(w)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");var n=!0;return v(),b.push(t),function(){if(n){if(w)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");n=!1,v();var o=b.indexOf(t);b.splice(o,1)}}}function j(t){if(!c(t))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===t.type)throw new Error("Actions may not have an undefined \"type\" property. Have you misspelled a constant?");if(w)throw new Error('Reducers may not dispatch actions.');try{w=!0,h=l(h,t)}finally{w=!1}for(var n=y=b,o=0;o<n.length;o++)(0,n[o])();return t}return j({type:u.INIT}),(p={dispatch:j,subscribe:E,getState:O,replaceReducer:function(t){if('function'!=typeof t)throw new Error('Expected the nextReducer to be a function.');l=t,j({type:u.REPLACE})}})[n]=function(){var t,o=E;return(t={subscribe:function(t){if('object'!=typeof t||null===t)throw new TypeError('Expected the observer to be an object.');function n(){t.next&&t.next(O())}return n(),{unsubscribe:o(n)}}})[n]=function(){return this},t},p}},456,[457]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0});var t,n,u=r(d[0]),f=(t=u)&&t.__esModule?t:{default:t};n='undefined'!=typeof self?self:'undefined'!=typeof window?window:void 0!==g?g:void 0!==m?m:Function('return this')();var o=(0,f.default)(n);e.default=o},457,[458]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(b){var o,t=b.Symbol;'function'==typeof t?t.observable?o=t.observable:(o=t('observable'),t.observable=o):o='@@observable';return o}},458,[]);
__d(function(g,r,i,a,m,e,d){"use strict";var n=r(d[0]);e.__esModule=!0,e.wrapMapToPropsConstant=function(n){return function(o,p){var s=n(o,p);function t(){return s}return t.dependsOnOwnProps=!1,t}},e.getDependsOnOwnProps=o,e.wrapMapToPropsFunc=function(n,p){return function(p,s){s.displayName;var t=function(n,o){return t.dependsOnOwnProps?t.mapToProps(n,o):t.mapToProps(n)};return t.dependsOnOwnProps=!0,t.mapToProps=function(p,s){t.mapToProps=n,t.dependsOnOwnProps=o(n);var u=t(p,s);return'function'==typeof u&&(t.mapToProps=u,t.dependsOnOwnProps=o(u),u=t(p,s)),u},t}};n(r(d[1]));function o(n){return null!==n.dependsOnOwnProps&&void 0!==n.dependsOnOwnProps?Boolean(n.dependsOnOwnProps):1!==n.length}},459,[1,460]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]);e.__esModule=!0,e.default=function(t,c,f){(0,u.default)(t)||(0,n.default)(f+"() in "+c+" must return a plain object. Instead received "+t+".")};var u=t(r(d[1])),n=t(r(d[2]))},460,[1,461,462]);
__d(function(g,r,i,a,m,e,d){"use strict";e.__esModule=!0,e.default=function(t){if('object'!=typeof t||null===t)return!1;var o=Object.getPrototypeOf(t);if(null===o)return!0;var u=o;for(;null!==Object.getPrototypeOf(u);)u=Object.getPrototypeOf(u);return o===u}},461,[]);
__d(function(g,r,i,a,m,e,d){"use strict";e.__esModule=!0,e.default=function(o){'undefined'!=typeof console&&'function'==typeof console.error&&console.error(o);try{throw new Error(o)}catch(o){}}},462,[]);
__d(function(g,r,i,a,m,e,d){"use strict";e.__esModule=!0,e.whenMapStateToPropsIsFunction=t,e.whenMapStateToPropsIsMissing=n,e.default=void 0;var o=r(d[0]);function t(t){return'function'==typeof t?(0,o.wrapMapToPropsFunc)(t,'mapStateToProps'):void 0}function n(t){return t?void 0:(0,o.wrapMapToPropsConstant)(function(){return{}})}var u=[t,n];e.default=u},463,[459]);
__d(function(g,r,i,a,m,e,d){"use strict";var n=r(d[0]);e.__esModule=!0,e.defaultMergeProps=u,e.wrapMergePropsFunc=o,e.whenMergePropsIsFunction=f,e.whenMergePropsIsOmitted=c,e.default=void 0;var t=n(r(d[1]));n(r(d[2]));function u(n,u,o){return(0,t.default)({},o,n,u)}function o(n){return function(t,u){u.displayName;var o,f=u.pure,c=u.areMergedPropsEqual,s=!1;return function(t,u,p){var v=n(t,u,p);return s?f&&c(v,o)||(o=v):(s=!0,o=v),o}}}function f(n){return'function'==typeof n?o(n):void 0}function c(n){return n?void 0:function(){return u}}var s=[f,c];e.default=s},464,[1,15,460]);
__d(function(g,r,i,a,m,e,d){"use strict";var n=r(d[0]);e.__esModule=!0,e.impureFinalPropsSelectorFactory=o,e.pureFinalPropsSelectorFactory=p,e.default=function(n,u){var s=u.initMapStateToProps,c=u.initMapDispatchToProps,P=u.initMergeProps,l=(0,t.default)(u,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),f=s(n,l),M=c(n,l),O=P(n,l);return(l.pure?p:o)(f,M,O,n,l)};var t=n(r(d[1]));n(r(d[2]));function o(n,t,o,p){return function(u,s){return o(n(u,s),t(p,s),s)}}function p(n,t,o,p,u){var s,c,P,l,f,M=u.areStatesEqual,O=u.areOwnPropsEqual,S=u.areStatePropsEqual,v=!1;function w(u,v){var w,F,T=!O(v,c),_=!M(u,s);return s=u,c=v,T&&_?(P=n(s,c),t.dependsOnOwnProps&&(l=t(p,c)),f=o(P,l,c)):T?(n.dependsOnOwnProps&&(P=n(s,c)),t.dependsOnOwnProps&&(l=t(p,c)),f=o(P,l,c)):_?(w=n(s,c),F=!S(w,P),P=w,F&&(f=o(P,l,c)),f):f}return function(u,M){return v?w(u,M):(P=n(s=u,c=M),l=t(p,c),f=o(P,l,c),v=!0,f)}}},465,[1,58,466]);
__d(function(g,r,i,a,m,e,d){"use strict";var o=r(d[0]);e.__esModule=!0,e.default=function(o,p,n,s){t(o,'mapStateToProps',s),t(p,'mapDispatchToProps',s),t(n,'mergeProps',s)};var p=o(r(d[1]));function t(o,t,n){if(!o)throw new Error("Unexpected value for "+t+" in "+n+".");'mapStateToProps'!==t&&'mapDispatchToProps'!==t||o.hasOwnProperty('dependsOnOwnProps')||(0,p.default)("The selector for "+t+" of "+n+" did not specify a value for dependsOnOwnProps.")}},466,[1,462]);
__d(function(g,r,i,a,m,e,d){"use strict";e.__esModule=!0,e.useDispatch=function(){return(0,t.useStore)().dispatch};var t=r(d[0])},467,[468]);
__d(function(g,r,i,a,m,e,d){"use strict";e.__esModule=!0,e.useStore=function(){return(0,t.useReduxContext)().store};var t=r(d[0])},468,[469]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]);e.__esModule=!0,e.useReduxContext=function(){var t=(0,n.useContext)(o.ReactReduxContext);return(0,u.default)(t,'could not find react-redux context value; please ensure the component is wrapped in a <Provider>'),t};var n=r(d[1]),u=t(r(d[2])),o=r(d[3])},469,[1,12,17,446]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]);e.__esModule=!0,e.useSelector=function(t,l){void 0===l&&(l=f);(0,u.default)(t,"You must pass a selector to useSelectors");var h,v=(0,c.useReduxContext)(),w=v.store,y=v.subscription,b=(0,n.useReducer)(function(t){return t+1},0)[1],S=(0,n.useMemo)(function(){return new o.default(w,y)},[w,y]),R=(0,n.useRef)(),p=(0,n.useRef)(),_=(0,n.useRef)();try{h=t!==p.current||R.current?t(w.getState()):_.current}catch(t){var E="An error occured while selecting the store state: "+t.message+".";throw R.current&&(E+="\nThe error may be correlated with this previous error:\n"+R.current.stack+"\n\nOriginal stack trace:"),new Error(E)}return s(function(){p.current=t,_.current=h,R.current=void 0}),s(function(){function t(){try{var t=p.current(w.getState());if(l(t,_.current))return;_.current=t}catch(t){R.current=t}b({})}return S.onStateChange=t,S.trySubscribe(),t(),function(){return S.tryUnsubscribe()}},[w,S]),h};var n=r(d[1]),u=t(r(d[2])),c=r(d[3]),o=t(r(d[4])),s='undefined'!=typeof window?n.useLayoutEffect:n.useEffect,f=function(t,n){return t===n}},470,[1,12,17,469,447]);
__d(function(g,r,i,a,m,e,d){"use strict";e.__esModule=!0;var t=r(d[0]);e.unstable_batchedUpdates=t.unstable_batchedUpdates},471,[16]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),l=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=l(r(d[2])),o=l(r(d[3])),u=l(r(d[4])),s=l(r(d[5])),c=l(r(d[6])),f=t(r(d[7])),p=r(d[8]),h=l(r(d[9])),y=l(r(d[10])),_=l(r(d[11])),b=l(r(d[12])),w=l(r(d[13])),E=(function(t){function l(t){var o;return(0,n.default)(this,l),(o=(0,u.default)(this,(0,s.default)(l).call(this,t))).style={lt_control_container:{display:'flex',width:'100%',flexDirection:'row',justifyContent:'center',alignItems:'center',flexWrap:'wrap',position:'absolute',bottom:7,zIndex:5},container_background:{display:'flex',width:'100%',height:90,flexDirection:'row',justifyContent:'center',alignItems:'center',flexWrap:'wrap',position:'absolute',bottom:0,zIndex:2,opacity:.5,borderTopLeftRadius:20,borderTopRightRadius:20,backgroundColor:'#2e2f30'},container:{}},o}return(0,c.default)(l,t),(0,o.default)(l,[{key:"render",value:function(){var t=this.props.hideAudioModeButton||!1,l=this.props.hideAudioMuteButton||!1,n=this.props.hidePauseVideoButton||!1,o=this.props.hideEndCallButton||!1,u=this.props.hideVideoSwitchButton||!1;return f.default.createElement(p.View,{style:this.style.container},f.default.createElement(p.View,{style:this.style.container_background}),f.default.createElement(p.View,{id:"lt_control_container",style:this.style.lt_control_container},l?null:f.default.createElement(h.default,null),n?null:f.default.createElement(_.default,null),o?null:f.default.createElement(w.default,null),u?null:f.default.createElement(b.default,null),t?null:f.default.createElement(y.default,null)))}}]),l})(f.Component);e.default=E},472,[23,1,4,5,6,9,10,12,16,473,476,481,484,486]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),u=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=u(r(d[2])),n=u(r(d[3])),l=u(r(d[4])),s=u(r(d[5])),c=u(r(d[6])),f=u(r(d[7])),h=t(r(d[8])),p=r(d[9]),A=(u(r(d[10])),r(d[11]),u(r(d[12])),u(r(d[13]))),M=(function(t){function u(t){var n;return(0,o.default)(this,u),(n=(0,l.default)(this,(0,s.default)(u).call(this,t))).style={lt_control_icon:{width:25,height:25},lt_control_view:{width:60,height:60,margin:5,backgroundColor:'#4d4c4f',borderRadius:50,alignItems:'center',justifyContent:'center'}},n.onMuteAudio=n.onMuteAudio.bind((0,c.default)(n)),n.onUnMuteAudio=n.onUnMuteAudio.bind((0,c.default)(n)),n}return(0,f.default)(u,t),(0,n.default)(u,[{key:"onMuteAudio",value:function(){this.props.changeAudioState(!0),this.props.onMuteAudio()}},{key:"onUnMuteAudio",value:function(){this.props.changeAudioState(!1),this.props.onUnMuteAudio()}},{key:"renderAudioMuteIcon",value:function(){var t=this;return h.default.createElement(p.TouchableOpacity,{onPress:function(){return t.props.onAudioMute()}},h.default.createElement(p.Image,{style:this.style.lt_control_icon,source:r(d[14])}))}},{key:"renderAudioUnMuteIcon",value:function(){var t=this;return h.default.createElement(p.TouchableOpacity,{onPress:function(){return t.props.onAudioMute()}},h.default.createElement(p.Image,{style:this.style.lt_control_icon,source:r(d[15])}))}},{key:"render",value:function(){return A.default.log("AudioButton","isAudioMuted ? ",this.props.audioMute),h.default.createElement(p.View,{style:this.style.lt_control_view},this.props.audioMute?this.renderAudioMuteIcon():this.renderAudioUnMuteIcon())}}]),u})(h.Component);e.default=M},473,[23,1,4,5,6,9,8,10,12,16,382,443,439,441,474,475]);
__d(function(g,r,i,a,m,e,d){m.exports=r(d[0]).registerAsset({__packager_asset:!0,httpServerLocation:"/assets/node_modules/react-native-cometchat-calling-component/icons",width:96,height:96,scales:[1],hash:"0c17a96c26b5f044c4c4543d023ca30b",name:"icon_audio_mute",type:"png"})},474,[174]);
__d(function(g,r,i,a,m,e,d){m.exports=r(d[0]).registerAsset({__packager_asset:!0,httpServerLocation:"/assets/node_modules/react-native-cometchat-calling-component/icons",width:96,height:96,scales:[1],hash:"3228065cbea444efe00a92981e420166",name:"icon_audio_unmute",type:"png"})},475,[174]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),o=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(r(d[2])),l=o(r(d[3])),u=o(r(d[4])),c=o(r(d[5])),s=o(r(d[6])),E=t(r(d[7])),f=r(d[8]),h=o(r(d[9])),v=o(r(d[10])),A=new f.NativeEventEmitter(h.default),p={HEADPHONES:"HEADPHONES",SPEAKER:"SPEAKER",EARPIECE:"EARPIECE",BLUETOOTH:"BLUETOOTH"},y=(function(t){function o(t){var l;return(0,n.default)(this,o),(l=(0,u.default)(this,(0,c.default)(o).call(this,t))).state={selectedDevice:null,availableDevices:{}},l.getDeviceByPriority=function(){return l.state.availableDevices[p.HEADPHONES]?p.HEADPHONES:l.state.availableDevices[p.BLUETOOTH]?p.BLUETOOTH:l.state.availableDevices[p.EARPIECE]?p.EARPIECE:l.state.availableDevices[p.SPEAKER]},l.routeAudioToSpeaker=function(){h.default.setAudioDevice(p.SPEAKER)},l.routeAudioToDefaultMode=function(){h.default.setAudioDevice(l.getDeviceByPriority())},l.renderIcon=function(){switch(l.state.selectedDevice){case p.SPEAKER:return l.renderSpeakerIcon();case p.BLUETOOTH:return l.renderBluetoothIcon();case p.HEADPHONES:return l.renderHeadphoneIcon();case p.EARPIECE:return l.renderEarPieceIcon();default:return l.renderSpeakerIcon()}},l.style={lt_control_icon:{width:25,height:25},lt_control_view:{width:60,height:60,margin:5,backgroundColor:'#4d4c4f',borderRadius:50,alignItems:'center',justifyContent:'center'}},h.default.setMode(h.default.VIDEO_CALL),l}return(0,s.default)(o,t),(0,l.default)(o,[{key:"componentDidMount",value:function(){var t=this;A.addListener(h.default.DEVICE_CHANGE_EVENT,function(o){var n,l={};o.forEach(function(t){l[t.type]=t,t.selected&&(n=t.type)}),n&&t.setState({selectedDevice:n,availableDevices:l}),v.default.log("AudioModeButton","Available Devices : ",l)})}},{key:"renderSpeakerIcon",value:function(){return this.props.onAudioModeChanged('speaker'),E.default.createElement(f.TouchableOpacity,{onPress:this.routeAudioToDefaultMode},E.default.createElement(f.Image,{style:this.style.lt_control_icon,source:r(d[11])}))}},{key:"renderEarPieceIcon",value:function(){return this.props.onAudioModeChanged('ear piece'),E.default.createElement(f.TouchableOpacity,{onPress:this.routeAudioToSpeaker},E.default.createElement(f.Image,{style:this.style.lt_control_icon,source:r(d[12])}))}},{key:"renderHeadphoneIcon",value:function(){return this.props.onAudioModeChanged('head phone'),E.default.createElement(f.TouchableOpacity,{onPress:this.routeAudioToSpeaker},E.default.createElement(f.Image,{style:this.style.lt_control_icon,source:r(d[13])}))}},{key:"renderBluetoothIcon",value:function(){return this.props.onAudioModeChanged('bluetooth'),E.default.createElement(f.TouchableOpacity,{onPress:this.routeAudioToSpeaker},E.default.createElement(f.Image,{style:this.style.lt_control_icon,source:r(d[14])}))}},{key:"render",value:function(){return this.props.renderAuidoButton?E.default.createElement(f.View,{style:this.style.lt_control_view},this.renderIcon()):null}}]),o})(E.Component);e.default=y},476,[23,1,4,5,6,9,10,12,16,440,441,477,478,479,480]);
__d(function(g,r,i,a,m,e,d){m.exports=r(d[0]).registerAsset({__packager_asset:!0,httpServerLocation:"/assets/node_modules/react-native-cometchat-calling-component/icons",width:96,height:96,scales:[1],hash:"2409c6d8759a542df25e45dd25675c93",name:"speaker_phone",type:"png"})},477,[174]);
__d(function(g,r,i,a,m,e,d){m.exports=r(d[0]).registerAsset({__packager_asset:!0,httpServerLocation:"/assets/node_modules/react-native-cometchat-calling-component/icons",width:36,height:36,scales:[1],hash:"c9b5eb240395be22eb6df87b86420114",name:"icon_earpiece",type:"png"})},478,[174]);
__d(function(g,r,i,a,m,e,d){m.exports=r(d[0]).registerAsset({__packager_asset:!0,httpServerLocation:"/assets/node_modules/react-native-cometchat-calling-component/icons",width:96,height:96,scales:[1],hash:"7a99d370971bd9fe894e451a6ffefcd6",name:"headphones_pluged",type:"png"})},479,[174]);
__d(function(g,r,i,a,m,e,d){m.exports=r(d[0]).registerAsset({__packager_asset:!0,httpServerLocation:"/assets/node_modules/react-native-cometchat-calling-component/icons",width:96,height:96,scales:[1],hash:"b1506307f359ee88ef37050fefcfd457",name:"icon_bluetooth",type:"png"})},480,[174]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(r(d[2])),u=n(r(d[3])),l=n(r(d[4])),c=n(r(d[5])),s=n(r(d[6])),f=n(r(d[7])),h=t(r(d[8])),p=r(d[9]),V=(n(r(d[10])),r(d[11]),n(r(d[12])),(function(t){function n(t){var u;return(0,o.default)(this,n),(u=(0,l.default)(this,(0,c.default)(n).call(this,t))).style={lt_control_icon:{width:25,height:25},lt_control_view:{width:60,height:60,margin:5,backgroundColor:'#4d4c4f',borderRadius:50,alignItems:'center',justifyContent:'center'}},u.onMuteVideo=u.onMuteVideo.bind((0,s.default)(u)),u.onUnMuteVideo=u.onUnMuteVideo.bind((0,s.default)(u)),u}return(0,f.default)(n,t),(0,u.default)(n,[{key:"onMuteVideo",value:function(){this.props.changeVideoState(!0),this.props.onMuteVideo()}},{key:"onUnMuteVideo",value:function(){this.props.changeVideoState(!1),this.props.onUnMuteVideo()}},{key:"renderVideoMuteIcon",value:function(){var t=this;return h.default.createElement(p.TouchableOpacity,{onPress:function(){return t.props.onVideoMute()}},h.default.createElement(p.Image,{style:this.style.lt_control_icon,source:r(d[13])}))}},{key:"renderVideoUnMuteIcon",value:function(){var t=this;return h.default.createElement(p.TouchableOpacity,{onPress:function(){return t.props.onVideoMute()}},h.default.createElement(p.Image,{style:this.style.lt_control_icon,source:r(d[14])}))}},{key:"render",value:function(){return h.default.createElement(p.View,{style:this.style.lt_control_view},this.props.videoMute?this.renderVideoMuteIcon():this.renderVideoUnMuteIcon())}}]),n})(h.Component));e.default=V},481,[23,1,4,5,6,9,8,10,12,16,382,443,439,482,483]);
__d(function(g,r,i,a,m,e,d){m.exports=r(d[0]).registerAsset({__packager_asset:!0,httpServerLocation:"/assets/node_modules/react-native-cometchat-calling-component/icons",width:68,height:56,scales:[1],hash:"f4109d64978cda7c9d59178af4566ed3",name:"icon_video_mute",type:"png"})},482,[174]);
__d(function(g,r,i,a,m,e,d){m.exports=r(d[0]).registerAsset({__packager_asset:!0,httpServerLocation:"/assets/node_modules/react-native-cometchat-calling-component/icons",width:68,height:56,scales:[1],hash:"e45654cbff189a1f023e7d98b42b6ed1",name:"icon_video_unmute",type:"png"})},483,[174]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l=n(r(d[2])),o=n(r(d[3])),c=n(r(d[4])),u=n(r(d[5])),s=n(r(d[6])),f=t(r(d[7])),h=r(d[8]),y=(n(r(d[9])),r(d[10]),n(r(d[11]))),_=(function(t){function n(t){var o;return(0,l.default)(this,n),(o=(0,c.default)(this,(0,u.default)(n).call(this,t))).style={lt_control_icon:{width:25,height:25},lt_control_view:{width:60,height:60,margin:5,backgroundColor:'#4d4c4f',borderRadius:50,alignItems:'center',justifyContent:'center'}},o}return(0,s.default)(n,t),(0,o.default)(n,[{key:"onSwitchCamera",value:function(){y.default.log("Switch Camera called"),this.props.onSwitchCamera()}},{key:"renderSwitchCameraIcon",value:function(){var t=this;return f.default.createElement(h.TouchableOpacity,{onPress:function(){return t.onSwitchCamera()}},f.default.createElement(h.Image,{style:this.style.lt_control_icon,source:r(d[12])}))}},{key:"render",value:function(){var t=this;return f.default.createElement(h.TouchableOpacity,{onPress:function(){return t.onSwitchCamera()}},f.default.createElement(h.View,{style:this.style.lt_control_view},f.default.createElement(h.Image,{style:this.style.lt_control_icon,source:r(d[12])})))}}]),n})(f.Component);e.default=_},484,[23,1,4,5,6,9,10,12,16,382,443,441,485]);
__d(function(g,r,i,a,m,e,d){m.exports=r(d[0]).registerAsset({__packager_asset:!0,httpServerLocation:"/assets/node_modules/react-native-cometchat-calling-component/icons",width:68,height:56,scales:[1],hash:"4c12203786a60ce8f462d9f33a390b44",name:"icon_switch_camera",type:"png"})},485,[174]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l=n(r(d[2])),o=n(r(d[3])),u=n(r(d[4])),c=n(r(d[5])),s=n(r(d[6])),f=n(r(d[7])),h=t(r(d[8])),v=r(d[9]),E=(n(r(d[10])),r(d[11]),n(r(d[12]))),y=(n(r(d[13])),(function(t){function n(){var t;return(0,l.default)(this,n),(t=(0,u.default)(this,(0,c.default)(n).call(this))).style={lt_control_icon:{width:25,height:25},lt_control_view:{width:60,height:60,margin:5,backgroundColor:'#EB4E3D',borderRadius:50,alignItems:'center',justifyContent:'center'}},t.eventEmitter=new v.NativeEventEmitter(E.default),t.handleEmit=t.handleEmit.bind((0,s.default)(t)),t}return(0,f.default)(n,t),(0,o.default)(n,[{key:"onHangUp",value:function(){this.props.onHangUp(),this.handleEmit()}},{key:"handleEmit",value:function(){console.log("CallEvent Emitted"),this.eventEmitter.emit('CallEvent',{type:'EndCallButtonPressed'})}},{key:"renderHangUpIcon",value:function(){var t=this;return h.default.createElement(v.TouchableOpacity,{onPress:function(){return t.onHangUp()}},h.default.createElement(v.Image,{style:this.style.lt_control_icon,source:r(d[14])}))}},{key:"render",value:function(){return h.default.createElement(v.View,{style:this.style.lt_control_view},this.renderHangUpIcon())}}]),n})(h.Component));e.default=y},486,[23,1,4,5,6,9,8,10,12,16,382,443,440,441,487]);
__d(function(g,r,i,a,m,e,d){m.exports=r(d[0]).registerAsset({__packager_asset:!0,httpServerLocation:"/assets/node_modules/react-native-cometchat-calling-component/icons",width:96,height:96,scales:[1],hash:"043a6f4b9d2cc23a5d32c1b1b76cd3da",name:"icon_hangup",type:"png"})},487,[174]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(r(d[2])),u=n(r(d[3])),l=n(r(d[4])),f=n(r(d[5])),c=n(r(d[6])),s=t(r(d[7])),p=r(d[8]),v=n(r(d[9])),h=(function(t){function n(t){var u;return(0,o.default)(this,n),(u=(0,l.default)(this,(0,f.default)(n).call(this,t))).videoRef=s.default.createRef(),u}return(0,c.default)(n,t),(0,u.default)(n,[{key:"componentDidUpdate",value:function(t){}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return v.default.log("MainVideoComponent.js","Orignal Stream : ",this.props.streamManager.getOriginalStream().toURL()),s.default.createElement(p.RTCView,{objectFit:'cover',streamURL:this.props.streamManager.getOriginalStream().toURL(),style:{height:100,width:100},zOrder:1})}}]),n})(s.Component);e.default=h},488,[23,1,4,5,6,9,10,12,397,441]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l,o=n(r(d[2])),u=n(r(d[3])),s=n(r(d[4])),c=n(r(d[5])),f=n(r(d[6])),p=n(r(d[7])),h=t(r(d[8])),y=r(d[9]),w=(r(d[10]),r(d[11])),b=r(d[12]),v=n(r(d[13])),k=(n(r(d[14])),n(r(d[15]))),x='ThumbnailView',T=(function(t){function n(t){var u;return(0,o.default)(this,n),(u=(0,s.default)(this,(0,c.default)(n).call(this,t))).onUserClicked=function(t){t.id===l?(u.props.unPinUser(),u.setState({pinnedUserId:null})):(u.setState({pinnedUserId:t.id}),u.props.pinUser(t))},u.style={lt_container:{display:'flex',flexDirection:'column',alignItems:'flex-end',bottom:0},container:'ios'===b.Platform.OS?{display:'flex',flex:1,zIndex:1,alignSelf:'flex-end'}:{flex:1,zIndex:5,marginBottom:90},name:{color:"#fff",alignSelf:'center',justifyContent:'center'},container_background:{alignItems:'center',flexWrap:'wrap',opacity:.4,padding:5,borderTopLeftRadius:5,borderTopRightRadius:5,flexDirection:'row',backgroundColor:'#000'}},v.default.log(x,"ThumbnailView constructor called : ",l),u.onUserClicked=u.onUserClicked.bind((0,f.default)(u)),u.state={pinnedUserId:null},u}return(0,p.default)(n,t),(0,u.default)(n,[{key:"shouldComponentUpdate",value:function(t,n){return l=t.pinnedUserId,!0}},{key:"renderAvatarView",value:function(t){return v.default.log(x,"Avatar = ",t.avatar),h.default.createElement(y.View,{style:{height:100,width:100,alignItems:'center',justifyContent:'center'}},t.avatar?h.default.createElement(y.Image,{style:{width:60,height:60},source:{uri:t.avatar}}):h.default.createElement(k.default,{backgroundColor:"#4d4c4f",textColor:"#FFF",size:50,type:"circle"},t.name))}},{key:"renderThumbVideo",value:function(t){return v.default.log(x,"Render renderThumbVideo called : ",""),t.isVideoMuted||"active"!==t.status?this.renderAvatarView(t):h.default.createElement(w.RTCView,{key:'Thumb'+t.id,objectFit:"cover",streamURL:t.videoTrack.getOriginalStream().toURL(),zOrder:1,style:{height:100,width:100}})}},{key:"render",value:function(){var t=this;return v.default.log(x,"New Users = ",this.props.users),h.default.createElement(y.ScrollView,{contentContainerStyle:{flexGrow:1}},this.props.users.map(function(n,l){return h.default.createElement(y.View,{key:l,style:{height:100,width:100,margin:5,marginStart:5,marginBottom:30}},h.default.createElement(y.TouchableOpacity,{onPress:function(){t.onUserClicked(n)}},h.default.createElement(y.View,{style:t.getPinnedItemStyle(n)},h.default.createElement(y.Text,{numberOfLines:1,ellipsizeMode:"tail",style:t.style.name},n.name),n.isAudioMuted?h.default.createElement(y.View,{style:{height:10,width:10,margin:5}},h.default.createElement(y.Image,{style:{height:15,width:15},source:r(d[16])})):null),h.default.createElement(y.View,{style:{backgroundColor:'#000'}},n.videoTrack?t.renderThumbVideo(n):t.renderAvatarView(n))))}))}},{key:"getPinnedItemStyle",value:function(t){return t.id==this.state.pinnedUserId?{alignItems:'center',flexWrap:'wrap',padding:5,borderTopLeftRadius:5,borderTopRightRadius:5,flexDirection:'row',backgroundColor:'#000'}:{alignItems:'center',flexWrap:'wrap',opacity:.4,padding:5,borderTopLeftRadius:5,borderTopRightRadius:5,flexDirection:'row',backgroundColor:'#000'}}}]),n})(h.Component);e.default=T},489,[23,1,4,5,6,9,8,10,12,16,443,397,387,441,382,490,474]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),o=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l=o(r(d[2])),n=o(r(d[3])),s=o(r(d[4])),f=o(r(d[5])),u=o(r(d[6])),h=t(r(d[7])),b=r(d[8]);var c=(function(t){function o(t){return(0,l.default)(this,o),(0,s.default)(this,(0,f.default)(o).call(this,t))}return(0,u.default)(o,t),(0,n.default)(o,[{key:"render",value:function(){var t=this.props,o=t.children,l=t.size,n=void 0===l?60:l,s=t.backgroundColor,f=void 0===s?'#333':s,u=t.textColor,c=void 0===u?'#fff':u,p=t.type,y=t.style;if('string'!=typeof o)throw new Error('Children must be only a string \n Ex: Technology');var C=o.charAt(0).toUpperCase();if('number'!=typeof n)throw new Error('Size must be an integer');var v={width:n,height:n,backgroundColor:f,alignItems:'center',justifyContent:'center'},w={color:c,fontSize:n/3.14,fontWeight:'bold',letterSpacing:1},E={height:n/2},T={position:'absolute',bottom:-n/3,left:0,width:0,height:0,borderStyle:'solid',borderLeftWidth:n/2,borderLeftColor:'transparent',borderRightWidth:n/2,borderRightColor:'transparent',borderTopWidth:n/3,borderTopColor:f},S={position:'absolute',top:-n/3,left:0,width:0,height:0,borderStyle:'solid',borderLeftWidth:n/2,borderLeftColor:'transparent',borderRightWidth:n/2,borderRightColor:'transparent',borderBottomWidth:n/3,borderBottomColor:f};return'circle'==p?(v.borderRadius=n/2,h.default.createElement(b.View,{style:[y,v]},h.default.createElement(b.Text,{style:w,adjustsFontSizeToFit:!0},C))):'hexagon'==p?h.default.createElement(b.View,{style:[y,v,E]},h.default.createElement(b.View,{style:S}),h.default.createElement(b.View,{style:T}),h.default.createElement(b.Text,{style:w},C)):h.default.createElement(b.View,{style:[y,v]},h.default.createElement(b.Text,{style:w,adjustsFontSizeToFit:!0},C))}}]),o})(h.Component);e.default=c},490,[23,1,4,5,6,9,10,12,16]);
__d(function(g,r,i,a,m,e,d){m.exports=r(d[0]).registerAsset({__packager_asset:!0,httpServerLocation:"/assets/node_modules/react-native-cometchat-calling-component/icons",width:512,height:512,scales:[1],hash:"2e57e9292605ffc75affb012b5cf8688",name:"icon_audio_call_back",type:"png"})},491,[174]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(r(d[2])),s=n(r(d[3])),u=n(r(d[4])),l=n(r(d[5])),c=n(r(d[6])),f=n(r(d[7])),h=n(r(d[8])),p=n(r(d[9])),v=n(r(d[10])),y=t(r(d[11])),S=r(d[12]),k=n(r(d[13])),T=n(r(d[14])),C=r(d[15]),M=(n(r(d[16])),r(d[17])),E=n(r(d[18])),w=n(r(d[19])),b=n(r(d[20])),V=n(r(d[21])),A=n(r(d[22])),L=n(r(d[23])),U=n(r(d[24])),I=n(r(d[25])),P=n(r(d[26])),_=n(r(d[27]));function O(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);n&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,s)}return o}function D(t){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?O(Object(o),!0).forEach(function(n){(0,s.default)(t,n,o[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):O(Object(o)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(o,n))})}return t}var x="Conference",N=null,R=null,B=!1,j=-1,F="SCREEN_SHARING_STARTED",z="SCREEN_SHARING_STOPPED",H="avatar-url",W={disableAudioLevels:!1,desktopSharingChromeExtId:"mbocklcggfhnbahlnepmldehdhpjfcjp",desktopSharingChromeDisabled:!1,desktopSharingChromeSources:["screen","window"],desktopSharingChromeMinExtVersion:"0.1",desktopSharingFirefoxDisabled:!1,enableTalkWhileMuted:!0,enableNoisyMicDetection:!0,enableLayerSuspension:!0,channelLastN:j},G={openBridgeChannel:!0,enableNoisyMicDetection:!0,channelLastN:j,enableLayerSuspension:!0,enableTalkWhileMuted:!0},J=new S.NativeEventEmitter(P.default),K="CallingComponent",Q=(function(t){function n(t){var s;(0,l.default)(this,n),(s=(0,f.default)(this,(0,h.default)(n).call(this,t))).dominantSpeakers=[],s._handleAppStateChange=function(t){s.state.appState.match(/inactive|background/)&&'active'===t&&(k.default.log(K,"My video muted ? ",s.state.isMyVideoMuted),k.default.log(K,"My Audio muted ? ",s.state.isMyAudioMuted),s.stopScreenShare()),s.setState({appState:t})},s.unload=function(t){k.default.log(K,"Unload Called ... ");var n=(0,p.default)(s).localUser;n.audioTrack&&n.audioTrack.dispose(),n.videoTrack&&n.videoTrack.dispose(),R&&R.leave(),N.disconnect()},s.setModeProps=function(t){k.default.log(K,"Mode = ",t),'SINGLE'==t?(j=1,s.setState({isSingleMode:!0,hidePeopleLable:!0,showLocalStream:!0})):'SPOTLIGHT'==t?(j=-1,s.setState({isSingleMode:!1,hidePeopleLable:!1,showLocalStream:!0})):(j=4,s.setState({isSingleMode:!1,hidePeopleLable:!0,hideUserThumbList:!1,showLocalStream:!1})),s.props.isAudioOnly||s.setState({hideAudioModeButton:!0})},s.init=function(t){x=t,T.default.init(W),T.default.setLogLevel(T.default.logLevels.ERROR),s.makeConnection()},s.onConnectionSuccess=function(){R=N.initJitsiConference(x,G),window.room=R,k.default.log(K,"onConnectionSuccess Called......",R);var t=R.myUserId()||"",n=(0,u.default)(s.state.users),o=n[0];n[0]=D({},o,{id:t}),s.setState({users:n,dominantSpeakerId:R.lastDominantSpeaker||t}),R.on(T.default.events.conference.TRACK_ADDED,s.onRemoteTrack),R.on(T.default.events.conference.TRACK_REMOVED,s.onRemoteTrackRemoved),R.on(T.default.events.conference.CONFERENCE_JOINED,s.onConferenceJoined),R.on(T.default.events.conference.USER_JOINED,s.onUserJoined),R.on(T.default.events.conference.USER_LEFT,s.onUserLeft),R.on(T.default.events.conference.TRACK_MUTE_CHANGED,s.onTrackMuted),R.on(T.default.events.conference.DOMINANT_SPEAKER_CHANGED,s.onDominantSpeakerChanged),R.on(T.default.events.conference.LAST_N_ENDPOINTS_CHANGED,s.onLastNEndPointsChanged),R.on(T.default.events.connectionQuality.REMOTE_STATS_UPDATED,s.onRemoteStatsUpdated),R.on(T.default.events.connectionQuality.LOCAL_STATS_UPDATED,s.onLocalStatsUpdated),R.on(T.default.events.conference.PARTICIPANT_CONN_STATUS_CHANGED,function(t,n){var o=s.state.users.map(function(o){return o.id===t?D({},o,{status:n}):o});s.setState({users:o})}),R.addCommandListener(F,function(t){var n=t.value;s.setState({pinnedUserId:n}),R&&R.pinParticipant(n)}),R.addCommandListener(z,function(t){t.value===s.state.pinnedUserId&&(R.pinParticipant(null),s.setState({pinnedUserId:null}))}),R.setDisplayName(s.props.RTCUser.name),k.default.log(K,"User Avatar = ",s.props.RTCUser.avatar),R.sendCommand(H,{value:s.props.RTCUser.avatar}),R.addCommandListener(H,function(t,n){var o=s.state.users.map(function(o){return o.id===n?D({},o,{avatar:t.value}):o});s.setState({users:o})}),R.setReceiverVideoConstraint(180),R.join()},s.onLastNEndPointsChanged=function(t,n){k.default.log(K,"Leaving IDS ...  ",t),k.default.log(K,"Entering IDS ...  ",n)},s.onDominantSpeakerChanged=function(t){k.default.log(K,"onDominantSpeakerChanged id ...  ",t),k.default.log(K,"Participants who pinned me...  ",s.participantsWhoPinnedMe),t&&s.state.users[0].id!==t&&(s.setState({dominantSpeakerId:t}),s.state.pinnedUserId||R.pinParticipant(t))},s.onUserJoined=function(t,n){k.default.log(K,"onUserJoined",n.getDisplayName());var o={id:n.getId(),name:n.getDisplayName(),avatar:null,status:n._connectionStatus,isAudioMuted:!1,isVideoMuted:!1,videoTrack:void 0,audioTrack:void 0};s.setState({users:[].concat((0,u.default)(s.state.users),[o])})},s.onUserLeft=function(t,n){var o=s.state.users.filter(function(t){return t.id!==n._id});s.setState({users:o})},s.onTrackMuted=function(t){var n=t.ownerEndpointId;t.isLocal()&&(n=s.state.users[0].id,"video"===t.getType()?s.setState({isMyVideoMuted:t.isMuted()}):s.setState({isMyAudioMuted:t.isMuted()}));var o=s.state.users.map(function(o){return o.id===n?"video"===t.getType()?D({},o,{videoTrack:t,isVideoMuted:t.isMuted()}):D({},o,{audioTrack:t,isAudioMuted:t.isMuted()}):o});s.setState({users:o})},s.onRemoteTrack=function(t){if(k.default.log(K,"onRemoteTrack ...... ",t),!t.isLocal()){var n=t.ownerEndpointId;(0,C.isScreenSharingTrack)(t)?s.setState({pinnedUserId:n}):R.lastDominantSpeaker===n&&s.setState({dominantSpeakerId:n});var o=s.state.users.map(function(o){return o.id===n?"video"===t.type?D({},o,{videoTrack:t,isVideoMuted:t.muted}):D({},o,{audioTrack:t,isAudioMuted:t.muted}):o});s.setState({users:o})}},s.onRemoteTrackRemoved=function(t){k.default.log(K,"onRemoteTrackRemoved ...... ",t);var n=s.state.users.map(function(n){return n.id===t.ownerEndpointId?"video"===t.type?D({},n,{videoTrack:void 0}):D({},n,{audioTrack:void 0}):n});s.setState({users:n})},s.onConferenceJoined=function(){var t,n;return o.default.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(B=!0,t=(0,p.default)(s),(n=t.localUser).audioTrack&&R.addTrack(n.audioTrack),!n.videoTrack){u.next=6;break}return u.next=6,o.default.awrap(R.addTrack(n.videoTrack));case 6:case"end":return u.stop()}})},s.createLocalTracks=function(){s.props.isAudioOnly?T.default.createLocalTracks({devices:["audio"]}).then(s.onLocalTracks):s.state.isSingleMode?T.default.createLocalTracks({devices:["audio","video"],facingMode:"user",resolution:720,constraints:{video:{height:{ideal:720,max:1080,min:180},maxFps:15}}}).then(s.onLocalTracks).catch(function(t){T.default.createLocalTracks({devices:["audio"],facingMode:"user"}).then(s.onLocalTracks)}):T.default.createLocalTracks({devices:["audio","video"],facingMode:"user",resolution:180,constraints:{video:{height:{ideal:180,max:180,min:180},maxFps:15}}}).then(s.onLocalTracks).catch(function(t){T.default.createLocalTracks({devices:["audio"],facingMode:"user"}).then(s.onLocalTracks)})},s.onLocalTracks=function(t,n){for(var o=0;o<t.length;o++){if("video"===t[o].getType()){var l=(0,u.default)(s.state.users),c=l[0];c.isVideoMuted&&n&&t[o].mute(),s.state.isMyVideoMuted&&t[o].mute(),l[0]=D({},c,{videoTrack:t[o]}),s.setState({users:l}),(0,C.isScreenSharingTrack)(t[o])&&(t[o].track.onended=function(){s.stopScreenShare()})}if("audio"===t[o].getType()){var f=(0,u.default)(s.state.users),h=f[0];h.isAudioMuted&&n&&t[o].mute(),s.state.isMyAudioMuted&&t[o].mute(),f[0]=D({},h,{audioTrack:t[o]}),s.setState({users:f})}B&&R.addTrack(t[o])}},s.toggleVideoButton=function(){var t=(0,p.default)(s).localUser;t.videoTrack&&(s.state.isMyVideoMuted?(t.videoTrack.unmute(),s.setState({isMyVideoMuted:!1})):(t.videoTrack.mute(),s.setState({isMyVideoMuted:!0})))},s.toggleAudioButton=function(){var t=(0,p.default)(s).localUser;k.default.log(K,"Audio Track value = ",t.audioTrack),t.audioTrack&&(s.state.isMyAudioMuted?(t.audioTrack.unmute(),s.setState({isMyAudioMuted:!1})):(t.audioTrack.mute(),s.setState({isMyAudioMuted:!0})))},s.muteAudio=function(){var t=(0,p.default)(s).localUser;t.audioTrack&&(t.audioTrack.mute(),s.setState({isMyAudioMuted:!0}))},s.unmuteAudio=function(){var t=(0,p.default)(s).localUser;t.audioTrack&&(t.audioTrack.unmute(),s.setState({isMyAudioMuted:!1}))},s.pauseVideo=function(){var t=(0,p.default)(s).localUser;t.videoTrack&&(t.videoTrack.mute(),s.setState({isMyVideoMuted:!0}))},s.unPauseVideo=function(){var t=(0,p.default)(s).localUser;t.videoTrack&&(t.videoTrack.unmute(),s.setState({isMyVideoMuted:!1}))},s.onEndCallButtonCLicked=function(){s.unload(),window.postMessage(window.parent.postMessage(JSON.stringify({type:"hangup",message:"Message text from iframe."}),"*"),"*")},s.disposeLocalVideoTrack=function(){var t,n;return o.default.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(t=(0,p.default)(s),!(n=t.localUser).videoTrack){u.next=4;break}return u.next=4,o.default.awrap(n.videoTrack.dispose());case 4:if(!n.audioTrack){u.next=7;break}return u.next=7,o.default.awrap(n.audioTrack.dispose());case 7:case"end":return u.stop()}})},s.createScreenShareTrack=function(){return o.default.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.default.awrap(s.disposeLocalVideoTrack());case 2:T.default.createLocalTracks({devices:["audio","desktop"],resolution:360,constraints:{video:{height:{ideal:360,max:720,min:180},maxFps:15}}}).then(function(t){s.onLocalTracks(t),s.setState({isScreenShareOn:!0}),R.sendCommand(F,{value:s.localUser.id})}).catch(function(t){s.stopScreenShare()});case 3:case"end":return t.stop()}})},s.stopScreenShare=function(){return o.default.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.default.awrap(s.disposeLocalVideoTrack());case 2:s.createLocalTracks();case 3:case"end":return t.stop()}})},s.onScreenShareClicked=function(){s.state.isScreenShareOn?s.stopScreenShare():s.createScreenShareTrack()},s.onDisplayModeChange=function(){s.setState(function(t){return{isGridMode:!t.isGridMode}})},s.onUserItemClicked=function(t){s.setState({dominantSpeakerId:t.id})},s.renderLocalVideo=function(){var t=s.state.users[0];return k.default.log(K,"renderLocalVideo for .... ",t.videoTrack),t.videoTrack&&!t.isVideoMuted?(k.default.log(K,"local stream = ",t),y.default.createElement(M.RTCView,{mirror:s.state.isVideoMirrored,key:"localmedia",objectFit:"cover",streamURL:t.videoTrack.getOriginalStream().toURL(),style:{height:90,width:90,borderRadius:5},zOrder:2})):(k.default.log(K,"No local video track",t),s.renderthumbAvatarView(t))},s.renderAvatarView=function(t){return y.default.createElement(S.View,{style:{height:"100%",width:"100%",alignItems:"center",justifyContent:"center",flexDirection:"column"}},t.avatar?y.default.createElement(S.Image,{style:{width:110,height:110},source:{uri:t.avatar}}):y.default.createElement(U.default,{backgroundColor:"#4d4c4f",textColor:"#FFF",size:100,type:"circle"},t.name),y.default.createElement(S.Text,{style:{fontSize:18,color:"#fff",padding:20}},t.name))},s.renderSingleMainVideo=function(){var t=s.state.users;if(k.default.log(K,"Single Users = ",t),t.length>1)return s.mainVideoSpeaker=t[1],k.default.log(K,"SingleMainVideoSpeaker = ",s.mainVideoSpeaker),s.mainVideoSpeaker&&(s.mainVideoSpeaker.isVideoMuted||"active"!==s.mainVideoSpeaker.status)?s.renderAvatarView(s.mainVideoSpeaker):s.mainVideoSpeaker.videoTrack?y.default.createElement(M.RTCView,{key:s.mainVideoSpeaker.id,objectFit:"cover",streamURL:s.mainVideoSpeaker.videoTrack.getOriginalStream().toURL(),style:{height:"100%",width:"100%"},zOrder:1}):s.renderAvatarView(s.mainVideoSpeaker)},s.renderMainVideo=function(){var t,n,o,u=s.state,l=u.users,c=u.dominantSpeakerId,f=u.pinnedUserId,h=l[0];if(l.forEach(function(s){R&&s.id===R.lastDominantSpeaker&&h.id!==s.id?t=s:s.id===c?n=s:s.id===f&&(o=s)}),s.mainVideoSpeaker=n||t||h,!s.mainVideoSpeaker||!s.mainVideoSpeaker.videoTrack)return s.renderAvatarView(s.mainVideoSpeaker);var p=s.mainVideoSpeaker.videoTrack;o&&o.videoTrack&&(p=o.videoTrack,s.mainVideoSpeaker=o);(0,C.isScreenSharingTrack)(p);return s.mainVideoSpeaker&&(s.mainVideoSpeaker.isVideoMuted||"active"!==s.mainVideoSpeaker.status)?s.renderAvatarView(s.mainVideoSpeaker):p?y.default.createElement(M.RTCView,{key:c,objectFit:"cover",streamURL:p.getOriginalStream().toURL(),style:{height:"100%",width:"100%"},zOrder:0}):void 0},s.pinUser=function(t){s.setState({pinnedUserId:t.id}),R.pinParticipant(t.id)},s.unPinUser=function(){R.pinParticipant(null),s.setState({pinnedUserId:null})},s.onAudioModeChanged=function(t){k.default.log(K,"Audio Mode = ",s.state.audioMode),s.state.audioMode!==t&&s.setState({audioMode:t})},s.onPeopleClicked=function(){k.default.log(K,"onPeopleClicked"),s.setState({showUserPopUP:!s.state.showUserPopUP})},s.showPeoplePopup=function(){k.default.log(K,"ShowPeople Popup"),s.setState({showUserPopUP:!0,hidePeopleLable:!0})},s.hidePeoplePopup=function(){k.default.log(K,"ShowPeople Popup"),s.setState({showUserPopUP:!1,hidePeopleLable:!1})},s.itemStyle=function(t){return{padding:15,fontSize:18,height:70,marginStart:10,marginRight:10,marginBottom:10,borderRadius:10,flexDirection:"row",justifyContent:"flex-start",alignItems:"center",backgroundColor:"#e5e5e5"}},s.style={lt_control_container:{display:"flex",width:"100%",flexDirection:"row",justifyContent:"center",alignItems:"center",flexWrap:"wrap",position:"absolute",bottom:17,zIndex:5},container_background:{display:"flex",width:"95%",height:115,flexDirection:"row",justifyContent:"center",alignItems:"center",flexWrap:"wrap",position:"absolute",bottom:0,zIndex:2,opacity:.5,borderRadius:20,margin:10,backgroundColor:"#2e2f30"},container_people:{display:"flex",width:"80%",height:"60%",marginTop:110,marginRight:10,flexDirection:"column",flexWrap:"wrap",position:"absolute",zIndex:2,right:0,borderRadius:10,backgroundColor:"#FFF"},container_thum_list:{display:"flex",height:"75%",flexDirection:"column",flexWrap:"wrap",position:"absolute",zIndex:2,right:0},item:{padding:15,fontSize:18,height:70,flexDirection:"row",justifyContent:"flex-start",alignItems:"center"},item_pinned:{padding:15,fontSize:18,height:70,flexDirection:"row",justifyContent:"flex-start",alignItems:"center",opacity:.5,backgroundColor:"#f66301"},container:{},lt_control_icon:{width:25,height:25},lt_button:{width:55,height:55,margin:5,backgroundColor:"#4d4c4f",borderRadius:50,alignItems:"center",justifyContent:"center"},lt_small_button:{width:35,height:35,margin:5,backgroundColor:"#c0c0c0",borderRadius:20,alignItems:"center",justifyContent:"center"},lt_small_button_red:{width:35,height:35,margin:5,backgroundColor:"#EB4E3D",borderRadius:20,alignItems:"center",justifyContent:"center"},lt_small_button_blue:{width:35,height:35,margin:5,backgroundColor:"#84aeff",borderRadius:20,alignItems:"center",justifyContent:"center"}},s.participantsWhoPinnedMe=new Set;var c={name:s.props.username||"Unnamed",avatar:s.props.RTCUser.avatar||'No avatar',status:"active",isVideoMuted:!1,isAudioMuted:!1};return s.state={mySessionId:s.props.sessionID,myUserName:s.props.username,status:"active",myAvatar:s.props.avatar,remoteTracks:[],users:[c],isMyAudioMuted:!1,isMyVideoMuted:!1,dominantSpeakerId:null,isScreenShareOn:!1,pinnedUserId:null,hideAudioMuteButton:s.props.hideAudioMuteButton,hidePauseVideoButton:s.props.hidePauseVideoButton,hideEndCallButton:s.props.hideEndCallButton,hideVideoSwitchButton:s.props.hideVideoSwitchButton,hideAudioModeButton:s.props.hideAudioModeButton,showButtonLayout:s.props.enableDefaultLayout,showUserPopUP:!1,hidePeopleLable:!1,hideUserThumbList:!0,isVideoMirrored:!0,isSingleMode:!1,activeUserIds:[],mode:s.props.mode,region:s.props.REGION,isAudioOnly:s.props.isAudioOnly,showLocalStream:!1,appState:S.AppState.currentState,audioMode:'speaker'},s}return(0,v.default)(n,t),(0,c.default)(n,[{key:"componentDidMount",value:function(){S.AppState.addEventListener('change',this._handleAppStateChange),this.setModeProps(this.props.mode),this.createLocalTracks(),this.init(this.state.mySessionId),k.default.log(K,"session id = ",this.state.mySessionId),T.default.setLogLevel(T.default.logLevels.ERROR),k.default.log(K,"Component did mount ",""),this.onAudioModeChanged=this.onAudioModeChanged.bind(this),this.onDoubleTap=this.onDoubleTap.bind(this),this.renderUserItem=this.renderUserItem.bind(this),this.onAudioMute=this.onAudioMute.bind(this),this.onVideoMute=this.onVideoMute.bind(this),this.onHangUp=this.onHangUp.bind(this),this.addNativeEventListner(),this.initExposedfunctions()}},{key:"componentWillUnmount",value:function(){k.default.log(K,"Calling componentWillUnmount"),S.AppState.removeEventListener('change',this._handleAppStateChange)}},{key:"initExposedfunctions",value:function(){_.default.initOnEndCall(this.unload),_.default.initSwitchCamera(this.onDoubleTap),_.default.initOnMuteAudio(this.muteAudio),_.default.initOnUnMuteAudio(this.unmuteAudio),_.default.initOnPauseVideo(this.pauseVideo),_.default.initOnUnPauseVideo(this.unPauseVideo)}},{key:"makeConnection",value:function(){k.default.log(K,"Make connection region = ",this.state.region),k.default.log(K,"LastN = ",j);var t={hosts:{domain:this.getDomain(),muc:this.getMUC()},enableNoisyMicDetection:!0,bosh:this.getBosh(),clientNode:"http://jitsi.org/jitsimeet",channelLastN:j,enableLayerSuspension:!0,enableTalkWhileMuted:!0};k.default.log(K,"Make connection options = ",t),(N=new T.default.JitsiConnection(null,null,t)).connect(),this.addEventListener()}},{key:"getDomain",value:function(){var t="rtc-"+this.state.region+".cometchat.io";return k.default.log(K,"RTC Domain = ",t),t}},{key:"getMUC",value:function(){var t="conference.rtc-"+this.state.region+".cometchat.io";return k.default.log(K,"RTC MUC = ",t),t}},{key:"getBosh",value:function(){var t="https://rtc-"+this.state.region+".cometchat.io/http-bind";return k.default.log(K,"RTC Bosh = ",t),t}},{key:"addNativeEventListner",value:function(){var t=this;J.addListener("CallEvent",function(n){k.default.log("Native received : ",n),"NativeEndCall"==n.type&&t.onHangUp()})}},{key:"addEventListener",value:function(){N.addEventListener(T.default.events.connection.CONNECTION_ESTABLISHED,this.onConnectionSuccess),N.addEventListener(T.default.events.connection.CONNECTION_FAILED,this.onConnectionFailed),N.addEventListener(T.default.events.connection.CONNECTION_DISCONNECTED,this.onDisconnect)}},{key:"onLocalStatsUpdated",value:function(t){k.default.log(K,"onLocalStatsUpdated updated : ",t)}},{key:"onRemoteStatsUpdated",value:function(t,n){}},{key:"onConnectionFailed",value:function(){k.default.log(K,"onConnectionFailed Called......")}},{key:"onDisconnect",value:function(){k.default.log(K,"onDisconnect Called......"),N.removeEventListener(T.default.events.connection.CONNECTION_ESTABLISHED,this.onConnectionSuccess),N.removeEventListener(T.default.events.connection.CONNECTION_FAILED,this.onConnectionFailed),N.removeEventListener(T.default.events.connection.CONNECTION_DISCONNECTED,this.onDisconnect)}},{key:"renderthumbAvatarView",value:function(t){return y.default.createElement(S.View,{style:{height:90,width:90,alignItems:'center',justifyContent:'center'}},t.avatar?y.default.createElement(S.Image,{style:{width:60,height:60},source:{uri:t.avatar}}):y.default.createElement(U.default,{backgroundColor:"#4d4c4f",textColor:"#FFF",size:50,type:"circle"}," ",t.name))}},{key:"onDoubleTap",value:function(){var t=this.state.users[0];t.videoTrack&&(t.videoTrack._switchCamera(),this.setState({isVideoMirrored:!this.state.isVideoMirrored}))}},{key:"renderPeopleButton",value:function(){if(!this.state.hideVideoSwitchButton)return y.default.createElement(S.TouchableOpacity,{onPress:this.onPeopleClicked},y.default.createElement(S.View,{style:this.style.lt_button},y.default.createElement(S.Image,{style:this.style.lt_control_icon,source:r(d[28])})))}},{key:"renderVideoThumbItem",value:function(t){if(k.default.log(K,"Render View thumb item : ",t),t.item.videoTrack)return y.default.createElement(S.View,{style:{height:100,width:100,backgroundColor:"#000",margin:5,zIndex:5}})}},{key:"renderUserItem",value:function(t){var n=this;if(k.default.log(K,"Render User item : ",t),t){var o,s=t.item,u=t.index,l=s.name;return 0==u&&(l+=" (you)"),o=s.id===this.state.pinnedUserId,y.default.createElement(S.TouchableOpacity,{onPress:function(){s.id===n.state.pinnedUserId?n.unPinUser():n.pinUser(s)},rippleColor:"rgba(0, 0, 0, .20)"},y.default.createElement(S.View,{style:this.itemStyle(o)},y.default.createElement(U.default,{backgroundColor:"#4d4c4f",textColor:"#FFF",size:40,type:"circle"},l),y.default.createElement(S.Text,{style:{fontSize:18,color:"#000",marginStart:10}},l),y.default.createElement(S.View,{style:{flexDirection:"row",justifyContent:"flex-start",alignItems:"center",position:"absolute",right:10}},s.isAudioMuted?y.default.createElement(S.View,{style:this.style.lt_small_button},y.default.createElement(S.Image,{style:{width:15,height:15},source:r(d[29])})):null,s.isVideoMuted?y.default.createElement(S.View,{style:this.style.lt_small_button},y.default.createElement(S.Image,{style:{width:15,height:15},source:r(d[30])})):null,'interrupted'===s.status?y.default.createElement(S.View,{style:this.style.lt_small_button_red},y.default.createElement(S.Image,{style:{width:20,height:20},source:r(d[31])})):null,o?y.default.createElement(S.View,{style:this.style.lt_small_button_blue},y.default.createElement(S.Image,{style:{width:20,height:20},source:r(d[32])})):null)))}}},{key:"renderEndCallButton",value:function(){return this.state.hideEndCallButton?null:y.default.createElement(S.View,{style:{alignItems:'center',justifyContent:'center',margin:5,opacity:.7}},y.default.createElement(A.default,{onHangUp:this.onHangUp}),y.default.createElement(S.Text,{style:{color:'#fff'}},"end"))}},{key:"renderAudioPauseButton",value:function(t){return this.state.hideAudioMuteButton?null:y.default.createElement(S.View,{style:{alignItems:'center',justifyContent:'center',margin:5,opacity:.7}},y.default.createElement(E.default,{audioMute:this.state.isMyAudioMuted,onAudioMute:this.onAudioMute}),this.state.isMyAudioMuted?y.default.createElement(S.Text,{style:{color:'#fff'}},"audio off"):y.default.createElement(S.Text,{style:{color:'#fff'}},"audio on"))}},{key:"renderPauseVideoButton",value:function(t){return this.state.hidePauseVideoButton?null:y.default.createElement(S.View,{style:{alignItems:'center',justifyContent:'center',margin:5,opacity:.7}},y.default.createElement(b.default,{videoMute:this.state.isMyVideoMuted,onVideoMute:this.onVideoMute}),this.state.isMyVideoMuted?y.default.createElement(S.Text,{style:{color:'#fff'}},"video off"):y.default.createElement(S.Text,{style:{color:'#fff'}},"video on"))}},{key:"renderAudioModeButton",value:function(){return k.default.log(K,"hide hideAudioModeButton : ",this.state.hideAudioModeButton),this.state.hideAudioModeButton?y.default.createElement(w.default,{onAudioModeChanged:this.onAudioModeChanged,isAudioOnly:this.props.isAudioOnly,renderAuidoButton:!1}):y.default.createElement(S.View,{style:{alignItems:'center',justifyContent:'center',margin:5,opacity:.7}},y.default.createElement(w.default,{onAudioModeChanged:this.onAudioModeChanged,isAudioOnly:this.props.isAudioOnly,renderAuidoButton:!0}),y.default.createElement(S.Text,{style:{color:'#fff'}},this.state.audioMode))}},{key:"renderCameraSwitchButton",value:function(){return this.state.hideVideoSwitchButton?null:y.default.createElement(S.View,{style:{alignItems:'center',justifyContent:'center',margin:5,opacity:.7}},y.default.createElement(V.default,{onSwitchCamera:this.onDoubleTap}),y.default.createElement(S.Text,{style:{color:'#fff'}},"flip"))}},{key:"onAudioMute",value:function(){k.default.log(K,"on Audio Muted clicked"),this.toggleAudioButton()}},{key:"onVideoMute",value:function(){k.default.log(K,"on video Muted clicked"),this.toggleVideoButton()}},{key:"onHangUp",value:function(){k.default.log(K,"onHangUp clicked"),this.unload(),J.emit("CallEvent",{type:"EndCall"})}},{key:"render",value:function(){var t=this.state,n=t.users,o=t.pinnedUserId,s=n[0];return y.default.createElement(S.View,{style:{flex:1}},y.default.createElement(L.default,{onDoubleTap:this.onDoubleTap},y.default.createElement(S.View,{style:{height:"100%",backgroundColor:"#282c34"}},this.state.isSingleMode?this.renderSingleMainVideo():this.renderMainVideo())),this.state.showLocalStream?y.default.createElement(S.View,{style:{height:90,width:90,backgroundColor:"#000",position:"absolute",top:0,margin:5,borderRadius:10,right:0}},this.state.users[0]?this.renderLocalVideo():""):null,this.state.hidePeopleLable?null:y.default.createElement(S.TouchableOpacity,{onPress:this.showPeoplePopup,style:{height:40,width:50,backgroundColor:"#FFF",position:"absolute",top:110,flexDirection:"row",borderTopLeftRadius:10,borderBottomLeftRadius:10,alignItems:'center',justifyContent:'center',right:0,zIndex:10}},y.default.createElement(S.Image,{style:this.style.lt_control_icon,source:r(d[33])}),y.default.createElement(S.Text,{style:{color:'#000',fontSize:18}},this.state.users.length)),this.state.hideUserThumbList?null:y.default.createElement(S.View,{style:this.style.container_thum_list},y.default.createElement(I.default,{users:this.state.users,pinnedUserId:o,pinUser:this.pinUser,unPinUser:this.unPinUser})),this.state.showUserPopUP?y.default.createElement(S.View,{style:this.style.container_people},y.default.createElement(S.TouchableOpacity,{style:{width:35,height:35,position:"absolute",right:0,zIndex:10,backgroundColor:"#e5e5e5",borderRadius:20,margin:5,alignItems:"center",justifyContent:"center"},onPress:this.hidePeoplePopup},y.default.createElement(S.Image,{style:{width:25,height:25,margin:10},source:r(d[34])})),y.default.createElement(S.Text,{style:{fontSize:20,fontWeight:"bold",color:"#000",padding:10}}," ","People(",this.state.users.length,")"," "),y.default.createElement(S.FlatList,{style:{width:"100%"},data:this.state.users,keyExtractor:function(t){return t.id},renderItem:this.renderUserItem})):null,this.state.showButtonLayout?y.default.createElement(S.View,{style:this.style.container},y.default.createElement(S.View,{style:this.style.container_background}),y.default.createElement(S.View,{id:"lt_control_container",style:this.style.lt_control_container},this.props.isAudioOnly?null:this.renderPauseVideoButton(s),this.renderAudioPauseButton(s),this.props.isAudioOnly?this.renderEndCallButton():null,this.props.isAudioOnly?null:this.renderAudioModeButton(),this.props.isAudioOnly?this.renderAudioModeButton():this.renderCameraSwitchButton(),this.props.isAudioOnly?null:this.renderEndCallButton())):null)}},{key:"localUser",get:function(){return this.state.users[0]}}]),n})(y.Component);e.default=Q},492,[23,1,2,51,32,4,5,6,9,8,10,12,16,441,438,493,494,397,473,476,481,484,486,495,490,489,440,496,497,474,482,498,499,500,501]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.isMob=e.isScreenSharingTrack=void 0;r(d[0]);e.isScreenSharingTrack=function(n){return!(!n||"desktop"!==n.videoType)};e.isMob=function(){return[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some(function(n){return navigator.userAgent.match(n)})}},493,[12]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(r(d[2])),l=n(r(d[3])),u=n(r(d[4])),c=n(r(d[5])),f=n(r(d[6])),s=t(r(d[7])),p=(n(r(d[8])),n(r(d[9]))),v=(r(d[10]),r(d[11])),h=r(d[12]),k=(function(t){function n(){return(0,o.default)(this,n),(0,u.default)(this,(0,c.default)(n).apply(this,arguments))}return(0,f.default)(n,t),(0,l.default)(n,[{key:"getNicknameTag",value:function(){return JSON.parse(this.props.streamManager.stream.connection.data).clientData}},{key:"componentDidMount",value:function(){p.default.log("MainVideoContainerComponent","Video Track value = ",this.props.videoTrack)}},{key:"shouldComponentUpdate",value:function(t,n){return this.props.videoTrack!==t.videoTrack}},{key:"render",value:function(){return s.default.createElement(v.View,null,void 0!==this.props.videoTrack?s.default.createElement(v.View,null,s.default.createElement(v.View,null,s.default.createElement(h.RTCView,{objectFit:'cover',streamURL:this.props.videoTrack.getOriginalStream().toURL(),style:{height:"100%",width:"100%"},zOrder:0}),";")):null)}}]),n})(s.Component);e.default=k},494,[23,1,4,5,6,9,10,12,488,441,493,16,397]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l=t(r(d[1])),n=t(r(d[2])),u=t(r(d[3])),o=t(r(d[4])),p=t(r(d[5])),f=t(r(d[6])),s=r(d[7]),c=(function(t){function c(){var t,n;(0,l.default)(this,c);for(var p=arguments.length,f=new Array(p),s=0;s<p;s++)f[s]=arguments[s];return(n=(0,u.default)(this,(t=(0,o.default)(c)).call.apply(t,[this].concat(f)))).lastTap=null,n.handleDoubleTap=function(){var t=Date.now();n.lastTap&&t-n.lastTap<n.props.delay?n.props.onDoubleTap():n.lastTap=t},n}return(0,p.default)(c,t),(0,n.default)(c,[{key:"render",value:function(){return f.default.createElement(s.TouchableWithoutFeedback,{onPress:this.handleDoubleTap},this.props.children)}}]),c})(f.default.Component);e.default=c,c.defaultProps={delay:300,onDoubleTap:function(){return null}}},495,[1,4,5,6,9,10,12,16]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=n(r(d[1])),t=n(r(d[2])),o=(n(r(d[3])),(function(){function n(){(0,u.default)(this,n)}return(0,t.default)(n,null,[{key:"initOnEndCall",value:function(n){this.onEndcall=n}},{key:"initSwitchCamera",value:function(n){this.switchCamera=n}},{key:"initOnMuteAudio",value:function(n){this.onMuteAudio=n}},{key:"initOnUnMuteAudio",value:function(n){this.onUnMuteAudio=n}},{key:"initOnPauseVideo",value:function(n){this.onPauseVideo=n}},{key:"initOnUnPauseVideo",value:function(n){this.onUnPauseVideo=n}},{key:"endCall",value:function(){this.onEndcall()}},{key:"switchCamera",value:function(){this.onSwitchCamera()}},{key:"muteAudio",value:function(){this.onMuteAudio()}},{key:"unMuteAudio",value:function(){this.onUnMuteAudio()}},{key:"pauseVideo",value:function(){this.onPauseVideo()}},{key:"unPauseVideo",value:function(){this.onUnPauseVideo()}},{key:"setAudioModeSpeaker",value:function(){}}]),n})());e.default=o},496,[1,4,5,440]);
__d(function(g,r,i,a,m,e,d){m.exports=r(d[0]).registerAsset({__packager_asset:!0,httpServerLocation:"/assets/node_modules/react-native-cometchat-calling-component/icons",width:36,height:36,scales:[1],hash:"e63104be9e8839986fd956b1ec680a23",name:"icon_people",type:"png"})},497,[174]);
__d(function(g,r,i,a,m,e,d){m.exports=r(d[0]).registerAsset({__packager_asset:!0,httpServerLocation:"/assets/node_modules/react-native-cometchat-calling-component/icons",width:96,height:96,scales:[1],hash:"a3524c118fa5a699b12d979108b37745",name:"icon_alert",type:"png"})},498,[174]);
__d(function(g,r,i,a,m,e,d){m.exports=r(d[0]).registerAsset({__packager_asset:!0,httpServerLocation:"/assets/node_modules/react-native-cometchat-calling-component/icons",width:48,height:48,scales:[1],hash:"8db4c0d90e0ebcd2caffa88e19a0d2ca",name:"icon_pin",type:"png"})},499,[174]);
__d(function(g,r,i,a,m,e,d){m.exports=r(d[0]).registerAsset({__packager_asset:!0,httpServerLocation:"/assets/node_modules/react-native-cometchat-calling-component/icons",width:36,height:36,scales:[1],hash:"7806da8bf48c7ea3c81ae9fe01fdf274",name:"icon_people_black",type:"png"})},500,[174]);
__d(function(g,r,i,a,m,e,d){m.exports=r(d[0]).registerAsset({__packager_asset:!0,httpServerLocation:"/assets/node_modules/react-native-cometchat-calling-component/icons",width:96,height:96,scales:[1],hash:"29d7f9ee3589824d186ea5cf6b8fb5f4",name:"icon_clear",type:"png"})},501,[174]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])),l=t(r(d[2])),f={url:u.default,tracks:l.default};e.default=f},502,[1,503,504]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=t(r(d[1]));function c(t,o){var c=Object.keys(t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);o&&(l=l.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),c.push.apply(c,l)}return c}function l(t){for(var l=1;l<arguments.length;l++){var n=null!=arguments[l]?arguments[l]:{};l%2?c(Object(n),!0).forEach(function(c){(0,o.default)(t,c,n[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}var n={localUrl:'',localTrackId:'',remoteUrl:''},O=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n,o=arguments.length>1?arguments[1]:void 0,c=l({},t);switch(o.type){case"ADD_LOCAL_URL":c.localUrl=o.payload.localUrl;break;case"ADD_LOCAL_TRACK_ID":c.localTrackId=o.payload;break;case"ADD_REMOTE_URL":c.remoteUrl=o.payload.remoteUrl}return c};e.default=O},503,[1,51]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=t(r(d[1])),c=t(r(d[2])),n=t(r(d[3])),s=t(r(d[4]));function l(t,o){var c=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);o&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),c.push.apply(c,n)}return c}function u(t){for(var o=1;o<arguments.length;o++){var n=null!=arguments[o]?arguments[o]:{};o%2?l(Object(n),!0).forEach(function(o){(0,c.default)(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}var E='Reducer Tracks',O={localTracks:[],remoteTracks:[],users:[],ready:!1,room:'',audioMute:!1,audioSpeaker:!1,videoMute:!1,connection_failed:0,dominantVideoTrack:void 0,dominantVideoId:null},p=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,c=arguments.length>1?arguments[1]:void 0,l=u({},t);switch(c.type){case"REMOVE_REMOTE_TRACK":var p=c.payload;if(-1!=(v=t.remoteTracks.findIndex(function(t){return t.ownerId==p}))){var T=(0,o.default)(t.remoteTracks);return T.splice(v,1),u({},t,{remoteTracks:T})}break;case"REMOVE_LOCAL_TRACKS":l.localTracks=O.localTracks;break;case"REMOVE_REMOTE_TRACKS":l.remoteTracks=O.remoteTracks;break;case"UPDATE_DOMINANT_VIDEO_ID":p=c.payload,l.dominantVideoId=p;break;case"UPDATE_DOMINANT_VIDEO_TRACK":var _=c.payload;l.dominantVideoTrack=_;break;case"ADD_LOCAL_TRACK":var k=c.payload.localTracks;0!=k.length&&(l.localTracks=k);break;case"ADD_USER":var f=c.payload.user;l.users=[].concat((0,o.default)(t.users),[f]);break;case"REMOVE_USER":p=c.payload.userId,n.default.log(E,"Remove user called : ",p);var b=(0,o.default)(t.users);n.default.log(E,"Userdata = ",b);for(var y=0;y<b.length;y++)b[y].id===p&&b.splice(y,1);b.length<=1&&s.default.eventEmitter.emit('CallEvent',{type:'EndCall'}),l.users=b;break;case"CLEAR_USERS":l.users=[];break;case"ADD_REMOTE_TRACK":var v,A=c.payload.remoteTracks,D=(p=A.ownerEndpointId,A.type);-1!=(v=l.users.findIndex(function(t){return t.id==p}))&&(f=(b=(0,o.default)(t.users))[v],n.default.log('User object = ',f),'video'===D?f.videoTrack=A:f.audioTrack=A,b[v]=f,l.users=b);break;case"CHANGE_READY_STATE":l.ready=c.payload.ready;break;case"CHANGE_AUDIO_STATE":l.audioMute=c.payload.audioMute;break;case"CHANGE_AUDIO_MODE":l.audioSpeaker=c.payload.audioMode;break;case"CHANGE_VIDEO_STATE":l.videoMute=c.payload.videoMute;break;case"CHANGE_ROOM_NAME":l.room=c.payload.room;break;case"CONNECTION_FAILED":l.connection_failed=c.payload.status}return l};e.default=p},504,[1,32,51,441,382]);
__d(function(t,a,c,e,m,o,n){m.exports={name:"cometchatWRTC",displayName:"cometchatWRTC"}},505,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(d[0]).NativeModules.CometChatRTC;e.default=t},506,[16]);
__r(87);
__r(0);
//# sourceMappingURL=cometchat.android.map